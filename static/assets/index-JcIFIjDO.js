var W_=t=>{throw TypeError(t)};var Sb=(t,e,n)=>e.has(t)||W_("Cannot "+n);var sn=(t,e,n)=>(Sb(t,e,"read from private field"),n?n.call(t):e.get(t)),ua=(t,e,n)=>e.has(t)?W_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Br=(t,e,n,r)=>(Sb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ca=(t,e,n)=>(Sb(t,e,"access private method"),n);var X_=(t,e,n,r)=>({set _(i){Br(t,e,i,n)},get _(){return sn(t,e,r)}});function OB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ji(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tb={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function kB(){if(K_)return nd;K_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return nd.Fragment=e,nd.jsx=n,nd.jsxs=n,nd}var Q_;function PB(){return Q_||(Q_=1,Tb.exports=kB()),Tb.exports}var m=PB(),_b={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function DB(){if(Z_)return lt;Z_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(F,Z,R){this.props=F,this.context=Z,this.refs=E,this.updater=R||x}S.prototype.isReactComponent={},S.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},S.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=S.prototype;function N(F,Z,R){this.props=F,this.context=Z,this.refs=E,this.updater=R||x}var D=N.prototype=new C;D.constructor=N,w(D,S.prototype),D.isPureReactComponent=!0;var k=Array.isArray;function P(){}var j={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(F,Z,R){var oe=R.ref;return{$$typeof:t,type:F,key:Z,ref:oe!==void 0?oe:null,props:R}}function X(F,Z){return V(F.type,Z,F.props)}function z(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Y(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(R){return Z[R]})}var ne=/\/+/g;function K(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?Y(""+F.key):Z.toString(36)}function se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(P,P):(F.status="pending",F.then(function(Z){F.status==="pending"&&(F.status="fulfilled",F.value=Z)},function(Z){F.status==="pending"&&(F.status="rejected",F.reason=Z)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function L(F,Z,R,oe,$){var ae=typeof F;(ae==="undefined"||ae==="boolean")&&(F=null);var fe=!1;if(F===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(F.$$typeof){case t:case e:fe=!0;break;case h:return fe=F._init,L(fe(F._payload),Z,R,oe,$)}}if(fe)return $=$(F),fe=oe===""?"."+K(F,0):oe,k($)?(R="",fe!=null&&(R=fe.replace(ne,"$&/")+"/"),L($,Z,R,"",function(Ne){return Ne})):$!=null&&(z($)&&($=X($,R+($.key==null||F&&F.key===$.key?"":(""+$.key).replace(ne,"$&/")+"/")+fe)),Z.push($)),1;fe=0;var ge=oe===""?".":oe+":";if(k(F))for(var J=0;J<F.length;J++)oe=F[J],ae=ge+K(oe,J),fe+=L(oe,Z,R,ae,$);else if(J=b(F),typeof J=="function")for(F=J.call(F),J=0;!(oe=F.next()).done;)oe=oe.value,ae=ge+K(oe,J++),fe+=L(oe,Z,R,ae,$);else if(ae==="object"){if(typeof F.then=="function")return L(se(F),Z,R,oe,$);throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function H(F,Z,R){if(F==null)return F;var oe=[],$=0;return L(F,oe,"","",function(ae){return Z.call(R,ae,$++)}),oe}function ie(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(R){(F._status===0||F._status===-1)&&(F._status=1,F._result=R)},function(R){(F._status===0||F._status===-1)&&(F._status=2,F._result=R)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var ue=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},M={map:H,forEach:function(F,Z,R){H(F,function(){Z.apply(this,arguments)},R)},count:function(F){var Z=0;return H(F,function(){Z++}),Z},toArray:function(F){return H(F,function(Z){return Z})||[]},only:function(F){if(!z(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return lt.Activity=p,lt.Children=M,lt.Component=S,lt.Fragment=n,lt.Profiler=i,lt.PureComponent=N,lt.StrictMode=r,lt.Suspense=c,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,lt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return j.H.useMemoCache(F)}},lt.cache=function(F){return function(){return F.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(F,Z,R){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var oe=w({},F.props),$=F.key;if(Z!=null)for(ae in Z.key!==void 0&&($=""+Z.key),Z)!U.call(Z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Z.ref===void 0||(oe[ae]=Z[ae]);var ae=arguments.length-2;if(ae===1)oe.children=R;else if(1<ae){for(var fe=Array(ae),ge=0;ge<ae;ge++)fe[ge]=arguments[ge+2];oe.children=fe}return V(F.type,$,oe)},lt.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},lt.createElement=function(F,Z,R){var oe,$={},ae=null;if(Z!=null)for(oe in Z.key!==void 0&&(ae=""+Z.key),Z)U.call(Z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&($[oe]=Z[oe]);var fe=arguments.length-2;if(fe===1)$.children=R;else if(1<fe){for(var ge=Array(fe),J=0;J<fe;J++)ge[J]=arguments[J+2];$.children=ge}if(F&&F.defaultProps)for(oe in fe=F.defaultProps,fe)$[oe]===void 0&&($[oe]=fe[oe]);return V(F,ae,$)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:l,render:F}},lt.isValidElement=z,lt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:ie}},lt.memo=function(F,Z){return{$$typeof:d,type:F,compare:Z===void 0?null:Z}},lt.startTransition=function(F){var Z=j.T,R={};j.T=R;try{var oe=F(),$=j.S;$!==null&&$(R,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(P,ue)}catch(ae){ue(ae)}finally{Z!==null&&R.types!==null&&(Z.types=R.types),j.T=Z}},lt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},lt.use=function(F){return j.H.use(F)},lt.useActionState=function(F,Z,R){return j.H.useActionState(F,Z,R)},lt.useCallback=function(F,Z){return j.H.useCallback(F,Z)},lt.useContext=function(F){return j.H.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F,Z){return j.H.useDeferredValue(F,Z)},lt.useEffect=function(F,Z){return j.H.useEffect(F,Z)},lt.useEffectEvent=function(F){return j.H.useEffectEvent(F)},lt.useId=function(){return j.H.useId()},lt.useImperativeHandle=function(F,Z,R){return j.H.useImperativeHandle(F,Z,R)},lt.useInsertionEffect=function(F,Z){return j.H.useInsertionEffect(F,Z)},lt.useLayoutEffect=function(F,Z){return j.H.useLayoutEffect(F,Z)},lt.useMemo=function(F,Z){return j.H.useMemo(F,Z)},lt.useOptimistic=function(F,Z){return j.H.useOptimistic(F,Z)},lt.useReducer=function(F,Z,R){return j.H.useReducer(F,Z,R)},lt.useRef=function(F){return j.H.useRef(F)},lt.useState=function(F){return j.H.useState(F)},lt.useSyncExternalStore=function(F,Z,R){return j.H.useSyncExternalStore(F,Z,R)},lt.useTransition=function(){return j.H.useTransition()},lt.version="19.2.0",lt}var J_;function zu(){return J_||(J_=1,_b.exports=DB()),_b.exports}var T=zu();const _d=Ji(T),jB=OB({__proto__:null,default:_d},[T]);var Nb={exports:{}},rd={},Cb={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function RB(){return eN||(eN=1,(function(t){function e(L,H){var ie=L.length;L.push(H);e:for(;0<ie;){var ue=ie-1>>>1,M=L[ue];if(0<i(M,H))L[ue]=H,L[ie]=M,ie=ue;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],ie=L.pop();if(ie!==H){L[0]=ie;e:for(var ue=0,M=L.length,F=M>>>1;ue<F;){var Z=2*(ue+1)-1,R=L[Z],oe=Z+1,$=L[oe];if(0>i(R,ie))oe<M&&0>i($,R)?(L[ue]=$,L[oe]=ie,ue=oe):(L[ue]=R,L[Z]=ie,ue=Z);else if(oe<M&&0>i($,ie))L[ue]=$,L[oe]=ie,ue=oe;else break e}}return H}function i(L,H){var ie=L.sortIndex-H.sortIndex;return ie!==0?ie:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,p=null,y=3,b=!1,x=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=L)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function k(L){if(w=!1,D(L),!x)if(n(c)!==null)x=!0,P||(P=!0,Y());else{var H=n(d);H!==null&&se(k,H.startTime-L)}}var P=!1,j=-1,U=5,V=-1;function X(){return E?!0:!(t.unstable_now()-V<U)}function z(){if(E=!1,P){var L=t.unstable_now();V=L;var H=!0;try{e:{x=!1,w&&(w=!1,C(j),j=-1),b=!0;var ie=y;try{t:{for(D(L),p=n(c);p!==null&&!(p.expirationTime>L&&X());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,y=p.priorityLevel;var M=ue(p.expirationTime<=L);if(L=t.unstable_now(),typeof M=="function"){p.callback=M,D(L),H=!0;break t}p===n(c)&&r(c),D(L)}else r(c);p=n(c)}if(p!==null)H=!0;else{var F=n(d);F!==null&&se(k,F.startTime-L),H=!1}}break e}finally{p=null,y=ie,b=!1}H=void 0}}finally{H?Y():P=!1}}}var Y;if(typeof N=="function")Y=function(){N(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,K=ne.port2;ne.port1.onmessage=z,Y=function(){K.postMessage(null)}}else Y=function(){S(z,0)};function se(L,H){j=S(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var ie=y;y=H;try{return L()}finally{y=ie}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=y;y=L;try{return H()}finally{y=ie}},t.unstable_scheduleCallback=function(L,H,ie){var ue=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ie+M,L={id:h++,callback:H,priorityLevel:L,startTime:ie,expirationTime:M,sortIndex:-1},ie>ue?(L.sortIndex=ie,e(d,L),n(c)===null&&L===n(d)&&(w?(C(j),j=-1):w=!0,se(k,ie-ue))):(L.sortIndex=M,e(c,L),x||b||(x=!0,P||(P=!0,Y()))),L},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(L){var H=y;return function(){var ie=y;y=H;try{return L.apply(this,arguments)}finally{y=ie}}}})(Ob)),Ob}var tN;function IB(){return tN||(tN=1,Cb.exports=RB()),Cb.exports}var kb={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function LB(){if(nN)return cr;nN=1;var t=zu();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},cr.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},cr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},cr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},cr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},cr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cr.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},cr.requestFormReset=function(c){r.d.r(c)},cr.unstable_batchedUpdates=function(c,d){return c(d)},cr.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},cr.useFormStatus=function(){return s.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var rN;function SD(){if(rN)return kb.exports;rN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kb.exports=LB(),kb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function MB(){if(iN)return rd;iN=1;var t=IB(),e=zu(),n=SD();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,g=u;;){var v=f.return;if(v===null)break;var A=v.alternate;if(A===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===f)return c(v),o;if(A===g)return c(v),u;A=A.sibling}throw Error(r(188))}if(f.return!==g.return)f=v,g=A;else{for(var O=!1,I=v.child;I;){if(I===f){O=!0,f=v,g=A;break}if(I===g){O=!0,g=v,f=A;break}I=I.sibling}if(!O){for(I=A.child;I;){if(I===f){O=!0,f=A,g=v;break}if(I===g){O=!0,g=A,f=v;break}I=I.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case N:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case D:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return u=o.displayName||null,u!==null?u:K(o.type)||"Memo";case U:u=o._payload,o=o._init;try{return K(o(u))}catch{}}return null}var se=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ue=[],M=-1;function F(o){return{current:o}}function Z(o){0>M||(o.current=ue[M],ue[M]=null,M--)}function R(o,u){M++,ue[M]=o.current,o.current=u}var oe=F(null),$=F(null),ae=F(null),fe=F(null);function ge(o,u){switch(R(ae,u),R($,o),R(oe,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?y_(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=y_(u),o=b_(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(oe),R(oe,o)}function J(){Z(oe),Z($),Z(ae)}function Ne(o){o.memoizedState!==null&&R(fe,o);var u=oe.current,f=b_(u,o.type);u!==f&&(R($,o),R(oe,f))}function Le(o){$.current===o&&(Z(oe),Z($)),fe.current===o&&(Z(fe),Zc._currentValue=ie)}var le,He;function Me(o){if(le===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||"",He=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+o+He}var tt=!1;function ee(o,u){if(!o||tt)return"";tt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(xe){var pe=xe}Reflect.construct(o,[],_e)}else{try{_e.call()}catch(xe){pe=xe}o.call(_e.prototype)}}else{try{throw Error()}catch(xe){pe=xe}(_e=o())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(xe){if(xe&&pe&&typeof xe.stack=="string")return[xe.stack,pe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),O=A[0],I=A[1];if(O&&I){var W=O.split(`
`),he=I.split(`
`);for(v=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(g===W.length||v===he.length)for(g=W.length-1,v=he.length-1;1<=g&&0<=v&&W[g]!==he[v];)v--;for(;1<=g&&0<=v;g--,v--)if(W[g]!==he[v]){if(g!==1||v!==1)do if(g--,v--,0>v||W[g]!==he[v]){var Se=`
`+W[g].replace(" at new "," at ");return o.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",o.displayName)),Se}while(1<=g&&0<=v);break}}}finally{tt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Me(f):""}function ye(o,u){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==u&&u!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return ee(o.type,!1);case 11:return ee(o.type.render,!1);case 1:return ee(o.type,!0);case 31:return Me("Activity");default:return""}}function Be(o){try{var u="",f=null;do u+=ye(o,f),f=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var je=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,it=t.unstable_shouldYield,rt=t.unstable_requestPaint,Xe=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,te=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,ct=t.unstable_IdlePriority,Dt=t.log,bi=t.unstable_setDisableYieldValue,me=null,Oe=null;function Ie(o){if(typeof Dt=="function"&&bi(o),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(me,o)}catch{}}var Ue=Math.clz32?Math.clz32:bt,Ve=Math.log,St=Math.LN2;function bt(o){return o>>>=0,o===0?32:31-(Ve(o)/St|0)|0}var gn=256,br=262144,Kn=4194304;function kr(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function As(o,u,f){var g=o.pendingLanes;if(g===0)return 0;var v=0,A=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var I=g&134217727;return I!==0?(g=I&~A,g!==0?v=kr(g):(O&=I,O!==0?v=kr(O):f||(f=I&~o,f!==0&&(v=kr(f))))):(I=g&~A,I!==0?v=kr(I):O!==0?v=kr(O):f||(f=g&~o,f!==0&&(v=kr(f)))),v===0?0:u!==0&&u!==v&&(u&A)===0&&(A=v&-v,f=u&-u,A>=f||A===32&&(f&4194048)!==0)?u:v}function Ss(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function d0(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z2(){var o=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),o}function h0(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function hc(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function y6(o,u,f,g,v,A){var O=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,W=o.expirationTimes,he=o.hiddenUpdates;for(f=O&~f;0<f;){var Se=31-Ue(f),_e=1<<Se;I[Se]=0,W[Se]=-1;var pe=he[Se];if(pe!==null)for(he[Se]=null,Se=0;Se<pe.length;Se++){var xe=pe[Se];xe!==null&&(xe.lane&=-536870913)}f&=~_e}g!==0&&J2(o,g,0),A!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=A&~(O&~u))}function J2(o,u,f){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-Ue(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|f&261930}function eA(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var g=31-Ue(f),v=1<<g;v&u|o[g]&u&&(o[g]|=u),f&=~v}}function tA(o,u){var f=u&-u;return f=(f&42)!==0?1:f0(f),(f&(o.suspendedLanes|u))!==0?0:f}function f0(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function m0(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function nA(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:H_(o.type))}function rA(o,u){var f=H.p;try{return H.p=o,u()}finally{H.p=f}}var Ts=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ts,Pr="__reactProps$"+Ts,vl="__reactContainer$"+Ts,p0="__reactEvents$"+Ts,b6="__reactListeners$"+Ts,x6="__reactHandles$"+Ts,iA="__reactResources$"+Ts,fc="__reactMarker$"+Ts;function g0(o){delete o[Qn],delete o[Pr],delete o[p0],delete o[b6],delete o[x6]}function wl(o){var u=o[Qn];if(u)return u;for(var f=o.parentNode;f;){if(u=f[vl]||f[Qn]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=T_(o);o!==null;){if(f=o[Qn])return f;o=T_(o)}return u}o=f,f=o.parentNode}return null}function El(o){if(o=o[Qn]||o[vl]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function mc(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Al(o){var u=o[iA];return u||(u=o[iA]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Un(o){o[fc]=!0}var aA=new Set,sA={};function go(o,u){Sl(o,u),Sl(o+"Capture",u)}function Sl(o,u){for(sA[o]=u,o=0;o<u.length;o++)aA.add(u[o])}var v6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oA={},lA={};function w6(o){return je.call(lA,o)?!0:je.call(oA,o)?!1:v6.test(o)?lA[o]=!0:(oA[o]=!0,!1)}function Kh(o,u,f){if(w6(u))if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+f)}}function Qh(o,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+f)}}function Da(o,u,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(u,f,""+g)}}function xi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function uA(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function E6(o,u,f){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,A=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return v.call(this)},set:function(O){f=""+O,A.call(this,O)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function y0(o){if(!o._valueTracker){var u=uA(o)?"checked":"value";o._valueTracker=E6(o,u,""+o[u])}}function cA(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),g="";return o&&(g=uA(o)?o.checked?"true":"false":o.value),o=g,o!==f?(u.setValue(o),!0):!1}function Zh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var A6=/[\n"\\]/g;function vi(o){return o.replace(A6,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function b0(o,u,f,g,v,A,O,I){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),u!=null?O==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+xi(u)):o.value!==""+xi(u)&&(o.value=""+xi(u)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),u!=null?x0(o,O,xi(u)):f!=null?x0(o,O,xi(f)):g!=null&&o.removeAttribute("value"),v==null&&A!=null&&(o.defaultChecked=!!A),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+xi(I):o.removeAttribute("name")}function dA(o,u,f,g,v,A,O,I){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),u!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||u!=null)){y0(o);return}f=f!=null?""+xi(f):"",u=u!=null?""+xi(u):f,I||u===o.value||(o.value=u),o.defaultValue=u}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=I?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),y0(o)}function x0(o,u,f){u==="number"&&Zh(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Tl(o,u,f,g){if(o=o.options,u){u={};for(var v=0;v<f.length;v++)u["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=u.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&g&&(o[f].defaultSelected=!0)}else{for(f=""+xi(f),u=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}u!==null||o[v].disabled||(u=o[v])}u!==null&&(u.selected=!0)}}function hA(o,u,f){if(u!=null&&(u=""+xi(u),u!==o.value&&(o.value=u),f==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=f!=null?""+xi(f):""}function fA(o,u,f,g){if(u==null){if(g!=null){if(f!=null)throw Error(r(92));if(se(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),u=f}f=xi(u),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g),y0(o)}function _l(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var S6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mA(o,u,f){var g=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,f):typeof f!="number"||f===0||S6.has(u)?u==="float"?o.cssFloat=f:o[u]=(""+f).trim():o[u]=f+"px"}function pA(o,u,f){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in u)g=u[v],u.hasOwnProperty(v)&&f[v]!==g&&mA(o,v,g)}else for(var A in u)u.hasOwnProperty(A)&&mA(o,A,u[A])}function v0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jh(o){return _6.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ja(){}var w0=null;function E0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Nl=null,Cl=null;function gA(o){var u=El(o);if(u&&(o=u.stateNode)){var f=o[Pr]||null;e:switch(o=u.stateNode,u.type){case"input":if(b0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+vi(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var g=f[u];if(g!==o&&g.form===o.form){var v=g[Pr]||null;if(!v)throw Error(r(90));b0(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<f.length;u++)g=f[u],g.form===o.form&&cA(g)}break e;case"textarea":hA(o,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&Tl(o,!!f.multiple,u,!1)}}}var A0=!1;function yA(o,u,f){if(A0)return o(u,f);A0=!0;try{var g=o(u);return g}finally{if(A0=!1,(Nl!==null||Cl!==null)&&(Hf(),Nl&&(u=Nl,o=Cl,Cl=Nl=null,gA(u),o)))for(u=0;u<o.length;u++)gA(o[u])}}function pc(o,u){var f=o.stateNode;if(f===null)return null;var g=f[Pr]||null;if(g===null)return null;f=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=!1;if(Ra)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){S0=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{S0=!1}var _s=null,T0=null,ef=null;function bA(){if(ef)return ef;var o,u=T0,f=u.length,g,v="value"in _s?_s.value:_s.textContent,A=v.length;for(o=0;o<f&&u[o]===v[o];o++);var O=f-o;for(g=1;g<=O&&u[f-g]===v[A-g];g++);return ef=v.slice(o,1<g?1-g:void 0)}function tf(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function nf(){return!0}function xA(){return!1}function Dr(o){function u(f,g,v,A,O){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(A):A[I]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?nf:xA,this.isPropagationStopped=xA,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),u}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Dr(yo),yc=p({},yo,{view:0,detail:0}),N6=Dr(yc),_0,N0,bc,af=p({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bc&&(bc&&o.type==="mousemove"?(_0=o.screenX-bc.screenX,N0=o.screenY-bc.screenY):N0=_0=0,bc=o),_0)},movementY:function(o){return"movementY"in o?o.movementY:N0}}),vA=Dr(af),C6=p({},af,{dataTransfer:0}),O6=Dr(C6),k6=p({},yc,{relatedTarget:0}),C0=Dr(k6),P6=p({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),D6=Dr(P6),j6=p({},yo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),R6=Dr(j6),I6=p({},yo,{data:0}),wA=Dr(I6),L6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F6(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=B6[o])?!!u[o]:!1}function O0(){return F6}var U6=p({},yc,{key:function(o){if(o.key){var u=L6[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=tf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?M6[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(o){return o.type==="keypress"?tf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?tf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),H6=Dr(U6),z6=p({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EA=Dr(z6),$6=p({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),q6=Dr($6),Y6=p({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V6=Dr(Y6),G6=p({},af,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),W6=Dr(G6),X6=p({},yo,{newState:0,oldState:0}),K6=Dr(X6),Q6=[9,13,27,32],k0=Ra&&"CompositionEvent"in window,xc=null;Ra&&"documentMode"in document&&(xc=document.documentMode);var Z6=Ra&&"TextEvent"in window&&!xc,AA=Ra&&(!k0||xc&&8<xc&&11>=xc),SA=" ",TA=!1;function _A(o,u){switch(o){case"keyup":return Q6.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ol=!1;function J6(o,u){switch(o){case"compositionend":return NA(u);case"keypress":return u.which!==32?null:(TA=!0,SA);case"textInput":return o=u.data,o===SA&&TA?null:o;default:return null}}function e8(o,u){if(Ol)return o==="compositionend"||!k0&&_A(o,u)?(o=bA(),ef=T0=_s=null,Ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return AA&&u.locale!=="ko"?null:u.data;default:return null}}var t8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CA(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!t8[o.type]:u==="textarea"}function OA(o,u,f,g){Nl?Cl?Cl.push(g):Cl=[g]:Nl=g,u=Wf(u,"onChange"),0<u.length&&(f=new rf("onChange","change",null,f,g),o.push({event:f,listeners:u}))}var vc=null,wc=null;function n8(o){d_(o,0)}function sf(o){var u=mc(o);if(cA(u))return o}function kA(o,u){if(o==="change")return u}var PA=!1;if(Ra){var P0;if(Ra){var D0="oninput"in document;if(!D0){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),D0=typeof DA.oninput=="function"}P0=D0}else P0=!1;PA=P0&&(!document.documentMode||9<document.documentMode)}function jA(){vc&&(vc.detachEvent("onpropertychange",RA),wc=vc=null)}function RA(o){if(o.propertyName==="value"&&sf(wc)){var u=[];OA(u,wc,o,E0(o)),yA(n8,u)}}function r8(o,u,f){o==="focusin"?(jA(),vc=u,wc=f,vc.attachEvent("onpropertychange",RA)):o==="focusout"&&jA()}function i8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sf(wc)}function a8(o,u){if(o==="click")return sf(u)}function s8(o,u){if(o==="input"||o==="change")return sf(u)}function o8(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Jr=typeof Object.is=="function"?Object.is:o8;function Ec(o,u){if(Jr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),g=Object.keys(u);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!je.call(u,v)||!Jr(o[v],u[v]))return!1}return!0}function IA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function LA(o,u){var f=IA(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=u&&g>=u)return{node:f,offset:u-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=IA(f)}}function MA(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?MA(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function BA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Zh(o.document);u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=Zh(o.document)}return u}function j0(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var l8=Ra&&"documentMode"in document&&11>=document.documentMode,kl=null,R0=null,Ac=null,I0=!1;function FA(o,u,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;I0||kl==null||kl!==Zh(g)||(g=kl,"selectionStart"in g&&j0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ac&&Ec(Ac,g)||(Ac=g,g=Wf(R0,"onSelect"),0<g.length&&(u=new rf("onSelect","select",null,u,f),o.push({event:u,listeners:g}),u.target=kl)))}function bo(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Pl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},L0={},UA={};Ra&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function xo(o){if(L0[o])return L0[o];if(!Pl[o])return o;var u=Pl[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in UA)return L0[o]=u[f];return o}var HA=xo("animationend"),zA=xo("animationiteration"),$A=xo("animationstart"),u8=xo("transitionrun"),c8=xo("transitionstart"),d8=xo("transitioncancel"),qA=xo("transitionend"),YA=new Map,M0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");M0.push("scrollEnd");function Gi(o,u){YA.set(o,u),go(u,[o])}var of=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},wi=[],Dl=0,B0=0;function lf(){for(var o=Dl,u=B0=Dl=0;u<o;){var f=wi[u];wi[u++]=null;var g=wi[u];wi[u++]=null;var v=wi[u];wi[u++]=null;var A=wi[u];if(wi[u++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}A!==0&&VA(f,v,A)}}function uf(o,u,f,g){wi[Dl++]=o,wi[Dl++]=u,wi[Dl++]=f,wi[Dl++]=g,B0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function F0(o,u,f,g){return uf(o,u,f,g),cf(o)}function vo(o,u){return uf(o,null,null,u),cf(o)}function VA(o,u,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var v=!1,A=o.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(v=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,v&&u!==null&&(v=31-Ue(f),o=A.hiddenUpdates,g=o[v],g===null?o[v]=[u]:g.push(u),u.lane=f|536870912),A):null}function cf(o){if(50<Yc)throw Yc=0,Wy=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var jl={};function h8(o,u,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(o,u,f,g){return new h8(o,u,f,g)}function U0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ia(o,u){var f=o.alternate;return f===null?(f=ei(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function GA(o,u){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,u=f.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function df(o,u,f,g,v,A){var O=0;if(g=o,typeof o=="function")U0(o)&&(O=1);else if(typeof o=="string")O=yB(o,f,oe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=ei(31,f,u,v),o.elementType=V,o.lanes=A,o;case w:return wo(f.children,v,A,u);case E:O=8,v|=24;break;case S:return o=ei(12,f,u,v|2),o.elementType=S,o.lanes=A,o;case k:return o=ei(13,f,u,v),o.elementType=k,o.lanes=A,o;case P:return o=ei(19,f,u,v),o.elementType=P,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:O=10;break e;case C:O=9;break e;case D:O=11;break e;case j:O=14;break e;case U:O=16,g=null;break e}O=29,f=Error(r(130,o===null?"null":typeof o,"")),g=null}return u=ei(O,f,u,v),u.elementType=o,u.type=g,u.lanes=A,u}function wo(o,u,f,g){return o=ei(7,o,g,u),o.lanes=f,o}function H0(o,u,f){return o=ei(6,o,null,u),o.lanes=f,o}function WA(o){var u=ei(18,null,null,0);return u.stateNode=o,u}function z0(o,u,f){return u=ei(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var XA=new WeakMap;function Ei(o,u){if(typeof o=="object"&&o!==null){var f=XA.get(o);return f!==void 0?f:(u={value:o,source:u,stack:Be(u)},XA.set(o,u),u)}return{value:o,source:u,stack:Be(u)}}var Rl=[],Il=0,hf=null,Sc=0,Ai=[],Si=0,Ns=null,aa=1,sa="";function La(o,u){Rl[Il++]=Sc,Rl[Il++]=hf,hf=o,Sc=u}function KA(o,u,f){Ai[Si++]=aa,Ai[Si++]=sa,Ai[Si++]=Ns,Ns=o;var g=aa;o=sa;var v=32-Ue(g)-1;g&=~(1<<v),f+=1;var A=32-Ue(u)+v;if(30<A){var O=v-v%5;A=(g&(1<<O)-1).toString(32),g>>=O,v-=O,aa=1<<32-Ue(u)+v|f<<v|g,sa=A+o}else aa=1<<A|f<<v|g,sa=o}function $0(o){o.return!==null&&(La(o,1),KA(o,1,0))}function q0(o){for(;o===hf;)hf=Rl[--Il],Rl[Il]=null,Sc=Rl[--Il],Rl[Il]=null;for(;o===Ns;)Ns=Ai[--Si],Ai[Si]=null,sa=Ai[--Si],Ai[Si]=null,aa=Ai[--Si],Ai[Si]=null}function QA(o,u){Ai[Si++]=aa,Ai[Si++]=sa,Ai[Si++]=Ns,aa=u.id,sa=u.overflow,Ns=o}var Zn=null,en=null,Tt=!1,Cs=null,Ti=!1,Y0=Error(r(519));function Os(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(Ei(u,o)),Y0}function ZA(o){var u=o.stateNode,f=o.type,g=o.memoizedProps;switch(u[Qn]=o,u[Pr]=g,f){case"dialog":wt("cancel",u),wt("close",u);break;case"iframe":case"object":case"embed":wt("load",u);break;case"video":case"audio":for(f=0;f<Gc.length;f++)wt(Gc[f],u);break;case"source":wt("error",u);break;case"img":case"image":case"link":wt("error",u),wt("load",u);break;case"details":wt("toggle",u);break;case"input":wt("invalid",u),dA(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":wt("invalid",u);break;case"textarea":wt("invalid",u),fA(u,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||g.suppressHydrationWarning===!0||p_(u.textContent,f)?(g.popover!=null&&(wt("beforetoggle",u),wt("toggle",u)),g.onScroll!=null&&wt("scroll",u),g.onScrollEnd!=null&&wt("scrollend",u),g.onClick!=null&&(u.onclick=ja),u=!0):u=!1,u||Os(o,!0)}function JA(o){for(Zn=o.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Zn=Zn.return}}function Ll(o){if(o!==Zn)return!1;if(!Tt)return JA(o),Tt=!0,!1;var u=o.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||ub(o.type,o.memoizedProps)),f=!f),f&&en&&Os(o),JA(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=S_(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=S_(o)}else u===27?(u=en,$s(o.type)?(o=mb,mb=null,en=o):en=u):en=Zn?Ni(o.stateNode.nextSibling):null;return!0}function Eo(){en=Zn=null,Tt=!1}function V0(){var o=Cs;return o!==null&&(Lr===null?Lr=o:Lr.push.apply(Lr,o),Cs=null),o}function Tc(o){Cs===null?Cs=[o]:Cs.push(o)}var G0=F(null),Ao=null,Ma=null;function ks(o,u,f){R(G0,u._currentValue),u._currentValue=f}function Ba(o){o._currentValue=G0.current,Z(G0)}function W0(o,u,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===f)break;o=o.return}}function X0(o,u,f,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var A=v.dependencies;if(A!==null){var O=v.child;A=A.firstContext;e:for(;A!==null;){var I=A;A=v;for(var W=0;W<u.length;W++)if(I.context===u[W]){A.lanes|=f,I=A.alternate,I!==null&&(I.lanes|=f),W0(A.return,f,o),g||(O=null);break e}A=I.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=f,A=O.alternate,A!==null&&(A.lanes|=f),W0(O,f,o),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===o){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Ml(o,u,f,g){o=null;for(var v=u,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var I=v.type;Jr(v.pendingProps.value,O.value)||(o!==null?o.push(I):o=[I])}}else if(v===fe.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Zc):o=[Zc])}v=v.return}o!==null&&X0(u,o,f,g),u.flags|=262144}function ff(o){for(o=o.firstContext;o!==null;){if(!Jr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function So(o){Ao=o,Ma=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Jn(o){return eS(Ao,o)}function mf(o,u){return Ao===null&&So(o),eS(o,u)}function eS(o,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},Ma===null){if(o===null)throw Error(r(308));Ma=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Ma=Ma.next=u;return f}var f8=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(f){return f()})}},m8=t.unstable_scheduleCallback,p8=t.unstable_NormalPriority,En={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function K0(){return{controller:new f8,data:new Map,refCount:0}}function _c(o){o.refCount--,o.refCount===0&&m8(p8,function(){o.controller.abort()})}var Nc=null,Q0=0,Bl=0,Fl=null;function g8(o,u){if(Nc===null){var f=Nc=[];Q0=0,Bl=eb(),Fl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Q0++,u.then(tS,tS),u}function tS(){if(--Q0===0&&Nc!==null){Fl!==null&&(Fl.status="fulfilled");var o=Nc;Nc=null,Bl=0,Fl=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function y8(o,u){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var v=0;v<f.length;v++)(0,f[v])(u)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var nS=L.S;L.S=function(o,u){FT=Xe(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&g8(o,u),nS!==null&&nS(o,u)};var To=F(null);function Z0(){var o=To.current;return o!==null?o:Gt.pooledCache}function pf(o,u){u===null?R(To,To.current):R(To,u.pool)}function rS(){var o=Z0();return o===null?null:{parent:En._currentValue,pool:o}}var Ul=Error(r(460)),J0=Error(r(474)),gf=Error(r(542)),yf={then:function(){}};function iS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function aS(o,u,f){switch(f=o[f],f===void 0?o.push(u):f!==u&&(u.then(ja,ja),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,oS(o),o;default:if(typeof u.status=="string")u.then(ja,ja);else{if(o=Gt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=g}},function(g){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,oS(o),o}throw No=u,Ul}}function _o(o){try{var u=o._init;return u(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(No=f,Ul):f}}var No=null;function sS(){if(No===null)throw Error(r(459));var o=No;return No=null,o}function oS(o){if(o===Ul||o===gf)throw Error(r(483))}var Hl=null,Cc=0;function bf(o){var u=Cc;return Cc+=1,Hl===null&&(Hl=[]),aS(Hl,o,u)}function Oc(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function xf(o,u){throw u.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function lS(o){function u(re,Q){if(o){var de=re.deletions;de===null?(re.deletions=[Q],re.flags|=16):de.push(Q)}}function f(re,Q){if(!o)return null;for(;Q!==null;)u(re,Q),Q=Q.sibling;return null}function g(re){for(var Q=new Map;re!==null;)re.key!==null?Q.set(re.key,re):Q.set(re.index,re),re=re.sibling;return Q}function v(re,Q){return re=Ia(re,Q),re.index=0,re.sibling=null,re}function A(re,Q,de){return re.index=de,o?(de=re.alternate,de!==null?(de=de.index,de<Q?(re.flags|=67108866,Q):de):(re.flags|=67108866,Q)):(re.flags|=1048576,Q)}function O(re){return o&&re.alternate===null&&(re.flags|=67108866),re}function I(re,Q,de,Te){return Q===null||Q.tag!==6?(Q=H0(de,re.mode,Te),Q.return=re,Q):(Q=v(Q,de),Q.return=re,Q)}function W(re,Q,de,Te){var Ze=de.type;return Ze===w?Se(re,Q,de.props.children,Te,de.key):Q!==null&&(Q.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===U&&_o(Ze)===Q.type)?(Q=v(Q,de.props),Oc(Q,de),Q.return=re,Q):(Q=df(de.type,de.key,de.props,null,re.mode,Te),Oc(Q,de),Q.return=re,Q)}function he(re,Q,de,Te){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==de.containerInfo||Q.stateNode.implementation!==de.implementation?(Q=z0(de,re.mode,Te),Q.return=re,Q):(Q=v(Q,de.children||[]),Q.return=re,Q)}function Se(re,Q,de,Te,Ze){return Q===null||Q.tag!==7?(Q=wo(de,re.mode,Te,Ze),Q.return=re,Q):(Q=v(Q,de),Q.return=re,Q)}function _e(re,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=H0(""+Q,re.mode,de),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return de=df(Q.type,Q.key,Q.props,null,re.mode,de),Oc(de,Q),de.return=re,de;case x:return Q=z0(Q,re.mode,de),Q.return=re,Q;case U:return Q=_o(Q),_e(re,Q,de)}if(se(Q)||Y(Q))return Q=wo(Q,re.mode,de,null),Q.return=re,Q;if(typeof Q.then=="function")return _e(re,bf(Q),de);if(Q.$$typeof===N)return _e(re,mf(re,Q),de);xf(re,Q)}return null}function pe(re,Q,de,Te){var Ze=Q!==null?Q.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ze!==null?null:I(re,Q,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return de.key===Ze?W(re,Q,de,Te):null;case x:return de.key===Ze?he(re,Q,de,Te):null;case U:return de=_o(de),pe(re,Q,de,Te)}if(se(de)||Y(de))return Ze!==null?null:Se(re,Q,de,Te,null);if(typeof de.then=="function")return pe(re,Q,bf(de),Te);if(de.$$typeof===N)return pe(re,Q,mf(re,de),Te);xf(re,de)}return null}function xe(re,Q,de,Te,Ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return re=re.get(de)||null,I(Q,re,""+Te,Ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return re=re.get(Te.key===null?de:Te.key)||null,W(Q,re,Te,Ze);case x:return re=re.get(Te.key===null?de:Te.key)||null,he(Q,re,Te,Ze);case U:return Te=_o(Te),xe(re,Q,de,Te,Ze)}if(se(Te)||Y(Te))return re=re.get(de)||null,Se(Q,re,Te,Ze,null);if(typeof Te.then=="function")return xe(re,Q,de,bf(Te),Ze);if(Te.$$typeof===N)return xe(re,Q,de,mf(Q,Te),Ze);xf(Q,Te)}return null}function qe(re,Q,de,Te){for(var Ze=null,Ot=null,We=Q,gt=Q=0,At=null;We!==null&&gt<de.length;gt++){We.index>gt?(At=We,We=null):At=We.sibling;var kt=pe(re,We,de[gt],Te);if(kt===null){We===null&&(We=At);break}o&&We&&kt.alternate===null&&u(re,We),Q=A(kt,Q,gt),Ot===null?Ze=kt:Ot.sibling=kt,Ot=kt,We=At}if(gt===de.length)return f(re,We),Tt&&La(re,gt),Ze;if(We===null){for(;gt<de.length;gt++)We=_e(re,de[gt],Te),We!==null&&(Q=A(We,Q,gt),Ot===null?Ze=We:Ot.sibling=We,Ot=We);return Tt&&La(re,gt),Ze}for(We=g(We);gt<de.length;gt++)At=xe(We,re,gt,de[gt],Te),At!==null&&(o&&At.alternate!==null&&We.delete(At.key===null?gt:At.key),Q=A(At,Q,gt),Ot===null?Ze=At:Ot.sibling=At,Ot=At);return o&&We.forEach(function(Ws){return u(re,Ws)}),Tt&&La(re,gt),Ze}function nt(re,Q,de,Te){if(de==null)throw Error(r(151));for(var Ze=null,Ot=null,We=Q,gt=Q=0,At=null,kt=de.next();We!==null&&!kt.done;gt++,kt=de.next()){We.index>gt?(At=We,We=null):At=We.sibling;var Ws=pe(re,We,kt.value,Te);if(Ws===null){We===null&&(We=At);break}o&&We&&Ws.alternate===null&&u(re,We),Q=A(Ws,Q,gt),Ot===null?Ze=Ws:Ot.sibling=Ws,Ot=Ws,We=At}if(kt.done)return f(re,We),Tt&&La(re,gt),Ze;if(We===null){for(;!kt.done;gt++,kt=de.next())kt=_e(re,kt.value,Te),kt!==null&&(Q=A(kt,Q,gt),Ot===null?Ze=kt:Ot.sibling=kt,Ot=kt);return Tt&&La(re,gt),Ze}for(We=g(We);!kt.done;gt++,kt=de.next())kt=xe(We,re,gt,kt.value,Te),kt!==null&&(o&&kt.alternate!==null&&We.delete(kt.key===null?gt:kt.key),Q=A(kt,Q,gt),Ot===null?Ze=kt:Ot.sibling=kt,Ot=kt);return o&&We.forEach(function(CB){return u(re,CB)}),Tt&&La(re,gt),Ze}function qt(re,Q,de,Te){if(typeof de=="object"&&de!==null&&de.type===w&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case b:e:{for(var Ze=de.key;Q!==null;){if(Q.key===Ze){if(Ze=de.type,Ze===w){if(Q.tag===7){f(re,Q.sibling),Te=v(Q,de.props.children),Te.return=re,re=Te;break e}}else if(Q.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===U&&_o(Ze)===Q.type){f(re,Q.sibling),Te=v(Q,de.props),Oc(Te,de),Te.return=re,re=Te;break e}f(re,Q);break}else u(re,Q);Q=Q.sibling}de.type===w?(Te=wo(de.props.children,re.mode,Te,de.key),Te.return=re,re=Te):(Te=df(de.type,de.key,de.props,null,re.mode,Te),Oc(Te,de),Te.return=re,re=Te)}return O(re);case x:e:{for(Ze=de.key;Q!==null;){if(Q.key===Ze)if(Q.tag===4&&Q.stateNode.containerInfo===de.containerInfo&&Q.stateNode.implementation===de.implementation){f(re,Q.sibling),Te=v(Q,de.children||[]),Te.return=re,re=Te;break e}else{f(re,Q);break}else u(re,Q);Q=Q.sibling}Te=z0(de,re.mode,Te),Te.return=re,re=Te}return O(re);case U:return de=_o(de),qt(re,Q,de,Te)}if(se(de))return qe(re,Q,de,Te);if(Y(de)){if(Ze=Y(de),typeof Ze!="function")throw Error(r(150));return de=Ze.call(de),nt(re,Q,de,Te)}if(typeof de.then=="function")return qt(re,Q,bf(de),Te);if(de.$$typeof===N)return qt(re,Q,mf(re,de),Te);xf(re,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,Q!==null&&Q.tag===6?(f(re,Q.sibling),Te=v(Q,de),Te.return=re,re=Te):(f(re,Q),Te=H0(de,re.mode,Te),Te.return=re,re=Te),O(re)):f(re,Q)}return function(re,Q,de,Te){try{Cc=0;var Ze=qt(re,Q,de,Te);return Hl=null,Ze}catch(We){if(We===Ul||We===gf)throw We;var Ot=ei(29,We,null,re.mode);return Ot.lanes=Te,Ot.return=re,Ot}finally{}}}var Co=lS(!0),uS=lS(!1),Ps=!1;function ey(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ty(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ds(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function js(o,u,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(jt&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,u=cf(o),VA(o,null,f),u}return uf(o,g,u,f),cf(o)}function kc(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,f|=g,u.lanes=f,eA(o,f)}}function ny(o,u){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?v=A=O:A=A.next=O,f=f.next}while(f!==null);A===null?v=A=u:A=A.next=u}else v=A=u;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}var ry=!1;function Pc(){if(ry){var o=Fl;if(o!==null)throw o}}function Dc(o,u,f,g){ry=!1;var v=o.updateQueue;Ps=!1;var A=v.firstBaseUpdate,O=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var W=I,he=W.next;W.next=null,O===null?A=he:O.next=he,O=W;var Se=o.alternate;Se!==null&&(Se=Se.updateQueue,I=Se.lastBaseUpdate,I!==O&&(I===null?Se.firstBaseUpdate=he:I.next=he,Se.lastBaseUpdate=W))}if(A!==null){var _e=v.baseState;O=0,Se=he=W=null,I=A;do{var pe=I.lane&-536870913,xe=pe!==I.lane;if(xe?(Et&pe)===pe:(g&pe)===pe){pe!==0&&pe===Bl&&(ry=!0),Se!==null&&(Se=Se.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var qe=o,nt=I;pe=u;var qt=f;switch(nt.tag){case 1:if(qe=nt.payload,typeof qe=="function"){_e=qe.call(qt,_e,pe);break e}_e=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=nt.payload,pe=typeof qe=="function"?qe.call(qt,_e,pe):qe,pe==null)break e;_e=p({},_e,pe);break e;case 2:Ps=!0}}pe=I.callback,pe!==null&&(o.flags|=64,xe&&(o.flags|=8192),xe=v.callbacks,xe===null?v.callbacks=[pe]:xe.push(pe))}else xe={lane:pe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Se===null?(he=Se=xe,W=_e):Se=Se.next=xe,O|=pe;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;xe=I,I=xe.next,xe.next=null,v.lastBaseUpdate=xe,v.shared.pending=null}}while(!0);Se===null&&(W=_e),v.baseState=W,v.firstBaseUpdate=he,v.lastBaseUpdate=Se,A===null&&(v.shared.lanes=0),Bs|=O,o.lanes=O,o.memoizedState=_e}}function cS(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function dS(o,u){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)cS(f[o],u)}var zl=F(null),vf=F(0);function hS(o,u){o=Ga,R(vf,o),R(zl,u),Ga=o|u.baseLanes}function iy(){R(vf,Ga),R(zl,zl.current)}function ay(){Ga=vf.current,Z(zl),Z(vf)}var ti=F(null),_i=null;function Rs(o){var u=o.alternate;R(yn,yn.current&1),R(ti,o),_i===null&&(u===null||zl.current!==null||u.memoizedState!==null)&&(_i=o)}function sy(o){R(yn,yn.current),R(ti,o),_i===null&&(_i=o)}function fS(o){o.tag===22?(R(yn,yn.current),R(ti,o),_i===null&&(_i=o)):Is()}function Is(){R(yn,yn.current),R(ti,ti.current)}function ni(o){Z(ti),_i===o&&(_i=null),Z(yn)}var yn=F(0);function wf(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||hb(f)||fb(f)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Fa=0,ht=null,zt=null,An=null,Ef=!1,$l=!1,Oo=!1,Af=0,jc=0,ql=null,b8=0;function fn(){throw Error(r(321))}function oy(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Jr(o[f],u[f]))return!1;return!0}function ly(o,u,f,g,v,A){return Fa=A,ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,L.H=o===null||o.memoizedState===null?KS:Ay,Oo=!1,A=f(g,v),Oo=!1,$l&&(A=pS(u,f,g,v)),mS(o),A}function mS(o){L.H=Lc;var u=zt!==null&&zt.next!==null;if(Fa=0,An=zt=ht=null,Ef=!1,jc=0,ql=null,u)throw Error(r(300));o===null||Sn||(o=o.dependencies,o!==null&&ff(o)&&(Sn=!0))}function pS(o,u,f,g){ht=o;var v=0;do{if($l&&(ql=null),jc=0,$l=!1,25<=v)throw Error(r(301));if(v+=1,An=zt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}L.H=QS,A=u(f,g)}while($l);return A}function x8(){var o=L.H,u=o.useState()[0];return u=typeof u.then=="function"?Rc(u):u,o=o.useState()[0],(zt!==null?zt.memoizedState:null)!==o&&(ht.flags|=1024),u}function uy(){var o=Af!==0;return Af=0,o}function cy(o,u,f){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~f}function dy(o){if(Ef){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Ef=!1}Fa=0,An=zt=ht=null,$l=!1,jc=Af=0,ql=null}function xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?ht.memoizedState=An=o:An=An.next=o,An}function bn(){if(zt===null){var o=ht.alternate;o=o!==null?o.memoizedState:null}else o=zt.next;var u=An===null?ht.memoizedState:An.next;if(u!==null)An=u,zt=o;else{if(o===null)throw ht.alternate===null?Error(r(467)):Error(r(310));zt=o,o={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},An===null?ht.memoizedState=An=o:An=An.next=o}return An}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(o){var u=jc;return jc+=1,ql===null&&(ql=[]),o=aS(ql,o,u),u=ht,(An===null?u.memoizedState:An.next)===null&&(u=u.alternate,L.H=u===null||u.memoizedState===null?KS:Ay),o}function Tf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Rc(o);if(o.$$typeof===N)return Jn(o)}throw Error(r(438,String(o)))}function hy(o){var u=null,f=ht.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var g=ht.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=Sf(),ht.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(o),g=0;g<o;g++)f[g]=X;return u.index++,f}function Ua(o,u){return typeof u=="function"?u(o):u}function _f(o){var u=bn();return fy(u,zt,o)}function fy(o,u,f){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var v=o.baseQueue,A=g.pending;if(A!==null){if(v!==null){var O=v.next;v.next=A.next,A.next=O}u.baseQueue=v=A,g.pending=null}if(A=o.baseState,v===null)o.memoizedState=A;else{u=v.next;var I=O=null,W=null,he=u,Se=!1;do{var _e=he.lane&-536870913;if(_e!==he.lane?(Et&_e)===_e:(Fa&_e)===_e){var pe=he.revertLane;if(pe===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),_e===Bl&&(Se=!0);else if((Fa&pe)===pe){he=he.next,pe===Bl&&(Se=!0);continue}else _e={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},W===null?(I=W=_e,O=A):W=W.next=_e,ht.lanes|=pe,Bs|=pe;_e=he.action,Oo&&f(A,_e),A=he.hasEagerState?he.eagerState:f(A,_e)}else pe={lane:_e,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},W===null?(I=W=pe,O=A):W=W.next=pe,ht.lanes|=_e,Bs|=_e;he=he.next}while(he!==null&&he!==u);if(W===null?O=A:W.next=I,!Jr(A,o.memoizedState)&&(Sn=!0,Se&&(f=Fl,f!==null)))throw f;o.memoizedState=A,o.baseState=O,o.baseQueue=W,g.lastRenderedState=A}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function my(o){var u=bn(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var g=f.dispatch,v=f.pending,A=u.memoizedState;if(v!==null){f.pending=null;var O=v=v.next;do A=o(A,O.action),O=O.next;while(O!==v);Jr(A,u.memoizedState)||(Sn=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),f.lastRenderedState=A}return[A,g]}function gS(o,u,f){var g=ht,v=bn(),A=Tt;if(A){if(f===void 0)throw Error(r(407));f=f()}else f=u();var O=!Jr((zt||v).memoizedState,f);if(O&&(v.memoizedState=f,Sn=!0),v=v.queue,yy(xS.bind(null,g,v,o),[o]),v.getSnapshot!==u||O||An!==null&&An.memoizedState.tag&1){if(g.flags|=2048,Yl(9,{destroy:void 0},bS.bind(null,g,v,f,u),null),Gt===null)throw Error(r(349));A||(Fa&127)!==0||yS(g,u,f)}return f}function yS(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=ht.updateQueue,u===null?(u=Sf(),ht.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function bS(o,u,f,g){u.value=f,u.getSnapshot=g,vS(u)&&wS(o)}function xS(o,u,f){return f(function(){vS(u)&&wS(o)})}function vS(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Jr(o,f)}catch{return!0}}function wS(o){var u=vo(o,2);u!==null&&Mr(u,o,2)}function py(o){var u=xr();if(typeof o=="function"){var f=o;if(o=f(),Oo){Ie(!0);try{f()}finally{Ie(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:o},u}function ES(o,u,f,g){return o.baseState=f,fy(o,zt,typeof g=="function"?g:Ua)}function v8(o,u,f,g,v){if(Of(o))throw Error(r(485));if(o=u.action,o!==null){var A={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};L.T!==null?f(!0):A.isTransition=!1,g(A),f=u.pending,f===null?(A.next=u.pending=A,AS(u,A)):(A.next=f.next,u.pending=f.next=A)}}function AS(o,u){var f=u.action,g=u.payload,v=o.state;if(u.isTransition){var A=L.T,O={};L.T=O;try{var I=f(v,g),W=L.S;W!==null&&W(O,I),SS(o,u,I)}catch(he){gy(o,u,he)}finally{A!==null&&O.types!==null&&(A.types=O.types),L.T=A}}else try{A=f(v,g),SS(o,u,A)}catch(he){gy(o,u,he)}}function SS(o,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){TS(o,u,g)},function(g){return gy(o,u,g)}):TS(o,u,f)}function TS(o,u,f){u.status="fulfilled",u.value=f,_S(u),o.state=f,u=o.pending,u!==null&&(f=u.next,f===u?o.pending=null:(f=f.next,u.next=f,AS(o,f)))}function gy(o,u,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=f,_S(u),u=u.next;while(u!==g)}o.action=null}function _S(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function NS(o,u){return u}function CS(o,u){if(Tt){var f=Gt.formState;if(f!==null){e:{var g=ht;if(Tt){if(en){t:{for(var v=en,A=Ti;v.nodeType!==8;){if(!A){v=null;break t}if(v=Ni(v.nextSibling),v===null){v=null;break t}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){en=Ni(v.nextSibling),g=v.data==="F!";break e}}Os(g)}g=!1}g&&(u=f[0])}}return f=xr(),f.memoizedState=f.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NS,lastRenderedState:u},f.queue=g,f=GS.bind(null,ht,g),g.dispatch=f,g=py(!1),A=Ey.bind(null,ht,!1,g.queue),g=xr(),v={state:u,dispatch:null,action:o,pending:null},g.queue=v,f=v8.bind(null,ht,v,A,f),v.dispatch=f,g.memoizedState=o,[u,f,!1]}function OS(o){var u=bn();return kS(u,zt,o)}function kS(o,u,f){if(u=fy(o,u,NS)[0],o=_f(Ua)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Rc(u)}catch(O){throw O===Ul?gf:O}else g=u;u=bn();var v=u.queue,A=v.dispatch;return f!==u.memoizedState&&(ht.flags|=2048,Yl(9,{destroy:void 0},w8.bind(null,v,f),null)),[g,A,o]}function w8(o,u){o.action=u}function PS(o){var u=bn(),f=zt;if(f!==null)return kS(u,f,o);bn(),u=u.memoizedState,f=bn();var g=f.queue.dispatch;return f.memoizedState=o,[u,g,!1]}function Yl(o,u,f,g){return o={tag:o,create:f,deps:g,inst:u,next:null},u=ht.updateQueue,u===null&&(u=Sf(),ht.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,u.lastEffect=o),o}function DS(){return bn().memoizedState}function Nf(o,u,f,g){var v=xr();ht.flags|=o,v.memoizedState=Yl(1|u,{destroy:void 0},f,g===void 0?null:g)}function Cf(o,u,f,g){var v=bn();g=g===void 0?null:g;var A=v.memoizedState.inst;zt!==null&&g!==null&&oy(g,zt.memoizedState.deps)?v.memoizedState=Yl(u,A,f,g):(ht.flags|=o,v.memoizedState=Yl(1|u,A,f,g))}function jS(o,u){Nf(8390656,8,o,u)}function yy(o,u){Cf(2048,8,o,u)}function E8(o){ht.flags|=4;var u=ht.updateQueue;if(u===null)u=Sf(),ht.updateQueue=u,u.events=[o];else{var f=u.events;f===null?u.events=[o]:f.push(o)}}function RS(o){var u=bn().memoizedState;return E8({ref:u,nextImpl:o}),function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function IS(o,u){return Cf(4,2,o,u)}function LS(o,u){return Cf(4,4,o,u)}function MS(o,u){if(typeof u=="function"){o=o();var f=u(o);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function BS(o,u,f){f=f!=null?f.concat([o]):null,Cf(4,4,MS.bind(null,u,o),f)}function by(){}function FS(o,u){var f=bn();u=u===void 0?null:u;var g=f.memoizedState;return u!==null&&oy(u,g[1])?g[0]:(f.memoizedState=[o,u],o)}function US(o,u){var f=bn();u=u===void 0?null:u;var g=f.memoizedState;if(u!==null&&oy(u,g[1]))return g[0];if(g=o(),Oo){Ie(!0);try{o()}finally{Ie(!1)}}return f.memoizedState=[g,u],g}function xy(o,u,f){return f===void 0||(Fa&1073741824)!==0&&(Et&261930)===0?o.memoizedState=u:(o.memoizedState=f,o=HT(),ht.lanes|=o,Bs|=o,f)}function HS(o,u,f,g){return Jr(f,u)?f:zl.current!==null?(o=xy(o,f,g),Jr(o,u)||(Sn=!0),o):(Fa&42)===0||(Fa&1073741824)!==0&&(Et&261930)===0?(Sn=!0,o.memoizedState=f):(o=HT(),ht.lanes|=o,Bs|=o,u)}function zS(o,u,f,g,v){var A=H.p;H.p=A!==0&&8>A?A:8;var O=L.T,I={};L.T=I,Ey(o,!1,u,f);try{var W=v(),he=L.S;if(he!==null&&he(I,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var Se=y8(W,g);Ic(o,u,Se,ai(o))}else Ic(o,u,g,ai(o))}catch(_e){Ic(o,u,{then:function(){},status:"rejected",reason:_e},ai())}finally{H.p=A,O!==null&&I.types!==null&&(O.types=I.types),L.T=O}}function A8(){}function vy(o,u,f,g){if(o.tag!==5)throw Error(r(476));var v=$S(o).queue;zS(o,v,u,ie,f===null?A8:function(){return qS(o),f(g)})}function $S(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:ie},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:f},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function qS(o){var u=$S(o);u.next===null&&(u=o.alternate.memoizedState),Ic(o,u.next.queue,{},ai())}function wy(){return Jn(Zc)}function YS(){return bn().memoizedState}function VS(){return bn().memoizedState}function S8(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var f=ai();o=Ds(f);var g=js(u,o,f);g!==null&&(Mr(g,u,f),kc(g,u,f)),u={cache:K0()},o.payload=u;return}u=u.return}}function T8(o,u,f){var g=ai();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Of(o)?WS(u,f):(f=F0(o,u,f,g),f!==null&&(Mr(f,o,g),XS(f,u,g)))}function GS(o,u,f){var g=ai();Ic(o,u,f,g)}function Ic(o,u,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Of(o))WS(u,v);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var O=u.lastRenderedState,I=A(O,f);if(v.hasEagerState=!0,v.eagerState=I,Jr(I,O))return uf(o,u,v,0),Gt===null&&lf(),!1}catch{}finally{}if(f=F0(o,u,v,g),f!==null)return Mr(f,o,g),XS(f,u,g),!0}return!1}function Ey(o,u,f,g){if(g={lane:2,revertLane:eb(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Of(o)){if(u)throw Error(r(479))}else u=F0(o,f,g,2),u!==null&&Mr(u,o,2)}function Of(o){var u=o.alternate;return o===ht||u!==null&&u===ht}function WS(o,u){$l=Ef=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function XS(o,u,f){if((f&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,f|=g,u.lanes=f,eA(o,f)}}var Lc={readContext:Jn,use:Tf,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Lc.useEffectEvent=fn;var KS={readContext:Jn,use:Tf,useCallback:function(o,u){return xr().memoizedState=[o,u===void 0?null:u],o},useContext:Jn,useEffect:jS,useImperativeHandle:function(o,u,f){f=f!=null?f.concat([o]):null,Nf(4194308,4,MS.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Nf(4194308,4,o,u)},useInsertionEffect:function(o,u){Nf(4,2,o,u)},useMemo:function(o,u){var f=xr();u=u===void 0?null:u;var g=o();if(Oo){Ie(!0);try{o()}finally{Ie(!1)}}return f.memoizedState=[g,u],g},useReducer:function(o,u,f){var g=xr();if(f!==void 0){var v=f(u);if(Oo){Ie(!0);try{f(u)}finally{Ie(!1)}}}else v=u;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=T8.bind(null,ht,o),[g.memoizedState,o]},useRef:function(o){var u=xr();return o={current:o},u.memoizedState=o},useState:function(o){o=py(o);var u=o.queue,f=GS.bind(null,ht,u);return u.dispatch=f,[o.memoizedState,f]},useDebugValue:by,useDeferredValue:function(o,u){var f=xr();return xy(f,o,u)},useTransition:function(){var o=py(!1);return o=zS.bind(null,ht,o.queue,!0,!1),xr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,f){var g=ht,v=xr();if(Tt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Gt===null)throw Error(r(349));(Et&127)!==0||yS(g,u,f)}v.memoizedState=f;var A={value:f,getSnapshot:u};return v.queue=A,jS(xS.bind(null,g,A,o),[o]),g.flags|=2048,Yl(9,{destroy:void 0},bS.bind(null,g,A,f,u),null),f},useId:function(){var o=xr(),u=Gt.identifierPrefix;if(Tt){var f=sa,g=aa;f=(g&~(1<<32-Ue(g)-1)).toString(32)+f,u="_"+u+"R_"+f,f=Af++,0<f&&(u+="H"+f.toString(32)),u+="_"}else f=b8++,u="_"+u+"r_"+f.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:wy,useFormState:CS,useActionState:CS,useOptimistic:function(o){var u=xr();u.memoizedState=u.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=Ey.bind(null,ht,!0,f),f.dispatch=u,[o,u]},useMemoCache:hy,useCacheRefresh:function(){return xr().memoizedState=S8.bind(null,ht)},useEffectEvent:function(o){var u=xr(),f={impl:o};return u.memoizedState=f,function(){if((jt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Ay={readContext:Jn,use:Tf,useCallback:FS,useContext:Jn,useEffect:yy,useImperativeHandle:BS,useInsertionEffect:IS,useLayoutEffect:LS,useMemo:US,useReducer:_f,useRef:DS,useState:function(){return _f(Ua)},useDebugValue:by,useDeferredValue:function(o,u){var f=bn();return HS(f,zt.memoizedState,o,u)},useTransition:function(){var o=_f(Ua)[0],u=bn().memoizedState;return[typeof o=="boolean"?o:Rc(o),u]},useSyncExternalStore:gS,useId:YS,useHostTransitionStatus:wy,useFormState:OS,useActionState:OS,useOptimistic:function(o,u){var f=bn();return ES(f,zt,o,u)},useMemoCache:hy,useCacheRefresh:VS};Ay.useEffectEvent=RS;var QS={readContext:Jn,use:Tf,useCallback:FS,useContext:Jn,useEffect:yy,useImperativeHandle:BS,useInsertionEffect:IS,useLayoutEffect:LS,useMemo:US,useReducer:my,useRef:DS,useState:function(){return my(Ua)},useDebugValue:by,useDeferredValue:function(o,u){var f=bn();return zt===null?xy(f,o,u):HS(f,zt.memoizedState,o,u)},useTransition:function(){var o=my(Ua)[0],u=bn().memoizedState;return[typeof o=="boolean"?o:Rc(o),u]},useSyncExternalStore:gS,useId:YS,useHostTransitionStatus:wy,useFormState:PS,useActionState:PS,useOptimistic:function(o,u){var f=bn();return zt!==null?ES(f,zt,o,u):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:hy,useCacheRefresh:VS};QS.useEffectEvent=RS;function Sy(o,u,f,g){u=o.memoizedState,f=f(g,u),f=f==null?u:p({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ty={enqueueSetState:function(o,u,f){o=o._reactInternals;var g=ai(),v=Ds(g);v.payload=u,f!=null&&(v.callback=f),u=js(o,v,g),u!==null&&(Mr(u,o,g),kc(u,o,g))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var g=ai(),v=Ds(g);v.tag=1,v.payload=u,f!=null&&(v.callback=f),u=js(o,v,g),u!==null&&(Mr(u,o,g),kc(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=ai(),g=Ds(f);g.tag=2,u!=null&&(g.callback=u),u=js(o,g,f),u!==null&&(Mr(u,o,f),kc(u,o,f))}};function ZS(o,u,f,g,v,A,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,O):u.prototype&&u.prototype.isPureReactComponent?!Ec(f,g)||!Ec(v,A):!0}function JS(o,u,f,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,g),u.state!==o&&Ty.enqueueReplaceState(u,u.state,null)}function ko(o,u){var f=u;if("ref"in u){f={};for(var g in u)g!=="ref"&&(f[g]=u[g])}if(o=o.defaultProps){f===u&&(f=p({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}function eT(o){of(o)}function tT(o){console.error(o)}function nT(o){of(o)}function kf(o,u){try{var f=o.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function rT(o,u,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function _y(o,u,f){return f=Ds(f),f.tag=3,f.payload={element:null},f.callback=function(){kf(o,u)},f}function iT(o){return o=Ds(o),o.tag=3,o}function aT(o,u,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var A=g.value;o.payload=function(){return v(A)},o.callback=function(){rT(u,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){rT(u,f,g),typeof v!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var I=g.stack;this.componentDidCatch(g.value,{componentStack:I!==null?I:""})})}function _8(o,u,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=f.alternate,u!==null&&Ml(u,f,v,!0),f=ti.current,f!==null){switch(f.tag){case 31:case 13:return _i===null?zf():f.alternate===null&&mn===0&&(mn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===yf?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([g]):u.add(g),Qy(o,g,v)),!1;case 22:return f.flags|=65536,g===yf?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([g]):f.add(g)),Qy(o,g,v)),!1}throw Error(r(435,f.tag))}return Qy(o,g,v),zf(),!1}if(Tt)return u=ti.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,g!==Y0&&(o=Error(r(422),{cause:g}),Tc(Ei(o,f)))):(g!==Y0&&(u=Error(r(423),{cause:g}),Tc(Ei(u,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=Ei(g,f),v=_y(o.stateNode,g,v),ny(o,v),mn!==4&&(mn=2)),!1;var A=Error(r(520),{cause:g});if(A=Ei(A,f),qc===null?qc=[A]:qc.push(A),mn!==4&&(mn=2),u===null)return!0;g=Ei(g,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=_y(f.stateNode,g,o),ny(f,o),!1;case 1:if(u=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Fs===null||!Fs.has(A))))return f.flags|=65536,v&=-v,f.lanes|=v,v=iT(v),aT(v,o,f,g),ny(f,v),!1}f=f.return}while(f!==null);return!1}var Ny=Error(r(461)),Sn=!1;function er(o,u,f,g){u.child=o===null?uS(u,null,f,g):Co(u,o.child,f,g)}function sT(o,u,f,g,v){f=f.render;var A=u.ref;if("ref"in g){var O={};for(var I in g)I!=="ref"&&(O[I]=g[I])}else O=g;return So(u),g=ly(o,u,f,O,A,v),I=uy(),o!==null&&!Sn?(cy(o,u,v),Ha(o,u,v)):(Tt&&I&&$0(u),u.flags|=1,er(o,u,g,v),u.child)}function oT(o,u,f,g,v){if(o===null){var A=f.type;return typeof A=="function"&&!U0(A)&&A.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=A,lT(o,u,A,g,v)):(o=df(f.type,null,g,u,u.mode,v),o.ref=u.ref,o.return=u,u.child=o)}if(A=o.child,!Iy(o,v)){var O=A.memoizedProps;if(f=f.compare,f=f!==null?f:Ec,f(O,g)&&o.ref===u.ref)return Ha(o,u,v)}return u.flags|=1,o=Ia(A,g),o.ref=u.ref,o.return=u,u.child=o}function lT(o,u,f,g,v){if(o!==null){var A=o.memoizedProps;if(Ec(A,g)&&o.ref===u.ref)if(Sn=!1,u.pendingProps=g=A,Iy(o,v))(o.flags&131072)!==0&&(Sn=!0);else return u.lanes=o.lanes,Ha(o,u,v)}return Cy(o,u,f,g,v)}function uT(o,u,f,g){var v=g.children,A=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,o!==null){for(g=u.child=o.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~A}else g=0,u.child=null;return cT(o,u,A,f,g)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&pf(u,A!==null?A.cachePool:null),A!==null?hS(u,A):iy(),fS(u);else return g=u.lanes=536870912,cT(o,u,A!==null?A.baseLanes|f:f,f,g)}else A!==null?(pf(u,A.cachePool),hS(u,A),Is(),u.memoizedState=null):(o!==null&&pf(u,null),iy(),Is());return er(o,u,v,f),u.child}function Mc(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function cT(o,u,f,g,v){var A=Z0();return A=A===null?null:{parent:En._currentValue,pool:A},u.memoizedState={baseLanes:f,cachePool:A},o!==null&&pf(u,null),iy(),fS(u),o!==null&&Ml(o,u,g,!0),u.childLanes=v,null}function Pf(o,u){return u=jf({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function dT(o,u,f){return Co(u,o.child,null,f),o=Pf(u,u.pendingProps),o.flags|=2,ni(u),u.memoizedState=null,o}function N8(o,u,f){var g=u.pendingProps,v=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Tt){if(g.mode==="hidden")return o=Pf(u,g),u.lanes=536870912,Mc(null,o);if(sy(u),(o=en)?(o=A_(o,Ti),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ns!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},f=WA(o),f.return=u,u.child=f,Zn=u,en=null)):o=null,o===null)throw Os(u);return u.lanes=536870912,null}return Pf(u,g)}var A=o.memoizedState;if(A!==null){var O=A.dehydrated;if(sy(u),v)if(u.flags&256)u.flags&=-257,u=dT(o,u,f);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Sn||Ml(o,u,f,!1),v=(f&o.childLanes)!==0,Sn||v){if(g=Gt,g!==null&&(O=tA(g,f),O!==0&&O!==A.retryLane))throw A.retryLane=O,vo(o,O),Mr(g,o,O),Ny;zf(),u=dT(o,u,f)}else o=A.treeContext,en=Ni(O.nextSibling),Zn=u,Tt=!0,Cs=null,Ti=!1,o!==null&&QA(u,o),u=Pf(u,g),u.flags|=4096;return u}return o=Ia(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Df(o,u){var f=u.ref;if(f===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(u.flags|=4194816)}}function Cy(o,u,f,g,v){return So(u),f=ly(o,u,f,g,void 0,v),g=uy(),o!==null&&!Sn?(cy(o,u,v),Ha(o,u,v)):(Tt&&g&&$0(u),u.flags|=1,er(o,u,f,v),u.child)}function hT(o,u,f,g,v,A){return So(u),u.updateQueue=null,f=pS(u,g,f,v),mS(o),g=uy(),o!==null&&!Sn?(cy(o,u,A),Ha(o,u,A)):(Tt&&g&&$0(u),u.flags|=1,er(o,u,f,A),u.child)}function fT(o,u,f,g,v){if(So(u),u.stateNode===null){var A=jl,O=f.contextType;typeof O=="object"&&O!==null&&(A=Jn(O)),A=new f(g,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Ty,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=g,A.state=u.memoizedState,A.refs={},ey(u),O=f.contextType,A.context=typeof O=="object"&&O!==null?Jn(O):jl,A.state=u.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(Sy(u,f,O,g),A.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&Ty.enqueueReplaceState(A,A.state,null),Dc(u,g,A,v),Pc(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){A=u.stateNode;var I=u.memoizedProps,W=ko(f,I);A.props=W;var he=A.context,Se=f.contextType;O=jl,typeof Se=="object"&&Se!==null&&(O=Jn(Se));var _e=f.getDerivedStateFromProps;Se=typeof _e=="function"||typeof A.getSnapshotBeforeUpdate=="function",I=u.pendingProps!==I,Se||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I||he!==O)&&JS(u,A,g,O),Ps=!1;var pe=u.memoizedState;A.state=pe,Dc(u,g,A,v),Pc(),he=u.memoizedState,I||pe!==he||Ps?(typeof _e=="function"&&(Sy(u,f,_e,g),he=u.memoizedState),(W=Ps||ZS(u,f,W,g,pe,he,O))?(Se||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=he),A.props=g,A.state=he,A.context=O,g=W):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{A=u.stateNode,ty(o,u),O=u.memoizedProps,Se=ko(f,O),A.props=Se,_e=u.pendingProps,pe=A.context,he=f.contextType,W=jl,typeof he=="object"&&he!==null&&(W=Jn(he)),I=f.getDerivedStateFromProps,(he=typeof I=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==_e||pe!==W)&&JS(u,A,g,W),Ps=!1,pe=u.memoizedState,A.state=pe,Dc(u,g,A,v),Pc();var xe=u.memoizedState;O!==_e||pe!==xe||Ps||o!==null&&o.dependencies!==null&&ff(o.dependencies)?(typeof I=="function"&&(Sy(u,f,I,g),xe=u.memoizedState),(Se=Ps||ZS(u,f,Se,g,pe,xe,W)||o!==null&&o.dependencies!==null&&ff(o.dependencies))?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,xe,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,xe,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===o.memoizedProps&&pe===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&pe===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=xe),A.props=g,A.state=xe,A.context=W,g=Se):(typeof A.componentDidUpdate!="function"||O===o.memoizedProps&&pe===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&pe===o.memoizedState||(u.flags|=1024),g=!1)}return A=g,Df(o,u),g=(u.flags&128)!==0,A||g?(A=u.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,o!==null&&g?(u.child=Co(u,o.child,null,v),u.child=Co(u,null,f,v)):er(o,u,f,v),u.memoizedState=A.state,o=u.child):o=Ha(o,u,v),o}function mT(o,u,f,g){return Eo(),u.flags|=256,er(o,u,f,g),u.child}var Oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ky(o){return{baseLanes:o,cachePool:rS()}}function Py(o,u,f){return o=o!==null?o.childLanes&~f:0,u&&(o|=ii),o}function pT(o,u,f){var g=u.pendingProps,v=!1,A=(u.flags&128)!==0,O;if((O=A)||(O=o!==null&&o.memoizedState===null?!1:(yn.current&2)!==0),O&&(v=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,o===null){if(Tt){if(v?Rs(u):Is(),(o=en)?(o=A_(o,Ti),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ns!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},f=WA(o),f.return=u,u.child=f,Zn=u,en=null)):o=null,o===null)throw Os(u);return fb(o)?u.lanes=32:u.lanes=536870912,null}var I=g.children;return g=g.fallback,v?(Is(),v=u.mode,I=jf({mode:"hidden",children:I},v),g=wo(g,v,f,null),I.return=u,g.return=u,I.sibling=g,u.child=I,g=u.child,g.memoizedState=ky(f),g.childLanes=Py(o,O,f),u.memoizedState=Oy,Mc(null,g)):(Rs(u),Dy(u,I))}var W=o.memoizedState;if(W!==null&&(I=W.dehydrated,I!==null)){if(A)u.flags&256?(Rs(u),u.flags&=-257,u=jy(o,u,f)):u.memoizedState!==null?(Is(),u.child=o.child,u.flags|=128,u=null):(Is(),I=g.fallback,v=u.mode,g=jf({mode:"visible",children:g.children},v),I=wo(I,v,f,null),I.flags|=2,g.return=u,I.return=u,g.sibling=I,u.child=g,Co(u,o.child,null,f),g=u.child,g.memoizedState=ky(f),g.childLanes=Py(o,O,f),u.memoizedState=Oy,u=Mc(null,g));else if(Rs(u),fb(I)){if(O=I.nextSibling&&I.nextSibling.dataset,O)var he=O.dgst;O=he,g=Error(r(419)),g.stack="",g.digest=O,Tc({value:g,source:null,stack:null}),u=jy(o,u,f)}else if(Sn||Ml(o,u,f,!1),O=(f&o.childLanes)!==0,Sn||O){if(O=Gt,O!==null&&(g=tA(O,f),g!==0&&g!==W.retryLane))throw W.retryLane=g,vo(o,g),Mr(O,o,g),Ny;hb(I)||zf(),u=jy(o,u,f)}else hb(I)?(u.flags|=192,u.child=o.child,u=null):(o=W.treeContext,en=Ni(I.nextSibling),Zn=u,Tt=!0,Cs=null,Ti=!1,o!==null&&QA(u,o),u=Dy(u,g.children),u.flags|=4096);return u}return v?(Is(),I=g.fallback,v=u.mode,W=o.child,he=W.sibling,g=Ia(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,he!==null?I=Ia(he,I):(I=wo(I,v,f,null),I.flags|=2),I.return=u,g.return=u,g.sibling=I,u.child=g,Mc(null,g),g=u.child,I=o.child.memoizedState,I===null?I=ky(f):(v=I.cachePool,v!==null?(W=En._currentValue,v=v.parent!==W?{parent:W,pool:W}:v):v=rS(),I={baseLanes:I.baseLanes|f,cachePool:v}),g.memoizedState=I,g.childLanes=Py(o,O,f),u.memoizedState=Oy,Mc(o.child,g)):(Rs(u),f=o.child,o=f.sibling,f=Ia(f,{mode:"visible",children:g.children}),f.return=u,f.sibling=null,o!==null&&(O=u.deletions,O===null?(u.deletions=[o],u.flags|=16):O.push(o)),u.child=f,u.memoizedState=null,f)}function Dy(o,u){return u=jf({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function jf(o,u){return o=ei(22,o,null,u),o.lanes=0,o}function jy(o,u,f){return Co(u,o.child,null,f),o=Dy(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function gT(o,u,f){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),W0(o.return,u,f)}function Ry(o,u,f,g,v,A){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:A}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=f,O.tailMode=v,O.treeForkCount=A)}function yT(o,u,f){var g=u.pendingProps,v=g.revealOrder,A=g.tail;g=g.children;var O=yn.current,I=(O&2)!==0;if(I?(O=O&1|2,u.flags|=128):O&=1,R(yn,O),er(o,u,g,f),g=Tt?Sc:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gT(o,f,u);else if(o.tag===19)gT(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(f=u.child,v=null;f!==null;)o=f.alternate,o!==null&&wf(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=u.child,u.child=null):(v=f.sibling,f.sibling=null),Ry(u,!1,v,f,A,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=u.child,u.child=null;v!==null;){if(o=v.alternate,o!==null&&wf(o)===null){u.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}Ry(u,!0,f,null,A,g);break;case"together":Ry(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Ha(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Bs|=u.lanes,(f&u.childLanes)===0)if(o!==null){if(Ml(o,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Ia(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Ia(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function Iy(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&ff(o)))}function C8(o,u,f){switch(u.tag){case 3:ge(u,u.stateNode.containerInfo),ks(u,En,o.memoizedState.cache),Eo();break;case 27:case 5:Ne(u);break;case 4:ge(u,u.stateNode.containerInfo);break;case 10:ks(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,sy(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Rs(u),u.flags|=128,null):(f&u.child.childLanes)!==0?pT(o,u,f):(Rs(u),o=Ha(o,u,f),o!==null?o.sibling:null);Rs(u);break;case 19:var v=(o.flags&128)!==0;if(g=(f&u.childLanes)!==0,g||(Ml(o,u,f,!1),g=(f&u.childLanes)!==0),v){if(g)return yT(o,u,f);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),R(yn,yn.current),g)break;return null;case 22:return u.lanes=0,uT(o,u,f,u.pendingProps);case 24:ks(u,En,o.memoizedState.cache)}return Ha(o,u,f)}function bT(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps)Sn=!0;else{if(!Iy(o,f)&&(u.flags&128)===0)return Sn=!1,C8(o,u,f);Sn=(o.flags&131072)!==0}else Sn=!1,Tt&&(u.flags&1048576)!==0&&KA(u,Sc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=_o(u.elementType),u.type=o,typeof o=="function")U0(o)?(g=ko(o,g),u.tag=1,u=fT(null,u,o,g,f)):(u.tag=0,u=Cy(null,u,o,g,f));else{if(o!=null){var v=o.$$typeof;if(v===D){u.tag=11,u=sT(null,u,o,g,f);break e}else if(v===j){u.tag=14,u=oT(null,u,o,g,f);break e}}throw u=K(o)||o,Error(r(306,u,""))}}return u;case 0:return Cy(o,u,u.type,u.pendingProps,f);case 1:return g=u.type,v=ko(g,u.pendingProps),fT(o,u,g,v,f);case 3:e:{if(ge(u,u.stateNode.containerInfo),o===null)throw Error(r(387));g=u.pendingProps;var A=u.memoizedState;v=A.element,ty(o,u),Dc(u,g,null,f);var O=u.memoizedState;if(g=O.cache,ks(u,En,g),g!==A.cache&&X0(u,[En],f,!0),Pc(),g=O.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=mT(o,u,g,f);break e}else if(g!==v){v=Ei(Error(r(424)),u),Tc(v),u=mT(o,u,g,f);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(en=Ni(o.firstChild),Zn=u,Tt=!0,Cs=null,Ti=!0,f=uS(u,null,g,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Eo(),g===v){u=Ha(o,u,f);break e}er(o,u,g,f)}u=u.child}return u;case 26:return Df(o,u),o===null?(f=O_(u.type,null,u.pendingProps,null))?u.memoizedState=f:Tt||(f=u.type,o=u.pendingProps,g=Xf(ae.current).createElement(f),g[Qn]=u,g[Pr]=o,tr(g,f,o),Un(g),u.stateNode=g):u.memoizedState=O_(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ne(u),o===null&&Tt&&(g=u.stateNode=__(u.type,u.pendingProps,ae.current),Zn=u,Ti=!0,v=en,$s(u.type)?(mb=v,en=Ni(g.firstChild)):en=v),er(o,u,u.pendingProps.children,f),Df(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Tt&&((v=g=en)&&(g=iB(g,u.type,u.pendingProps,Ti),g!==null?(u.stateNode=g,Zn=u,en=Ni(g.firstChild),Ti=!1,v=!0):v=!1),v||Os(u)),Ne(u),v=u.type,A=u.pendingProps,O=o!==null?o.memoizedProps:null,g=A.children,ub(v,A)?g=null:O!==null&&ub(v,O)&&(u.flags|=32),u.memoizedState!==null&&(v=ly(o,u,x8,null,null,f),Zc._currentValue=v),Df(o,u),er(o,u,g,f),u.child;case 6:return o===null&&Tt&&((o=f=en)&&(f=aB(f,u.pendingProps,Ti),f!==null?(u.stateNode=f,Zn=u,en=null,o=!0):o=!1),o||Os(u)),null;case 13:return pT(o,u,f);case 4:return ge(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Co(u,null,g,f):er(o,u,g,f),u.child;case 11:return sT(o,u,u.type,u.pendingProps,f);case 7:return er(o,u,u.pendingProps,f),u.child;case 8:return er(o,u,u.pendingProps.children,f),u.child;case 12:return er(o,u,u.pendingProps.children,f),u.child;case 10:return g=u.pendingProps,ks(u,u.type,g.value),er(o,u,g.children,f),u.child;case 9:return v=u.type._context,g=u.pendingProps.children,So(u),v=Jn(v),g=g(v),u.flags|=1,er(o,u,g,f),u.child;case 14:return oT(o,u,u.type,u.pendingProps,f);case 15:return lT(o,u,u.type,u.pendingProps,f);case 19:return yT(o,u,f);case 31:return N8(o,u,f);case 22:return uT(o,u,f,u.pendingProps);case 24:return So(u),g=Jn(En),o===null?(v=Z0(),v===null&&(v=Gt,A=K0(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=f),v=A),u.memoizedState={parent:g,cache:v},ey(u),ks(u,En,v)):((o.lanes&f)!==0&&(ty(o,u),Dc(u,null,null,f),Pc()),v=o.memoizedState,A=u.memoizedState,v.parent!==g?(v={parent:g,cache:g},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),ks(u,En,g)):(g=A.cache,ks(u,En,g),g!==v.cache&&X0(u,[En],f,!0))),er(o,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function za(o){o.flags|=4}function Ly(o,u,f,g,v){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(YT())o.flags|=8192;else throw No=yf,J0}else o.flags&=-16777217}function xT(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!R_(u))if(YT())o.flags|=8192;else throw No=yf,J0}function Rf(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Z2():536870912,o.lanes|=u,Xl|=u)}function Bc(o,u){if(!Tt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function tn(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(u)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=f,u}function O8(o,u,f){var g=u.pendingProps;switch(q0(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(u),null;case 1:return tn(u),null;case 3:return f=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Ba(En),J(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Ll(u)?za(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,V0())),tn(u),null;case 26:var v=u.type,A=u.memoizedState;return o===null?(za(u),A!==null?(tn(u),xT(u,A)):(tn(u),Ly(u,v,null,g,f))):A?A!==o.memoizedState?(za(u),tn(u),xT(u,A)):(tn(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&za(u),tn(u),Ly(u,v,o,g,f)),null;case 27:if(Le(u),f=ae.current,v=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&za(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return tn(u),null}o=oe.current,Ll(u)?ZA(u):(o=__(v,g,f),u.stateNode=o,za(u))}return tn(u),null;case 5:if(Le(u),v=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&za(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return tn(u),null}if(A=oe.current,Ll(u))ZA(u);else{var O=Xf(ae.current);switch(A){case 1:A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":A=O.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}A[Qn]=u,A[Pr]=g;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)A.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=A;e:switch(tr(A,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&za(u)}}return tn(u),Ly(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,f),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&za(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(o=ae.current,Ll(u)){if(o=u.stateNode,f=u.memoizedProps,g=null,v=Zn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[Qn]=u,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||p_(o.nodeValue,f)),o||Os(u,!0)}else o=Xf(o).createTextNode(g),o[Qn]=u,u.stateNode=o}return tn(u),null;case 31:if(f=u.memoizedState,o===null||o.memoizedState!==null){if(g=Ll(u),f!==null){if(o===null){if(!g)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Qn]=u}else Eo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;tn(u),o=!1}else f=V0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return u.flags&256?(ni(u),u):(ni(u),null);if((u.flags&128)!==0)throw Error(r(558))}return tn(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Ll(u),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Qn]=u}else Eo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;tn(u),v=!1}else v=V0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(ni(u),u):(ni(u),null)}return ni(u),(u.flags&128)!==0?(u.lanes=f,u):(f=g!==null,o=o!==null&&o.memoizedState!==null,f&&(g=u.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==v&&(g.flags|=2048)),f!==o&&f&&(u.child.flags|=8192),Rf(u,u.updateQueue),tn(u),null);case 4:return J(),o===null&&ib(u.stateNode.containerInfo),tn(u),null;case 10:return Ba(u.type),tn(u),null;case 19:if(Z(yn),g=u.memoizedState,g===null)return tn(u),null;if(v=(u.flags&128)!==0,A=g.rendering,A===null)if(v)Bc(g,!1);else{if(mn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(A=wf(o),A!==null){for(u.flags|=128,Bc(g,!1),o=A.updateQueue,u.updateQueue=o,Rf(u,o),u.subtreeFlags=0,o=f,f=u.child;f!==null;)GA(f,o),f=f.sibling;return R(yn,yn.current&1|2),Tt&&La(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&Xe()>Ff&&(u.flags|=128,v=!0,Bc(g,!1),u.lanes=4194304)}else{if(!v)if(o=wf(A),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,Rf(u,o),Bc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!Tt)return tn(u),null}else 2*Xe()-g.renderingStartTime>Ff&&f!==536870912&&(u.flags|=128,v=!0,Bc(g,!1),u.lanes=4194304);g.isBackwards?(A.sibling=u.child,u.child=A):(o=g.last,o!==null?o.sibling=A:u.child=A,g.last=A)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Xe(),o.sibling=null,f=yn.current,R(yn,v?f&1|2:f&1),Tt&&La(u,g.treeForkCount),o):(tn(u),null);case 22:case 23:return ni(u),ay(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(f&536870912)!==0&&(u.flags&128)===0&&(tn(u),u.subtreeFlags&6&&(u.flags|=8192)):tn(u),f=u.updateQueue,f!==null&&Rf(u,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048),o!==null&&Z(To),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),Ba(En),tn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function k8(o,u){switch(q0(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ba(En),J(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Le(u),null;case 31:if(u.memoizedState!==null){if(ni(u),u.alternate===null)throw Error(r(340));Eo()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(ni(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Eo()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Z(yn),null;case 4:return J(),null;case 10:return Ba(u.type),null;case 22:case 23:return ni(u),ay(),o!==null&&Z(To),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ba(En),null;case 25:return null;default:return null}}function vT(o,u){switch(q0(u),u.tag){case 3:Ba(En),J();break;case 26:case 27:case 5:Le(u);break;case 4:J();break;case 31:u.memoizedState!==null&&ni(u);break;case 13:ni(u);break;case 19:Z(yn);break;case 10:Ba(u.type);break;case 22:case 23:ni(u),ay(),o!==null&&Z(To);break;case 24:Ba(En)}}function Fc(o,u){try{var f=u.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&o)===o){g=void 0;var A=f.create,O=f.inst;g=A(),O.destroy=g}f=f.next}while(f!==v)}}catch(I){Ut(u,u.return,I)}}function Ls(o,u,f){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var A=v.next;g=A;do{if((g.tag&o)===o){var O=g.inst,I=O.destroy;if(I!==void 0){O.destroy=void 0,v=u;var W=f,he=I;try{he()}catch(Se){Ut(v,W,Se)}}}g=g.next}while(g!==A)}}catch(Se){Ut(u,u.return,Se)}}function wT(o){var u=o.updateQueue;if(u!==null){var f=o.stateNode;try{dS(u,f)}catch(g){Ut(o,o.return,g)}}}function ET(o,u,f){f.props=ko(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){Ut(o,u,g)}}function Uc(o,u){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(v){Ut(o,u,v)}}function oa(o,u){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Ut(o,u,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Ut(o,u,v)}else f.current=null}function AT(o){var u=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Ut(o,o.return,v)}}function My(o,u,f){try{var g=o.stateNode;Z8(g,o.type,f,u),g[Pr]=u}catch(v){Ut(o,o.return,v)}}function ST(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&$s(o.type)||o.tag===4}function By(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ST(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&$s(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fy(o,u,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(o),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=ja));else if(g!==4&&(g===27&&$s(o.type)&&(f=o.stateNode,u=null),o=o.child,o!==null))for(Fy(o,u,f),o=o.sibling;o!==null;)Fy(o,u,f),o=o.sibling}function If(o,u,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(g!==4&&(g===27&&$s(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(If(o,u,f),o=o.sibling;o!==null;)If(o,u,f),o=o.sibling}function TT(o){var u=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);tr(u,g,f),u[Qn]=o,u[Pr]=f}catch(A){Ut(o,o.return,A)}}var $a=!1,Tn=!1,Uy=!1,_T=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function P8(o,u){if(o=o.containerInfo,ob=nm,o=BA(o),j0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var O=0,I=-1,W=-1,he=0,Se=0,_e=o,pe=null;t:for(;;){for(var xe;_e!==f||v!==0&&_e.nodeType!==3||(I=O+v),_e!==A||g!==0&&_e.nodeType!==3||(W=O+g),_e.nodeType===3&&(O+=_e.nodeValue.length),(xe=_e.firstChild)!==null;)pe=_e,_e=xe;for(;;){if(_e===o)break t;if(pe===f&&++he===v&&(I=O),pe===A&&++Se===g&&(W=O),(xe=_e.nextSibling)!==null)break;_e=pe,pe=_e.parentNode}_e=xe}f=I===-1||W===-1?null:{start:I,end:W}}else f=null}f=f||{start:0,end:0}}else f=null;for(lb={focusedElem:o,selectionRange:f},nm=!1,Hn=u;Hn!==null;)if(u=Hn,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Hn=o;else for(;Hn!==null;){switch(u=Hn,A=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)v=o[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,f=u,v=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var qe=ko(f.type,v);o=g.getSnapshotBeforeUpdate(qe,A),g.__reactInternalSnapshotBeforeUpdate=o}catch(nt){Ut(f,f.return,nt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,f=o.nodeType,f===9)db(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":db(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Hn=o;break}Hn=u.return}}function NT(o,u,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Ya(o,f),g&4&&Fc(5,f);break;case 1:if(Ya(o,f),g&4)if(o=f.stateNode,u===null)try{o.componentDidMount()}catch(O){Ut(f,f.return,O)}else{var v=ko(f.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(v,u,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ut(f,f.return,O)}}g&64&&wT(f),g&512&&Uc(f,f.return);break;case 3:if(Ya(o,f),g&64&&(o=f.updateQueue,o!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{dS(o,u)}catch(O){Ut(f,f.return,O)}}break;case 27:u===null&&g&4&&TT(f);case 26:case 5:Ya(o,f),u===null&&g&4&&AT(f),g&512&&Uc(f,f.return);break;case 12:Ya(o,f);break;case 31:Ya(o,f),g&4&&kT(o,f);break;case 13:Ya(o,f),g&4&&PT(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=U8.bind(null,f),sB(o,f))));break;case 22:if(g=f.memoizedState!==null||$a,!g){u=u!==null&&u.memoizedState!==null||Tn,v=$a;var A=Tn;$a=g,(Tn=u)&&!A?Va(o,f,(f.subtreeFlags&8772)!==0):Ya(o,f),$a=v,Tn=A}break;case 30:break;default:Ya(o,f)}}function CT(o){var u=o.alternate;u!==null&&(o.alternate=null,CT(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&g0(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var an=null,jr=!1;function qa(o,u,f){for(f=f.child;f!==null;)OT(o,u,f),f=f.sibling}function OT(o,u,f){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(me,f)}catch{}switch(f.tag){case 26:Tn||oa(f,u),qa(o,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Tn||oa(f,u);var g=an,v=jr;$s(f.type)&&(an=f.stateNode,jr=!1),qa(o,u,f),Xc(f.stateNode),an=g,jr=v;break;case 5:Tn||oa(f,u);case 6:if(g=an,v=jr,an=null,qa(o,u,f),an=g,jr=v,an!==null)if(jr)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(f.stateNode)}catch(A){Ut(f,u,A)}else try{an.removeChild(f.stateNode)}catch(A){Ut(f,u,A)}break;case 18:an!==null&&(jr?(o=an,w_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ru(o)):w_(an,f.stateNode));break;case 4:g=an,v=jr,an=f.stateNode.containerInfo,jr=!0,qa(o,u,f),an=g,jr=v;break;case 0:case 11:case 14:case 15:Ls(2,f,u),Tn||Ls(4,f,u),qa(o,u,f);break;case 1:Tn||(oa(f,u),g=f.stateNode,typeof g.componentWillUnmount=="function"&&ET(f,u,g)),qa(o,u,f);break;case 21:qa(o,u,f);break;case 22:Tn=(g=Tn)||f.memoizedState!==null,qa(o,u,f),Tn=g;break;default:qa(o,u,f)}}function kT(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ru(o)}catch(f){Ut(u,u.return,f)}}}function PT(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ru(o)}catch(f){Ut(u,u.return,f)}}function D8(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new _T),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new _T),u;default:throw Error(r(435,o.tag))}}function Lf(o,u){var f=D8(o);u.forEach(function(g){if(!f.has(g)){f.add(g);var v=H8.bind(null,o,g);g.then(v,v)}})}function Rr(o,u){var f=u.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],A=o,O=u,I=O;e:for(;I!==null;){switch(I.tag){case 27:if($s(I.type)){an=I.stateNode,jr=!1;break e}break;case 5:an=I.stateNode,jr=!1;break e;case 3:case 4:an=I.stateNode.containerInfo,jr=!0;break e}I=I.return}if(an===null)throw Error(r(160));OT(A,O,v),an=null,jr=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)DT(u,o),u=u.sibling}var Wi=null;function DT(o,u){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rr(u,o),Ir(o),g&4&&(Ls(3,o,o.return),Fc(3,o),Ls(5,o,o.return));break;case 1:Rr(u,o),Ir(o),g&512&&(Tn||f===null||oa(f,f.return)),g&64&&$a&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=Wi;if(Rr(u,o),Ir(o),g&512&&(Tn||f===null||oa(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":A=v.getElementsByTagName("title")[0],(!A||A[fc]||A[Qn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(g),v.head.insertBefore(A,v.querySelector("head > title"))),tr(A,g,f),A[Qn]=o,Un(A),g=A;break e;case"link":var O=D_("link","href",v).get(g+(f.href||""));if(O){for(var I=0;I<O.length;I++)if(A=O[I],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(I,1);break t}}A=v.createElement(g),tr(A,g,f),v.head.appendChild(A);break;case"meta":if(O=D_("meta","content",v).get(g+(f.content||""))){for(I=0;I<O.length;I++)if(A=O[I],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(I,1);break t}}A=v.createElement(g),tr(A,g,f),v.head.appendChild(A);break;default:throw Error(r(468,g))}A[Qn]=o,Un(A),g=A}o.stateNode=g}else j_(v,o.type,o.stateNode);else o.stateNode=P_(v,g,o.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?j_(v,o.type,o.stateNode):P_(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&My(o,o.memoizedProps,f.memoizedProps)}break;case 27:Rr(u,o),Ir(o),g&512&&(Tn||f===null||oa(f,f.return)),f!==null&&g&4&&My(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Rr(u,o),Ir(o),g&512&&(Tn||f===null||oa(f,f.return)),o.flags&32){v=o.stateNode;try{_l(v,"")}catch(qe){Ut(o,o.return,qe)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,My(o,v,f!==null?f.memoizedProps:v)),g&1024&&(Uy=!0);break;case 6:if(Rr(u,o),Ir(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(qe){Ut(o,o.return,qe)}}break;case 3:if(Zf=null,v=Wi,Wi=Kf(u.containerInfo),Rr(u,o),Wi=v,Ir(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{ru(u.containerInfo)}catch(qe){Ut(o,o.return,qe)}Uy&&(Uy=!1,jT(o));break;case 4:g=Wi,Wi=Kf(o.stateNode.containerInfo),Rr(u,o),Ir(o),Wi=g;break;case 12:Rr(u,o),Ir(o);break;case 31:Rr(u,o),Ir(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Lf(o,g)));break;case 13:Rr(u,o),Ir(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Bf=Xe()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Lf(o,g)));break;case 22:v=o.memoizedState!==null;var W=f!==null&&f.memoizedState!==null,he=$a,Se=Tn;if($a=he||v,Tn=Se||W,Rr(u,o),Tn=Se,$a=he,Ir(o),g&8192)e:for(u=o.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(f===null||W||$a||Tn||Po(o)),f=null,u=o;;){if(u.tag===5||u.tag===26){if(f===null){W=f=u;try{if(A=W.stateNode,v)O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{I=W.stateNode;var _e=W.memoizedProps.style,pe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;I.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(qe){Ut(W,W.return,qe)}}}else if(u.tag===6){if(f===null){W=u;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(qe){Ut(W,W.return,qe)}}}else if(u.tag===18){if(f===null){W=u;try{var xe=W.stateNode;v?E_(xe,!0):E_(W.stateNode,!1)}catch(qe){Ut(W,W.return,qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Lf(o,f))));break;case 19:Rr(u,o),Ir(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Lf(o,g)));break;case 30:break;case 21:break;default:Rr(u,o),Ir(o)}}function Ir(o){var u=o.flags;if(u&2){try{for(var f,g=o.return;g!==null;){if(ST(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,A=By(o);If(o,A,v);break;case 5:var O=f.stateNode;f.flags&32&&(_l(O,""),f.flags&=-33);var I=By(o);If(o,I,O);break;case 3:case 4:var W=f.stateNode.containerInfo,he=By(o);Fy(o,he,W);break;default:throw Error(r(161))}}catch(Se){Ut(o,o.return,Se)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function jT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;jT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Ya(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)NT(o,u.alternate,u),u=u.sibling}function Po(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Ls(4,u,u.return),Po(u);break;case 1:oa(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&ET(u,u.return,f),Po(u);break;case 27:Xc(u.stateNode);case 26:case 5:oa(u,u.return),Po(u);break;case 22:u.memoizedState===null&&Po(u);break;case 30:Po(u);break;default:Po(u)}o=o.sibling}}function Va(o,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,v=o,A=u,O=A.flags;switch(A.tag){case 0:case 11:case 15:Va(v,A,f),Fc(4,A);break;case 1:if(Va(v,A,f),g=A,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){Ut(g,g.return,he)}if(g=A,v=g.updateQueue,v!==null){var I=g.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)cS(W[v],I)}catch(he){Ut(g,g.return,he)}}f&&O&64&&wT(A),Uc(A,A.return);break;case 27:TT(A);case 26:case 5:Va(v,A,f),f&&g===null&&O&4&&AT(A),Uc(A,A.return);break;case 12:Va(v,A,f);break;case 31:Va(v,A,f),f&&O&4&&kT(v,A);break;case 13:Va(v,A,f),f&&O&4&&PT(v,A);break;case 22:A.memoizedState===null&&Va(v,A,f),Uc(A,A.return);break;case 30:break;default:Va(v,A,f)}u=u.sibling}}function Hy(o,u){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&_c(f))}function zy(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&_c(o))}function Xi(o,u,f,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)RT(o,u,f,g),u=u.sibling}function RT(o,u,f,g){var v=u.flags;switch(u.tag){case 0:case 11:case 15:Xi(o,u,f,g),v&2048&&Fc(9,u);break;case 1:Xi(o,u,f,g);break;case 3:Xi(o,u,f,g),v&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&_c(o)));break;case 12:if(v&2048){Xi(o,u,f,g),o=u.stateNode;try{var A=u.memoizedProps,O=A.id,I=A.onPostCommit;typeof I=="function"&&I(O,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(W){Ut(u,u.return,W)}}else Xi(o,u,f,g);break;case 31:Xi(o,u,f,g);break;case 13:Xi(o,u,f,g);break;case 23:break;case 22:A=u.stateNode,O=u.alternate,u.memoizedState!==null?A._visibility&2?Xi(o,u,f,g):Hc(o,u):A._visibility&2?Xi(o,u,f,g):(A._visibility|=2,Vl(o,u,f,g,(u.subtreeFlags&10256)!==0||!1)),v&2048&&Hy(O,u);break;case 24:Xi(o,u,f,g),v&2048&&zy(u.alternate,u);break;default:Xi(o,u,f,g)}}function Vl(o,u,f,g,v){for(v=v&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var A=o,O=u,I=f,W=g,he=O.flags;switch(O.tag){case 0:case 11:case 15:Vl(A,O,I,W,v),Fc(8,O);break;case 23:break;case 22:var Se=O.stateNode;O.memoizedState!==null?Se._visibility&2?Vl(A,O,I,W,v):Hc(A,O):(Se._visibility|=2,Vl(A,O,I,W,v)),v&&he&2048&&Hy(O.alternate,O);break;case 24:Vl(A,O,I,W,v),v&&he&2048&&zy(O.alternate,O);break;default:Vl(A,O,I,W,v)}u=u.sibling}}function Hc(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=o,g=u,v=g.flags;switch(g.tag){case 22:Hc(f,g),v&2048&&Hy(g.alternate,g);break;case 24:Hc(f,g),v&2048&&zy(g.alternate,g);break;default:Hc(f,g)}u=u.sibling}}var zc=8192;function Gl(o,u,f){if(o.subtreeFlags&zc)for(o=o.child;o!==null;)IT(o,u,f),o=o.sibling}function IT(o,u,f){switch(o.tag){case 26:Gl(o,u,f),o.flags&zc&&o.memoizedState!==null&&bB(f,Wi,o.memoizedState,o.memoizedProps);break;case 5:Gl(o,u,f);break;case 3:case 4:var g=Wi;Wi=Kf(o.stateNode.containerInfo),Gl(o,u,f),Wi=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=zc,zc=16777216,Gl(o,u,f),zc=g):Gl(o,u,f));break;default:Gl(o,u,f)}}function LT(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function $c(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];Hn=g,BT(g,o)}LT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)MT(o),o=o.sibling}function MT(o){switch(o.tag){case 0:case 11:case 15:$c(o),o.flags&2048&&Ls(9,o,o.return);break;case 3:$c(o);break;case 12:$c(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Mf(o)):$c(o);break;default:$c(o)}}function Mf(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];Hn=g,BT(g,o)}LT(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Ls(8,u,u.return),Mf(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,Mf(u));break;default:Mf(u)}o=o.sibling}}function BT(o,u){for(;Hn!==null;){var f=Hn;switch(f.tag){case 0:case 11:case 15:Ls(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:_c(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Hn=g;else e:for(f=o;Hn!==null;){g=Hn;var v=g.sibling,A=g.return;if(CT(g),g===f){Hn=null;break e}if(v!==null){v.return=A,Hn=v;break e}Hn=A}}}var j8={getCacheForType:function(o){var u=Jn(En),f=u.data.get(o);return f===void 0&&(f=o(),u.data.set(o,f)),f},cacheSignal:function(){return Jn(En).controller.signal}},R8=typeof WeakMap=="function"?WeakMap:Map,jt=0,Gt=null,vt=null,Et=0,Ft=0,ri=null,Ms=!1,Wl=!1,$y=!1,Ga=0,mn=0,Bs=0,Do=0,qy=0,ii=0,Xl=0,qc=null,Lr=null,Yy=!1,Bf=0,FT=0,Ff=1/0,Uf=null,Fs=null,jn=0,Us=null,Kl=null,Wa=0,Vy=0,Gy=null,UT=null,Yc=0,Wy=null;function ai(){return(jt&2)!==0&&Et!==0?Et&-Et:L.T!==null?eb():nA()}function HT(){if(ii===0)if((Et&536870912)===0||Tt){var o=br;br<<=1,(br&3932160)===0&&(br=262144),ii=o}else ii=536870912;return o=ti.current,o!==null&&(o.flags|=32),ii}function Mr(o,u,f){(o===Gt&&(Ft===2||Ft===9)||o.cancelPendingCommit!==null)&&(Ql(o,0),Hs(o,Et,ii,!1)),hc(o,f),((jt&2)===0||o!==Gt)&&(o===Gt&&((jt&2)===0&&(Do|=f),mn===4&&Hs(o,Et,ii,!1)),la(o))}function zT(o,u,f){if((jt&6)!==0)throw Error(r(327));var g=!f&&(u&127)===0&&(u&o.expiredLanes)===0||Ss(o,u),v=g?M8(o,u):Ky(o,u,!0),A=g;do{if(v===0){Wl&&!g&&Hs(o,u,0,!1);break}else{if(f=o.current.alternate,A&&!I8(f)){v=Ky(o,u,!1),A=!1;continue}if(v===2){if(A=u,o.errorRecoveryDisabledLanes&A)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var I=o;v=qc;var W=I.current.memoizedState.isDehydrated;if(W&&(Ql(I,O).flags|=256),O=Ky(I,O,!1),O!==2){if($y&&!W){I.errorRecoveryDisabledLanes|=A,Do|=A,v=4;break e}A=Lr,Lr=v,A!==null&&(Lr===null?Lr=A:Lr.push.apply(Lr,A))}v=O}if(A=!1,v!==2)continue}}if(v===1){Ql(o,0),Hs(o,u,0,!0);break}e:{switch(g=o,A=v,A){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Hs(g,u,ii,!Ms);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(v=Bf+300-Xe(),10<v)){if(Hs(g,u,ii,!Ms),As(g,0,!0)!==0)break e;Wa=u,g.timeoutHandle=x_($T.bind(null,g,f,Lr,Uf,Yy,u,ii,Do,Xl,Ms,A,"Throttled",-0,0),v);break e}$T(g,f,Lr,Uf,Yy,u,ii,Do,Xl,Ms,A,null,-0,0)}}break}while(!0);la(o)}function $T(o,u,f,g,v,A,O,I,W,he,Se,_e,pe,xe){if(o.timeoutHandle=-1,_e=u.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},IT(u,A,_e);var qe=(A&62914560)===A?Bf-Xe():(A&4194048)===A?FT-Xe():0;if(qe=xB(_e,qe),qe!==null){Wa=A,o.cancelPendingCommit=qe(QT.bind(null,o,u,A,f,g,v,O,I,W,Se,_e,null,pe,xe)),Hs(o,A,O,!he);return}}QT(o,u,A,f,g,v,O,I,W)}function I8(o){for(var u=o;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],A=v.getSnapshot;v=v.value;try{if(!Jr(A(),v))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Hs(o,u,f,g){u&=~qy,u&=~Do,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var v=u;0<v;){var A=31-Ue(v),O=1<<A;g[A]=-1,v&=~O}f!==0&&J2(o,f,u)}function Hf(){return(jt&6)===0?(Vc(0),!1):!0}function Xy(){if(vt!==null){if(Ft===0)var o=vt.return;else o=vt,Ma=Ao=null,dy(o),Hl=null,Cc=0,o=vt;for(;o!==null;)vT(o.alternate,o),o=o.return;vt=null}}function Ql(o,u){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,tB(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Wa=0,Xy(),Gt=o,vt=f=Ia(o.current,null),Et=u,Ft=0,ri=null,Ms=!1,Wl=Ss(o,u),$y=!1,Xl=ii=qy=Do=Bs=mn=0,Lr=qc=null,Yy=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var v=31-Ue(g),A=1<<v;u|=o[v],g&=~A}return Ga=u,lf(),f}function qT(o,u){ht=null,L.H=Lc,u===Ul||u===gf?(u=sS(),Ft=3):u===J0?(u=sS(),Ft=4):Ft=u===Ny?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ri=u,vt===null&&(mn=1,kf(o,Ei(u,o.current)))}function YT(){var o=ti.current;return o===null?!0:(Et&4194048)===Et?_i===null:(Et&62914560)===Et||(Et&536870912)!==0?o===_i:!1}function VT(){var o=L.H;return L.H=Lc,o===null?Lc:o}function GT(){var o=L.A;return L.A=j8,o}function zf(){mn=4,Ms||(Et&4194048)!==Et&&ti.current!==null||(Wl=!0),(Bs&134217727)===0&&(Do&134217727)===0||Gt===null||Hs(Gt,Et,ii,!1)}function Ky(o,u,f){var g=jt;jt|=2;var v=VT(),A=GT();(Gt!==o||Et!==u)&&(Uf=null,Ql(o,u)),u=!1;var O=mn;e:do try{if(Ft!==0&&vt!==null){var I=vt,W=ri;switch(Ft){case 8:Xy(),O=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(u=!0);var he=Ft;if(Ft=0,ri=null,Zl(o,I,W,he),f&&Wl){O=0;break e}break;default:he=Ft,Ft=0,ri=null,Zl(o,I,W,he)}}L8(),O=mn;break}catch(Se){qT(o,Se)}while(!0);return u&&o.shellSuspendCounter++,Ma=Ao=null,jt=g,L.H=v,L.A=A,vt===null&&(Gt=null,Et=0,lf()),O}function L8(){for(;vt!==null;)WT(vt)}function M8(o,u){var f=jt;jt|=2;var g=VT(),v=GT();Gt!==o||Et!==u?(Uf=null,Ff=Xe()+500,Ql(o,u)):Wl=Ss(o,u);e:do try{if(Ft!==0&&vt!==null){u=vt;var A=ri;t:switch(Ft){case 1:Ft=0,ri=null,Zl(o,u,A,1);break;case 2:case 9:if(iS(A)){Ft=0,ri=null,XT(u);break}u=function(){Ft!==2&&Ft!==9||Gt!==o||(Ft=7),la(o)},A.then(u,u);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:iS(A)?(Ft=0,ri=null,XT(u)):(Ft=0,ri=null,Zl(o,u,A,7));break;case 5:var O=null;switch(vt.tag){case 26:O=vt.memoizedState;case 5:case 27:var I=vt;if(O?R_(O):I.stateNode.complete){Ft=0,ri=null;var W=I.sibling;if(W!==null)vt=W;else{var he=I.return;he!==null?(vt=he,$f(he)):vt=null}break t}}Ft=0,ri=null,Zl(o,u,A,5);break;case 6:Ft=0,ri=null,Zl(o,u,A,6);break;case 8:Xy(),mn=6;break e;default:throw Error(r(462))}}B8();break}catch(Se){qT(o,Se)}while(!0);return Ma=Ao=null,L.H=g,L.A=v,jt=f,vt!==null?0:(Gt=null,Et=0,lf(),mn)}function B8(){for(;vt!==null&&!it();)WT(vt)}function WT(o){var u=bT(o.alternate,o,Ga);o.memoizedProps=o.pendingProps,u===null?$f(o):vt=u}function XT(o){var u=o,f=u.alternate;switch(u.tag){case 15:case 0:u=hT(f,u,u.pendingProps,u.type,void 0,Et);break;case 11:u=hT(f,u,u.pendingProps,u.type.render,u.ref,Et);break;case 5:dy(u);default:vT(f,u),u=vt=GA(u,Ga),u=bT(f,u,Ga)}o.memoizedProps=o.pendingProps,u===null?$f(o):vt=u}function Zl(o,u,f,g){Ma=Ao=null,dy(u),Hl=null,Cc=0;var v=u.return;try{if(_8(o,v,u,f,Et)){mn=1,kf(o,Ei(f,o.current)),vt=null;return}}catch(A){if(v!==null)throw vt=v,A;mn=1,kf(o,Ei(f,o.current)),vt=null;return}u.flags&32768?(Tt||g===1?o=!0:Wl||(Et&536870912)!==0?o=!1:(Ms=o=!0,(g===2||g===9||g===3||g===6)&&(g=ti.current,g!==null&&g.tag===13&&(g.flags|=16384))),KT(u,o)):$f(u)}function $f(o){var u=o;do{if((u.flags&32768)!==0){KT(u,Ms);return}o=u.return;var f=O8(u.alternate,u,Ga);if(f!==null){vt=f;return}if(u=u.sibling,u!==null){vt=u;return}vt=u=o}while(u!==null);mn===0&&(mn=5)}function KT(o,u){do{var f=k8(o.alternate,o);if(f!==null){f.flags&=32767,vt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(o=o.sibling,o!==null)){vt=o;return}vt=o=f}while(o!==null);mn=6,vt=null}function QT(o,u,f,g,v,A,O,I,W){o.cancelPendingCommit=null;do qf();while(jn!==0);if((jt&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(A=u.lanes|u.childLanes,A|=B0,y6(o,f,A,O,I,W),o===Gt&&(vt=Gt=null,Et=0),Kl=u,Us=o,Wa=f,Vy=A,Gy=v,UT=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,z8(Re,function(){return n_(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=L.T,L.T=null,v=H.p,H.p=2,O=jt,jt|=4;try{P8(o,u,f)}finally{jt=O,H.p=v,L.T=g}}jn=1,ZT(),JT(),e_()}}function ZT(){if(jn===1){jn=0;var o=Us,u=Kl,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=L.T,L.T=null;var g=H.p;H.p=2;var v=jt;jt|=4;try{DT(u,o);var A=lb,O=BA(o.containerInfo),I=A.focusedElem,W=A.selectionRange;if(O!==I&&I&&I.ownerDocument&&MA(I.ownerDocument.documentElement,I)){if(W!==null&&j0(I)){var he=W.start,Se=W.end;if(Se===void 0&&(Se=he),"selectionStart"in I)I.selectionStart=he,I.selectionEnd=Math.min(Se,I.value.length);else{var _e=I.ownerDocument||document,pe=_e&&_e.defaultView||window;if(pe.getSelection){var xe=pe.getSelection(),qe=I.textContent.length,nt=Math.min(W.start,qe),qt=W.end===void 0?nt:Math.min(W.end,qe);!xe.extend&&nt>qt&&(O=qt,qt=nt,nt=O);var re=LA(I,nt),Q=LA(I,qt);if(re&&Q&&(xe.rangeCount!==1||xe.anchorNode!==re.node||xe.anchorOffset!==re.offset||xe.focusNode!==Q.node||xe.focusOffset!==Q.offset)){var de=_e.createRange();de.setStart(re.node,re.offset),xe.removeAllRanges(),nt>qt?(xe.addRange(de),xe.extend(Q.node,Q.offset)):(de.setEnd(Q.node,Q.offset),xe.addRange(de))}}}}for(_e=[],xe=I;xe=xe.parentNode;)xe.nodeType===1&&_e.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<_e.length;I++){var Te=_e[I];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}nm=!!ob,lb=ob=null}finally{jt=v,H.p=g,L.T=f}}o.current=u,jn=2}}function JT(){if(jn===2){jn=0;var o=Us,u=Kl,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=L.T,L.T=null;var g=H.p;H.p=2;var v=jt;jt|=4;try{NT(o,u.alternate,u)}finally{jt=v,H.p=g,L.T=f}}jn=3}}function e_(){if(jn===4||jn===3){jn=0,rt();var o=Us,u=Kl,f=Wa,g=UT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?jn=5:(jn=0,Kl=Us=null,t_(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Fs=null),m0(f),u=u.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(me,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=L.T,v=H.p,H.p=2,L.T=null;try{for(var A=o.onRecoverableError,O=0;O<g.length;O++){var I=g[O];A(I.value,{componentStack:I.stack})}}finally{L.T=u,H.p=v}}(Wa&3)!==0&&qf(),la(o),v=o.pendingLanes,(f&261930)!==0&&(v&42)!==0?o===Wy?Yc++:(Yc=0,Wy=o):Yc=0,Vc(0)}}function t_(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,_c(u)))}function qf(){return ZT(),JT(),e_(),n_()}function n_(){if(jn!==5)return!1;var o=Us,u=Vy;Vy=0;var f=m0(Wa),g=L.T,v=H.p;try{H.p=32>f?32:f,L.T=null,f=Gy,Gy=null;var A=Us,O=Wa;if(jn=0,Kl=Us=null,Wa=0,(jt&6)!==0)throw Error(r(331));var I=jt;if(jt|=4,MT(A.current),RT(A,A.current,O,f),jt=I,Vc(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(me,A)}catch{}return!0}finally{H.p=v,L.T=g,t_(o,u)}}function r_(o,u,f){u=Ei(f,u),u=_y(o.stateNode,u,2),o=js(o,u,2),o!==null&&(hc(o,2),la(o))}function Ut(o,u,f){if(o.tag===3)r_(o,o,f);else for(;u!==null;){if(u.tag===3){r_(u,o,f);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Fs===null||!Fs.has(g))){o=Ei(f,o),f=iT(2),g=js(u,f,2),g!==null&&(aT(f,g,u,o),hc(g,2),la(g));break}}u=u.return}}function Qy(o,u,f){var g=o.pingCache;if(g===null){g=o.pingCache=new R8;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(f)||($y=!0,v.add(f),o=F8.bind(null,o,u,f),u.then(o,o))}function F8(o,u,f){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Gt===o&&(Et&f)===f&&(mn===4||mn===3&&(Et&62914560)===Et&&300>Xe()-Bf?(jt&2)===0&&Ql(o,0):qy|=f,Xl===Et&&(Xl=0)),la(o)}function i_(o,u){u===0&&(u=Z2()),o=vo(o,u),o!==null&&(hc(o,u),la(o))}function U8(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),i_(o,f)}function H8(o,u){var f=0;switch(o.tag){case 31:case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),i_(o,f)}function z8(o,u){return Fe(o,u)}var Yf=null,Jl=null,Zy=!1,Vf=!1,Jy=!1,zs=0;function la(o){o!==Jl&&o.next===null&&(Jl===null?Yf=Jl=o:Jl=Jl.next=o),Vf=!0,Zy||(Zy=!0,q8())}function Vc(o,u){if(!Jy&&Vf){Jy=!0;do for(var f=!1,g=Yf;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var A=0;else{var O=g.suspendedLanes,I=g.pingedLanes;A=(1<<31-Ue(42|o)+1)-1,A&=v&~(O&~I),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,l_(g,A))}else A=Et,A=As(g,g===Gt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Ss(g,A)||(f=!0,l_(g,A));g=g.next}while(f);Jy=!1}}function $8(){a_()}function a_(){Vf=Zy=!1;var o=0;zs!==0&&eB()&&(o=zs);for(var u=Xe(),f=null,g=Yf;g!==null;){var v=g.next,A=s_(g,u);A===0?(g.next=null,f===null?Yf=v:f.next=v,v===null&&(Jl=f)):(f=g,(o!==0||(A&3)!==0)&&(Vf=!0)),g=v}jn!==0&&jn!==5||Vc(o),zs!==0&&(zs=0)}function s_(o,u){for(var f=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var O=31-Ue(A),I=1<<O,W=v[O];W===-1?((I&f)===0||(I&g)!==0)&&(v[O]=d0(I,u)):W<=u&&(o.expiredLanes|=I),A&=~I}if(u=Gt,f=Et,f=As(o,o===u?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===u&&(Ft===2||Ft===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Ge(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ss(o,f)){if(u=f&-f,u===o.callbackPriority)return u;switch(g!==null&&Ge(g),m0(f)){case 2:case 8:f=ve;break;case 32:f=Re;break;case 268435456:f=ct;break;default:f=Re}return g=o_.bind(null,o),f=Fe(f,g),o.callbackPriority=u,o.callbackNode=f,u}return g!==null&&g!==null&&Ge(g),o.callbackPriority=2,o.callbackNode=null,2}function o_(o,u){if(jn!==0&&jn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(qf()&&o.callbackNode!==f)return null;var g=Et;return g=As(o,o===Gt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(zT(o,g,u),s_(o,Xe()),o.callbackNode!=null&&o.callbackNode===f?o_.bind(null,o):null)}function l_(o,u){if(qf())return null;zT(o,u,!0)}function q8(){nB(function(){(jt&6)!==0?Fe(te,$8):a_()})}function eb(){if(zs===0){var o=Bl;o===0&&(o=gn,gn<<=1,(gn&261888)===0&&(gn=256)),zs=o}return zs}function u_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Jh(""+o)}function c_(o,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,o.id&&f.setAttribute("form",o.id),u.parentNode.insertBefore(f,u),o=new FormData(o),f.parentNode.removeChild(f),o}function Y8(o,u,f,g,v){if(u==="submit"&&f&&f.stateNode===v){var A=u_((v[Pr]||null).action),O=g.submitter;O&&(u=(u=O[Pr]||null)?u_(u.formAction):O.getAttribute("formAction"),u!==null&&(A=u,O=null));var I=new rf("action","action",null,g,v);o.push({event:I,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(zs!==0){var W=O?c_(v,O):new FormData(v);vy(f,{pending:!0,data:W,method:v.method,action:A},null,W)}}else typeof A=="function"&&(I.preventDefault(),W=O?c_(v,O):new FormData(v),vy(f,{pending:!0,data:W,method:v.method,action:A},A,W))},currentTarget:v}]})}}for(var tb=0;tb<M0.length;tb++){var nb=M0[tb],V8=nb.toLowerCase(),G8=nb[0].toUpperCase()+nb.slice(1);Gi(V8,"on"+G8)}Gi(HA,"onAnimationEnd"),Gi(zA,"onAnimationIteration"),Gi($A,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(u8,"onTransitionRun"),Gi(c8,"onTransitionStart"),Gi(d8,"onTransitionCancel"),Gi(qA,"onTransitionEnd"),Sl("onMouseEnter",["mouseout","mouseover"]),Sl("onMouseLeave",["mouseout","mouseover"]),Sl("onPointerEnter",["pointerout","pointerover"]),Sl("onPointerLeave",["pointerout","pointerover"]),go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),go("onBeforeInput",["compositionend","keypress","textInput","paste"]),go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function d_(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],v=g.event;g=g.listeners;e:{var A=void 0;if(u)for(var O=g.length-1;0<=O;O--){var I=g[O],W=I.instance,he=I.currentTarget;if(I=I.listener,W!==A&&v.isPropagationStopped())break e;A=I,v.currentTarget=he;try{A(v)}catch(Se){of(Se)}v.currentTarget=null,A=W}else for(O=0;O<g.length;O++){if(I=g[O],W=I.instance,he=I.currentTarget,I=I.listener,W!==A&&v.isPropagationStopped())break e;A=I,v.currentTarget=he;try{A(v)}catch(Se){of(Se)}v.currentTarget=null,A=W}}}}function wt(o,u){var f=u[p0];f===void 0&&(f=u[p0]=new Set);var g=o+"__bubble";f.has(g)||(h_(u,o,2,!1),f.add(g))}function rb(o,u,f){var g=0;u&&(g|=4),h_(f,o,g,u)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function ib(o){if(!o[Gf]){o[Gf]=!0,aA.forEach(function(f){f!=="selectionchange"&&(W8.has(f)||rb(f,!1,o),rb(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Gf]||(u[Gf]=!0,rb("selectionchange",!1,u))}}function h_(o,u,f,g){switch(H_(u)){case 2:var v=EB;break;case 8:v=AB;break;default:v=xb}f=v.bind(null,u,f,o),v=void 0,!S0||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(u,f,{capture:!0,passive:v}):o.addEventListener(u,f,!0):v!==void 0?o.addEventListener(u,f,{passive:v}):o.addEventListener(u,f,!1)}function ab(o,u,f,g,v){var A=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var I=g.stateNode.containerInfo;if(I===v)break;if(O===4)for(O=g.return;O!==null;){var W=O.tag;if((W===3||W===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;I!==null;){if(O=wl(I),O===null)return;if(W=O.tag,W===5||W===6||W===26||W===27){g=A=O;continue e}I=I.parentNode}}g=g.return}yA(function(){var he=A,Se=E0(f),_e=[];e:{var pe=YA.get(o);if(pe!==void 0){var xe=rf,qe=o;switch(o){case"keypress":if(tf(f)===0)break e;case"keydown":case"keyup":xe=H6;break;case"focusin":qe="focus",xe=C0;break;case"focusout":qe="blur",xe=C0;break;case"beforeblur":case"afterblur":xe=C0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=vA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=O6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=q6;break;case HA:case zA:case $A:xe=D6;break;case qA:xe=V6;break;case"scroll":case"scrollend":xe=N6;break;case"wheel":xe=W6;break;case"copy":case"cut":case"paste":xe=R6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=EA;break;case"toggle":case"beforetoggle":xe=K6}var nt=(u&4)!==0,qt=!nt&&(o==="scroll"||o==="scrollend"),re=nt?pe!==null?pe+"Capture":null:pe;nt=[];for(var Q=he,de;Q!==null;){var Te=Q;if(de=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||de===null||re===null||(Te=pc(Q,re),Te!=null&&nt.push(Wc(Q,Te,de))),qt)break;Q=Q.return}0<nt.length&&(pe=new xe(pe,qe,null,f,Se),_e.push({event:pe,listeners:nt}))}}if((u&7)===0){e:{if(pe=o==="mouseover"||o==="pointerover",xe=o==="mouseout"||o==="pointerout",pe&&f!==w0&&(qe=f.relatedTarget||f.fromElement)&&(wl(qe)||qe[vl]))break e;if((xe||pe)&&(pe=Se.window===Se?Se:(pe=Se.ownerDocument)?pe.defaultView||pe.parentWindow:window,xe?(qe=f.relatedTarget||f.toElement,xe=he,qe=qe?wl(qe):null,qe!==null&&(qt=a(qe),nt=qe.tag,qe!==qt||nt!==5&&nt!==27&&nt!==6)&&(qe=null)):(xe=null,qe=he),xe!==qe)){if(nt=vA,Te="onMouseLeave",re="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(nt=EA,Te="onPointerLeave",re="onPointerEnter",Q="pointer"),qt=xe==null?pe:mc(xe),de=qe==null?pe:mc(qe),pe=new nt(Te,Q+"leave",xe,f,Se),pe.target=qt,pe.relatedTarget=de,Te=null,wl(Se)===he&&(nt=new nt(re,Q+"enter",qe,f,Se),nt.target=de,nt.relatedTarget=qt,Te=nt),qt=Te,xe&&qe)t:{for(nt=X8,re=xe,Q=qe,de=0,Te=re;Te;Te=nt(Te))de++;Te=0;for(var Ze=Q;Ze;Ze=nt(Ze))Te++;for(;0<de-Te;)re=nt(re),de--;for(;0<Te-de;)Q=nt(Q),Te--;for(;de--;){if(re===Q||Q!==null&&re===Q.alternate){nt=re;break t}re=nt(re),Q=nt(Q)}nt=null}else nt=null;xe!==null&&f_(_e,pe,xe,nt,!1),qe!==null&&qt!==null&&f_(_e,qt,qe,nt,!0)}}e:{if(pe=he?mc(he):window,xe=pe.nodeName&&pe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&pe.type==="file")var Ot=kA;else if(CA(pe))if(PA)Ot=s8;else{Ot=i8;var We=r8}else xe=pe.nodeName,!xe||xe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&v0(he.elementType)&&(Ot=kA):Ot=a8;if(Ot&&(Ot=Ot(o,he))){OA(_e,Ot,f,Se);break e}We&&We(o,pe,he),o==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&x0(pe,"number",pe.value)}switch(We=he?mc(he):window,o){case"focusin":(CA(We)||We.contentEditable==="true")&&(kl=We,R0=he,Ac=null);break;case"focusout":Ac=R0=kl=null;break;case"mousedown":I0=!0;break;case"contextmenu":case"mouseup":case"dragend":I0=!1,FA(_e,f,Se);break;case"selectionchange":if(l8)break;case"keydown":case"keyup":FA(_e,f,Se)}var gt;if(k0)e:{switch(o){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else Ol?_A(o,f)&&(At="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(At="onCompositionStart");At&&(AA&&f.locale!=="ko"&&(Ol||At!=="onCompositionStart"?At==="onCompositionEnd"&&Ol&&(gt=bA()):(_s=Se,T0="value"in _s?_s.value:_s.textContent,Ol=!0)),We=Wf(he,At),0<We.length&&(At=new wA(At,o,null,f,Se),_e.push({event:At,listeners:We}),gt?At.data=gt:(gt=NA(f),gt!==null&&(At.data=gt)))),(gt=Z6?J6(o,f):e8(o,f))&&(At=Wf(he,"onBeforeInput"),0<At.length&&(We=new wA("onBeforeInput","beforeinput",null,f,Se),_e.push({event:We,listeners:At}),We.data=gt)),Y8(_e,o,he,f,Se)}d_(_e,u)})}function Wc(o,u,f){return{instance:o,listener:u,currentTarget:f}}function Wf(o,u){for(var f=u+"Capture",g=[];o!==null;){var v=o,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=pc(o,f),v!=null&&g.unshift(Wc(o,v,A)),v=pc(o,u),v!=null&&g.push(Wc(o,v,A))),o.tag===3)return g;o=o.return}return[]}function X8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function f_(o,u,f,g,v){for(var A=u._reactName,O=[];f!==null&&f!==g;){var I=f,W=I.alternate,he=I.stateNode;if(I=I.tag,W!==null&&W===g)break;I!==5&&I!==26&&I!==27||he===null||(W=he,v?(he=pc(f,A),he!=null&&O.unshift(Wc(f,he,W))):v||(he=pc(f,A),he!=null&&O.push(Wc(f,he,W)))),f=f.return}O.length!==0&&o.push({event:u,listeners:O})}var K8=/\r\n?/g,Q8=/\u0000|\uFFFD/g;function m_(o){return(typeof o=="string"?o:""+o).replace(K8,`
`).replace(Q8,"")}function p_(o,u){return u=m_(u),m_(o)===u}function $t(o,u,f,g,v,A){switch(f){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||_l(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&_l(o,""+g);break;case"className":Qh(o,"class",g);break;case"tabIndex":Qh(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Qh(o,f,g);break;case"style":pA(o,g,A);break;case"data":if(u!=="object"){Qh(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Jh(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(u!=="input"&&$t(o,u,"name",v.name,v,null),$t(o,u,"formEncType",v.formEncType,v,null),$t(o,u,"formMethod",v.formMethod,v,null),$t(o,u,"formTarget",v.formTarget,v,null)):($t(o,u,"encType",v.encType,v,null),$t(o,u,"method",v.method,v,null),$t(o,u,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Jh(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=ja);break;case"onScroll":g!=null&&wt("scroll",o);break;case"onScrollEnd":g!=null&&wt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=Jh(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":wt("beforetoggle",o),wt("toggle",o),Kh(o,"popover",g);break;case"xlinkActuate":Da(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Da(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Da(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Da(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Da(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Da(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Da(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Da(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Da(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Kh(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=T6.get(f)||f,Kh(o,f,g))}}function sb(o,u,f,g,v,A){switch(f){case"style":pA(o,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof g=="string"?_l(o,g):(typeof g=="number"||typeof g=="bigint")&&_l(o,""+g);break;case"onScroll":g!=null&&wt("scroll",o);break;case"onScrollEnd":g!=null&&wt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sA.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),u=f.slice(2,v?f.length-7:void 0),A=o[Pr]||null,A=A!=null?A[f]:null,typeof A=="function"&&o.removeEventListener(u,A,v),typeof g=="function")){typeof A!="function"&&A!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(u,g,v);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):Kh(o,f,g)}}}function tr(o,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",o),wt("load",o);var g=!1,v=!1,A;for(A in f)if(f.hasOwnProperty(A)){var O=f[A];if(O!=null)switch(A){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:$t(o,u,A,O,f,null)}}v&&$t(o,u,"srcSet",f.srcSet,f,null),g&&$t(o,u,"src",f.src,f,null);return;case"input":wt("invalid",o);var I=A=O=v=null,W=null,he=null;for(g in f)if(f.hasOwnProperty(g)){var Se=f[g];if(Se!=null)switch(g){case"name":v=Se;break;case"type":O=Se;break;case"checked":W=Se;break;case"defaultChecked":he=Se;break;case"value":A=Se;break;case"defaultValue":I=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,u));break;default:$t(o,u,g,Se,f,null)}}dA(o,A,I,W,he,O,v,!1);return;case"select":wt("invalid",o),g=O=A=null;for(v in f)if(f.hasOwnProperty(v)&&(I=f[v],I!=null))switch(v){case"value":A=I;break;case"defaultValue":O=I;break;case"multiple":g=I;default:$t(o,u,v,I,f,null)}u=A,f=O,o.multiple=!!g,u!=null?Tl(o,!!g,u,!1):f!=null&&Tl(o,!!g,f,!0);return;case"textarea":wt("invalid",o),A=v=g=null;for(O in f)if(f.hasOwnProperty(O)&&(I=f[O],I!=null))switch(O){case"value":g=I;break;case"defaultValue":v=I;break;case"children":A=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:$t(o,u,O,I,f,null)}fA(o,g,v,A);return;case"option":for(W in f)if(f.hasOwnProperty(W)&&(g=f[W],g!=null))switch(W){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:$t(o,u,W,g,f,null)}return;case"dialog":wt("beforetoggle",o),wt("toggle",o),wt("cancel",o),wt("close",o);break;case"iframe":case"object":wt("load",o);break;case"video":case"audio":for(g=0;g<Gc.length;g++)wt(Gc[g],o);break;case"image":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"embed":case"source":case"link":wt("error",o),wt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in f)if(f.hasOwnProperty(he)&&(g=f[he],g!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:$t(o,u,he,g,f,null)}return;default:if(v0(u)){for(Se in f)f.hasOwnProperty(Se)&&(g=f[Se],g!==void 0&&sb(o,u,Se,g,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(g=f[I],g!=null&&$t(o,u,I,g,f,null))}function Z8(o,u,f,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,O=null,I=null,W=null,he=null,Se=null;for(xe in f){var _e=f[xe];if(f.hasOwnProperty(xe)&&_e!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":W=_e;default:g.hasOwnProperty(xe)||$t(o,u,xe,null,g,_e)}}for(var pe in g){var xe=g[pe];if(_e=f[pe],g.hasOwnProperty(pe)&&(xe!=null||_e!=null))switch(pe){case"type":A=xe;break;case"name":v=xe;break;case"checked":he=xe;break;case"defaultChecked":Se=xe;break;case"value":O=xe;break;case"defaultValue":I=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,u));break;default:xe!==_e&&$t(o,u,pe,xe,g,_e)}}b0(o,O,I,W,he,Se,A,v);return;case"select":xe=O=I=pe=null;for(A in f)if(W=f[A],f.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":xe=W;default:g.hasOwnProperty(A)||$t(o,u,A,null,g,W)}for(v in g)if(A=g[v],W=f[v],g.hasOwnProperty(v)&&(A!=null||W!=null))switch(v){case"value":pe=A;break;case"defaultValue":I=A;break;case"multiple":O=A;default:A!==W&&$t(o,u,v,A,g,W)}u=I,f=O,g=xe,pe!=null?Tl(o,!!f,pe,!1):!!g!=!!f&&(u!=null?Tl(o,!!f,u,!0):Tl(o,!!f,f?[]:"",!1));return;case"textarea":xe=pe=null;for(I in f)if(v=f[I],f.hasOwnProperty(I)&&v!=null&&!g.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:$t(o,u,I,null,g,v)}for(O in g)if(v=g[O],A=f[O],g.hasOwnProperty(O)&&(v!=null||A!=null))switch(O){case"value":pe=v;break;case"defaultValue":xe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==A&&$t(o,u,O,v,g,A)}hA(o,pe,xe);return;case"option":for(var qe in f)if(pe=f[qe],f.hasOwnProperty(qe)&&pe!=null&&!g.hasOwnProperty(qe))switch(qe){case"selected":o.selected=!1;break;default:$t(o,u,qe,null,g,pe)}for(W in g)if(pe=g[W],xe=f[W],g.hasOwnProperty(W)&&pe!==xe&&(pe!=null||xe!=null))switch(W){case"selected":o.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:$t(o,u,W,pe,g,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in f)pe=f[nt],f.hasOwnProperty(nt)&&pe!=null&&!g.hasOwnProperty(nt)&&$t(o,u,nt,null,g,pe);for(he in g)if(pe=g[he],xe=f[he],g.hasOwnProperty(he)&&pe!==xe&&(pe!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,u));break;default:$t(o,u,he,pe,g,xe)}return;default:if(v0(u)){for(var qt in f)pe=f[qt],f.hasOwnProperty(qt)&&pe!==void 0&&!g.hasOwnProperty(qt)&&sb(o,u,qt,void 0,g,pe);for(Se in g)pe=g[Se],xe=f[Se],!g.hasOwnProperty(Se)||pe===xe||pe===void 0&&xe===void 0||sb(o,u,Se,pe,g,xe);return}}for(var re in f)pe=f[re],f.hasOwnProperty(re)&&pe!=null&&!g.hasOwnProperty(re)&&$t(o,u,re,null,g,pe);for(_e in g)pe=g[_e],xe=f[_e],!g.hasOwnProperty(_e)||pe===xe||pe==null&&xe==null||$t(o,u,_e,pe,g,xe)}function g_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],A=v.transferSize,O=v.initiatorType,I=v.duration;if(A&&I&&g_(O)){for(O=0,I=v.responseEnd,g+=1;g<f.length;g++){var W=f[g],he=W.startTime;if(he>I)break;var Se=W.transferSize,_e=W.initiatorType;Se&&g_(_e)&&(W=W.responseEnd,O+=Se*(W<I?1:(I-he)/(W-he)))}if(--g,u+=8*(A+O)/(v.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var ob=null,lb=null;function Xf(o){return o.nodeType===9?o:o.ownerDocument}function y_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function ub(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cb=null;function eB(){var o=window.event;return o&&o.type==="popstate"?o===cb?!1:(cb=o,!0):(cb=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,tB=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,nB=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(o){return v_.resolve(null).then(o).catch(rB)}:x_;function rB(o){setTimeout(function(){throw o})}function $s(o){return o==="head"}function w_(o,u){var f=u,g=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){o.removeChild(v),ru(u);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Xc(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Xc(f);for(var A=f.firstChild;A;){var O=A.nextSibling,I=A.nodeName;A[fc]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=O}}else f==="body"&&Xc(o.ownerDocument.body);f=v}while(f);ru(u)}function E_(o,u){var f=o;o=0;do{var g=f.nextSibling;if(f.nodeType===1?u?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(u?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=g}while(f)}function db(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":db(f),g0(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function iB(o,u,f,g){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[fc])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=Ni(o.nextSibling),o===null)break}return null}function aB(o,u,f){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Ni(o.nextSibling),o===null))return null;return o}function A_(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Ni(o.nextSibling),o===null))return null;return o}function hb(o){return o.data==="$?"||o.data==="$~"}function fb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function sB(o,u){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||f.readyState!=="loading")u();else{var g=function(){u(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Ni(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var mb=null;function S_(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(u===0)return Ni(o.nextSibling);u--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||u++}o=o.nextSibling}return null}function T_(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(u===0)return o;u--}else f!=="/$"&&f!=="/&"||u++}o=o.previousSibling}return null}function __(o,u,f){switch(u=Xf(f),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Xc(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);g0(o)}var Ci=new Map,N_=new Set;function Kf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Xa=H.d;H.d={f:oB,r:lB,D:uB,C:cB,L:dB,m:hB,X:mB,S:fB,M:pB};function oB(){var o=Xa.f(),u=Hf();return o||u}function lB(o){var u=El(o);u!==null&&u.tag===5&&u.type==="form"?qS(u):Xa.r(o)}var eu=typeof document>"u"?null:document;function C_(o,u,f){var g=eu;if(g&&typeof u=="string"&&u){var v=vi(u);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),N_.has(v)||(N_.add(v),o={rel:o,crossOrigin:f,href:u},g.querySelector(v)===null&&(u=g.createElement("link"),tr(u,"link",o),Un(u),g.head.appendChild(u)))}}function uB(o){Xa.D(o),C_("dns-prefetch",o,null)}function cB(o,u){Xa.C(o,u),C_("preconnect",o,u)}function dB(o,u,f){Xa.L(o,u,f);var g=eu;if(g&&o&&u){var v='link[rel="preload"][as="'+vi(u)+'"]';u==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+vi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+vi(f.imageSizes)+'"]')):v+='[href="'+vi(o)+'"]';var A=v;switch(u){case"style":A=tu(o);break;case"script":A=nu(o)}Ci.has(A)||(o=p({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:o,as:u},f),Ci.set(A,o),g.querySelector(v)!==null||u==="style"&&g.querySelector(Kc(A))||u==="script"&&g.querySelector(Qc(A))||(u=g.createElement("link"),tr(u,"link",o),Un(u),g.head.appendChild(u)))}}function hB(o,u){Xa.m(o,u);var f=eu;if(f&&o){var g=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+vi(g)+'"][href="'+vi(o)+'"]',A=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=nu(o)}if(!Ci.has(A)&&(o=p({rel:"modulepreload",href:o},u),Ci.set(A,o),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Qc(A)))return}g=f.createElement("link"),tr(g,"link",o),Un(g),f.head.appendChild(g)}}}function fB(o,u,f){Xa.S(o,u,f);var g=eu;if(g&&o){var v=Al(g).hoistableStyles,A=tu(o);u=u||"default";var O=v.get(A);if(!O){var I={loading:0,preload:null};if(O=g.querySelector(Kc(A)))I.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},f),(f=Ci.get(A))&&pb(o,f);var W=O=g.createElement("link");Un(W),tr(W,"link",o),W._p=new Promise(function(he,Se){W.onload=he,W.onerror=Se}),W.addEventListener("load",function(){I.loading|=1}),W.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Qf(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:I},v.set(A,O)}}}function mB(o,u){Xa.X(o,u);var f=eu;if(f&&o){var g=Al(f).hoistableScripts,v=nu(o),A=g.get(v);A||(A=f.querySelector(Qc(v)),A||(o=p({src:o,async:!0},u),(u=Ci.get(v))&&gb(o,u),A=f.createElement("script"),Un(A),tr(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function pB(o,u){Xa.M(o,u);var f=eu;if(f&&o){var g=Al(f).hoistableScripts,v=nu(o),A=g.get(v);A||(A=f.querySelector(Qc(v)),A||(o=p({src:o,async:!0,type:"module"},u),(u=Ci.get(v))&&gb(o,u),A=f.createElement("script"),Un(A),tr(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function O_(o,u,f,g){var v=(v=ae.current)?Kf(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=tu(f.href),f=Al(v).hoistableStyles,g=f.get(u),g||(g={type:"style",instance:null,count:0,state:null},f.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=tu(f.href);var A=Al(v).hoistableStyles,O=A.get(o);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,O),(A=v.querySelector(Kc(o)))&&!A._p&&(O.instance=A,O.state.loading=5),Ci.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ci.set(o,f),A||gB(v,o,f,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=nu(f),f=Al(v).hoistableScripts,g=f.get(u),g||(g={type:"script",instance:null,count:0,state:null},f.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function tu(o){return'href="'+vi(o)+'"'}function Kc(o){return'link[rel="stylesheet"]['+o+"]"}function k_(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function gB(o,u,f,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),tr(u,"link",f),Un(u),o.head.appendChild(u))}function nu(o){return'[src="'+vi(o)+'"]'}function Qc(o){return"script[async]"+o}function P_(o,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+vi(f.href)+'"]');if(g)return u.instance=g,Un(g),g;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Un(g),tr(g,"style",v),Qf(g,f.precedence,o),u.instance=g;case"stylesheet":v=tu(f.href);var A=o.querySelector(Kc(v));if(A)return u.state.loading|=4,u.instance=A,Un(A),A;g=k_(f),(v=Ci.get(v))&&pb(g,v),A=(o.ownerDocument||o).createElement("link"),Un(A);var O=A;return O._p=new Promise(function(I,W){O.onload=I,O.onerror=W}),tr(A,"link",g),u.state.loading|=4,Qf(A,f.precedence,o),u.instance=A;case"script":return A=nu(f.src),(v=o.querySelector(Qc(A)))?(u.instance=v,Un(v),v):(g=f,(v=Ci.get(A))&&(g=p({},f),gb(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),Un(v),tr(v,"link",g),o.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Qf(g,f.precedence,o));return u.instance}function Qf(o,u,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,A=v,O=0;O<g.length;O++){var I=g[O];if(I.dataset.precedence===u)A=I;else if(A!==v)break}A?A.parentNode.insertBefore(o,A.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(o,u.firstChild))}function pb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function gb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Zf=null;function D_(o,u,f){if(Zf===null){var g=new Map,v=Zf=new Map;v.set(f,g)}else v=Zf,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var A=f[v];if(!(A[fc]||A[Qn]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(u)||"";O=o+O;var I=g.get(O);I?I.push(A):g.set(O,[A])}}return g}function j_(o,u,f){o=o.ownerDocument||o,o.head.insertBefore(f,u==="title"?o.querySelector("head > title"):null)}function yB(o,u,f){if(f===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function R_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function bB(o,u,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=tu(g.href),A=u.querySelector(Kc(v));if(A){u=A._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=Jf.bind(o),u.then(o,o)),f.state.loading|=4,f.instance=A,Un(A);return}A=u.ownerDocument||u,g=k_(g),(v=Ci.get(v))&&pb(g,v),A=A.createElement("link"),Un(A);var O=A;O._p=new Promise(function(I,W){O.onload=I,O.onerror=W}),tr(A,"link",g),f.instance=A}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Jf.bind(o),u.addEventListener("load",f),u.addEventListener("error",f))}}var yb=0;function xB(o,u){return o.stylesheets&&o.count===0&&tm(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var g=setTimeout(function(){if(o.stylesheets&&tm(o,o.stylesheets),o.unsuspend){var A=o.unsuspend;o.unsuspend=null,A()}},6e4+u);0<o.imgBytes&&yb===0&&(yb=62500*J8());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&tm(o,o.stylesheets),o.unsuspend)){var A=o.unsuspend;o.unsuspend=null,A()}},(o.imgBytes>yb?50:800)+u);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var em=null;function tm(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,em=new Map,u.forEach(vB,o),em=null,Jf.call(o))}function vB(o,u){if(!(u.state.loading&4)){var f=em.get(o);if(f)var g=f.get(null);else{f=new Map,em.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var O=v[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}v=u.instance,O=v.getAttribute("data-precedence"),A=f.get(O)||g,A===g&&f.set(null,v),f.set(O,v),this.count++,g=Jf.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),A?A.parentNode.insertBefore(v,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),u.state.loading|=4}}var Zc={$$typeof:N,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function wB(o,u,f,g,v,A,O,I,W){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=h0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.hiddenUpdates=h0(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function I_(o,u,f,g,v,A,O,I,W,he,Se,_e){return o=new wB(o,u,f,O,W,he,Se,_e,I),u=1,A===!0&&(u|=24),A=ei(3,null,null,u),o.current=A,A.stateNode=o,u=K0(),u.refCount++,o.pooledCache=u,u.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:u},ey(A),o}function L_(o){return o?(o=jl,o):jl}function M_(o,u,f,g,v,A){v=L_(v),g.context===null?g.context=v:g.pendingContext=v,g=Ds(u),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=js(o,g,u),f!==null&&(Mr(f,o,u),kc(f,o,u))}function B_(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function bb(o,u){B_(o,u),(o=o.alternate)&&B_(o,u)}function F_(o){if(o.tag===13||o.tag===31){var u=vo(o,67108864);u!==null&&Mr(u,o,67108864),bb(o,67108864)}}function U_(o){if(o.tag===13||o.tag===31){var u=ai();u=f0(u);var f=vo(o,u);f!==null&&Mr(f,o,u),bb(o,u)}}var nm=!0;function EB(o,u,f,g){var v=L.T;L.T=null;var A=H.p;try{H.p=2,xb(o,u,f,g)}finally{H.p=A,L.T=v}}function AB(o,u,f,g){var v=L.T;L.T=null;var A=H.p;try{H.p=8,xb(o,u,f,g)}finally{H.p=A,L.T=v}}function xb(o,u,f,g){if(nm){var v=vb(g);if(v===null)ab(o,u,g,rm,f),z_(o,g);else if(TB(v,o,u,f,g))g.stopPropagation();else if(z_(o,g),u&4&&-1<SB.indexOf(o)){for(;v!==null;){var A=El(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=kr(A.pendingLanes);if(O!==0){var I=A;for(I.pendingLanes|=2,I.entangledLanes|=2;O;){var W=1<<31-Ue(O);I.entanglements[1]|=W,O&=~W}la(A),(jt&6)===0&&(Ff=Xe()+500,Vc(0))}}break;case 31:case 13:I=vo(A,2),I!==null&&Mr(I,A,2),Hf(),bb(A,2)}if(A=vb(g),A===null&&ab(o,u,g,rm,f),A===v)break;v=A}v!==null&&g.stopPropagation()}else ab(o,u,g,null,f)}}function vb(o){return o=E0(o),wb(o)}var rm=null;function wb(o){if(rm=null,o=wl(o),o!==null){var u=a(o);if(u===null)o=null;else{var f=u.tag;if(f===13){if(o=s(u),o!==null)return o;o=null}else if(f===31){if(o=l(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return rm=o,null}function H_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case te:return 2;case ve:return 8;case Re:case Ke:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Eb=!1,qs=null,Ys=null,Vs=null,Jc=new Map,ed=new Map,Gs=[],SB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(o,u){switch(o){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Jc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(u.pointerId)}}function td(o,u,f,g,v,A){return o===null||o.nativeEvent!==A?(o={blockedOn:u,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[v]},u!==null&&(u=El(u),u!==null&&F_(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),o)}function TB(o,u,f,g,v){switch(u){case"focusin":return qs=td(qs,o,u,f,g,v),!0;case"dragenter":return Ys=td(Ys,o,u,f,g,v),!0;case"mouseover":return Vs=td(Vs,o,u,f,g,v),!0;case"pointerover":var A=v.pointerId;return Jc.set(A,td(Jc.get(A)||null,o,u,f,g,v)),!0;case"gotpointercapture":return A=v.pointerId,ed.set(A,td(ed.get(A)||null,o,u,f,g,v)),!0}return!1}function $_(o){var u=wl(o.target);if(u!==null){var f=a(u);if(f!==null){if(u=f.tag,u===13){if(u=s(f),u!==null){o.blockedOn=u,rA(o.priority,function(){U_(f)});return}}else if(u===31){if(u=l(f),u!==null){o.blockedOn=u,rA(o.priority,function(){U_(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function im(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=vb(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);w0=g,f.target.dispatchEvent(g),w0=null}else return u=El(f),u!==null&&F_(u),o.blockedOn=f,!1;u.shift()}return!0}function q_(o,u,f){im(o)&&f.delete(u)}function _B(){Eb=!1,qs!==null&&im(qs)&&(qs=null),Ys!==null&&im(Ys)&&(Ys=null),Vs!==null&&im(Vs)&&(Vs=null),Jc.forEach(q_),ed.forEach(q_)}function am(o,u){o.blockedOn===u&&(o.blockedOn=null,Eb||(Eb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_B)))}var sm=null;function Y_(o){sm!==o&&(sm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sm===o&&(sm=null);for(var u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],v=o[u+2];if(typeof g!="function"){if(wb(g||f)===null)continue;break}var A=El(f);A!==null&&(o.splice(u,3),u-=3,vy(A,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function ru(o){function u(W){return am(W,o)}qs!==null&&am(qs,o),Ys!==null&&am(Ys,o),Vs!==null&&am(Vs,o),Jc.forEach(u),ed.forEach(u);for(var f=0;f<Gs.length;f++){var g=Gs[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Gs.length&&(f=Gs[0],f.blockedOn===null);)$_(f),f.blockedOn===null&&Gs.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],A=f[g+1],O=v[Pr]||null;if(typeof A=="function")O||Y_(f);else if(O){var I=null;if(A&&A.hasAttribute("formAction")){if(v=A,O=A[Pr]||null)I=O.formAction;else if(wb(v)!==null)continue}else I=O.action;typeof I=="function"?f[g+1]=I:(f.splice(g,3),g-=3),Y_(f)}}}function V_(){function o(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function u(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),v!==null&&(v(),v=null)}}}function Ab(o){this._internalRoot=o}om.prototype.render=Ab.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var f=u.current,g=ai();M_(f,g,o,u,null,null)},om.prototype.unmount=Ab.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;M_(o.current,2,null,o,null,null),Hf(),u[vl]=null}};function om(o){this._internalRoot=o}om.prototype.unstable_scheduleHydration=function(o){if(o){var u=nA();o={blockedOn:null,target:o,priority:u};for(var f=0;f<Gs.length&&u!==0&&u<Gs[f].priority;f++);Gs.splice(f,0,o),f===0&&$_(o)}};var G_=e.version;if(G_!=="19.2.0")throw Error(r(527,G_,"19.2.0"));H.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var NB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{me=lm.inject(NB),Oe=lm}catch{}}return rd.createRoot=function(o,u){if(!i(o))throw Error(r(299));var f=!1,g="",v=eT,A=tT,O=nT;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=I_(o,1,!1,null,null,f,g,null,v,A,O,V_),o[vl]=u.current,ib(o),new Ab(u)},rd.hydrateRoot=function(o,u,f){if(!i(o))throw Error(r(299));var g=!1,v="",A=eT,O=tT,I=nT,W=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(W=f.formState)),u=I_(o,1,!0,u,f??null,g,v,W,A,O,I,V_),u.context=L_(null),f=u.current,g=ai(),g=f0(g),v=Ds(g),v.callback=null,js(f,v,g),f=g,u.current.lanes=f,hc(u,f),la(u),o[vl]=u.current,ib(o),new om(u)},rd.version="19.2.0",rd}var aN;function BB(){if(aN)return Nb.exports;aN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nb.exports=MB(),Nb.exports}var FB=BB();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sN="popstate";function UB(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return z1("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vd(i)}return zB(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HB(){return Math.random().toString(36).substring(2,10)}function oN(t,e){return{usr:t.state,key:t.key,idx:e}}function z1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$u(e):e,state:n,key:e&&e.key||r||HB()}}function Vd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $u(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function p(){l="POP";let E=h(),S=E==null?null:E-d;d=E,c&&c({action:l,location:w.location,delta:S})}function y(E,S){l="PUSH";let C=z1(w.location,E,S);d=h()+1;let N=oN(C,d),D=w.createHref(C);try{s.pushState(N,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(D)}a&&c&&c({action:l,location:w.location,delta:1})}function b(E,S){l="REPLACE";let C=z1(w.location,E,S);d=h();let N=oN(C,d),D=w.createHref(C);s.replaceState(N,"",D),a&&c&&c({action:l,location:w.location,delta:0})}function x(E){return $B(E)}let w={get action(){return l},get location(){return t(i,s)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(sN,p),c=E,()=>{i.removeEventListener(sN,p),c=null}},createHref(E){return e(i,E)},createURL:x,encodeLocation(E){let S=x(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:b,go(E){return s.go(E)}};return w}function $B(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TD(t,e,n="/"){return qB(t,e,n,!1)}function qB(t,e,n,r){let i=typeof e=="string"?$u(e):e,a=ls(i.pathname||"/",n);if(a==null)return null;let s=_D(t);YB(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=nF(a);l=eF(s[c],d,r)}return l}function _D(t,e=[],n=[],r="",i=!1){let a=(s,l,c=i,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;cn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=as([r,h.relativePath]),y=n.concat(h);s.children&&s.children.length>0&&(cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_D(s.children,e,y,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:ZB(p,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of ND(s.path))a(s,l,!0,c)}),e}function ND(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=ND(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function YB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VB=/^:[\w-]+$/,GB=3,WB=2,XB=1,KB=10,QB=-2,lN=t=>t==="*";function ZB(t,e){let n=t.split("/"),r=n.length;return n.some(lN)&&(r+=QB),e&&(r+=WB),n.filter(i=>!lN(i)).reduce((i,a)=>i+(VB.test(a)?GB:a===""?XB:KB),r)}function JB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eF(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=rp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=rp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:as([a,p.pathname]),pathnameBase:sF(as([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=as([a,p.pathnameBase]))}return s}function rp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},y)=>{if(h==="*"){let x=l[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[y];return p&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function tF(t,e=!1,n=!0){Ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$u(t):t;return{pathname:n?n.startsWith("/")?n:iF(n,e):e,search:oF(r),hash:lF(i)}}function iF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nw(t){let e=aF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Cw(t,e,n,r=!1){let i;typeof t=="string"?i=$u(t):(i={...t},cn(!i.pathname||!i.pathname.includes("?"),Pb("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Pb("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Pb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let c=rF(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var as=t=>t.join("/").replace(/\/\/+/g,"/"),sF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CD=["POST","PUT","PATCH","DELETE"];new Set(CD);var cF=["GET",...CD];new Set(cF);var qu=T.createContext(null);qu.displayName="DataRouter";var sg=T.createContext(null);sg.displayName="DataRouterState";T.createContext(!1);var OD=T.createContext({isTransitioning:!1});OD.displayName="ViewTransition";var dF=T.createContext(new Map);dF.displayName="Fetchers";var hF=T.createContext(null);hF.displayName="Await";var ea=T.createContext(null);ea.displayName="Navigation";var bh=T.createContext(null);bh.displayName="Location";var ta=T.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var Ow=T.createContext(null);Ow.displayName="RouteError";function fF(t,{relative:e}={}){cn(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ea),{hash:i,pathname:a,search:s}=xh(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:as([n,a])),r.createHref({pathname:l,search:s,hash:i})}function Yu(){return T.useContext(bh)!=null}function ps(){return cn(Yu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(bh).location}var kD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PD(t){T.useContext(ea).static||T.useLayoutEffect(t)}function qi(){let{isDataRoute:t}=T.useContext(ta);return t?_F():mF()}function mF(){cn(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(qu),{basename:e,navigator:n}=T.useContext(ea),{matches:r}=T.useContext(ta),{pathname:i}=ps(),a=JSON.stringify(Nw(r)),s=T.useRef(!1);return PD(()=>{s.current=!0}),T.useCallback((c,d={})=>{if(Ui(s.current,kD),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=Cw(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:as([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}T.createContext(null);function DD(){let{matches:t}=T.useContext(ta),e=t[t.length-1];return e?e.params:{}}function xh(t,{relative:e}={}){let{matches:n}=T.useContext(ta),{pathname:r}=ps(),i=JSON.stringify(Nw(n));return T.useMemo(()=>Cw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function pF(t,e){return jD(t,e)}function jD(t,e,n,r,i){cn(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(ea),{matches:s}=T.useContext(ta),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";RD(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=ps(),b;if(e){let C=typeof e=="string"?$u(e):e;cn(h==="/"||C.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=y;let x=b.pathname||"/",w=x;if(h!=="/"){let C=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=TD(t,{pathname:w});Ui(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ui(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=vF(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:as([h,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:as([h,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return e&&S?T.createElement(bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function gF(){let t=TF(),e=uF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var yF=T.createElement(gF,null),bF=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(ta.Provider,{value:this.props.routeContext},T.createElement(Ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xF({routeContext:t,match:e,children:n}){let r=T.useContext(qu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ta.Provider,{value:t},n)}function vF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:y}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let y,b=!1,x=null,w=null;n&&(y=s&&h.route.id?s[h.route.id]:void 0,x=h.route.errorElement||yF,l&&(c<0&&p===0?(RD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,p+1)),S=()=>{let C;return y?C=x:b?C=w:h.route.Component?C=T.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,T.createElement(xF,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(bF,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):S()},null)}function kw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wF(t){let e=T.useContext(qu);return cn(e,kw(t)),e}function EF(t){let e=T.useContext(sg);return cn(e,kw(t)),e}function AF(t){let e=T.useContext(ta);return cn(e,kw(t)),e}function Pw(t){let e=AF(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SF(){return Pw("useRouteId")}function TF(){let t=T.useContext(Ow),e=EF("useRouteError"),n=Pw("useRouteError");return t!==void 0?t:e.errors?.[n]}function _F(){let{router:t}=wF("useNavigate"),e=Pw("useNavigate"),n=T.useRef(!1);return PD(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{Ui(n.current,kD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var uN={};function RD(t,e,n){!e&&!uN[t]&&(uN[t]=!0,Ui(!1,n))}T.memo(NF);function NF({routes:t,future:e,state:n,unstable_onError:r}){return jD(t,void 0,n,r,e)}function CF({to:t,replace:e,state:n,relative:r}){cn(Yu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ea);Ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(ta),{pathname:s}=ps(),l=qi(),c=Cw(t,Nw(a),s,r==="path"),d=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function nr(t){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){cn(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=$u(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=T.useMemo(()=>{let x=ls(c,s);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:y},navigationType:r}},[s,c,d,h,p,y,r]);return Ui(b!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(ea.Provider,{value:l},T.createElement(bh.Provider,{children:e,value:b}))}function kF({children:t,location:e}){return pF($1(t),e)}function $1(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,$1(r.props.children,a));return}cn(r.type===nr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$1(r.props.children,a)),n.push(s)}),n}var Hm="get",zm="application/x-www-form-urlencoded";function og(t){return t!=null&&typeof t.tagName=="string"}function PF(t){return og(t)&&t.tagName.toLowerCase()==="button"}function DF(t){return og(t)&&t.tagName.toLowerCase()==="form"}function jF(t){return og(t)&&t.tagName.toLowerCase()==="input"}function RF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IF(t,e){return t.button===0&&(!e||e==="_self")&&!RF(t)}function q1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function LF(t,e){let n=q1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var um=null;function MF(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var BF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Db(t){return t!=null&&!BF.has(t)?(Ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):t}function FF(t,e){let n,r,i,a,s;if(DF(t)){let l=t.getAttribute("action");r=l?ls(l,e):null,n=t.getAttribute("method")||Hm,i=Db(t.getAttribute("enctype"))||zm,a=new FormData(t)}else if(PF(t)||jF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?ls(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Hm,i=Db(t.getAttribute("formenctype"))||Db(l.getAttribute("enctype"))||zm,a=new FormData(l,t),!MF()){let{name:d,type:h,value:p}=t;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,p)}}else{if(og(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hm,r=null,i=zm,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function HF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $F(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await HF(a,n);return s.links?s.links():[]}return[]}));return GF(r.flat(1).filter(zF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cN(t,e,n,r,i,a){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function qF(t,e,{includeHydrateFallback:n}={}){return YF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function YF(t){return[...new Set(t)]}function VF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function GF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(VF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ID(){let t=T.useContext(qu);return Dw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WF(){let t=T.useContext(sg);return Dw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jw=T.createContext(void 0);jw.displayName="FrameworkContext";function LD(){let t=T.useContext(jw);return Dw(t,"You must render this element inside a <HydratedRouter> element"),t}function XF(t,e){let n=T.useContext(jw),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=S=>{S.forEach(C=>{s(C.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:id(l,b),onBlur:id(c,x),onMouseEnter:id(d,b),onMouseLeave:id(h,x),onTouchStart:id(p,b)}]:[!1,y,{}]}function id(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KF({page:t,...e}){let{router:n}=ID(),r=T.useMemo(()=>TD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(ZF,{page:t,matches:r,...e}):null}function QF(t){let{manifest:e,routeModules:n}=LD(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return $F(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function ZF({page:t,matches:e,...n}){let r=ps(),{manifest:i,routeModules:a}=LD(),{basename:s}=ID(),{loaderData:l,matches:c}=WF(),d=T.useMemo(()=>cN(t,e,c,i,r,"data"),[t,e,c,i,r]),h=T.useMemo(()=>cN(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,w=!1;if(e.forEach(S=>{let C=i.routes[S.route.id];!C||!C.hasLoader||(!d.some(N=>N.route.id===S.route.id)&&S.route.id in l&&a[S.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:x.add(S.route.id))}),x.size===0)return[];let E=UF(t,s,"data");return w&&x.size>0&&E.searchParams.set("_routes",e.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[s,l,r,i,d,e,t,a]),y=T.useMemo(()=>qF(h,i),[h,i]),b=QF(h);return T.createElement(T.Fragment,null,p.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:w})=>T.createElement("link",{key:x,nonce:n.nonce,...w})))}function JF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MD&&(window.__reactRouterVersion="7.9.5")}catch{}function eU({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=UB({window:n,v5Compat:!0}));let i=r.current,[a,s]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{T.startTransition(()=>s(c))},[s]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(OF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var BD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p,...y},b){let{basename:x}=T.useContext(ea),w=typeof d=="string"&&BD.test(d),E,S=!1;if(typeof d=="string"&&w&&(E=d,MD))try{let V=new URL(window.location.href),X=d.startsWith("//")?new URL(V.protocol+d):new URL(d),z=ls(X.pathname,x);X.origin===V.origin&&z!=null?d=z+X.search+X.hash:S=!0}catch{Ui(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=fF(d,{relative:i}),[N,D,k]=XF(r,y),P=iU(d,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function j(V){e&&e(V),V.defaultPrevented||P(V)}let U=T.createElement("a",{...y,...k,href:E||C,onClick:S||a?e:j,ref:JF(b,D),target:c,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?T.createElement(T.Fragment,null,U,T.createElement(KF,{page:C})):U});FD.displayName="Link";var tU=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},h){let p=xh(s,{relative:d.relative}),y=ps(),b=T.useContext(sg),{navigator:x,basename:w}=T.useContext(ea),E=b!=null&&cU(p)&&l===!0,S=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,C=y.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),N=N?N.toLowerCase():null,S=S.toLowerCase()),N&&w&&(N=ls(N,w)||N);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=C===S||!i&&C.startsWith(S)&&C.charAt(D)==="/",P=N!=null&&(N===S||!i&&N.startsWith(S)&&N.charAt(S.length)==="/"),j={isActive:k,isPending:P,isTransitioning:E},U=k?e:void 0,V;typeof r=="function"?V=r(j):V=[r,k?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(j):a;return T.createElement(FD,{...d,"aria-current":U,className:V,ref:h,style:X,to:s,viewTransition:l},typeof c=="function"?c(j):c)});tU.displayName="NavLink";var nU=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Hm,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:p,...y},b)=>{let x=lU(),w=uU(l,{relative:d}),E=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&BD.test(l),C=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,k=D?.getAttribute("formmethod")||s;x(D||N.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p})};return T.createElement("form",{ref:b,method:E,action:w,onSubmit:r?c:C,...y,"data-discover":!S&&t==="render"?"true":void 0})});nU.displayName="Form";function rU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UD(t){let e=T.useContext(qu);return cn(e,rU(t)),e}function iU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=qi(),c=ps(),d=xh(t,{relative:a});return T.useCallback(h=>{if(IF(h,e)){h.preventDefault();let p=n!==void 0?n:Vd(c)===Vd(d);l(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,d,n,r,e,t,i,a,s])}function aU(t){Ui(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(q1(t)),n=T.useRef(!1),r=ps(),i=T.useMemo(()=>LF(r.search,n.current?null:e.current),[r.search]),a=qi(),s=T.useCallback((l,c)=>{const d=q1(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var sU=0,oU=()=>`__${String(++sU)}__`;function lU(){let{router:t}=UD("useSubmit"),{basename:e}=T.useContext(ea),n=SF();return T.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:d}=FF(r,e);if(i.navigate===!1){let h=i.fetcherKey||oU();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uU(t,{relative:e}={}){let{basename:n}=T.useContext(ea),r=T.useContext(ta);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...xh(t||".",{relative:e})},s=ps();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),Vd(a)}function cU(t,{relative:e}={}){let n=T.useContext(OD);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UD("useViewTransitionState"),i=xh(t,{relative:e});if(!n.isTransitioning)return!1;let a=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rp(i.pathname,s)!=null||rp(i.pathname,a)!=null}var Rw=SD();function HD(t,e){return function(){return t.apply(e,arguments)}}const{toString:dU}=Object.prototype,{getPrototypeOf:Iw}=Object,{iterator:lg,toStringTag:zD}=Symbol,ug=(t=>e=>{const n=dU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),na=t=>(t=t.toLowerCase(),e=>ug(e)===t),cg=t=>e=>typeof e===t,{isArray:Vu}=Array,Pu=cg("undefined");function vh(t){return t!==null&&!Pu(t)&&t.constructor!==null&&!Pu(t.constructor)&&Gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $D=na("ArrayBuffer");function hU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$D(t.buffer),e}const fU=cg("string"),Gr=cg("function"),qD=cg("number"),wh=t=>t!==null&&typeof t=="object",mU=t=>t===!0||t===!1,$m=t=>{if(ug(t)!=="object")return!1;const e=Iw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zD in t)&&!(lg in t)},pU=t=>{if(!wh(t)||vh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gU=na("Date"),yU=na("File"),bU=na("Blob"),xU=na("FileList"),vU=t=>wh(t)&&Gr(t.pipe),wU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gr(t.append)&&((e=ug(t))==="formdata"||e==="object"&&Gr(t.toString)&&t.toString()==="[object FormData]"))},EU=na("URLSearchParams"),[AU,SU,TU,_U]=["ReadableStream","Request","Response","Headers"].map(na),NU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(vh(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let l;for(r=0;r<s;r++)l=a[r],e.call(null,t[l],l,t)}}function YD(t,e){if(vh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VD=t=>!Pu(t)&&t!==Mo;function Y1(){const{caseless:t,skipUndefined:e}=VD(this)&&this||{},n={},r=(i,a)=>{const s=t&&YD(n,a)||a;$m(n[s])&&$m(i)?n[s]=Y1(n[s],i):$m(i)?n[s]=Y1({},i):Vu(i)?n[s]=i.slice():(!e||!Pu(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Eh(arguments[i],r);return n}const CU=(t,e,n,{allOwnKeys:r}={})=>(Eh(e,(i,a)=>{n&&Gr(i)?t[a]=HD(i,n):t[a]=i},{allOwnKeys:r}),t),OU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PU=(t,e,n,r)=>{let i,a,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&Iw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},DU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},jU=t=>{if(!t)return null;if(Vu(t))return t;let e=t.length;if(!qD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},RU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iw(Uint8Array)),IU=(t,e)=>{const r=(t&&t[lg]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},LU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},MU=na("HTMLFormElement"),BU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),dN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),FU=na("RegExp"),GD=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Eh(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},UU=t=>{GD(t,(e,n)=>{if(Gr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Gr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HU=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Vu(t)?r(t):r(String(t).split(e)),n},zU=()=>{},$U=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qU(t){return!!(t&&Gr(t.append)&&t[zD]==="FormData"&&t[lg])}const YU=t=>{const e=new Array(10),n=(r,i)=>{if(wh(r)){if(e.indexOf(r)>=0)return;if(vh(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Vu(r)?[]:{};return Eh(r,(s,l)=>{const c=n(s,i+1);!Pu(c)&&(a[l]=c)}),e[i]=void 0,a}}return r};return n(t,0)},VU=na("AsyncFunction"),GU=t=>t&&(wh(t)||Gr(t))&&Gr(t.then)&&Gr(t.catch),WD=((t,e)=>t?setImmediate:e?((n,r)=>(Mo.addEventListener("message",({source:i,data:a})=>{i===Mo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Gr(Mo.postMessage)),WU=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||WD,XU=t=>t!=null&&Gr(t[lg]),be={isArray:Vu,isArrayBuffer:$D,isBuffer:vh,isFormData:wU,isArrayBufferView:hU,isString:fU,isNumber:qD,isBoolean:mU,isObject:wh,isPlainObject:$m,isEmptyObject:pU,isReadableStream:AU,isRequest:SU,isResponse:TU,isHeaders:_U,isUndefined:Pu,isDate:gU,isFile:yU,isBlob:bU,isRegExp:FU,isFunction:Gr,isStream:vU,isURLSearchParams:EU,isTypedArray:RU,isFileList:xU,forEach:Eh,merge:Y1,extend:CU,trim:NU,stripBOM:OU,inherits:kU,toFlatObject:PU,kindOf:ug,kindOfTest:na,endsWith:DU,toArray:jU,forEachEntry:IU,matchAll:LU,isHTMLForm:MU,hasOwnProperty:dN,hasOwnProp:dN,reduceDescriptors:GD,freezeMethods:UU,toObjectSet:HU,toCamelCase:BU,noop:zU,toFiniteNumber:$U,findKey:YD,global:Mo,isContextDefined:VD,isSpecCompliantForm:qU,toJSONObject:YU,isAsyncFn:VU,isThenable:GU,setImmediate:WD,asap:WU,isIterable:XU};function mt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}be.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const XD=mt.prototype,KD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{KD[t]={value:t}});Object.defineProperties(mt,KD);Object.defineProperty(XD,"isAxiosError",{value:!0});mt.from=(t,e,n,r,i,a)=>{const s=Object.create(XD);be.toFlatObject(t,s,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return mt.call(s,l,c,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const KU=null;function V1(t){return be.isPlainObject(t)||be.isArray(t)}function QD(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function hN(t,e,n){return t?t.concat(e).map(function(i,a){return i=QD(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function QU(t){return be.isArray(t)&&!t.some(V1)}const ZU=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function dg(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!be.isUndefined(E[w])});const r=n.metaTokens,i=n.visitor||h,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(be.isDate(x))return x.toISOString();if(be.isBoolean(x))return x.toString();if(!c&&be.isBlob(x))throw new mt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(x)||be.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,w,E){let S=x;if(x&&!E&&typeof x=="object"){if(be.endsWith(w,"{}"))w=r?w:w.slice(0,-2),x=JSON.stringify(x);else if(be.isArray(x)&&QU(x)||(be.isFileList(x)||be.endsWith(w,"[]"))&&(S=be.toArray(x)))return w=QD(w),S.forEach(function(N,D){!(be.isUndefined(N)||N===null)&&e.append(s===!0?hN([w],D,a):s===null?w:w+"[]",d(N))}),!1}return V1(x)?!0:(e.append(hN(E,w,a),d(x)),!1)}const p=[],y=Object.assign(ZU,{defaultVisitor:h,convertValue:d,isVisitable:V1});function b(x,w){if(!be.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(x),be.forEach(x,function(S,C){(!(be.isUndefined(S)||S===null)&&i.call(e,S,be.isString(C)?C.trim():C,w,y))===!0&&b(S,w?w.concat(C):[C])}),p.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return b(t),e}function fN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Lw(t,e){this._pairs=[],t&&dg(t,this,e)}const ZD=Lw.prototype;ZD.append=function(e,n){this._pairs.push([e,n])};ZD.toString=function(e){const n=e?function(r){return e.call(this,r,fN)}:fN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function JU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JD(t,e,n){if(!e)return t;const r=n&&n.encode||JU;be.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=be.isURLSearchParams(e)?e.toString():new Lw(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class mN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ej={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e9=typeof URLSearchParams<"u"?URLSearchParams:Lw,t9=typeof FormData<"u"?FormData:null,n9=typeof Blob<"u"?Blob:null,r9={isBrowser:!0,classes:{URLSearchParams:e9,FormData:t9,Blob:n9},protocols:["http","https","file","blob","url","data"]},Mw=typeof window<"u"&&typeof document<"u",G1=typeof navigator=="object"&&navigator||void 0,i9=Mw&&(!G1||["ReactNative","NativeScript","NS"].indexOf(G1.product)<0),a9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s9=Mw&&window.location.href||"http://localhost",o9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mw,hasStandardBrowserEnv:i9,hasStandardBrowserWebWorkerEnv:a9,navigator:G1,origin:s9},Symbol.toStringTag,{value:"Module"})),fr={...o9,...r9};function l9(t,e){return dg(t,new fr.classes.URLSearchParams,{visitor:function(n,r,i,a){return fr.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function u9(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function c9(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function tj(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=n.length;return s=!s&&be.isArray(i)?i.length:s,c?(be.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!be.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&be.isArray(i[s])&&(i[s]=c9(i[s])),!l)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(u9(r),i,n,0)}),n}return null}function d9(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ah={transitional:ej,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=be.isObject(e);if(a&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i?JSON.stringify(tj(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return l9(e,this.formSerializer).toString();if((l=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dg(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),d9(e)):e}],transformResponse:[function(e){const n=this.transitional||Ah.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?mt.from(l,mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{Ah.headers[t]={}});const h9=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&h9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},pN=Symbol("internals");function ad(t){return t&&String(t).trim().toLowerCase()}function qm(t){return t===!1||t==null?t:be.isArray(t)?t.map(qm):String(t)}function m9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const p9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jb(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function g9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function y9(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let Wr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(l,c,d){const h=ad(c);if(!h)throw new Error("header name must be a non-empty string");const p=be.findKey(i,h);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=qm(l))}const s=(l,c)=>be.forEach(l,(d,h)=>a(d,h,c));if(be.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(be.isString(e)&&(e=e.trim())&&!p9(e))s(f9(e),n);else if(be.isObject(e)&&be.isIterable(e)){let l={},c,d;for(const h of e){if(!be.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?be.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(l,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=ad(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return m9(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ad(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=ad(s),s){const l=be.findKey(r,s);l&&(!n||jb(r,r[l],l,n))&&(delete r[l],i=!0)}}return be.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||jb(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,a)=>{const s=be.findKey(r,a);if(s){n[s]=qm(i),delete n[a];return}const l=e?g9(a):String(a).trim();l!==a&&delete n[a],n[l]=qm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pN]=this[pN]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=ad(s);r[l]||(y9(i,s),r[l]=!0)}return be.isArray(e)?e.forEach(a):a(e),this}};Wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Wr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(Wr);function Rb(t,e){const n=this||Ah,r=e||n,i=Wr.from(r.headers);let a=r.data;return be.forEach(t,function(l){a=l.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function nj(t){return!!(t&&t.__CANCEL__)}function Gu(t,e,n){mt.call(this,t??"canceled",mt.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(Gu,mt,{__CANCEL__:!0});function rj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function b9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function x9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[a];s||(s=d),n[i]=c,r[i]=d;let p=a,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-s<e)return;const b=h&&d-h;return b?Math.round(y*1e3/b):void 0}}function v9(t,e){let n=0,r=1e3/e,i,a;const s=(d,h=Date.now())=>{n=h,i=null,a&&(clearTimeout(a),a=null),t(...d)};return[(...d)=>{const h=Date.now(),p=h-n;p>=r?s(d,h):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-p)))},()=>i&&s(i)]}const ip=(t,e,n=3)=>{let r=0;const i=x9(50,250);return v9(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const p={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},gN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yN=t=>(...e)=>be.asap(()=>t(...e)),w9=fr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,E9=fr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,s){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];be.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),be.isString(r)&&l.push(`path=${r}`),be.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),be.isString(s)&&l.push(`SameSite=${s}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function A9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ij(t,e,n){let r=!A9(e);return t&&(r||n==!1)?S9(t,e):e}const bN=t=>t instanceof Wr?{...t}:t;function nl(t,e){e=e||{};const n={};function r(d,h,p,y){return be.isPlainObject(d)&&be.isPlainObject(h)?be.merge.call({caseless:y},d,h):be.isPlainObject(h)?be.merge({},h):be.isArray(h)?h.slice():h}function i(d,h,p,y){if(be.isUndefined(h)){if(!be.isUndefined(d))return r(void 0,d,p,y)}else return r(d,h,p,y)}function a(d,h){if(!be.isUndefined(h))return r(void 0,h)}function s(d,h){if(be.isUndefined(h)){if(!be.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,p){if(p in e)return r(d,h);if(p in t)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,p)=>i(bN(d),bN(h),p,!0)};return be.forEach(Object.keys({...t,...e}),function(h){const p=c[h]||i,y=p(t[h],e[h],h);be.isUndefined(y)&&p!==l||(n[h]=y)}),n}const aj=t=>{const e=nl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=e;if(e.headers=s=Wr.from(s),e.url=JD(ij(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),be.isFormData(n)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(be.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,p])=>{d.includes(h.toLowerCase())&&s.set(h,p)})}}if(fr.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(e)),r||r!==!1&&w9(e.url))){const c=i&&a&&E9.read(a);c&&s.set(i,c)}return e},T9=typeof XMLHttpRequest<"u",_9=T9&&function(t){return new Promise(function(n,r){const i=aj(t);let a=i.data;const s=Wr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,p,y,b,x;function w(){b&&b(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function S(){if(!E)return;const N=Wr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:N,config:t,request:E};rj(function(j){n(j),w()},function(j){r(j),w()},k),E=null}"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(S)},E.onabort=function(){E&&(r(new mt("Request aborted",mt.ECONNABORTED,t,E)),E=null)},E.onerror=function(D){const k=D&&D.message?D.message:"Network Error",P=new mt(k,mt.ERR_NETWORK,t,E);P.event=D||null,r(P),E=null},E.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||ej;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new mt(D,k.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,t,E)),E=null},a===void 0&&s.setContentType(null),"setRequestHeader"in E&&be.forEach(s.toJSON(),function(D,k){E.setRequestHeader(k,D)}),be.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),l&&l!=="json"&&(E.responseType=i.responseType),d&&([y,x]=ip(d,!0),E.addEventListener("progress",y)),c&&E.upload&&([p,b]=ip(c),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(h=N=>{E&&(r(!N||N.type?new Gu(null,t,E):N),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=b9(i.url);if(C&&fr.protocols.indexOf(C)===-1){r(new mt("Unsupported protocol "+C+":",mt.ERR_BAD_REQUEST,t));return}E.send(a||null)})},N9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof mt?h:new Gu(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,a(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))},e);const l=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>be.asap(l),c}},C9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},O9=async function*(t,e){for await(const n of k9(t))yield*C9(n,e)},k9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},xN=(t,e,n,r)=>{const i=O9(t,e);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let p=h.byteLength;if(n){let y=a+=p;n(y)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},vN=64*1024,{isFunction:cm}=be,P9=(({Request:t,Response:e})=>({Request:t,Response:e}))(be.global),{ReadableStream:wN,TextEncoder:EN}=be.global,AN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},D9=t=>{t=be.merge.call({skipUndefined:!0},P9,t);const{fetch:e,Request:n,Response:r}=t,i=e?cm(e):typeof fetch=="function",a=cm(n),s=cm(r);if(!i)return!1;const l=i&&cm(wN),c=i&&(typeof EN=="function"?(x=>w=>x.encode(w))(new EN):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=a&&l&&AN(()=>{let x=!1;const w=new n(fr.origin,{body:new wN,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!w}),h=s&&l&&AN(()=>be.isReadableStream(new r("").body)),p={stream:h&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(w,E)=>{let S=w&&w[x];if(S)return S.call(w);throw new mt(`Response type '${x}' is not supported`,mt.ERR_NOT_SUPPORT,E)})});const y=async x=>{if(x==null)return 0;if(be.isBlob(x))return x.size;if(be.isSpecCompliantForm(x))return(await new n(fr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(be.isArrayBufferView(x)||be.isArrayBuffer(x))return x.byteLength;if(be.isURLSearchParams(x)&&(x=x+""),be.isString(x))return(await c(x)).byteLength},b=async(x,w)=>{const E=be.toFiniteNumber(x.getContentLength());return E??y(w)};return async x=>{let{url:w,method:E,data:S,signal:C,cancelToken:N,timeout:D,onDownloadProgress:k,onUploadProgress:P,responseType:j,headers:U,withCredentials:V="same-origin",fetchOptions:X}=aj(x),z=e||fetch;j=j?(j+"").toLowerCase():"text";let Y=N9([C,N&&N.toAbortSignal()],D),ne=null;const K=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let se;try{if(P&&d&&E!=="get"&&E!=="head"&&(se=await b(U,S))!==0){let F=new n(w,{method:"POST",body:S,duplex:"half"}),Z;if(be.isFormData(S)&&(Z=F.headers.get("content-type"))&&U.setContentType(Z),F.body){const[R,oe]=gN(se,ip(yN(P)));S=xN(F.body,vN,R,oe)}}be.isString(V)||(V=V?"include":"omit");const L=a&&"credentials"in n.prototype,H={...X,signal:Y,method:E.toUpperCase(),headers:U.normalize().toJSON(),body:S,duplex:"half",credentials:L?V:void 0};ne=a&&new n(w,H);let ie=await(a?z(ne,X):z(w,H));const ue=h&&(j==="stream"||j==="response");if(h&&(k||ue&&K)){const F={};["status","statusText","headers"].forEach($=>{F[$]=ie[$]});const Z=be.toFiniteNumber(ie.headers.get("content-length")),[R,oe]=k&&gN(Z,ip(yN(k),!0))||[];ie=new r(xN(ie.body,vN,R,()=>{oe&&oe(),K&&K()}),F)}j=j||"text";let M=await p[be.findKey(p,j)||"text"](ie,x);return!ue&&K&&K(),await new Promise((F,Z)=>{rj(F,Z,{data:M,headers:Wr.from(ie.headers),status:ie.status,statusText:ie.statusText,config:x,request:ne})})}catch(L){throw K&&K(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,x,ne),{cause:L.cause||L}):mt.from(L,L&&L.code,x,ne)}}},j9=new Map,sj=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let s=a.length,l=s,c,d,h=j9;for(;l--;)c=a[l],d=h.get(c),d===void 0&&h.set(c,d=l?new Map:D9(e)),h=d;return d};sj();const Bw={http:KU,xhr:_9,fetch:{get:sj}};be.forEach(Bw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SN=t=>`- ${t}`,R9=t=>be.isFunction(t)||t===null||t===!1;function I9(t,e){t=be.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let s=0;s<n;s++){r=t[s];let l;if(i=r,!R9(r)&&(i=Bw[(l=String(r)).toLowerCase()],i===void 0))throw new mt(`Unknown adapter '${l}'`);if(i&&(be.isFunction(i)||(i=i.get(e))))break;a[l||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?s.length>1?`since :
`+s.map(SN).join(`
`):" "+SN(s[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const oj={getAdapter:I9,adapters:Bw};function Ib(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gu(null,t)}function TN(t){return Ib(t),t.headers=Wr.from(t.headers),t.data=Rb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oj.getAdapter(t.adapter||Ah.adapter,t)(t).then(function(r){return Ib(t),r.data=Rb.call(t,t.transformResponse,r),r.headers=Wr.from(r.headers),r},function(r){return nj(r)||(Ib(t),r&&r.response&&(r.response.data=Rb.call(t,t.transformResponse,r.response),r.response.headers=Wr.from(r.response.headers))),Promise.reject(r)})}const lj="1.13.1",hg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _N={};hg.transitional=function(e,n,r){function i(a,s){return"[Axios v"+lj+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(e===!1)throw new mt(i(s," has been removed"+(n?" in "+n:"")),mt.ERR_DEPRECATED);return n&&!_N[s]&&(_N[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,l):!0}};hg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function L9(t,e,n){if(typeof t!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const l=t[a],c=l===void 0||s(l,a,t);if(c!==!0)throw new mt("option "+a+" must be "+c,mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new mt("Unknown option "+a,mt.ERR_BAD_OPTION)}}const Ym={assertOptions:L9,validators:hg},da=Ym.validators;let Wo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new mN,response:new mN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Ym.assertOptions(r,{silentJSONParsing:da.transitional(da.boolean),forcedJSONParsing:da.transitional(da.boolean),clarifyTimeoutError:da.transitional(da.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:Ym.assertOptions(i,{encode:da.function,serialize:da.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ym.assertOptions(n,{baseUrl:da.spelling("baseURL"),withXsrfToken:da.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&be.merge(a.common,a[n.method]);a&&be.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),n.headers=Wr.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,p=0,y;if(!c){const x=[TN.bind(this),void 0];for(x.unshift(...l),x.push(...d),y=x.length,h=Promise.resolve(n);p<y;)h=h.then(x[p++],x[p++]);return h}y=l.length;let b=n;for(;p<y;){const x=l[p++],w=l[p++];try{b=x(b)}catch(E){w.call(this,E);break}}try{h=TN.call(this,b)}catch(x){return Promise.reject(x)}for(p=0,y=d.length;p<y;)h=h.then(d[p++],d[p++]);return h}getUri(e){e=nl(this.defaults,e);const n=ij(e.baseURL,e.url,e.allowAbsoluteUrls);return JD(n,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){Wo.prototype[e]=function(n,r){return this.request(nl(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,l){return this.request(nl(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Wo.prototype[e]=n(),Wo.prototype[e+"Form"]=n(!0)});let M9=class uj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,l){r.reason||(r.reason=new Gu(a,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new uj(function(i){e=i}),cancel:e}}};function B9(t){return function(n){return t.apply(null,n)}}function F9(t){return be.isObject(t)&&t.isAxiosError===!0}const W1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(W1).forEach(([t,e])=>{W1[e]=t});function cj(t){const e=new Wo(t),n=HD(Wo.prototype.request,e);return be.extend(n,Wo.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cj(nl(t,i))},n}const ot=cj(Ah);ot.Axios=Wo;ot.CanceledError=Gu;ot.CancelToken=M9;ot.isCancel=nj;ot.VERSION=lj;ot.toFormData=dg;ot.AxiosError=mt;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=B9;ot.isAxiosError=F9;ot.mergeConfig=nl;ot.AxiosHeaders=Wr;ot.formToJSON=t=>tj(be.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=oj.getAdapter;ot.HttpStatusCode=W1;ot.default=ot;const{Axios:rpe,AxiosError:ipe,CanceledError:ape,isCancel:spe,CancelToken:ope,VERSION:lpe,all:upe,Cancel:cpe,isAxiosError:dpe,spread:hpe,toFormData:fpe,AxiosHeaders:mpe,HttpStatusCode:ppe,formToJSON:gpe,getAdapter:ype,mergeConfig:bpe}=ot,U9=()=>{const t=window.location.hostname;if(console.log(":",t),t==="localhost"||t==="127.0.0.1")return console.log("localhost API"),"http://localhost:8007";const e=window.location.origin;return console.log("Nginx API:",e),e},Ct=U9(),dj=`${Ct}/api`;console.log("API:",{API_BASE_URL:Ct,API_URL:dj});let sd=!1,X1=[];const NN=(t,e=null)=>{X1.forEach(n=>{t?n.reject(t):n.resolve(e)}),X1=[]},H9=t=>{ot.interceptors.request.use(e=>{const n=localStorage.getItem("access_token");return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),ot.interceptors.response.use(e=>e,async e=>{const n=e.config;if(e.response?.status===401&&!n._retry){if(sd)return new Promise((i,a)=>{X1.push({resolve:i,reject:a})}).then(i=>(n.headers.Authorization=`Bearer ${i}`,ot(n))).catch(i=>Promise.reject(i));n._retry=!0,sd=!0;const r=localStorage.getItem("refresh_token");if(!r)return console.error("No refresh token found, logging out"),sd=!1,t&&t(),Promise.reject(e);try{const i=await ot.post(`${Ct}/api/auth/token/refresh/`,{refresh:r}),{access:a}=i.data;return localStorage.setItem("access_token",a),ot.defaults.headers.common.Authorization=`Bearer ${a}`,NN(null,a),sd=!1,n.headers.Authorization=`Bearer ${a}`,ot(n)}catch(i){return console.error("Token refresh failed, logging out",i),NN(i,null),sd=!1,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),t&&t(),Promise.reject(i)}}return Promise.reject(e)})},hj=T.createContext(null),ka=()=>{const t=T.useContext(hj);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},z9=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0),[a,s]=T.useState(localStorage.getItem("access_token"));T.useEffect(()=>{H9(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),delete ot.defaults.headers.common.Authorization,s(null),n(null),window.location.href="/"})},[]),T.useEffect(()=>{(async()=>{console.log(" [AuthContext] ..."),console.log(" [AuthContext] URL:",window.location.href),console.log(" [AuthContext] WebView:",window.__wxjs_environment==="miniprogram");const x=new URLSearchParams(window.location.search).get("miniapp_token");if(x){console.log(" [AuthContext] token:",x.substring(0,20)+"...");const w=await d(x);w.success?console.log(" [AuthContext] ID:",w.userData?.id):console.error(" [AuthContext] :",w.error);const E=new URL(window.location);E.searchParams.delete("miniapp_token"),window.history.replaceState({},"",E)}else{console.log(" [AuthContext] token");const w=localStorage.getItem("access_token"),E=localStorage.getItem("user");w&&E?(s(w),n(JSON.parse(E)),ot.defaults.headers.common.Authorization=`Bearer ${w}`,console.log(" [AuthContext] ID:",JSON.parse(E)?.id)):console.log(" [AuthContext] ")}console.log(" [AuthContext] loading=false"),i(!1)})()},[]);const l=async(y,b)=>{try{const x=await ot.post(`${Ct}/api/auth/login/`,{username:y,password:b}),{user:w,tokens:E}=x.data;return localStorage.setItem("access_token",E.access),localStorage.setItem("refresh_token",E.refresh),localStorage.setItem("user",JSON.stringify(w)),s(E.access),n(w),ot.defaults.headers.common.Authorization=`Bearer ${E.access}`,{success:!0}}catch(x){return{success:!1,error:x.response?.data?.error||""}}},c=async(y,b,x,w)=>{try{const E=await ot.post(`${Ct}/api/auth/register/`,{username:y,email:b,password:x,full_name:w}),{user:S,tokens:C}=E.data;return localStorage.setItem("access_token",C.access),localStorage.setItem("refresh_token",C.refresh),localStorage.setItem("user",JSON.stringify(S)),s(C.access),n(S),ot.defaults.headers.common.Authorization=`Bearer ${C.access}`,{success:!0}}catch(E){return{success:!1,error:E.response?.data?.error||""}}},d=async y=>{try{console.log(" [loginWithToken] token..."),ot.defaults.headers.common.Authorization=`Bearer ${y}`;const x=(await ot.get(`${Ct}/api/auth/profile/`)).data;return console.log(" [loginWithToken] :",x),localStorage.setItem("access_token",y),localStorage.setItem("user",JSON.stringify(x)),s(y),n(x),console.log(" [loginWithToken] "),{success:!0,userData:x}}catch(b){return console.error(" [loginWithToken] Token:",b),{success:!1,error:b.response?.data?.error||"Token"}}},p={user:e,token:a,loading:r,login:l,loginWithToken:d,register:c,logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),delete ot.defaults.headers.common.Authorization,s(null),n(null)},isAuthenticated:!!e};return m.jsx(hj.Provider,{value:p,children:t})};function si({children:t}){const{user:e,loading:n}=ka(),r=qi();return T.useEffect(()=>{n||e||(console.log(" [ProtectedRoute] "),r("/",{replace:!0}))},[e,n,r]),n?m.jsx("div",{className:"min-h-screen bg-blue-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),m.jsx("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:"..."})]})}):e?t:null}const st=t=>typeof t=="string",od=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},CN=t=>t==null?"":""+t,$9=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},q9=/###/g,ON=t=>t&&t.indexOf("###")>-1?t.replace(q9,"."):t,kN=t=>!t||st(t),jd=(t,e,n)=>{const r=st(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(kN(t))return{};const a=ON(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return kN(t)?{}:{obj:t,k:ON(r[i])}},PN=(t,e,n)=>{const{obj:r,k:i}=jd(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=jd(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=jd(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},Y9=(t,e,n,r)=>{const{obj:i,k:a}=jd(t,e,Object);i[a]=i[a]||[],i[a].push(n)},ap=(t,e)=>{const{obj:n,k:r}=jd(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},V9=(t,e,n)=>{const r=ap(t,n);return r!==void 0?r:ap(e,n)},fj=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?st(t[r])||t[r]instanceof String||st(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):fj(t[r],e[r],n):t[r]=e[r]);return t},iu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var G9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const W9=t=>st(t)?t.replace(/[&<>"'\/]/g,e=>G9[e]):t;class X9{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const K9=[" ",",","?","!",";"],Q9=new X9(20),Z9=(t,e,n)=>{e=e||"",n=n||"";const r=K9.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Q9.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},K1=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<r.length;++c)if(c!==a&&(l+=n),l+=r[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;a+=c-a+1;break}i=s}return i},Gd=t=>t?.replace("_","-"),J9={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class sp{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||J9,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(st(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new sp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sp(this.logger,e)}}var va=new sp;let fg=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class DN extends fg{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):st(r)&&a?l.push(...r.split(a)):l.push(r)));const c=ap(this.data,l);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),c||!s||!st(r)?c:K1(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),PN(this.data,l,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(st(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=ap(this.data,l)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?fj(c,r,a):c={...c,...r},PN(this.data,l,c),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var mj={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}};const pj=Symbol("i18next/PATH_KEY");function e7(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>(n?.revoke?.(),i===pj?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Q1(t,e){const{[pj]:n}=t(e7());return n.join(e?.keySeparator??".")}const jN={},Lb=t=>!st(t)&&typeof t!="boolean"&&typeof t!="number";class op extends fg{constructor(e,n={}){super(),$9(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=va.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if(i?.res===void 0)return!1;const a=Lb(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Z9(e,r,i);if(s&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:st(a)?[a]:a};const d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(i)}return{key:e,namespaces:st(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Q1(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),d=c[c.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return y?a?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${h}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;const b=this.resolve(e,i);let x=b?.res;const w=b?.usedKey||l,E=b?.exactUsedKey||l,S=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,D=i.count!==void 0&&!st(i.count),k=op.hasDefaultValue(i),P=D?this.pluralResolver.getSuffix(p,i.count,i):"",j=i.ordinal&&D?this.pluralResolver.getSuffix(p,i.count,{ordinal:!1}):"",U=D&&!i.ordinal&&i.count===0,V=U&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${j}`]||i.defaultValue;let X=x;N&&!x&&k&&(X=V);const z=Lb(X),Y=Object.prototype.toString.apply(X);if(N&&X&&z&&S.indexOf(Y)<0&&!(st(C)&&Array.isArray(X))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,X,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(b.res=ne,b.usedParams=this.getUsedParamsDetails(i),b):ne}if(s){const ne=Array.isArray(X),K=ne?[]:{},se=ne?E:w;for(const L in X)if(Object.prototype.hasOwnProperty.call(X,L)){const H=`${se}${s}${L}`;k&&!x?K[L]=this.translate(H,{...i,defaultValue:Lb(V)?V[L]:void 0,joinArrays:!1,ns:c}):K[L]=this.translate(H,{...i,joinArrays:!1,ns:c}),K[L]===H&&(K[L]=X[L])}x=K}}else if(N&&st(C)&&Array.isArray(x))x=x.join(C),x&&(x=this.extendTranslation(x,e,i,r));else{let ne=!1,K=!1;!this.isValidLookup(x)&&k&&(ne=!0,x=V),this.isValidLookup(x)||(K=!0,x=l);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:x,H=k&&V!==x&&this.options.updateMissing;if(K||ne||H){if(this.logger.log(H?"updateKey":"missingKey",p,d,l,H?V:x),s){const F=this.resolve(l,{...i,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let F=0;F<ue.length;F++)ie.push(ue[F]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(i.lng||this.language):ie.push(i.lng||this.language);const M=(F,Z,R)=>{const oe=k&&R!==x?R:L;this.options.missingKeyHandler?this.options.missingKeyHandler(F,d,Z,oe,H,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(F,d,Z,oe,H,i),this.emit("missingKey",F,d,Z,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?ie.forEach(F=>{const Z=this.pluralResolver.getSuffixes(F,i);U&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(R=>{M([F],l+R,i[`defaultValue${R}`]||V)})}):M(ie,l,V))}x=this.extendTranslation(x,e,i,b,r),K&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${d}${h}${l}`),(K||ne)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,ne?x:void 0,i))}return a?(b.res=x,b.usedParams=this.getUsedParamsDetails(i),b):x}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=st(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!st(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;d<y&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>a?.[0]===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=st(s)?[s]:s;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=mj.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,l;return st(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,n),h=d.key;i=h;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=n.count!==void 0&&!st(n.count),b=y&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(st(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(E=>{this.isValidLookup(r)||(l=E,!jN[`${w[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(jN[`${w[0]}-${E}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(S=>{if(this.isValidLookup(r))return;s=S;const C=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,h,S,E,n);else{let D;y&&(D=this.pluralResolver.getSuffix(S,n.count,n));const k=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&D.indexOf(P)===0&&C.push(h+D.replace(P,this.options.pluralSeparator)),C.push(h+D),b&&C.push(h+k)),x){const j=`${h}${this.options.contextSeparator||"_"}${n.context}`;C.push(j),y&&(n.ordinal&&D.indexOf(P)===0&&C.push(j+D.replace(P,this.options.pluralSeparator)),C.push(j+D),b&&C.push(j+k))}}let N;for(;N=C.pop();)this.isValidLookup(r)||(a=N,r=this.getResource(S,E,N,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!st(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class RN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=va.create("languageUtils")}getScriptPartFromCode(e){if(e=Gd(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Gd(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(st(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),st(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return st(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):st(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const IN={zero:0,one:1,two:2,few:3,many:4,other:5},LN={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class t7{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=va.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Gd(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),LN;if(!e.match(/-|_/))return LN;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>IN[i]-IN[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const MN=(t,e,n,r=".",i=!0)=>{let a=V9(t,e,n);return!a&&i&&st(n)&&(a=K1(t,n,r),a===void 0&&(a=K1(e,n,r))),a},Mb=t=>t.replace(/\$/g,"$$$$");class n7{constructor(e={}){this.logger=va.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:w,nestingOptionsSeparator:E,maxReplaces:S,alwaysFormat:C}=e.interpolation;this.escape=n!==void 0?n:W9,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?iu(a):s||"{{",this.suffix=l?iu(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?iu(y):b||iu("$t("),this.nestingSuffix=x?iu(x):w||iu(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=S||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const S=MN(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...i,...n,interpolationkey:b}):S}const x=b.split(this.formatSeparator),w=x.shift().trim(),E=x.join(this.formatSeparator).trim();return this.format(MN(n,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...i,...n,interpolationkey:w})};this.resetRegExp();const h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Mb(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Mb(this.escape(b)):Mb(b)}].forEach(b=>{for(l=0;a=b.regex.exec(e);){const x=a[1].trim();if(s=d(x),s===void 0)if(typeof h=="function"){const E=h(e,a,i);s=st(E)?E:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(p){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!st(s)&&!this.useRawValueToEscape&&(s=CN(s));const w=b.safeValue(s);if(e=e.replace(a[0],w),p?(b.regex.lastIndex+=s.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const l=(c,d)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const p=c.split(new RegExp(`${h}[ ]*{`));let y=`{${p[1]}`;c=p[0],y=this.interpolate(y,s);const b=y.match(/'/g),x=y.match(/"/g);((b?.length??0)%2===0&&!x||x.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),d&&(s={...d,...s})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,w),`${c}${h}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...r},s=s.replace&&!st(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const d=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(d!==-1&&(c=i[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,d)),a=n(l.call(this,i[1].trim(),s),s),a&&i[0]===e&&!st(a))return a;st(a)||(a=CN(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((h,p)=>this.format(h,p,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const r7=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();n[h]||(n[h]=d),d==="false"&&(n[h]=!1),d==="true"&&(n[h]=!0),isNaN(d)||(n[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},BN=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let l=e[s];return l||(l=t(Gd(r),i),e[s]=l),l(n)}},i7=t=>(e,n,r)=>t(Gd(n),r)(e);class a7{constructor(e={}){this.logger=va.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?BN:i7;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=BN(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:d,formatOptions:h}=r7(c);if(this.formats[d]){let p=l;try{const y=i?.formatParams?.[i.interpolationkey]||{},b=y.locale||y.lng||i.locale||i.lng||r;p=this.formats[d](l,b,{...h,...i,...y})}catch(y){this.logger.warn(y)}return p}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const s7=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class o7 extends fg{constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=va.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},l={},c={};return e.forEach(d=>{let h=!0;n.forEach(p=>{const y=`${d}|${p}`;!r.reload&&this.store.hasResourceBundle(d,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,h=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),c[p]===void 0&&(c[p]=!0)))}),h||(l[d]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Y9(c.loaded,[a],s),s7(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const h=c.loaded[d];h.length&&h.forEach(p=>{l[d][p]===void 0&&(l[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(d,h)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,n);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();st(e)&&(e=this.languageUtils.toResolveHierarchy(e)),st(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,n,r,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...s,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(e,n,r,i,c):h=d(e,n,r,i),h&&typeof h.then=="function"?h.then(p=>l(null,p)).catch(l):l(null,h)}catch(h){l(h)}else d(e,n,r,i,l,c)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const FN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),st(t[1])&&(e.defaultValue=t[1]),st(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),UN=t=>(st(t.ns)&&(t.ns=[t.ns]),st(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),st(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),dm=()=>{},l7=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Wd extends fg{constructor(e={},n){if(super(),this.options=UN(e),this.services={},this.logger=va,this.modules={external:[]},l7(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(st(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=FN();this.options={...r,...this.options,...UN(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?va.init(i(this.modules.logger),this.options):va.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=a7;const h=new RN(this.options);this.store=new DN(this.options.resources,this.options);const p=this.services;p.logger=va,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new t7(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=i(d),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new n7(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new o7(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new op(this.services,this.options),this.translator.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=dm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=od(),c=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),n(h,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,n=dm){let r=n;const i=st(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const i=od();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=dm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&mj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=od();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=st(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(st(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{a(h,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(p=>(typeof p=="function"&&(p=Q1(p,{...this.options,...s})),`${c.keyPrefix}${d}${p}`)):(typeof a=="function"&&(a=Q1(a,{...this.options,...s})),h=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a),this.t(h,c)};return st(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=od();return this.options.ns?(st(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=od();st(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new RN(FN());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Wd(e,n)}cloneInstance(e={},n=dm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Wd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((h,p)=>(h[p]={...c[d][p]},h),c[d]),c),{});a.store=new DN(l,i),a.services.resourceStore=a.store}return a.translator=new op(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const mr=Wd.createInstance();mr.createInstance=Wd.createInstance;mr.createInstance;mr.dir;mr.init;mr.loadResources;mr.reloadResources;mr.use;mr.changeLanguage;mr.getFixedT;mr.t;mr.exists;mr.setDefaultNamespace;mr.hasLoadedNamespace;mr.loadNamespaces;mr.loadLanguages;const u7=(t,e,n,r)=>{const i=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);rl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},HN={},gj=(t,e,n,r)=>{rl(n)&&HN[n]||(rl(n)&&(HN[n]=new Date),u7(t,e,n,r))},yj=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Z1=(t,e,n)=>{t.loadNamespaces(e,yj(t,n))},zN=(t,e,n,r)=>{if(rl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Z1(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,yj(t,r))},c7=(t,e,n={})=>!e.languages||!e.languages.length?(gj(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),rl=t=>typeof t=="string",d7=t=>typeof t=="object"&&t!==null,h7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},m7=t=>f7[t],p7=t=>t.replace(h7,m7);let J1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:p7};const g7=(t={})=>{J1={...J1,...t}},y7=()=>J1;let bj;const b7=t=>{bj=t},x7=()=>bj,v7={type:"3rdParty",init(t){g7(t.options.react),b7(t)}},w7=T.createContext();class E7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Bb={exports:{}},Fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function A7(){if($N)return Fb;$N=1;var t=zu();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),w=x[0].inst,E=x[1];return a(function(){w.value=b,w.getSnapshot=y,c(w)&&E({inst:w})},[p,b,y]),i(function(){return c(w)&&E({inst:w}),p(function(){c(w)&&E({inst:w})})},[p]),s(b),b}function c(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function d(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Fb}var qN;function xj(){return qN||(qN=1,Bb.exports=A7()),Bb.exports}var S7=xj();const T7=(t,e)=>rl(e)?e:d7(e)&&rl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,_7={t:T7,ready:!1},N7=()=>()=>{},C7=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:i}=T.useContext(w7)||{},a=n||r||x7();a&&!a.reportNamespaces&&(a.reportNamespaces=new E7),a||gj(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=T.useMemo(()=>({...y7(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:c}=s,d=T.useMemo(()=>{const D=i||a?.options?.defaultNS;return rl(D)?[D]:D||["translation"]},[t,i,a]);a?.reportNamespaces?.addUsedNamespaces?.(d);const h=T.useRef(0),p=T.useCallback(D=>{if(!a)return N7;const{bindI18n:k,bindI18nStore:P}=s,j=()=>{h.current+=1,D()};return k&&a.on(k,j),P&&a.store.on(P,j),()=>{k&&k.split(" ").forEach(U=>a.off(U,j)),P&&P.split(" ").forEach(U=>a.store.off(U,j))}},[a,s]),y=T.useRef(),b=T.useCallback(()=>{if(!a)return _7;const D=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(X=>c7(X,a,s)),k=e.lng||a.language,P=h.current,j=y.current;if(j&&j.ready===D&&j.lng===k&&j.keyPrefix===c&&j.revision===P)return j;const V={t:a.getFixedT(k,s.nsMode==="fallback"?d:d[0],c),ready:D,lng:k,keyPrefix:c,revision:P};return y.current=V,V},[a,d,c,s,e.lng]),[x,w]=T.useState(0),{t:E,ready:S}=S7.useSyncExternalStore(p,b,b);T.useEffect(()=>{if(a&&!S&&!l){const D=()=>w(k=>k+1);e.lng?zN(a,e.lng,d,D):Z1(a,d,D)}},[a,e.lng,d,S,l,x]);const C=a||{},N=T.useMemo(()=>{const D=[E,C,S];return D.t=E,D.i18n=C,D.ready=S,D},[E,C,S]);if(a&&l&&!S)throw new Promise(D=>{const k=()=>D();e.lng?zN(a,e.lng,d,k):Z1(a,d,k)});return N};function hl(){const t=qi();return n=>{if(n.startsWith("/")){t(n);return}const i={home:"/",dashboard:"/dashboard",policies:"/policies","plan-analyzer":"/plan-analyzer","plan-analyzer-2":"/plan-analyzer-2","plan-management":"/plan-management"}[n]||`/${n}`;t(i)}}function O7({onSwitchToRegister:t,onClose:e}){const[n,r]=T.useState({username:"",password:""}),[i,a]=T.useState(""),[s,l]=T.useState(!1),{login:c}=ka(),d=p=>{r({...n,[p.target.name]:p.target.value}),a("")},h=async p=>{p.preventDefault(),l(!0),a("");const y=await c(n.username,n.password);y.success?e():a(y.error),l(!1)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("h2",{className:"text-3xl font-bold text-navy-800 mb-2",children:""}),m.jsx("p",{className:"text-gray-700 mb-6",children:""}),i&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:i}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"text",name:"username",value:n.username,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"password",name:"password",value:n.password,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:s?"...":""})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-700",children:[""," ",m.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-semibold",children:""})]})})]})})}function k7({onSwitchToLogin:t,onClose:e}){const[n,r]=T.useState({username:"",email:"",full_name:"",password:"",confirmPassword:""}),[i,a]=T.useState(""),[s,l]=T.useState(!1),{register:c}=ka(),d=p=>{r({...n,[p.target.name]:p.target.value}),a("")},h=async p=>{if(p.preventDefault(),l(!0),a(""),n.password!==n.confirmPassword){a(""),l(!1);return}if(n.password.length<6){a("6"),l(!1);return}const y=await c(n.username,n.email,n.password,n.full_name);y.success?e():a(y.error),l(!1)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative max-h-screen overflow-y-auto",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),m.jsx("p",{className:"text-gray-600 mb-6",children:""}),i&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:i}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),m.jsx("input",{type:"text",name:"username",value:n.username,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),m.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"text",name:"full_name",value:n.full_name,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),m.jsx("input",{type:"password",name:"password",value:n.password,onChange:d,required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"6"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),m.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:s?"...":""})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-700",children:[""," ",m.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-semibold",children:""})]})})]})})}const P7={"zh-CN":{translation:{"header.title":"AI","header.subtitle":"AI",login:"",register:"",welcome:"",dashboard:"","home.badge":"AI","home.hero.title":"","home.hero.titleHighlight":"","home.hero.description":"AI","feature.planAssistant.title":"","feature.planAssistant.subtitle":"AI","feature.planAssistant.description":"AI","feature.planAssistant.button":"","feature.planAssistant.feat1":"","feature.planAssistant.feat2":"","feature.planAssistant.feat3":"","feature.planAssistant.feat4":"","feature.planAssistant.feat5":"","feature.planAssistant.feat6":"AI","feature.aiWriting.title":"","feature.aiWriting.subtitle":"AI","feature.aiWriting.description":"AI","feature.aiWriting.button":"","feature.aiWriting.feat1":"AI","feature.aiWriting.feat2":"","feature.aiWriting.feat3":"","feature.aiWriting.feat4":"SEO","feature.aiWriting.feat5":"","feature.aiWriting.feat6":"","highlight.title":"","highlight.subtitle":"","highlight.speed.title":"","highlight.speed.desc":"AI","highlight.analysis.title":"","highlight.analysis.desc":"95%","highlight.ai.title":"AI","highlight.ai.desc":"AI","stats.users":"","stats.docs":"","stats.accuracy":"","stats.service":"","cta.title":"","cta.subtitle":"AI","cta.start":"","cta.register":"","cta.login":"","footer.title":"","footer.desc":"AI","footer.products":"","footer.planTool":"","footer.writingTool":"","footer.dataAnalysis":"","footer.support":"","footer.helpCenter":"","footer.tutorials":"","footer.contact":"","footer.about":"","footer.aboutUs":"","footer.privacy":"","footer.terms":"","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI","search.placeholder":"...","category.all":"","category.analysis":"","category.management":"","category.marketing":"","category.calculation":"","category.training":"","category.finance":"","category.service":"","category.storage":"","category.compliance":"","category.underwriting":"","category.claims":"","tools.discover":"","tools.subtitle":"","tools.use":"","tools.noResults":"","tools.tryOther":"","tool.underwriting":"","tool.underwriting.desc":"AI","tool.calculator":"","tool.calculator.desc":"","tool.crm":"CRM","tool.crm.desc":"","tool.policy":"","tool.policy.desc":"","tool.analytics":"","tool.analytics.desc":"","tool.claims":"","tool.claims.desc":"","tool.compliance":"","tool.compliance.desc":"","tool.renewal":"","tool.renewal.desc":"","tool.aiwriting":"","tool.aiwriting.desc":"AI","tool.training":"","tool.training.desc":"","tool.commission":"","tool.commission.desc":"","tool.customer":"","tool.customer.desc":"AI","tool.storage":"","tool.storage.desc":"","tool.plananalyzer":"","tool.plananalyzer.desc":"AI","tool.planmanage":"","tool.planmanage.desc":"","stats.tools":"","stats.users":"","stats.efficiency":"","stats.satisfaction":"","footer.about":"","footer.about.desc":"","footer.products":"","footer.underwriting":"","footer.claims":"","footer.analytics":"","footer.customer":"","footer.help":"","footer.docs":"","footer.videos":"","footer.faq":"","footer.contact":"","footer.contactInfo":"","footer.phone":"852 62645180","footer.email":"client@xingke888.com","footer.hours":" 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}},"zh-TW":{translation:{"header.title":"AI","header.subtitle":"AI",login:"",register:"",welcome:"",dashboard:"","home.badge":"AI","home.hero.title":"","home.hero.titleHighlight":"","home.hero.description":"AI","feature.planAssistant.title":"","feature.planAssistant.subtitle":"AI","feature.planAssistant.description":"AI","feature.planAssistant.button":"","feature.planAssistant.feat1":"","feature.planAssistant.feat2":"","feature.planAssistant.feat3":"","feature.planAssistant.feat4":"","feature.planAssistant.feat5":"","feature.planAssistant.feat6":"AI","feature.aiWriting.title":"","feature.aiWriting.subtitle":"AI","feature.aiWriting.description":"AI","feature.aiWriting.button":"","feature.aiWriting.feat1":"AI","feature.aiWriting.feat2":"","feature.aiWriting.feat3":"","feature.aiWriting.feat4":"SEO","feature.aiWriting.feat5":"","feature.aiWriting.feat6":"","highlight.title":"","highlight.subtitle":"","highlight.speed.title":"","highlight.speed.desc":"AI","highlight.analysis.title":"","highlight.analysis.desc":"95%","highlight.ai.title":"AI","highlight.ai.desc":"AI","stats.users":"","stats.docs":"","stats.accuracy":"","stats.service":"","cta.title":"","cta.subtitle":"AI","cta.start":"","cta.register":"","cta.login":"","footer.title":"","footer.desc":"AI","footer.products":"","footer.planTool":"","footer.writingTool":"","footer.dataAnalysis":"","footer.support":"","footer.helpCenter":"","footer.tutorials":"","footer.contact":"","footer.about":"","footer.aboutUs":"","footer.privacy":"","footer.terms":"","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI","search.placeholder":"...","category.all":"","category.analysis":"","category.management":"","category.marketing":"","category.calculation":"","category.training":"","category.finance":"","category.service":"","category.storage":"","category.compliance":"","category.underwriting":"","category.claims":"","tools.discover":"","tools.subtitle":"","tools.use":"","tools.noResults":"","tools.tryOther":"","tool.underwriting":"","tool.underwriting.desc":"AI","tool.calculator":"","tool.calculator.desc":"","tool.crm":"CRM","tool.crm.desc":"","tool.policy":"","tool.policy.desc":"","tool.analytics":"","tool.analytics.desc":"","tool.claims":"","tool.claims.desc":"","tool.compliance":"","tool.compliance.desc":"","tool.renewal":"","tool.renewal.desc":"","tool.aiwriting":"","tool.aiwriting.desc":"AI","tool.training":"","tool.training.desc":"","tool.commission":"","tool.commission.desc":"","tool.customer":"","tool.customer.desc":"AI","tool.storage":"","tool.storage.desc":"","tool.plananalyzer":"","tool.plananalyzer.desc":"AI","tool.planmanage":"","tool.planmanage.desc":"","stats.tools":"","stats.users":"","stats.efficiency":"","stats.satisfaction":"","footer.about":"","footer.about.desc":"","footer.products":"","footer.underwriting":"","footer.claims":"","footer.analytics":"","footer.customer":"","footer.help":"","footer.docs":"","footer.videos":"","footer.faq":"","footer.contact":"","footer.contactInfo":"","footer.phone":"852 62645180","footer.email":"client@xingke888.com","footer.hours":" 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}},en:{translation:{"header.title":"AI-Powered Toolkit for Hong Kong Insurance Broker","header.subtitle":"AI-Driven Solutions for the Insurance Industry",login:"Login",register:"Register",welcome:"Welcome, ",dashboard:"Dashboard","home.badge":"AI-Driven Insurance Tool Platform","home.hero.title":"Make Insurance Business","home.hero.titleHighlight":"Smarter and More Efficient","home.hero.description":"An AI-powered tool platform built for insurance professionals, providing core features such as plan analysis and content creation to help you improve efficiency and focus on customer service.","feature.planAssistant.title":"Insurance Plan Assistant","feature.planAssistant.subtitle":"AI-Powered Insurance Plan Analysis Expert","feature.planAssistant.description":"Upload insurance plans, AI automatically recognizes and extracts key information, supports multi-plan comparison analysis, provides multi-round conversational Q&A, helps you quickly understand complex insurance terms and benefit calculations, and provides optimal recommendations for clients.","feature.planAssistant.button":"Get Started","feature.planAssistant.feat1":"High-precision intelligent recognition of plan content","feature.planAssistant.feat2":"Intelligent extraction of insured information and premium data","feature.planAssistant.feat3":"Policy year benefit statistics and analysis","feature.planAssistant.feat4":"Multi-plan comparison and analysis reports","feature.planAssistant.feat5":"Automatic calculation and comparison of return rates","feature.planAssistant.feat6":"AI assistant to query and explain plan terms","feature.aiWriting.title":"Insurance Content AI Writing & Publishing Tool","feature.aiWriting.subtitle":"AI-Powered Content Creation and Multi-Platform Publishing","feature.aiWriting.description":"One-stop insurance marketing content creation platform, AI intelligently generates professional content, supports one-click publishing to multiple platforms, enhancing your marketing efficiency.","feature.aiWriting.button":"Try Now","feature.aiWriting.feat1":"AI-powered insurance content generation","feature.aiWriting.feat2":"Multiple style template options","feature.aiWriting.feat3":"One-click publishing to multiple platforms","feature.aiWriting.feat4":"SEO optimization suggestions","feature.aiWriting.feat5":"Content scheduling management","feature.aiWriting.feat6":"Data analysis and insights","highlight.title":"Why Choose Us?","highlight.subtitle":"Professional, Efficient, Intelligent Insurance Tool Platform","highlight.speed.title":"Lightning Fast","highlight.speed.desc":"AI streaming output, real-time feedback, no waiting, boost productivity","highlight.analysis.title":"Smart Analysis","highlight.analysis.desc":"Automatic document recognition, extract key information with up to 95% accuracy","highlight.ai.title":"AI Empowered","highlight.ai.desc":"Using latest AI technology, continuous optimization and upgrades, always staying ahead","stats.users":"Active Users","stats.docs":"Documents Analyzed","stats.accuracy":"Accuracy","stats.service":"Online Service","cta.title":"Ready to Get Started?","cta.subtitle":"Register now for free to experience our AI-driven insurance tool platform","cta.start":"Get Started","cta.register":"Free Sign Up","cta.login":"Login Now","footer.title":"Insurance Tool Platform","footer.desc":"AI-Driven Professional Insurance Tools","footer.products":"Products","footer.planTool":"Plan Assistant","footer.writingTool":"Content Tools","footer.dataAnalysis":"Data Analytics","footer.support":"Support","footer.helpCenter":"Help Center","footer.tutorials":"Tutorials","footer.contact":"Contact Us","footer.about":"About","footer.aboutUs":"About Us","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI-Powered Tools to Significantly Boost Productivity","search.placeholder":"Search for tools or features...","category.all":"All","category.analysis":"Analytics","category.management":"Management","category.marketing":"Marketing","category.calculation":"Calculation","category.training":"Training","category.finance":"Finance","category.service":"Service","category.storage":"Storage","category.compliance":"Compliance","category.underwriting":"Underwriting","category.claims":"Claims","tools.discover":"Discover Tools","tools.subtitle":"Choose professional tools that fit your business needs","tools.use":"Use Now","tools.noResults":"No matching tools found","tools.tryOther":"Try searching with different keywords","tool.underwriting":"Smart Underwriting Assistant","tool.underwriting.desc":"AI-based intelligent underwriting system for quick risk assessment and improved efficiency","tool.calculator":"Premium Calculator","tool.calculator.desc":"Accurate premium calculation tool supporting multiple insurance products and rate models","tool.crm":"Customer Relationship Management CRM","tool.crm.desc":"Comprehensive customer relationship management to enhance service quality","tool.policy":"Policy Management","tool.policy.desc":"Efficient full lifecycle policy management system","tool.analytics":"Data Analytics Dashboard","tool.analytics.desc":"Visual data analysis for business trends and opportunities insights","tool.claims":"Claims Review System","tool.claims.desc":"Intelligent claims review for improved processing efficiency and accuracy","tool.compliance":"Compliance Checker","tool.compliance.desc":"Automated compliance checks to ensure regulatory adherence","tool.renewal":"Renewal Reminder System","tool.renewal.desc":"Smart renewal reminders to improve retention rates and customer satisfaction","tool.aiwriting":"Insurance Content AI Writing & Publishing System","tool.aiwriting.desc":"AI-driven insurance marketing content creation with one-click multi-platform publishing","tool.training":"Training & Learning Platform","tool.training.desc":"Professional insurance knowledge training and examination system","tool.commission":"Commission Calculation System","tool.commission.desc":"Precise commission calculation and settlement management system","tool.customer":"Online Customer Service System","tool.customer.desc":"AI-assisted intelligent customer service system for enhanced customer experience with accurate responses","tool.storage":"Document Cloud Storage","tool.storage.desc":"Secure cloud storage and management system for insurance documents","tool.plananalyzer":"Plan Analysis Tool","tool.plananalyzer.desc":"AI-powered intelligent parsing of policy documents with automatic key information extraction and analysis reports","tool.planmanage":"Plan Management","tool.planmanage.desc":"View and manage all saved insurance plan documents","stats.tools":"Professional Tools","stats.users":"Active Users","stats.efficiency":"Efficiency Boost","stats.satisfaction":"Satisfaction","footer.about":"About Us","footer.about.desc":"Dedicated to providing professional digital tools and solutions for insurance professionals","footer.products":"Products & Services","footer.underwriting":"Underwriting Tools","footer.claims":"Claims System","footer.analytics":"Data Analytics","footer.customer":"Customer Management","footer.help":"Help Center","footer.docs":"Documentation","footer.videos":"Video Tutorials","footer.faq":"FAQ","footer.contact":"Contact Us","footer.contactInfo":"Contact Information","footer.phone":"Phone: 852 62645180","footer.email":"Email: client@xingke888.com","footer.hours":"Hours: Monday - Friday 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}}};mr.use(v7).init({resources:P7,lng:"zh-TW",fallbackLng:"zh-TW",interpolation:{escapeValue:!1}});/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YN=t=>{const e=j7(t);return e.charAt(0).toUpperCase()+e.slice(1)},vj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),R7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>T.createElement("svg",{ref:c,...I7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vj("lucide",i),...!a&&!R7(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,h])=>T.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(L7,{ref:a,iconNode:e,className:vj(`lucide-${D7(YN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YN(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xd=Bt("arrow-left",M7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],F7=Bt("arrow-right",B7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],H7=Bt("award",U7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bo=Bt("chevron-down",z7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fo=Bt("chevron-up",$7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rd=Bt("circle-alert",q7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kd=Bt("circle-check-big",Y7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],G7=Bt("circle-check",V7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ns=Bt("clock",W7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],K7=Bt("dollar-sign",X7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VN=Bt("eye",Q7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qr=Bt("file-text",Z7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],eH=Bt("git-compare",J7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wj=Bt("list",tH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mt=Bt("loader-circle",nH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vm=Bt("message-square",rH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],aH=Bt("pen-tool",iH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ev=Bt("refresh-cw",sH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lH=Bt("save",oH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cH=Bt("search",uH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hH=Bt("send",dH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hm=Bt("sparkles",fH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],GN=Bt("table",mH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gH=Bt("target",pH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fw=Bt("trash-2",yH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xH=Bt("trending-up",bH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lp=Bt("upload",vH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EH=Bt("user",wH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Du=Bt("x",AH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TH=Bt("zap",SH);function WN(){const t=hl(),{t:e,i18n:n}=C7(),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{user:l,isAuthenticated:c}=ka(),d=p=>{n.changeLanguage(p)},h=[{id:"plan-assistant",title:e("feature.planAssistant.title"),subtitle:e("feature.planAssistant.subtitle"),description:e("feature.planAssistant.description"),icon:Vm,color:"from-blue-600 to-cyan-600",features:[e("feature.planAssistant.feat1"),e("feature.planAssistant.feat2"),e("feature.planAssistant.feat3"),e("feature.planAssistant.feat4"),e("feature.planAssistant.feat5"),e("feature.planAssistant.feat6")],action:()=>{c?t("plan-management"):i(!0)},buttonText:e("feature.planAssistant.button"),image:"/plan-assistant.svg"},{id:"ai-writing",title:e("feature.aiWriting.title"),subtitle:e("feature.aiWriting.subtitle"),description:e("feature.aiWriting.description"),icon:aH,color:"from-purple-600 to-pink-600",features:[e("feature.aiWriting.feat1"),e("feature.aiWriting.feat2"),e("feature.aiWriting.feat3"),e("feature.aiWriting.feat4"),e("feature.aiWriting.feat5"),e("feature.aiWriting.feat6")],action:()=>window.open("https://ai.hongkong-insurance.com/","_blank"),buttonText:e("feature.aiWriting.button"),image:"/ai-writing.svg"}];return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[m.jsx("header",{className:"bg-gradient-to-r from-navy-700 to-primary-700 shadow-lg sticky top-0 z-50 border-b border-primary-800",children:m.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-3 sm:py-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[m.jsxs("div",{className:"flex items-center justify-end sm:order-2 gap-1 sm:gap-2 md:gap-3",children:[m.jsxs("select",{value:n.language,onChange:p=>d(p.target.value),className:"px-2 py-1 sm:px-3 sm:py-2 bg-white border border-primary-300 rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-primary-400 text-navy-700",children:[m.jsx("option",{value:"zh-TW",children:""}),m.jsx("option",{value:"zh-CN",children:""}),m.jsx("option",{value:"en",children:"EN"})]}),c?m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-xs sm:text-sm text-white hidden md:inline",children:[e("welcome"),l?.full_name]}),m.jsx("button",{onClick:()=>t("dashboard"),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 bg-white text-primary-700 rounded-lg hover:bg-blue-50 transition-all text-xs sm:text-sm font-semibold whitespace-nowrap",children:e("dashboard")})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>i(!0),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 text-white hover:text-blue-100 transition-all text-xs sm:text-sm font-medium whitespace-nowrap",children:e("login")}),m.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 bg-white text-primary-700 rounded-lg hover:bg-blue-50 transition-all text-xs sm:text-sm font-semibold whitespace-nowrap",children:e("register")})]})]}),m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 sm:order-1",children:[m.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-18 lg:h-18 bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg flex items-center justify-center flex-shrink-0 shadow-lg",children:m.jsx(hm,{className:"w-5 h-5 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 text-white"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl md:text-3xl lg:text-4xl xl:text-4xl font-bold text-white leading-tight",children:e("header.title")}),m.jsx("p",{className:"text-xs sm:text-sm text-blue-100 hidden sm:block",children:e("header.subtitle")})]})]})]})})}),m.jsxs("section",{className:"relative py-10 sm:py-16 md:py-20 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/15 via-blue-600/15 to-navy-500/15"}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:m.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 bg-primary-100 text-primary-700 rounded-full text-xs sm:text-sm font-semibold mb-4 sm:mb-6 border border-primary-200",children:[m.jsx(hm,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e("home.badge")]}),m.jsxs("h1",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-navy-800 mb-4 sm:mb-6 px-2 ${n.language==="en"?"":"whitespace-nowrap"}`,children:[e("home.hero.title")," ",m.jsx("span",{className:"bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 bg-clip-text text-transparent",children:e("home.hero.titleHighlight")})]}),m.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-700 leading-relaxed px-4",children:e("home.hero.description")})]})})]}),m.jsx("section",{className:"py-8 sm:py-10 bg-gradient-to-b from-white to-slate-50",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:h.map(p=>m.jsxs("div",{className:"bg-white border-2 border-primary-200 rounded-2xl p-4 sm:p-6 md:p-8 hover:border-primary-400 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:`inline-flex items-center gap-1.5 sm:gap-2 px-3 py-1.5 sm:px-4 sm:py-2 bg-gradient-to-r ${p.color} text-white rounded-full text-xs sm:text-sm font-semibold mb-3 sm:mb-4 shadow-md`,children:[m.jsx(p.icon,{className:"w-3 h-3 sm:w-4 sm:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:p.subtitle})]}),m.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-navy-800 mb-2 sm:mb-3",children:p.title}),m.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 sm:mb-6 leading-relaxed",children:p.description}),m.jsx("div",{className:"space-y-1.5 sm:space-y-2 mb-4 sm:mb-6",children:p.features.map((y,b)=>m.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2",children:[m.jsx(G7,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:y})]},b))}),m.jsxs("button",{onClick:p.action,className:`group w-full px-4 py-2.5 sm:px-6 sm:py-3 bg-gradient-to-r ${p.color} text-white rounded-xl hover:shadow-lg transition-all text-sm sm:text-base font-semibold flex items-center justify-center gap-2`,children:[p.buttonText,m.jsx(F7,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})]},p.id))})})}),m.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-r from-navy-700 via-primary-600 to-navy-700 text-white",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-4",children:e("highlight.title")}),m.jsx("p",{className:"text-sm sm:text-base md:text-xl text-blue-100",children:e("highlight.subtitle")})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all border border-white/20",children:[m.jsx(TH,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),m.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.speed.title")}),m.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.speed.desc")})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all border border-white/20",children:[m.jsx(qr,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),m.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.analysis.title")}),m.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.analysis.desc")})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all sm:col-span-2 md:col-span-1 border border-white/20",children:[m.jsx(hm,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),m.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.ai.title")}),m.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.ai.desc")})]})]})]})}),m.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-white",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 md:gap-8 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 to-blue-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"10K+"}),m.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.users")})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-navy-600 to-primary-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"50K+"}),m.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.docs")})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-primary-500 bg-clip-text text-transparent mb-1 sm:mb-2",children:"95%"}),m.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.accuracy")})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 to-navy-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"24/7"}),m.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.service")})]})]})})}),m.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-br from-navy-800 to-navy-900 text-white",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6",children:e("cta.title")}),m.jsx("p",{className:"text-sm sm:text-base md:text-xl text-blue-100 mb-6 sm:mb-8 px-4",children:e("cta.subtitle")}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:c?m.jsx("button",{onClick:()=>t("plan-management"),className:"px-6 py-3 sm:px-8 sm:py-4 bg-white text-primary-700 rounded-xl hover:bg-blue-50 transition-all text-base sm:text-lg font-bold shadow-lg",children:e("cta.start")}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>s(!0),className:"px-6 py-3 sm:px-8 sm:py-4 bg-gradient-to-r from-primary-500 to-blue-600 text-white rounded-xl hover:from-primary-600 hover:to-blue-700 transition-all text-base sm:text-lg font-bold shadow-lg",children:e("cta.register")}),m.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 sm:px-8 sm:py-4 bg-white/10 backdrop-blur-lg text-white rounded-xl hover:bg-white/20 transition-all text-base sm:text-lg font-semibold border-2 border-white/30",children:e("cta.login")})]})})]})}),m.jsx("footer",{className:"bg-navy-900 text-gray-300 py-8 sm:py-12 border-t border-navy-800",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[m.jsxs("div",{className:"col-span-2 sm:col-span-2 md:col-span-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[m.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-primary-600 to-blue-700 rounded-lg flex items-center justify-center shadow-md",children:m.jsx(hm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),m.jsx("span",{className:"text-white text-sm sm:text-base font-bold",children:e("footer.title")})]}),m.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:e("footer.desc")})]}),m.jsxs("div",{children:[m.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.products")}),m.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.planTool")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.writingTool")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.dataAnalysis")})})]})]}),m.jsxs("div",{children:[m.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.support")}),m.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.helpCenter")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.tutorials")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.contact")})})]})]}),m.jsxs("div",{children:[m.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.about")}),m.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.aboutUs")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.privacy")})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.terms")})})]})]})]}),m.jsx("div",{className:"border-t border-navy-800 pt-6 sm:pt-8 text-center text-xs sm:text-sm",children:m.jsx("p",{className:"text-gray-400",children:e("footer.copyright")})})]})}),r&&m.jsx(O7,{onClose:()=>i(!1),onSwitchToRegister:()=>{i(!1),s(!0)}}),a&&m.jsx(k7,{onClose:()=>s(!1),onSwitchToLogin:()=>{s(!1),i(!0)}})]})}const _H=dj,jo=ot.create({baseURL:_H,headers:{"Content-Type":"application/json"}}),fm={getAllPolicies:()=>jo.get("/policies/"),getPolicy:t=>jo.get(`/policies/${t}/`),createPolicy:t=>jo.post("/policies/",t),updatePolicy:(t,e)=>jo.put(`/policies/${t}/`,e),deletePolicy:t=>jo.delete(`/policies/${t}/`),getActivePolicies:()=>jo.get("/policies/active_policies/"),cancelPolicy:t=>jo.post(`/policies/${t}/cancel_policy/`)};function NH(){const t=hl(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,s]=T.useState(null),[l,c]=T.useState(!1),[d,h]=T.useState({policy_number:"",customer_name:"",policy_type:"",premium:"",start_date:"",end_date:"",status:"active"});T.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const S=await fm.getAllPolicies();n(S.data.results||S.data),s(null)}catch(S){s(": "+S.message)}finally{i(!1)}},y=S=>{const{name:C,value:N}=S.target;h(D=>({...D,[C]:N}))},b=async S=>{S.preventDefault();try{await fm.createPolicy(d),c(!1),h({policy_number:"",customer_name:"",policy_type:"",premium:"",start_date:"",end_date:"",status:"active"}),p()}catch(C){s(": "+C.message)}},x=async S=>{if(window.confirm("?"))try{await fm.cancelPolicy(S),p()}catch(C){s(": "+C.message)}},w=async S=>{if(window.confirm("?"))try{await fm.deletePolicy(S),p()}catch(C){s(": "+C.message)}},E=S=>{const C={active:"bg-green-100 text-green-800",expired:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},N={active:"",expired:"",cancelled:""};return m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${C[S]}`,children:N[S]})};return r?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"text-xl text-gray-600",children:"..."})}):m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[t&&m.jsxs("button",{onClick:()=>t("home"),className:"text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),m.jsx("span",{children:""})]}),m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:""})]}),m.jsx("button",{onClick:()=>c(!l),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:l?"":""})]}),a&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),l&&m.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),m.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"text",name:"policy_number",value:d.policy_number,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"text",name:"customer_name",value:d.customer_name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"text",name:"policy_type",value:d.policy_type,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"number",name:"premium",value:d.premium,onChange:y,required:!0,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"date",name:"start_date",value:d.start_date,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),m.jsx("input",{type:"date",name:"end_date",value:d.end_date,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:""})})]})]}),m.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:""})}):e.map(S=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.policy_number}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.customer_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.policy_type}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",parseFloat(S.premium).toFixed(2)]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.start_date}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:E(S.status)}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[S.status==="active"&&m.jsx("button",{onClick:()=>x(S.id),className:"text-yellow-600 hover:text-yellow-900 mr-3",children:""}),m.jsx("button",{onClick:()=>w(S.id),className:"text-red-600 hover:text-red-900",children:""})]})]},S.id))})]})})]})}function CH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Wu=T.forwardRef(CH);function OH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const kH=T.forwardRef(OH);function PH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Ub=T.forwardRef(PH);function DH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const XN=T.forwardRef(DH);function jH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const RH=T.forwardRef(jH);function IH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const LH=T.forwardRef(IH);function MH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const BH=T.forwardRef(MH);function FH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const UH=T.forwardRef(FH);function HH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Xo=T.forwardRef(HH);function zH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const KN=T.forwardRef(zH);function $H({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const qH=T.forwardRef($H);function YH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Hb=T.forwardRef(YH);function VH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ko=T.forwardRef(VH);function GH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const QN=T.forwardRef(GH);function WH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tv=T.forwardRef(WH);function XH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ar=T.forwardRef(XH);function KH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Id=T.forwardRef(KH);function QH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ZH=T.forwardRef(QH);function JH({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const zb=T.forwardRef(JH);function ez({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const tz=T.forwardRef(ez);function nz(){const t=hl(),{user:e,logout:n}=ka(),[r,i]=T.useState(!1),[a,s]=T.useState({full_name:"",email:"",nickname:""}),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[p,y]=T.useState(1),[b,x]=T.useState(!1),[w,E]=T.useState(!0),[S,C]=T.useState(null),[N,D]=T.useState(!1);T.useEffect(()=>{const Y=setTimeout(()=>{E(!1)},800);return()=>clearTimeout(Y)},[]),T.useEffect(()=>{(async()=>{try{const ne=localStorage.getItem("access_token");if(!ne)return;const K=await ot.get(`${Ct}/api/ip-image/saved`,{headers:{Authorization:`Bearer ${ne}`}});K.data.status==="success"&&K.data.has_saved&&C(K.data.data)}catch(ne){console.error("IP:",ne)}})()},[]),T.useEffect(()=>{if(console.log(" [Dashboard]  JS-SDK"),console.log(" [Dashboard] window.wx :",typeof window.wx),console.log(" [Dashboard] window.wx.miniProgram :",typeof window.wx?.miniProgram),typeof window<"u"){const Y=()=>{typeof window.wx<"u"&&window.wx.miniProgram?(console.log(" [Dashboard]  JS-SDK "),console.log(" [Dashboard] wx.miniProgram :",Object.keys(window.wx.miniProgram))):(console.log(" [Dashboard]  JS-SDK ..."),setTimeout(Y,100))};setTimeout(Y,100)}},[]);const k=()=>{typeof wx<"u"&&wx.miniProgram?wx.miniProgram.navigateTo({url:"/pages/payment/payment?amount=1"}):alert(`

""`)},P=()=>{const Y=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u",ne=typeof window<"u"&&window.__wxjs_environment==="miniprogram",K=navigator.userAgent||"",se=K.toLowerCase().indexOf("miniprogram")>-1;return console.log(" [Dashboard] :"),console.log("  - window.wx :",typeof window.wx<"u"),console.log("  - window.wx.miniProgram :",Y),console.log("  - __wxjs_environment:",window.__wxjs_environment),console.log("  - UserAgent:",K),console.log("  - UserAgentminiprogram:",se),Y||ne||se},j=[{name:"",icon:KN,action:()=>t("plan-management"),color:"from-primary-600 to-blue-600",show:!0},{name:"IP",icon:Ar,action:()=>t("ip-image-generator"),color:"from-pink-600 to-purple-600",show:!0},{name:"IP",icon:Xo,action:()=>t("content-image-generator"),color:"from-indigo-600 to-blue-600",show:!0},{name:"",icon:Ar,action:()=>t("video-projects"),color:"from-orange-600 to-red-600",show:!0},{name:"",icon:KN,action:()=>t("media-library"),color:"from-green-600 to-emerald-600",show:!0},{name:"",icon:qH,action:()=>window.open("https://write.xingke888.com/editor","_blank"),color:"from-navy-600 to-primary-600",show:!0},{name:"",icon:UH,action:k,color:"from-purple-600 to-pink-600",show:!1}].filter(Y=>Y.show),U=()=>{console.log(" [Dashboard] "),console.log(" [Dashboard] :",e),console.log(" [Dashboard] :",e?.wechat),console.log(" [Dashboard] :",e?.wechat?.nickname),s({full_name:e?.full_name||"",email:e?.email||"",nickname:e?.wechat?.nickname||""}),i(!0)},V=async()=>{try{c(!0);const Y=localStorage.getItem("access_token");if(!Y){alert("");return}const ne=await ot.put(`${Ct}/api/auth/profile/`,{full_name:a.full_name,email:a.email},{headers:{Authorization:`Bearer ${Y}`}});e?.wechat&&a.nickname&&a.nickname!==e.wechat.nickname&&await ot.post(`${Ct}/api/wechat/update-profile`,{nickname:a.nickname},{headers:{Authorization:`Bearer ${Y}`}});const K={...e,email:ne.data.user.email,full_name:ne.data.user.full_name,first_name:ne.data.user.first_name,last_name:ne.data.user.last_name};e?.wechat&&a.nickname&&(K.wechat={...e.wechat,nickname:a.nickname}),localStorage.setItem("user",JSON.stringify(K)),i(!1),alert(""),window.location.reload()}catch(Y){console.error(":",Y);const ne=Y.response?.data?.error||Y.response?.data?.message||"";alert(ne)}finally{c(!1)}},X=()=>{if(console.log(" [Dashboard] "),console.log(" [Dashboard] :",e?.wechat?"":""),e?.wechat!==void 0&&e?.wechat!==null){const ne=P();if(console.log(" [Dashboard] :",ne),ne)if(console.log(" [Dashboard] "),typeof window.wx<"u"&&window.wx.miniProgram)try{console.log(" [Dashboard] "),window.wx.miniProgram.navigateTo({url:"/pages/webview/webview?action=logout",success:()=>{console.log(" [Dashboard] ")},fail:K=>{console.error(" [Dashboard] :",K),window.wx.miniProgram.redirectTo({url:"/pages/webview/webview?action=logout"})}})}catch(K){console.error(" [Dashboard] :",K),alert("")}else console.error(" [Dashboard] window.wx.miniProgram "),alert("");else console.log(" [Dashboard] "),n(),t("home")}else console.log(" [Dashboard] "),n(),t("home")},z=async()=>{try{x(!0);const Y=await ot.post(`${Ct}/api/payment/create-jsapi`,{amount:p,description:""});if(Y.data.code===200){const ne=Y.data.data.payment;if(typeof WeixinJSBridge>"u"){alert("JS-SDK");return}WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:ne.appId,timeStamp:ne.timeStamp,nonceStr:ne.nonceStr,package:ne.package,signType:ne.signType,paySign:ne.paySign},function(K){K.err_msg==="get_brand_wcpay_request:ok"?(alert(""),h(!1)):K.err_msg==="get_brand_wcpay_request:cancel"?alert(""):alert(""+K.err_msg)})}else alert(Y.data.message||"")}catch(Y){console.error(":",Y),alert(Y.response?.data?.message||"")}finally{x(!1)}};return w?m.jsx("div",{className:"min-h-screen bg-blue-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),m.jsx("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:"..."})]})}):m.jsxs("div",{className:"min-h-screen bg-blue-100",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"mb-5",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-0.5",children:["",e?.wechat?.nickname||e?.full_name]}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),m.jsx("div",{className:"mb-5",children:m.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all",children:m.jsxs("div",{className:"flex items-center gap-4",children:[S?m.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>D(!0),children:[m.jsx("img",{src:S.generated_image_url,alt:"IP",className:"w-24 h-24 sm:w-28 sm:h-28 rounded-2xl object-cover shadow-lg ring-4 ring-white transition-all group-hover:ring-purple-400 group-hover:shadow-xl"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded-2xl transition-all flex items-center justify-center",children:m.jsx("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}):m.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-2xl bg-gradient-to-br from-purple-400 to-pink-400 shadow-lg ring-4 ring-white flex items-center justify-center",children:m.jsx(Ar,{className:"w-12 h-12 text-white"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"IP"})}),m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:S?S.prompt||"IP":"IP"}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:S?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border-2 border-purple-300 text-purple-700 rounded-lg hover:bg-purple-50 transition-all text-sm font-medium shadow-sm",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),""]}),m.jsxs("button",{onClick:()=>t("ip-image-generator"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all text-sm font-medium shadow-sm hover:shadow-md",children:[m.jsx(Ar,{className:"w-4 h-4"}),""]})]}):m.jsxs("button",{onClick:()=>t("ip-image-generator"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all text-sm font-medium shadow-sm hover:shadow-md",children:[m.jsx(Ar,{className:"w-4 h-4"}),""]})})]})]})})}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:m.jsxs("div",{className:"lg:col-span-3",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:""}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:j.map((Y,ne)=>m.jsxs("button",{onClick:Y.action,className:"bg-white border border-blue-100 rounded-lg p-6 hover:border-blue-400 hover:shadow-md transition-all flex items-center gap-4 text-left group relative overflow-hidden min-h-[120px]",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm group-hover:shadow-md group-hover:scale-105 transition-all relative z-10",children:m.jsx(Y.icon,{className:"w-7 h-7 text-white"})}),m.jsxs("div",{className:"flex-1 relative z-10",children:[m.jsx("h4",{className:"text-base font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:Y.name}),m.jsx("p",{className:"text-sm text-gray-500 mt-1 font-medium",children:""})]}),m.jsx("div",{className:"text-gray-400 group-hover:text-blue-500 transition-colors relative z-10",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},ne))})]})}),m.jsxs("div",{className:"mt-5 bg-white border border-gray-200 rounded-lg shadow-sm",children:[m.jsx("div",{className:"px-5 py-3 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:m.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:""})}),m.jsxs("div",{className:"p-4",children:[e?.wechat&&m.jsx("div",{className:"mb-3 pb-3 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center space-x-2.5",children:[e.wechat.avatar?m.jsx("img",{src:e.wechat.avatar,alt:"",className:"h-10 w-10 rounded-full object-cover ring-2 ring-blue-100",onError:Y=>{Y.target.style.display="none",Y.target.nextSibling.style.display="flex"}}):null,m.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-sm font-semibold ring-2 ring-blue-100 shadow-sm",style:{display:e.wechat.avatar?"none":"flex"},children:e.wechat.nickname?.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.wechat.nickname}),m.jsx("span",{className:"px-1.5 py-0.5 bg-green-50 text-green-600 text-xs rounded font-medium border border-green-200",children:""})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),m.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e?.full_name})]}),m.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),m.jsx("p",{className:"text-sm text-gray-900 flex-1 break-all",children:e?.email})]}),e?.wechat&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),m.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e.wechat.nickname})]}),e.wechat.phone&&m.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[m.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),m.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e.wechat.phone})]})]})]}),m.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:m.jsx("button",{onClick:U,className:"w-full px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm hover:shadow",children:""})})]})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx("button",{onClick:X,className:"px-6 py-2 text-sm bg-white text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-red-600 hover:border-red-300 transition-colors font-medium",children:""})})]}),d&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-auto border border-gray-200",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),m.jsx("input",{type:"number",min:"0.01",step:"0.01",value:p,onChange:Y=>y(parseFloat(Y.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xl font-semibold text-center"})]}),m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-blue-900",children:""}),m.jsx("p",{className:"text-xs text-blue-700 mt-0.5",children:""})]})]})}),m.jsxs("div",{className:"text-xs text-gray-500 space-y-1.5 bg-gray-50 rounded-lg p-3",children:[m.jsx("p",{children:" "}),m.jsx("p",{children:" "}),m.jsx("p",{children:" "})]})]}),m.jsxs("div",{className:"flex space-x-3 mt-6",children:[m.jsx("button",{onClick:()=>h(!1),disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium text-sm",children:""}),m.jsx("button",{onClick:z,disabled:b||p<=0,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-medium text-sm",children:b?m.jsx("span",{children:"..."}):m.jsxs(m.Fragment,{children:[m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M8.5 2A5.5 5.5 0 003 7.5v9A5.5 5.5 0 008.5 22h7a5.5 5.5 0 005.5-5.5v-9A5.5 5.5 0 0015.5 2h-7zm0 2h7A3.5 3.5 0 0119 7.5v9a3.5 3.5 0 01-3.5 3.5h-7A3.5 3.5 0 015 16.5v-9A3.5 3.5 0 018.5 4z"})}),m.jsx("span",{children:""})]})})]})]})]})}),r&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-auto border border-gray-200",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"space-y-5",children:[e?.wechat&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),m.jsx("input",{type:"text",value:a.nickname,onChange:Y=>s({...a,nickname:Y.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"",maxLength:100}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center",children:[m.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),""]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),m.jsx("input",{type:"text",value:a.full_name,onChange:Y=>s({...a,full_name:Y.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),m.jsx("input",{type:"email",value:a.email,onChange:Y=>s({...a,email:Y.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:""})]})]}),m.jsxs("div",{className:"flex space-x-3 mt-6",children:[m.jsx("button",{onClick:()=>i(!1),disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium text-sm",children:""}),m.jsx("button",{onClick:V,disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:l?"...":""})]})]})]})}),N&&S&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>D(!1),children:m.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[m.jsx("button",{onClick:()=>D(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[m.jsx("img",{src:S.generated_image_url,alt:"IP",className:"w-full h-auto object-contain max-h-[80vh]"}),S.prompt&&m.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-t border-gray-200",children:m.jsx("p",{className:"text-sm text-gray-700 text-center",children:S.prompt})})]}),m.jsx("p",{className:"text-white text-center mt-4 text-sm",children:""})]})})]})}const wr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),nv=[.001,0,0,.001,0,0],$b=1.35,di={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},to={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qd="pdfjs_internal_editor_",dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},rz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},rv={TRIANGLES:1,LATTICE:2},rr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Nn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mg={ERRORS:0,WARNINGS:1,INFOS:5},Zd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ld={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},iz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let pg=mg.WARNINGS;function az(t){Number.isInteger(t)&&(pg=t)}function sz(){return pg}function gg(t){pg>=mg.INFOS&&console.info(`Info: ${t}`)}function ut(t){pg>=mg.WARNINGS&&console.warn(`Warning: ${t}`)}function Wt(t){throw new Error(t)}function Nt(t,e){t||Wt(e)}function oz(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ej(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=hz(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return oz(r)?r:null}function Aj(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&Ej(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const fl=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class ZN extends fl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class qb extends fl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class iv extends fl{constructor(e){super(e,"InvalidPDFException")}}class up extends fl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class lz extends fl{constructor(e){super(e,"FormatError")}}class so extends fl{constructor(e){super(e,"AbortException")}}function Sj(t){(typeof t!="object"||t?.length===void 0)&&Wt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Sh(t){typeof t!="string"&&Wt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function uz(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function cz(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function dz(){try{return new Function(""),!0}catch{return!1}}class lr{static get isLittleEndian(){return pt(this,"isLittleEndian",cz())}static get isEvalSupported(){return pt(this,"isEvalSupported",dz())}static get isOffscreenCanvasSupported(){return pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return pt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return pt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return pt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return pt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Yb=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Ye{static makeHexColor(e,n,r){return`#${Yb[e]}${Yb[n]}${Yb[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],s=n[2],l=n[3],c=n[4],d=n[5];for(let h=0;h<6;h+=2){const p=e[r+h],y=e[r+h+1];e[r+h]=p*i+y*s+c,e[r+h+1]=p*a+y*l+d}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],s=n[2],l=n[3],c=n[4],d=n[5],h=e[0],p=e[1],y=e[2],b=e[3];let x=i*h+c,w=x,E=i*y+c,S=E,C=l*p+d,N=C,D=l*b+d,k=D;if(a!==0||s!==0){const P=a*h,j=a*y,U=s*p,V=s*b;x+=U,S+=U,E+=V,w+=V,C+=P,k+=P,D+=j,N+=j}r[0]=Math.min(r[0],x,E,w,S),r[1]=Math.min(r[1],C,D,N,k),r[2]=Math.max(r[2],x,E,w,S),r[3]=Math.max(r[3],C,D,N,k)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],s=e[3],l=r**2+i**2,c=r*a+i*s,d=a**2+s**2,h=(l+d)/2,p=Math.sqrt(h**2-(l*d-c**2));n[0]=Math.sqrt(h+p||1),n[1]=Math.sqrt(h-p||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static#e(e,n,r,i,a,s,l,c,d,h){if(d<=0||d>=1)return;const p=1-d,y=d*d,b=y*d,x=p*(p*(p*e+3*d*n)+3*y*r)+b*i,w=p*(p*(p*a+3*d*s)+3*y*l)+b*c;h[0]=Math.min(h[0],x),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],x),h[3]=Math.max(h[3],w)}static#t(e,n,r,i,a,s,l,c,d,h,p,y){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,n,r,i,a,s,l,c,-p/h,y);return}const b=h**2-4*p*d;if(b<0)return;const x=Math.sqrt(b),w=2*d;this.#e(e,n,r,i,a,s,l,c,(-h+x)/w,y),this.#e(e,n,r,i,a,s,l,c,(-h-x)/w,y)}static bezierBoundingBox(e,n,r,i,a,s,l,c,d){d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],n,c),this.#t(e,r,a,l,n,i,s,c,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),d),this.#t(e,r,a,l,n,i,s,c,3*(-n+3*(i-s)+c),6*(n-2*i+s),3*(i-n),d)}}function hz(t){return decodeURIComponent(escape(t))}let Vb=null,JN=null;function fz(t){return Vb||(Vb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,JN=new Map([["","t"]])),t.replaceAll(Vb,(e,n,r)=>n?n.normalize("NFKC"):JN.get(r))}function Tj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Sj(t)}const pu="pdfjs_internal_id_";function mz(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const s=a.length;let l=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;l=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function Er(t,e,n){return Math.min(Math.max(t,e),n)}function _j(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Sj(t))}function pz(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Sh(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Jd{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let s=null;const l=a.name;if(l==="#text")s=a.value;else if(Jd.shouldBuildText(l))a?.attributes?.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Nj{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(n,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",l=>{i.setValue(n,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(n,{value:l.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const l of r.children)l.attributes.value===s.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,l=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[c,d]of Object.entries(s))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const l=a!=="richText",c=e.div;if(c.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),l&&Jd.shouldBuildText(i.name)&&d.push(p)}return{textDivs:d}}const h=[[i,-1,s]];for(;h.length>0;){const[p,y,b]=h.at(-1);if(y+1===p.children.length){h.pop();continue}const x=p.children[++h.at(-1)[1]];if(x===null)continue;const{name:w}=x;if(w==="#text"){const S=document.createTextNode(x.value);d.push(S),b.append(S);continue}const E=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,w):document.createElement(w);if(b.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:n,intent:a,linkService:r}),x.children?.length>0)h.push([x,-1,E]);else if(x.value){const S=document.createTextNode(x.value);l&&Jd.shouldBuildText(w)&&d.push(S),E.append(S)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ka="http://www.w3.org/2000/svg";class ju{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Th(t,e="text"){if(Nd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class _h{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,p,y,b;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,p=0,y=0,b=1;break;case 90:h=0,p=1,y=1,b=0;break;case 270:h=0,p=-1,y=-1,b=0;break;case 0:h=1,p=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,b=-b);let x,w,E,S;h===0?(x=Math.abs(d-e[1])*r+a,w=Math.abs(c-e[0])*r+s,E=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(x=Math.abs(c-e[0])*r+a,w=Math.abs(d-e[1])*r+s,E=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[h*r,p*r,y*r,b*r,x-h*r*c-y*r*d,w-p*r*c-b*r*d],this.width=E,this.height=S}get rawDims(){const e=this.viewBox;return pt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new _h({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return Ye.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Ye.applyTransform(n,this.transform);const r=[e[2],e[3]];return Ye.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Ye.applyInverseTransform(r,this.transform),r}}class Uw extends fl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function yg(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function Hw(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function gz(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function yz(t,e="document.pdf"){if(typeof t!="string")return e;if(yg(t))return ut('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},a=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(a.test(s))return i(s);if(r.searchParams.size>0){const l=Array.from(r.searchParams.values()).reverse();for(const d of l)if(a.test(d))return i(d);const c=Array.from(r.searchParams.keys()).reverse();for(const d of c)if(a.test(d))return i(d)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return e}class eC{started=Object.create(null);times=[];time(e){e in this.started&&ut(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ut(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Nd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Hi(t){t.preventDefault()}function pn(t){t.preventDefault(),t.stopPropagation()}function bz(t){console.log("Deprecated API usage: "+t)}class av{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let l=parseInt(n[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(n[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(s+=h,l+=p):d==="+"&&(s-=h,l-=p),new Date(Date.UTC(r,i,a,s,l,c))}}function xz(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new _h({viewBox:a,userUnit:1,scale:e,rotation:n})}function Nh(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ut(`Not a valid color format: "${t}"`),[0,0,0])}function vz(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Nh(r))}e.remove()}function dn(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function ha(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function il(t,e,n=!1,r=!0){if(e instanceof _h){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,l=lr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,h=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||e.rotation%180===0?(s.width=h,s.height=p):(s.width=p,s.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Aa{constructor(){const{pixelRatio:e}=Aa;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let s=1/0,l=1/0,c=1/0;r=Aa.capPixels(r,a),r>0&&(s=Math.sqrt(r/(e*n))),i!==-1&&(l=i/e,c=i/n);const d=Math.min(s,l,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const sv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class wz{static get isDarkMode(){return pt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Ez{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),pt(this,"commentForegroundColor",Nh(r))}}function Az(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function tC(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const c=a-s;switch(e[1]=l<.5?c/(a+s):c/(2-a-s),a){case n:e[0]=((r-i)/c+(r<i?6:0))*60;break;case r:e[0]=((i-n)/c+2)*60;break;case i:e[0]=((n-r)/c+4)*60;break}}e[2]=l}function ov(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,s=a*(1-Math.abs(n/60%2-1)),l=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+l,e[1]=s+l,e[2]=l;break;case 1:e[0]=s+l,e[1]=a+l,e[2]=l;break;case 2:e[0]=l,e[1]=a+l,e[2]=s+l;break;case 3:e[0]=l,e[1]=s+l,e[2]=a+l;break;case 4:e[0]=s+l,e[1]=l,e[2]=a+l;break;case 5:case 6:e[0]=a+l,e[1]=l,e[2]=s+l;break}}function nC(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function rC(t,e,n){ov(t,n),n.map(nC);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];ov(e,n),n.map(nC);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const iC=new Map;function Sz(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=iC.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);tC(t,s);const l=i.subarray(6,9);tC(e,l);const c=l[2]<.5,d=c?12:4.5;if(s[2]=c?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),rC(s,l,a)<d){let h,p;c?(h=s[2],p=1):(h=0,p=s[2]);const y=.005;for(;p-h>y;){const b=s[2]=(h+p)/2;c===rC(s,l,a)<d?h=b:p=b}s[2]=c?p:h}return ov(s,a),r=Ye.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),iC.set(n,r),r}function Cj({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let l=0,c=s.length;l<c;++l){const d=s[l];a.append(document.createTextNode(d)),l<c-1&&a.append(document.createElement("br"))}i.append(a)}else Nj.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function Oj(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case ld.moveTo:e.moveTo(t[n++],t[n++]);break;case ld.lineTo:e.lineTo(t[n++],t[n++]);break;case ld.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case ld.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case ld.closePath:e.closePath();break;default:ut(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class Ld{#e=null;#t=null;#r;#n=null;#s=null;#a=null;#i=null;#o=null;static#u=null;constructor(e){this.#r=e,Ld.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Hi,{signal:n}),e.addEventListener("pointerdown",Ld.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=e,s=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,pn(e)}#d(e){this.#r._focusEventsAllowed=!0,pn(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Hi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Ld.#u[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#g),this.#s=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#g)}removeButton(e){switch(e){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Tz{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Hi,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#s(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const l=a.x+(n?a.width:0);if(s>r){i=l,r=s;continue}n?l>i&&(i=l):l<i&&(i=l)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#s(n,r),{style:s}=this.#t||=this.#n();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const l=this.#r._signal;l instanceof AbortSignal&&!l.aborted&&(a.addEventListener("contextmenu",Hi,{signal:l}),a.addEventListener("click",i,{signal:l})),this.#e.append(a)}}function kj(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class It{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(It.#t||=new Set).add(e)}static setPointer(e,n){It.#e||=n,It.#n??=e}static setTimeStamp(e){It.#r=e}static isSamePointerId(e){return It.#e===e}static isSamePointerIdOrRemove(e){return It.#e===e?!0:(It.#t?.delete(e),!1)}static isSamePointerType(e){return It.#n===e}static isInitializedAndDifferentPointerType(e){return It.#n!==null&&!It.isSamePointerType(e)}static isSameTimeStamp(e){return It.#r===e}static isUsingMultiplePointers(){return It.#t?.size>=1}static clearPointerType(){It.#n=null}static clearPointerIds(){It.#e=NaN,It.#t=null}static clearTimeStamp(){It.#r=NaN}}class _z{#e=0;get id(){return`${Qd}${this.#e++}`}}class zw{#e=Tj();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return pt(this,"_isSVGFittingCanvas",a)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Th(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=zw._isSVGFittingCanvas,s=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,d()},s.onload=async()=>{const p=r.svgUrl=s.result;l.src=await a?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=s.onerror=h});s.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){ut(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#n(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Nz{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:l=!1}){if(i&&e(),this.#t)return;const c={cmd:e,undo:n,post:r,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(s&&this.#e[this.#n].type===a){l&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Ch{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=lr.platform;for(const[r,i,a={}]of e)for(const s of r){const l=s.startsWith("mac+");n&&l?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!l&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:l=null}}=r;l&&!l(e,n)||(i.bind(e,...s,n)(),a||pn(n))}}class $w{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return vz(e),pt(this,"_colors",e)}convert(e){const n=Nh(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return $w._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ye.makeHexColor(...n):e}}class oo{#e=new AbortController;#t=null;#r=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#u=new Nz;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#c=null;#m=new Set;_editorUndoBar=null;#y=!1;#x=!1;#b=!1;#T=null;#A=null;#w=null;#N=null;#v=!1;#S=null;#k=new _z;#C=!1;#O=!1;#M=!1;#D=null;#R=null;#B=null;#I=null;#q=null;#_=dt.NONE;#E=new Set;#j=null;#F=null;#H=null;#G=null;#V=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#L=null;#Y=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=oo.prototype,n=s=>s.#Y.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return pt(this,"_keyboardManager",new Ch([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#Y.contains(l)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#Y.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,s,l,c,d,h,p,y,b,x,w,E){const S=this._signal=this.#e.signal;this.#Y=e,this.#Z=n,this.#J=r,this.#a=i,this.#l=a,this.#F=s,this.#V=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:S}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:S}),this.#se(),this.#he(),this.#te(),this.#i=c.annotationStorage,this.#T=c.filterFactory,this.#H=d,this.#N=h||null,this.#y=p,this.#x=y,this.#b=b,this.#q=x||null,this.viewParameters={realScale:ju.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=E!==!1,a?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#m.clear(),this.#I?.clear(),this.#t=null,this.#E.clear(),this.#u.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#S?.hide(),this.#S=null,this.#B?.destroy(),this.#B=null,this.#r=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#x}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return pt(this,"hcmFilter",this.#H?this.#T.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return pt(this,"direction",getComputedStyle(this.#Y).direction)}get _highlightColors(){return pt(this,"_highlightColors",this.#N?new Map(this.#N.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return pt(this,"highlightColors",null);const n=new Map,r=!!this.#H;for(const[i,a]of e){const s=i.endsWith("_HCM");if(r&&s){n.set(i.replace("_HCM",""),a);continue}!r&&!s&&n.set(i,a)}return pt(this,"highlightColors",n)}get highlightColorNames(){return pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#s.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#F?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#F}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=n;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#Y.focus()}findParent(e,n){for(const r of this.#s.values()){const{x:i,y:a,width:s,height:l}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+l)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ju.PDF_TO_CSS_UNITS;for(const n of this.#m)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#s.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:l}=r,c=r.toString(),h=this.#Q(r).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;r.empty();const y=this.#ee(h),b=this.#_===dt.NONE,x=()=>{const w=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:l,text:c});b&&this.showAllEditors("highlight",!0,!0),n&&w?.editComment()};if(b){this.switchToMode(dt.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#S||=new Tz(this),this.#S.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Qd}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#j&&(this.#S?.hide(),this.#j=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#j)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#j&&(this.#S?.hide(),this.#j=null,this.#P({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#j=n,this.#P({hasSelectedText:!0}),!(this.#_!==dt.HIGHLIGHT&&this.#_!==dt.NONE)&&(this.#_===dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#v=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#_===dt.HIGHLIGHT?this.#ee(i):null;if(a?.toggleDrawing(),this.#O){const s=new AbortController,l=this.combinedSignal(s),c=d=>{d.type==="pointerup"&&d.button!==0||(s.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else a?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(e=""){this.#_===dt.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ie()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#E)if(n.div.contains(e)){this.#R=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[e,n]=this.#R;this.#R=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#D)return;this.#D=new AbortController;const e=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ue(){this.#D?.abort(),this.#D=null}#ce(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ue(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#E){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of this.#c)if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){ut(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const d=await i.deserialize(c);if(!d)return;a.push(d)}const s=()=>{for(const c of a)this.#ne(c);this.#re(a)},l=()=>{for(const c of a)c.remove()};this.addCommands({cmd:s,undo:l,mustExec:!0})}catch(a){ut(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==dt.NONE&&!this.isEditorHandlingKeyboard&&oo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#P(e){Object.entries(e).some(([r,i])=>this.#W[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#_===dt.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[_t.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ce(),this.#P({isEditing:this.#_!==dt.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#c){this.#c=e;for(const n of this.#c)this.#$(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1){if(this.#_!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#_===dt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#_=e,e===dt.NONE){this.setEditingState(!1),this.#me();for(const s of this.#n.values())s.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const s of this.#n.values())s.addStandaloneCommentButton();e===dt.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const s of this.#s.values())s.updateMode(e);if(e===dt.POPUP){this.#r||=await this.#V.getAnnotationsByType(new Set(this.#c.map(c=>c._editorType)));const s=new Set,l=[];for(const c of this.#n.values()){const{annotationElementId:d,hasComment:h,deleted:p}=c;d&&s.add(d),h&&!p&&l.push(c.getData())}for(const c of this.#r){const{id:d,popupRef:h,contentsObj:p}=c;h&&p?.str&&!s.has(d)&&!this.#g.has(d)&&l.push(c)}this.#l?.showSidebar(l)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const s of this.#n.values())s.uid===n?(this.setSelected(s),a?s.editComment():i?s.enterInEditMode():s.focus()):s.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#c){switch(e){case _t.CREATE:this.currentLayer.addNewEditor(n);return;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#E)r.updateParams(e,n);else for(const r of this.#c)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#G?.get(_t.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#$([[_t.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#M!==e){this.#M=e;for(const n of this.#s.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#C){this.#C=!0;const e=[];for(const n of this.#s.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#me(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#I?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#s.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#pe(){let e=null;for(e of this.#E);return e}updateUI(e){this.#pe===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#E.has(e)){this.#E.delete(e),e.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#E.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#E)n!==e&&n.unselect();this.#E.clear(),this.#E.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(e){return this.#E.has(e)}get firstSelectedEditor(){return this.#E.values().next().value}unselect(e){e.unselect(),this.#E.delete(e),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#E.size!==0}get isEnterHandled(){return this.#E.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#P({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#u.add(e),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#u.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#E],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#ne(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#E)n.unselect();this.#E.clear();for(const n of e)n.isEmpty()||(this.#E.add(n),n.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#E)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#_!==dt.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#E)e.unselect();this.#E.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=n;const[i,a]=this.#z,s=[...this.#E],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(i,a),c.translationDone())},undo:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(-i,-a),c.translationDone())},mustExec:!1})},l);for(const c of s)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#E)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let n=!1;for(const[{x:i,y:a,pageIndex:s},l]of e)l.newX=i,l.newY=a,l.newPageIndex=s,n||=i!==l.savedX||a!==l.savedY||s!==l.savedPageIndex;if(!n)return!1;const r=(i,a,s,l)=>{if(this.#n.has(i.id)){const c=this.#s.get(l);c?i._setParentAndPosition(c,a,s):(i.pageIndex=l,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:l}]of e)r(i,a,s,l)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:l}]of e)r(i,a,s,l)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#p)for(const r of this.#p.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#E.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#_}isEditingMode(){return this.#_!==dt.NONE}get imageManager(){return pt(this,"imageManager",new zw)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,h=n.rangeCount;d<h;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,y)=>({x:(h-i)/s,y:1-(d+p-r)/a,width:y/s,height:p/a});break;case"180":l=(d,h,p,y)=>({x:1-(d+p-r)/a,y:1-(h+y-i)/s,width:p/a,height:y/s});break;case"270":l=(d,h,p,y)=>({x:1-(h+y-i)/s,y:(d-r)/a,width:y/s,height:p/a});break;default:l=(d,h,p,y)=>({x:(d-r)/a,y:(h-i)/s,width:p/a,height:y/s});break}const c=[];for(let d=0,h=n.rangeCount;d<h;d++){const p=n.getRangeAt(d);if(!p.collapsed)for(const{x:y,y:b,width:x,height:w}of p.getClientRects())x===0||w===0||c.push(l(y,b,x,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#_===dt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#I?.get(e);i&&(i.setCanvas(n,r),this.#I.delete(e))}addMissingCanvas(e,n){(this.#I||=new Map).set(e,n)}}class ga{#e=null;#t=!1;#r=null;#n=null;#s=null;#a=null;#i=!1;#o=null;#u=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#u=e,this.#d=e._uiManager.useNewAltTextFlow,ga.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ga._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",ga.#f.missing),n.setAttribute("data-l10n-id",ga.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#u._uiManager._signal;e.addEventListener("contextmenu",Hi,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#d&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await ga._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#u.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ga.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ga.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#u.id}`;const i=100,a=this.#u._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#u.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class mm{#e=null;#t=null;#r=!1;#n=null;#s=null;#a=null;#i=null;#o=null;#u=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:a,width:s,height:l}=this.#n.parent.boundingClientRect;return[(e-i)/s,(n+r-a)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Hi,{signal:r}),n&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,pn(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,pn(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:h,height:p,x:y,y:b}=this.#n;r=y+r*h,i=b+i*p}const a=this.#n.parent.boundingClientRect,{x:s,y:l,width:c,height:d}=a;this.#n._uiManager.editComment(this.#n,s+r*c,l+i*d,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#u||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#s}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#a=null),e===null){this.#i="",this.#u=!0;return}this.#i=e,this.#o=new Date,this.#u=!1}setInitialText(e,n=null){this.#s=e,this.data=e,this.#o=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#a=null,this.#o=null,this.#n=null,this.#r=!1,this.#u=!1}}class bg{#e;#t=!1;#r=null;#n;#s;#a;#i;#o=null;#u;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:l}){this.#e=e,this.#r=r,this.#n=n,this.#s=i,this.#a=a,this.#i=s,this.#h=new AbortController,this.#u=AbortSignal.any([l,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Aa.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,a=AbortSignal.any([this.#u,i.signal]),s=this.#e,l={capture:!0,signal:a,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};s.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(pn(d),c(d))},l),s.addEventListener("pointerup",c,l),s.addEventListener("pointercancel",c,l);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#u,this.#d.signal]),a=this.#e,s={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),s);const l=this.#p.bind(this);a.addEventListener("touchend",l,s),a.addEventListener("touchcancel",l,s),s.capture=!0,a.addEventListener("pointerdown",pn,s),a.addEventListener("pointermove",pn,s),a.addEventListener("pointercancel",pn,s),a.addEventListener("pointerup",pn,s),this.#s?.()}if(pn(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;pn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:l}=r,c=this.#l,{touch0X:d,touch0Y:h,touch1X:p,touch1Y:y}=c,b=p-d,x=y-h,w=s-i,E=l-a,S=Math.hypot(w,E)||1,C=Math.hypot(b,x)||1;if(!this.#t&&Math.abs(C-S)<=bg.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=s,c.touch1Y=l,!this.#t){this.#t=!0;return}const N=[(i+s)/2,(a+l)/2];this.#a?.(N,C,S)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(pn(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Je{#e=null;#t=null;#r=null;#n=null;#s=null;#a=!1;#i=null;#o="";#u=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#c=null;#m=!1;#y=!1;#x=!1;#b=null;#T=0;#A=0;#w=null;#N=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#S=Je._zIndex++;static _borderLineWidth=-1;static _colorManager=new $w;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Je.prototype._resizeWithKeyboard,n=oo.TRANSLATE_SMALL,r=oo.TRANSLATE_BIG;return pt(this,"_resizerKeyboardManager",new Ch([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Je.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Cz({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Je._l10n??=e,Je._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Je._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Je._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(e){this.#v=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#c||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#c||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:l}=this;const[c,d]=this.getBaseTranslation();s+=c,l+=d;const{style:h}=r;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(s,l),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Je,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:l,height:c}=this;if(l*=r,c*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=Er(a,0,r-l),s=Er(s,0,i-c);break;case 90:a=Er(a,0,r-c),s=Er(s,l,i);break;case 180:a=Er(a,l,r),s=Er(s,c,i);break;case 270:a=Er(a,c,r),s=Er(s,0,i-l);break}this.x=a/=r,this.y=s/=i;const[d,h]=this.getBaseTranslation();a+=d,s+=h,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#C(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Je.#C(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Je.#C(e,n,360-this.parentRotation)}#O(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#M(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#u.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#D.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Hi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#u)}#D(e,n){n.preventDefault();const{isMac:r}=lr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",pn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Hi,{signal:s}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#B()};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}#R(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const a=this.x,s=this.y,l=this.width,c=this.height;a===e&&s===n&&l===r&&c===i||this.addCommands({cmd:this.#R.bind(this,a,s,l,c),undo:this.#R.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#I(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,l=this.width,c=this.height,d=Je.MIN_SIZE/r,h=Je.MIN_SIZE/i,p=this.#O(this.rotation),y=(L,H)=>[p[0]*L+p[2]*H,p[1]*L+p[3]*H],b=this.#O(360-this.rotation),x=(L,H)=>[b[0]*L+b[2]*H,b[1]*L+b[3]*H];let w,E,S=!1,C=!1;switch(e){case"topLeft":S=!0,w=(L,H)=>[0,0],E=(L,H)=>[L,H];break;case"topMiddle":w=(L,H)=>[L/2,0],E=(L,H)=>[L/2,H];break;case"topRight":S=!0,w=(L,H)=>[L,0],E=(L,H)=>[0,H];break;case"middleRight":C=!0,w=(L,H)=>[L,H/2],E=(L,H)=>[0,H/2];break;case"bottomRight":S=!0,w=(L,H)=>[L,H],E=(L,H)=>[0,0];break;case"bottomMiddle":w=(L,H)=>[L/2,H],E=(L,H)=>[L/2,0];break;case"bottomLeft":S=!0,w=(L,H)=>[0,H],E=(L,H)=>[L,0];break;case"middleLeft":C=!0,w=(L,H)=>[0,H/2],E=(L,H)=>[L,H/2];break}const N=w(l,c),D=E(l,c);let k=y(...D);const P=Je._round(a+k[0]),j=Je._round(s+k[1]);let U=1,V=1,X,z;if(n.fromKeyboard)({deltaX:X,deltaY:z}=n);else{const{screenX:L,screenY:H}=n,[ie,ue]=this.#l;[X,z]=this.screenToPageTranslation(L-ie,H-ue),this.#l[0]=L,this.#l[1]=H}if([X,z]=x(X/r,z/i),S){const L=Math.hypot(l,c);U=V=Math.max(Math.min(Math.hypot(D[0]-N[0]-X,D[1]-N[1]-z)/L,1/l,1/c),d/l,h/c)}else C?U=Er(Math.abs(D[0]-N[0]-X),d,1)/l:V=Er(Math.abs(D[1]-N[1]-z),h,1)/c;const Y=Je._round(l*U),ne=Je._round(c*V);k=y(...E(Y,ne));const K=P-k[0],se=j-k[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=Y,this.height=ne,this.x=K,this.y=se,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Ld(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(ga.initialize(Je._l10n),this.#r=new ga(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new mm(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new mm(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new mm(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new mm(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,l=s+a+1,c=i-100,d=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),kj(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#N||=new bg({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#E.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=this.#O(this.rotation),l=(P,j)=>[s[0]*P+s[2]*j,s[1]*P+s[3]*j],[c,d]=this.parentDimensions,h=this.x,p=this.y,y=this.width,b=this.height,x=Je.MIN_SIZE/c,w=Je.MIN_SIZE/d;a=Math.max(Math.min(a,1/y,1/b),x/y,w/b);const E=Je._round(y*a),S=Je._round(b*a);if(E===y&&S===b)return;this.#c||=[h,p,y,b];const C=l(y/2,b/2),N=Je._round(h+C[0]),D=Je._round(p+C[1]),k=l(E/2,S/2);this.x=N-k[0],this.y=D-k[1],this.width=E,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#E(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:n}=lr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(e);return}this.#j(e)}#j(e){const{isMac:n}=lr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},l=d=>{i.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#j(d),r&&this._onStopDragging()};n&&(this.#T=e.clientX,this.#A=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:y}=d;if(y!==this.#i){pn(d);return}const[b,x]=this.screenToPageTranslation(h-this.#T,p-this.#A);this.#T=h,this.#A=p,this._uiManager.dragSelectedEditors(b,x)},s),window.addEventListener("touchmove",pn,s),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#N||d.isPrimary)&&l(d),pn(d)},s));const c=d=>{if(!this.#i||this.#i===d.pointerId){l(d);return}pn(d)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/i,h=n/i,p=this.x*a,y=this.y*s,b=this.width*a,x=this.height*s;switch(r){case 0:return[p+d+l,s-y-h-x+c,p+d+b+l,s-y-h+c];case 90:return[p+h+l,s-y+d+c,p+h+x+l,s-y+d+b+c];case 180:return[p-d-b+l,s-y+h+c,p-d+l,s-y+h+x+c];case 270:return[p-h-x+l,s-y-d-b+c,p-h+l,s-y-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,l=a-r,c=s-i;switch(this.rotation){case 0:return[r,n-s,l,c];case 90:return[r,n-i,c,l];case 180:return[a,n-i,l,c];case 270:return[a,n-s,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Je._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:s},uid:l,pageIndex:c,creationDate:d,modificationDate:h}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:d,modificationDate:r||h,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#x}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}#H(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[l,c,d,h]=i.getRectInCurrentCoords(e.rect,s);return i.x=l/a,i.y=c/s,i.width=d/a,i.height=h/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#N?.destroy(),this.#N=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,s]=this.getPDFRect();return[Je._round(r+(a-r)*e),Je._round(i+(s-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#u.children;if(!this.#t){this.#t=Array.from(n);const s=this.#G.bind(this),l=this.#V.bind(this),c=this._uiManager._signal;for(const d of this.#t){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",this.#W.bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",Je._l10nResizer[h])}}const r=this.#t[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let l=0;l<i-a;l++)this.#u.append(this.#u.firstChild);else if(a>i)for(let l=0;l<a-i;l++)this.#u.firstChild.before(this.#u.lastChild);let s=0;for(const l of n){const d=this.#t[s++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Je._l10nResizer[d])}}this.#z(0),this.#x=!0,this.#u.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Je._resizerKeyboardManager.exec(this,e)}#V(e){this.#x&&e.relatedTarget?.parentNode!==this.#u&&this.#L()}#W(e){this.#g=this.#x?e:""}#z(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#x&&this.#I(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#L(){this.#x=!1,this.#z(-1),this.#B()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},Je._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Cz extends Je{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aC=3285377520,Oi=4294901760,fa=65535;class Pj{constructor(e){this.h1=e?e&4294967295:aC,this.h2=e?e&4294967295:aC}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let w=0,E=e.length;w<E;w++){const S=e.charCodeAt(w);S<=255?n[r++]=S:(n[r++]=S>>>8,n[r++]=S&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let l=0,c=0,d=this.h1,h=this.h2;const p=3432918353,y=461845907,b=p&fa,x=y&fa;for(let w=0;w<i;w++)w&1?(l=s[w],l=l*p&Oi|l*b&fa,l=l<<15|l>>>17,l=l*y&Oi|l*x&fa,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=s[w],c=c*p&Oi|c*b&fa,c=c<<15|c>>>17,c=c*y&Oi|c*x&fa,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,a){case 3:l^=n[i*4+2]<<16;case 2:l^=n[i*4+1]<<8;case 1:l^=n[i*4],l=l*p&Oi|l*b&fa,l=l<<15|l>>>17,l=l*y&Oi|l*x&fa,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Oi|e*36045&fa,n=n*4283543511&Oi|((n<<16|e>>>16)*2950163797&Oi)>>>16,e^=n>>>1,e=e*444984403&Oi|e*60499&fa,n=n*3301882366&Oi|((n<<16|e>>>16)*3120437893&Oi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const lv=Object.freeze({map:null,hash:"",transfer:void 0});class qw{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof Je&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof Je)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,this.#n.set(e,n);i&&this.#s(),n instanceof Je&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Dj(this)}get serializable(){if(this.#n.size===0)return lv;const e=new Map,n=new Pj,r=[],i=Object.create(null);let a=!1;for(const[s,l]of this.#n){const c=l instanceof Je?l.serialize(!1,i):l;c&&(e.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),a||=!!c.bitmap)}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:lv}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof Je)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:l}=s;n.has(l)||n.set(l,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[d,h]of Object.entries(s)){if(d==="type")continue;let p=c.get(d);p||(p=new Map,c.set(d,p));const y=p.get(h)??0;p.set(h,y+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Dj extends qw{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return pt(this,"modifiedIds",{ids:new Set,hash:""})}}class Oz{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(Nt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,l=new FontFace(i,a,s);this.addNativeFontFace(l);try{await l.load(),this.#e.add(i),r?.(e)}catch{ut(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ut(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return pt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pt(this,"isSyncFontLoadingSupported",wr||lr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Nt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(D,k){return D.charCodeAt(k)<<24|D.charCodeAt(k+1)<<16|D.charCodeAt(k+2)<<8|D.charCodeAt(k+3)&255}function i(D,k,P,j){const U=D.substring(0,k),V=D.substring(k+P);return U+j+V}let a,s;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(D,k){if(++d>30){ut("Load test font never loaded."),k();return}if(c.font="30px "+D,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,D,k))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=i(y,976,p.length,p);const x=16,w=1482184792;let E=r(y,x);for(a=0,s=p.length-3;a<s;a+=4)E=E-w+r(p,a)|0;a<p.length&&(E=E-w+r(p+"XXX",a)|0),y=i(y,x,4,uz(E));const S=`url(data:font/opentype;base64,${btoa(y)});`,C=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(C);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const D of[e.loadedName,p]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=D,N.append(k)}this._document.body.append(N),h(p,()=>{N.remove(),n.complete()})}}class kz{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${_j(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){ut(`getPathGenerator - ignoring character: "${s}".`)}const a=Oj(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class wu{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const d of wu.strings){const h=n.encode(e[d]);r[d]=h,i+=4+h.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),l=new DataView(a);let c=0;for(const d of wu.strings){const h=r[d],p=h.length;l.setUint32(c,p),s.set(h,c+4),c+=4+p}return Nt(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){Nt(e<wu.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Eu{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const y of Eu.strings){const b=n.encode(e[y]);r[y]=b,i+=4+b.length}i+=4;let a,s,l=1+i;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),l+=4+a.length+4+s.length);const c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let p=0;h.setUint8(p++,e.guessFallback?1:0),h.setUint32(p,0),p+=4,i=0;for(const y of Eu.strings){const b=r[y],x=b.length;i+=4+x,h.setUint32(p,x),d.set(b,p+4),p+=4+x}return h.setUint32(p-i-4,i),e.style&&(h.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length,h.setUint32(p,s.length),d.set(s,p+4),p+=4+s.length),Nt(p<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Nt(e<Eu.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),a=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:a}}}class Yt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#a;#i;#o;constructor({data:e,extra:n}){this.#a=e,this.#i=new TextDecoder,this.#o=new DataView(this.#a),n&&Object.assign(this,n)}#u(e){Nt(e<Yt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(e){return Nt(e<Yt.numbers.length,"Invalid number index"),this.#o.getFloat64(Yt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Yt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Yt.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Yt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){Nt(e<Yt.strings.length,"Invalid string index");let n=Yt.#s+4;for(let a=0;a<e;a++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=Yt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);if(a!==0)return new Uint8Array(this.#a,e+4,a)}clearData(){let e=Yt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,a).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Yt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),new wu(a.buffer)}get systemFontInfo(){let e=Yt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new Eu(i.buffer)}static write(e){const n=e.systemFontInfo?Eu.write(e.systemFontInfo):null,r=e.cssFontInfo?wu.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const w of Yt.strings)a[w]=i.encode(e[w]),s+=4+a[w].length;const l=Yt.#s+4+s+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let p=0;const y=Yt.bools.length;let b=0,x=0;for(let w=0;w<y;w++){const E=e[Yt.bools[w]];b|=(E===void 0?0:E?2:1)<<x,x+=2,(x===8||w===y-1)&&(h.setUint8(p++,b),b=0,x=0)}Nt(p===Yt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const w of Yt.numbers)h.setFloat64(p,e[w]),p+=8;if(Nt(p===Yt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(p++,4);for(const w of e.bbox)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=8;if(Nt(p===Yt.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(p++,6);for(const w of e.fontMatrix)h.setFloat64(p,w,!0),p+=8}else h.setUint8(p++,0),p+=48;if(Nt(p===Yt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(p++,1);for(const w of e.defaultVMetrics)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=6;Nt(p===Yt.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(Yt.#s,0),p+=4;for(const w of Yt.strings){const E=a[w],S=E.length;h.setUint32(p,S),d.set(E,p+4),p+=4+S}if(h.setUint32(Yt.#s,p-Yt.#s-4),!n)h.setUint32(p,0),p+=4;else{const w=n.byteLength;h.setUint32(p,w),Nt(p+4+w<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(n),p+4),p+=4+w}if(!r)h.setUint32(p,0),p+=4;else{const w=r.byteLength;h.setUint32(p,w),Nt(p+4+w<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),p+4),p+=4+w}return e.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,e.data.length),d.set(e.data,p+4),p+=4+e.data.length),Nt(p<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(p)}}class zn{static#e=0;static#t=1;static#r=2;static#n=3;static#s=4;static#a=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],a=[],s=[],l=[],c=null,d=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],s=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,c=e[1],i=e[2],a=e[3],l=e[4]||[],r=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),p=Math.floor(a.length/3),y=s.length,b=l.length;let x=0;for(const k of l)x+=1,x=Math.ceil(x/4)*4,x+=4+k.coords.length*4,x+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(x+=4);const w=20+h*8+p*3+y*8+(r?16:0)+(d?3:0)+x,E=new ArrayBuffer(w),S=new DataView(E),C=new Uint8Array(E);S.setUint8(zn.#e,n),S.setUint8(zn.#t,r?1:0),S.setUint8(zn.#r,d?1:0),S.setUint8(zn.#n,c),S.setUint32(zn.#s,h,!0),S.setUint32(zn.#a,p,!0),S.setUint32(zn.#i,y,!0),S.setUint32(zn.#o,b,!0);let N=20;new Float32Array(E,N,h*2).set(i),N+=h*8,C.set(a,N),N+=p*3;for(const[k,P]of s)S.setFloat32(N,k,!0),N+=4,S.setUint32(N,parseInt(P.slice(1),16),!0),N+=4;if(r)for(const k of r)S.setFloat32(N,k,!0),N+=4;d&&(C.set(d,N),N+=3);for(let k=0;k<l.length;k++){const P=l[k];S.setUint8(N,P.type),N+=1,N=Math.ceil(N/4)*4,S.setUint32(N,P.coords.length,!0),N+=4,new Int32Array(E,N,P.coords.length).set(P.coords),N+=P.coords.length*4,S.setUint32(N,P.colors.length,!0),N+=4,new Int32Array(E,N,P.colors.length).set(P.colors),N+=P.colors.length*4,P.verticesPerRow!==void 0&&(S.setUint32(N,P.verticesPerRow,!0),N+=4)}return E}getIR(){const e=this.view,n=this.data[zn.#e],r=!!this.data[zn.#t],i=!!this.data[zn.#r],a=e.getUint32(zn.#s,!0),s=e.getUint32(zn.#a,!0),l=e.getUint32(zn.#i,!0),c=e.getUint32(zn.#o,!0);let d=20;const h=new Float32Array(this.buffer,d,a*2);d+=a*8;const p=new Uint8Array(this.buffer,d,s*3);d+=s*3;const y=[];for(let E=0;E<l;++E){const S=e.getFloat32(d,!0);d+=4;const C=e.getUint32(d,!0);d+=4,y.push([S,`#${C.toString(16).padStart(6,"0")}`])}let b=null;if(r){b=[];for(let E=0;E<4;++E)b.push(e.getFloat32(d,!0)),d+=4}let x=null;i&&(x=new Uint8Array(this.buffer,d,3),d+=3);const w=[];for(let E=0;E<c;++E){const S=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const C=e.getUint32(d,!0);d+=4;const N=new Int32Array(this.buffer,d,C);d+=C*4;const D=e.getUint32(d,!0);d+=4;const k=new Int32Array(this.buffer,d,D);d+=D*4;const P={type:S,coords:N,colors:k};S===rv.LATTICE&&(P.verticesPerRow=e.getUint32(d,!0),d+=4),w.push(P)}if(n===1)return["RadialAxial","axial",b,y,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",b,y,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(n===3){const E=this.data[zn.#n];let S=null;if(h.length>0){let C=h[0],N=h[0],D=h[1],k=h[1];for(let P=0;P<h.length;P+=2){const j=h[P],U=h[P+1];C=C>j?j:C,D=D>U?U:D,N=N<j?j:N,k=k<U?U:k}S=[C,D,N,k]}return["Mesh",E,h,p,w,S,b,x]}throw new Error(`Unsupported pattern kind: ${n}`)}}function Pz(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(wr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Dz(t){if(wr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Sh(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function pm(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const uv=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,jz=t=>typeof t=="object"&&typeof t?.name=="string",Rz=mz.bind(null,uv,jz);class Iz{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){ut("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const gm={DATA:1,ERROR:2},_n={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sC(){}function Hr(t){if(t instanceof so||t instanceof iv||t instanceof ZN||t instanceof up||t instanceof qb)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new so(t.message);case"InvalidPDFException":return new iv(t.message);case"PasswordException":return new ZN(t.message,t.code);case"ResponseException":return new up(t.message,t.status,t.missing);case"UnknownErrorException":return new qb(t.message,t.details)}return new qb(t.message,t.toString())}class Cd{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===gm.DATA)i.resolve(e.data);else if(e.callback===gm.ERROR)i.reject(Hr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:gm.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:gm.ERROR,callbackId:e.callbackId,reason:Hr(s)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:l,action:e,streamId:a,data:n,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,c.postMessage({sourceName:s,targetName:l,stream:_n.PULL,streamId:a,desiredSize:d.desiredSize}),h.promise},cancel:d=>{Nt(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:_n.CANCEL,streamId:a,reason:Hr(d)}),h.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,p){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=h,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:_n.ENQUEUE,streamId:n,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:_n.CLOSE,streamId:n}),delete s.streamSinks[n])},error(d){Nt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:_n.ERROR,streamId:n,reason:Hr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(l,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:_n.START_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:_n.START_COMPLETE,streamId:n,reason:Hr(d)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],l=this.streamSinks[n];switch(e.stream){case _n.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Hr(e.reason));break;case _n.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Hr(e.reason));break;case _n.PULL:if(!l){a.postMessage({sourceName:r,targetName:i,stream:_n.PULL_COMPLETE,streamId:n,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||sC).then(function(){a.postMessage({sourceName:r,targetName:i,stream:_n.PULL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:_n.PULL_COMPLETE,streamId:n,reason:Hr(d)})});break;case _n.ENQUEUE:if(Nt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case _n.CLOSE:if(Nt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#s(s,n);break;case _n.ERROR:Nt(s,"error should have stream controller"),s.controller.error(Hr(e.reason)),this.#s(s,n);break;case _n.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Hr(e.reason)),this.#s(s,n);break;case _n.CANCEL:if(!l)break;const c=Hr(e.reason);Promise.try(l.onCancel||sC,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:_n.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:_n.CANCEL_COMPLETE,streamId:n,reason:Hr(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#s(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class jj{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Wt("Abstract method `_createCanvas` called.")}}class Lz extends jj{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class Rj{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Wt("Abstract method `_fetch` called.")}}class oC extends Rj{async _fetch(e){const n=await Th(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Sh(n)}}class Ij{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class Mz extends Ij{#e;#t;#r;#n;#s;#a;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#s=n}get#o(){return this.#t||=new Map}get#u(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#s.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#s.createElementNS(Ka,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(Ka,"defs"),e.append(r),r.append(this.#r),this.#s.body.append(e)}return this.#r}#h(e){if(e.length===1){const c=e[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=c[p]/255;const h=d.join(",");return[h,h,h]}const[n,r,i]=e,a=new Array(256),s=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,s[c]=r[c]/255,l[c]=i[c]/255;return[a.join(","),s.join(","),l.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#s.URL;n!==this.#s.baseURI&&(yg(n)?ut('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Aj(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,a]=this.#h(e),s=e.length===1?r:`${r}${i}${a}`;if(n=this.#o.get(s),n)return this.#o.set(e,n),n;const l=`g_${this.#n}_transfer_map_${this.#i++}`,c=this.#d(l);this.#o.set(e,c),this.#o.set(s,c);const d=this.#p(l);return this.#m(r,i,a,d),c}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#u.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#u.set(i,a)),!e||!n))return a.url;const s=this.#x(e);e=Ye.makeHexColor(...s);const l=this.#x(n);if(n=Ye.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let b=0;b<=255;b++){const x=b/255;c[b]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=c.join(","),h=`g_${this.#n}_hcm_filter`,p=a.filter=this.#p(h);this.#m(d,d,d,p),this.#g(p);const y=(b,x)=>{const w=s[b]/255,E=l[b]/255,S=new Array(x+1);for(let C=0;C<=x;C++)S[C]=w+C/x*(E-w);return S.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),p),a.url=this.#d(h),a.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_alpha_map_${this.#i++}`,s=this.#d(a);this.#o.set(e,s),this.#o.set(i,s);const l=this.#p(a);return this.#y(r,l),s}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,s=this.#d(a);this.#o.set(e,s),this.#o.set(i,s);const l=this.#p(a);return this.#f(l),e&&this.#y(r,l),s}addHighlightHCMFilter(e,n,r,i,a){const s=`${n}-${r}-${i}-${a}`;let l=this.#u.get(e);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#u.set(e,l)),!n||!r))return l.url;const[c,d]=[n,r].map(this.#x.bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[y,b]=[i,a].map(this.#x.bind(this));p<h&&([h,p,y,b]=[p,h,b,y]),this.#l.style.color="";const x=(S,C,N)=>{const D=new Array(256),k=(p-h)/N,P=S/255,j=(C-S)/(255*N);let U=0;for(let V=0;V<=N;V++){const X=Math.round(h+V*k),z=P+V*j;for(let Y=U;Y<=X;Y++)D[Y]=z;U=X+1}for(let V=U;V<256;V++)D[V]=D[U-1];return D.join(",")},w=`g_${this.#n}_hcm_${e}_filter`,E=l.filter=this.#p(w);return this.#g(E),this.#m(x(y[0],b[0],5),x(y[1],b[1],5),x(y[2],b[2],5),E),l.url=this.#d(w),l.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#i=0)}#f(e){const n=this.#s.createElementNS(Ka,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#s.createElementNS(Ka,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#s.createElementNS(Ka,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#c(e,n,r){const i=this.#s.createElementNS(Ka,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,n,r,i){const a=this.#s.createElementNS(Ka,"feComponentTransfer");i.append(a),this.#c(a,"feFuncR",e),this.#c(a,"feFuncG",n),this.#c(a,"feFuncB",r)}#y(e,n){const r=this.#s.createElementNS(Ka,"feComponentTransfer");n.append(r),this.#c(r,"feFuncA",e)}#x(e){return this.#l.style.color=e,Nh(getComputedStyle(this.#l).getPropertyValue("color"))}}class Lj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Wt("Abstract method `_fetch` called.")}}class lC extends Lj{async _fetch(e){const n=await Th(e,"arraybuffer");return new Uint8Array(n)}}class Mj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Wt("Abstract method `_fetch` called.")}}class uC extends Mj{async _fetch(e){const n=await Th(e,"arraybuffer");return new Uint8Array(n)}}wr&&ut("Please use the `legacy` build in Node.js environments.");async function Yw(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Bz extends Ij{}class Fz extends jj{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class Uz extends Rj{async _fetch(e){return Yw(e)}}class Hz extends Lj{async _fetch(e){return Yw(e)}}class zz extends Mj{async _fetch(e){return Yw(e)}}const au="__forcedDependency",{floor:cC,ceil:dC}=Math;function ym(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const cv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class $z{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===cv}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const bm=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class qz{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[au]:[]};#r=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#c;#m;constructor(e,n,r=!1){this.#f=e.width,this.#g=e.height,this.#y(n),r&&(this.#m=new Map)}growOperationsCount(e){e>=this.#c.length&&this.#y(e,this.#c)}#y(e,n){const r=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(r),this.#c=new Uint32Array(r),n&&n.length>0?(this.#c.set(n),this.#c.fill(cv,n.length)):this.#c.fill(cv)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[au]:{__proto__:this.#t[au]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(bm(this.#m,e)?.dependencies.add(r),this.#c[e]=this.#c[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(bm(this.#m,e)?.dependencies.add(n),this.#c[e]=this.#c[n]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const n=this.#s.pop();return n!==void 0&&(bm(this.#m,e)?.dependencies.add(n),this.#c[e]=this.#c[n]),this}pushBaseTransform(e){return this.#a.push(Ye.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(au,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(au,e);return this}resetBBox(e){return this.#u!==e&&(this.#u=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,a,s){const l=Ye.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),c=[1/0,1/0,-1/0,-1/0];Ye.axialAlignedBoundingBox([r,a,i,s],l,c);const d=Ye.intersect(this.#i,c);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,a,s){const l=this.#i;if(l[0]===1/0)return this;const c=Ye.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(l[0]===-1/0)return Ye.axialAlignedBoundingBox([r,a,i,s],c,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return Ye.axialAlignedBoundingBox([r,a,i,s],c,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],l[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,s=0,l){const c=r.bbox;let d,h;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(r),d!==!1&&(h=[0,0,0,0],Ye.axialAlignedBoundingBox(c,r.fontMatrix,h),(i!==1||a!==0||s!==0)&&Ye.scaleMinMax([i,0,0,-i,a,s],h),d)))return this.recordBBox(e,n,h[0],h[2],h[1],h[3]);if(!l)return this.recordFullPageBBox(e);const p=l();return c&&h&&d===void 0&&(d=h[0]<=a-p.actualBoundingBoxLeft&&h[2]>=a+p.actualBoundingBoxRight&&h[1]<=s-p.actualBoundingBoxAscent&&h[3]>=s+p.actualBoundingBoxDescent,this.#d.set(r,d),d)?this.recordBBox(e,n,h[0],h[2],h[1],h[3]):this.recordBBox(e,n,a-p.actualBoundingBoxLeft,a+p.actualBoundingBoxRight,s-p.actualBoundingBoxAscent,s+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,a=this.#t;for(const s of n)s in this.#e?r.add(i[s]):s in a&&a[s].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[au]),this.#m){const r=bm(this.#m,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#s.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#u===e){const r=cC(this.#o[0]*256/this.#f),i=cC(this.#o[1]*256/this.#g),a=dC(this.#o[2]*256/this.#f),s=dC(this.#o[3]*256/this.#g);ym(this.#p,e,r,i,a,s);for(const l of this.#l)l!==e&&ym(this.#p,l,r,i,a,s);for(const l of this.#n)l!==e&&ym(this.#p,l,r,i,a,s);for(const l of this.#s)l!==e&&ym(this.#p,l,r,i,a,s);n||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#u===e&&(this.#u=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new $z(this.#c,this.#p)}takeDebugMetadata(){return this.#m}}class cp{#e;#t;#r;#n=0;#s=0;constructor(e,n,r){if(e instanceof cp&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,a,s){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,a,s),this}recordBBox(e,n,r,i,a,s){return this.#r||this.#e.recordBBox(this.#t,n,r,i,a,s),this}recordCharacterBBox(e,n,r,i,a,s,l){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,a,s,l),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const ki={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},sr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dv(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class Vw{isModifyingCurrentTransform(){return!1}getPattern(){Wt("Abstract method `getPattern` called.")}}class Yz extends Vw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===sr.STROKE||i===sr.FILL){const s=n.current.getClippedPathBoundingBox(i,dn(e))||[0,0,0,0],l=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,d=n.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),r=Ye.transform(r,[1,0,0,1,s[0],s[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),dv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(r);a.setTransform(p)}else dv(e,this._bbox),a=this._createGradient(e);return a}}function Gb(t,e,n,r,i,a,s,l){const c=e.coords,d=e.colors,h=t.data,p=t.width*4;let y;c[n+1]>c[r+1]&&(y=n,n=r,r=y,y=a,a=s,s=y),c[r+1]>c[i+1]&&(y=r,r=i,i=y,y=s,s=l,l=y),c[n+1]>c[r+1]&&(y=n,n=r,r=y,y=a,a=s,s=y);const b=(c[n]+e.offsetX)*e.scaleX,x=(c[n+1]+e.offsetY)*e.scaleY,w=(c[r]+e.offsetX)*e.scaleX,E=(c[r+1]+e.offsetY)*e.scaleY,S=(c[i]+e.offsetX)*e.scaleX,C=(c[i+1]+e.offsetY)*e.scaleY;if(x>=C)return;const N=d[a],D=d[a+1],k=d[a+2],P=d[s],j=d[s+1],U=d[s+2],V=d[l],X=d[l+1],z=d[l+2],Y=Math.round(x),ne=Math.round(C);let K,se,L,H,ie,ue,M,F;for(let Z=Y;Z<=ne;Z++){if(Z<E){const fe=Z<x?0:(x-Z)/(x-E);K=b-(b-w)*fe,se=N-(N-P)*fe,L=D-(D-j)*fe,H=k-(k-U)*fe}else{let fe;Z>C?fe=1:E===C?fe=0:fe=(E-Z)/(E-C),K=w-(w-S)*fe,se=P-(P-V)*fe,L=j-(j-X)*fe,H=U-(U-z)*fe}let R;Z<x?R=0:Z>C?R=1:R=(x-Z)/(x-C),ie=b-(b-S)*R,ue=N-(N-V)*R,M=D-(D-X)*R,F=k-(k-z)*R;const oe=Math.round(Math.min(K,ie)),$=Math.round(Math.max(K,ie));let ae=p*Z+oe*4;for(let fe=oe;fe<=$;fe++)R=(K-fe)/(K-ie),R<0?R=0:R>1&&(R=1),h[ae++]=se-(se-ue)*R|0,h[ae++]=L-(L-M)*R|0,h[ae++]=H-(H-F)*R|0,h[ae++]=255}}function Vz(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case rv.LATTICE:const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,d=l-1;for(a=0;a<c;a++){let h=a*l;for(let p=0;p<d;p++,h++)Gb(t,n,r[h],r[h+1],r[h+l],i[h],i[h+1],i[h+l]),Gb(t,n,r[h+l+1],r[h+1],r[h+l],i[h+l+1],i[h+1],i[h+l])}break;case rv.TRIANGLES:for(a=0,s=r.length;a<s;a+=3)Gb(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class Gz extends Vw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),b=d/p,x=h/y,w={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/b,scaleY:1/x},E=p+4,S=y+4,C=r.getCanvas("mesh",E,S),N=C.context,D=N.createImageData(p,y);if(n){const P=D.data;for(let j=0,U=P.length;j<U;j+=4)P[j]=n[0],P[j+1]=n[1],P[j+2]=n[2],P[j+3]=255}for(const P of this._figures)Vz(D,P,w);return N.putImageData(D,2,2),{canvas:C.canvas,offsetX:l-2*b,offsetY:c-2*x,scaleX:b,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){dv(e,this._bbox);const a=new Float32Array(2);if(i===sr.SHADING)Ye.singularValueDecompose2dScale(dn(e),a);else if(this.matrix){Ye.singularValueDecompose2dScale(this.matrix,a);const[l,c]=a;Ye.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=l,a[1]*=c}else Ye.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,i===sr.SHADING?null:this._background,n.cachedCanvases);return i!==sr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Wz extends Vw{getPattern(){return"hotpink"}}function Xz(t){switch(t[0]){case"RadialAxial":return new Yz(t);case"Mesh":return new Gz(t);case"Dummy":return new Wz}throw new Error(`Unknown IR type: ${t[0]}`)}const hC={COLORED:1,UNCOLORED:2};class Gw{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:a,tilingType:s,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),gg("TilingType: "+s);const p=r[0],y=r[1],b=r[2],x=r[3],w=b-p,E=x-y,S=new Float32Array(2);Ye.singularValueDecompose2dScale(this.matrix,S);const[C,N]=S;Ye.singularValueDecompose2dScale(this.baseTransform,S);const D=C*S[0],k=N*S[1];let P=w,j=E,U=!1,V=!1;const X=Math.ceil(d*D),z=Math.ceil(h*k),Y=Math.ceil(w*D),ne=Math.ceil(E*k);X>=Y?P=d:U=!0,z>=ne?j=h:V=!0;const K=this.getSizeAndScale(P,this.ctx.canvas.width,D),se=this.getSizeAndScale(j,this.ctx.canvas.height,k),L=e.cachedCanvases.getCanvas("pattern",K.size,se.size),H=L.context,ie=c.createCanvasGraphics(H,n);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,a,l),H.translate(-K.scale*p,-se.scale*y),ie.transform(0,K.scale,0,0,se.scale,0,0),H.save(),ie.dependencyTracker?.save(),this.clipBbox(ie,p,y,b,x),ie.baseTransform=dn(ie.ctx),ie.executeOperatorList(i),ie.endDrawing(),ie.dependencyTracker?.restore(),H.restore(),U||V){const ue=L.canvas;U&&(P=d),V&&(j=h);const M=this.getSizeAndScale(P,this.ctx.canvas.width,D),F=this.getSizeAndScale(j,this.ctx.canvas.height,k),Z=M.size,R=F.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",Z,R),$=oe.context,ae=U?Math.floor(w/d):0,fe=V?Math.floor(E/h):0;for(let ge=0;ge<=ae;ge++)for(let J=0;J<=fe;J++)$.drawImage(ue,Z*ge,R*J,Z,R,0,0,Z,R);return{canvas:oe.canvas,scaleX:M.scale,scaleY:F.scale,offsetX:p,offsetY:y}}return{canvas:L.canvas,scaleX:K.scale,scaleY:se.scale,offsetX:p,offsetY:y}}getSizeAndScale(e,n,r){const i=Math.max(Gw.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,l=a-r;e.ctx.rect(n,r,s,l),Ye.axialAlignedBoundingBox([n,r,i,a],dn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case hC.COLORED:const{fillStyle:s,strokeStyle:l}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=l;break;case hC.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new lz(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let s=r;i!==sr.SHADING&&(s=Ye.transform(s,n.baseTransform),this.matrix&&(s=Ye.transform(s,this.matrix)));const l=this.createPatternCanvas(n,a);let c=new DOMMatrix(s);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}}function Kz({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const l=lr.isLittleEndian?4278190080:255,[c,d]=s?[a,l]:[l,a],h=r>>3,p=r&7,y=t.length;n=new Uint32Array(n.buffer);let b=0;for(let x=0;x<i;x++){for(const E=e+h;e<E;e++){const S=e<y?t[e]:255;n[b++]=S&128?d:c,n[b++]=S&64?d:c,n[b++]=S&32?d:c,n[b++]=S&16?d:c,n[b++]=S&8?d:c,n[b++]=S&4?d:c,n[b++]=S&2?d:c,n[b++]=S&1?d:c}if(p===0)continue;const w=e<y?t[e++]:255;for(let E=0;E<p;E++)n[b++]=w&1<<7-E?d:c}return{srcPos:e,destPos:b}}const fC=16,mC=100,Qz=15,pC=10,zr=16,Wb=new DOMMatrix,hi=new Float32Array(2),gu=new Float32Array([1/0,1/0,-1/0,-1/0]);function Zz(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,s,l){e.transform(n,r,i,a,s,l),this.__originalTransform(n,r,i,a,s,l)},t.setTransform=function(n,r,i,a,s,l){e.setTransform(n,r,i,a,s,l),this.__originalSetTransform(n,r,i,a,s,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,l){e.bezierCurveTo(n,r,i,a,s,l),this.__originalBezierCurveTo(n,r,i,a,s,l)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Jz{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function xm(t,e,n,r,i,a,s,l,c,d){const[h,p,y,b,x,w]=dn(t);if(p===0&&y===0){const C=s*h+x,N=Math.round(C),D=l*b+w,k=Math.round(D),P=(s+c)*h+x,j=Math.abs(Math.round(P)-N)||1,U=(l+d)*b+w,V=Math.abs(Math.round(U)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(b),N,k),t.drawImage(e,n,r,i,a,0,0,j,V),t.setTransform(h,p,y,b,x,w),[j,V]}if(h===0&&b===0){const C=l*y+x,N=Math.round(C),D=s*p+w,k=Math.round(D),P=(l+d)*y+x,j=Math.abs(Math.round(P)-N)||1,U=(s+c)*p+w,V=Math.abs(Math.round(U)-k)||1;return t.setTransform(0,Math.sign(p),Math.sign(y),0,N,k),t.drawImage(e,n,r,i,a,0,0,V,j),t.setTransform(h,p,y,b,x,w),[V,j]}t.drawImage(e,n,r,i,a,s,l,c,d);const E=Math.hypot(h,p),S=Math.hypot(y,b);return[E*c,S*d]}class gC{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=nv;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=rr.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=gu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=sr.FILL,n=null){const r=this.minMax.slice();if(e===sr.STROKE){n||Wt("Stroke bounding box must include transform."),Ye.singularValueDecompose2dScale(n,hi);const i=hi[0]*this.lineWidth/2,a=hi[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=Ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(gu,0)}getClippedPathBoundingBox(e=sr.FILL,n=null){return Ye.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function yC(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%zr,a=(n-i)/zr,s=i===0?a:a+1,l=t.createImageData(r,zr);let c=0,d;const h=e.data,p=l.data;let y,b,x,w;if(e.kind===Gm.GRAYSCALE_1BPP){const E=h.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),C=S.length,N=r+7>>3,D=4294967295,k=lr.isLittleEndian?4278190080:255;for(y=0;y<s;y++){for(x=y<a?zr:i,d=0,b=0;b<x;b++){const P=E-c;let j=0;const U=P>N?r:P*8-7,V=U&-8;let X=0,z=0;for(;j<V;j+=8)z=h[c++],S[d++]=z&128?D:k,S[d++]=z&64?D:k,S[d++]=z&32?D:k,S[d++]=z&16?D:k,S[d++]=z&8?D:k,S[d++]=z&4?D:k,S[d++]=z&2?D:k,S[d++]=z&1?D:k;for(;j<U;j++)X===0&&(z=h[c++],X=128),S[d++]=z&X?D:k,X>>=1}for(;d<C;)S[d++]=0;t.putImageData(l,0,y*zr)}}else if(e.kind===Gm.RGBA_32BPP){for(b=0,w=r*zr*4,y=0;y<a;y++)p.set(h.subarray(c,c+w)),c+=w,t.putImageData(l,0,b),b+=zr;y<s&&(w=r*i*4,p.set(h.subarray(c,c+w)),t.putImageData(l,0,b))}else if(e.kind===Gm.RGB_24BPP)for(x=zr,w=r*x,y=0;y<s;y++){for(y>=a&&(x=i,w=r*x),d=0,b=w;b--;)p[d++]=h[c++],p[d++]=h[c++],p[d++]=h[c++],p[d++]=255;t.putImageData(l,0,y*zr)}else throw new Error(`bad image kind: ${e.kind}`)}function bC(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%zr,a=(n-i)/zr,s=i===0?a:a+1,l=t.createImageData(r,zr);let c=0;const d=e.data,h=l.data;for(let p=0;p<s;p++){const y=p<a?zr:i;({srcPos:c}=Kz({src:d,srcPos:c,dest:h,width:r,height:y,nonBlackColor:0})),t.putImageData(l,0,p*zr)}}function ud(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function vm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function xC(t,e){if(e)return!0;Ye.singularValueDecompose2dScale(t,hi);const n=Math.fround(Aa.pixelRatio*ju.PDF_TO_CSS_UNITS);return hi[0]<=n&&hi[1]<=n}const e$=["butt","round","square"],t$=["miter","round","bevel"],n$={},vC={};class Au{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:l=null},c,d,h){this.ctx=e,this.current=new gC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=s,this.cachedCanvases=new Jz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...dn(this.compositeCtx))}this.ctx.save(),vm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=dn(this.ctx)}executeOperatorList(e,n,r,i,a){const s=e.argsArray,l=e.fnArray;let c=n||0;const d=s.length;if(d===c)return c;const h=d-c>pC&&typeof r=="function",p=h?Date.now()+Qz:0;let y=0;const b=this.commonObjs,x=this.objs;let w,E;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!a||a(c))if(w=l[c],E=s[c]??null,w!==Zd.dependency)E===null?this[w](c):this[w](c,...E);else for(const S of E){this.dependencyTracker?.recordNamedData(S,c);const C=S.startsWith("g_")?b:x;if(!C.has(S))return C.get(S,r),c}if(c++,c===d)return c;if(h&&++y>pC){if(Date.now()>p)return r(),c;y=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),l=r,c=i,d="prescale1",h,p;for(;a>2&&l>1||s>2&&c>1;){let y=l,b=c;a>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/y),s>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/b),h=this.cachedCanvases.getCanvas(d,y,b),p=h.context,p.clearRect(0,0,y,b),p.drawImage(e,0,0,l,c,0,0,y,b),e=h.canvas,l=y,c=b,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:a}=n,s=this.current.fillColor,l=this.current.patternFill,c=dn(r);let d,h,p,y;if((n.bitmap||n.data)&&n.count>1){const X=n.bitmap||n.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),s]),d=this._cachedBitmapsMap.get(X),d||(d=new Map,this._cachedBitmapsMap.set(X,d));const z=d.get(h);if(z&&!l){const Y=Math.round(Math.min(c[0],c[2])+c[4]),ne=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,ki.transformAndFill),{canvas:z,offsetX:Y,offsetY:ne}}p=z}p||(y=this.cachedCanvases.getCanvas("maskCanvas",i,a),bC(y.context,n));let b=Ye.transform(c,[1/i,0,0,-1/a,0,0]);b=Ye.transform(b,[1,0,0,1,0,-a]);const x=gu.slice();Ye.axialAlignedBoundingBox([0,0,i,a],b,x);const[w,E,S,C]=x,N=Math.round(S-w)||1,D=Math.round(C-E)||1,k=this.cachedCanvases.getCanvas("fillCanvas",N,D),P=k.context,j=w,U=E;P.translate(-j,-U),P.transform(...b),p||(p=this._scaleImage(y.canvas,ha(P)),p=p.img,d&&l&&d.set(h,p)),P.imageSmoothingEnabled=xC(dn(P),n.interpolate),xm(P,p,0,0,p.width,p.height,0,0,i,a),P.globalCompositeOperation="source-in";const V=Ye.transform(ha(P),[1,0,0,1,-j,-U]);return P.fillStyle=l?s.getPattern(r,this,V,sr.FILL,e):s,P.fillRect(0,0,i,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,k.canvas)),this.dependencyTracker?.recordDependencies(e,ki.transformAndFill),{canvas:k.canvas,offsetX:Math.round(j),offsetY:Math.round(U)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=e$[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=t$[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),ud(this.suspendedCtx,s),Zz(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ud(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],l=i[2]-a,c=i[3]-s;l===0||c===0||(this.genericComposeSMask(n.context,r,l,c,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,l,c,d,h,p){let y=e.canvas,b=c-h,x=d-p;if(s)if(b<0||x<0||b+r>y.width||x+i>y.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),S=E.context;S.drawImage(y,-b,-x),S.globalCompositeOperation="destination-atop",S.fillStyle=s,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",y=E.canvas,b=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,x,r,i),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(b,x,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?n.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(c,d,r,i),n.clip(w),n.globalCompositeOperation="destination-in",n.drawImage(y,b,x,r,i,c,d,r,i),n.restore()}save(e){this.inSMaskMode&&ud(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ud(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,s,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,s,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===Zd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}a instanceof Path2D||(a=r[0]=Oj(a)),Ye.axialAlignedBoundingBox(i,dn(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const s=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,ha(i),sr.STROKE,e),s){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(s)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,ki.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(sr.STROKE,dn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let l=!1;if(s){const d=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=a.getPattern(i,this,ha(i),sr.FILL,e),d){const h=new Path2D;h.addPath(n,i.getTransform().invertSelf().multiplySelf(d)),n=h}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,ki.fill),l&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,c)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,ki.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=n$}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=vC}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:s,x:l,y:c,fontSize:d,path:h}of n)h&&i.addPath(h,new DOMMatrix(s).preMultiplySelf(a).translate(l,c).scale(d,-d));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||nv,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ut("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const s=i.loadedName||"sans-serif",l=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const d=i.italic?"italic":"normal";let h=r;r<fC?h=fC:r>mC&&(h=mC),this.current.fontSizeScale=r/h,this.ctx.font=`${d} ${c} ${h}px ${l}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a,s){const l=this.ctx,c=this.current,d=c.font,h=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,y=h&rr.FILL_STROKE_MASK,b=!!(h&rr.ADD_TO_PATH_FLAG),x=c.patternFill&&!d.missingFile,w=c.patternStroke&&!d.missingFile;let E;if((d.disableFontFace||b||x||w)&&!d.missingFile&&(E=d.getPathGenerator(this.commonObjs,n)),E&&(d.disableFontFace||x||w)){l.save(),l.translate(r,i),l.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,l,d);let S;if(y===rr.FILL||y===rr.FILL_STROKE)if(a){S=l.getTransform(),l.setTransform(...a);const C=this.#r(E,S,a);l.fill(C)}else l.fill(E);if(y===rr.STROKE||y===rr.FILL_STROKE)if(s){S||=l.getTransform(),l.setTransform(...s);const{a:C,b:N,c:D,d:k}=S,P=Ye.inverseTransform(s),j=Ye.transform([C,N,D,k,0,0],P);Ye.singularValueDecompose2dScale(j,hi),l.lineWidth*=Math.max(hi[0],hi[1])/p,l.stroke(this.#r(E,S,s))}else l.lineWidth/=p,l.stroke(E);l.restore()}else(y===rr.FILL||y===rr.FILL_STROKE)&&(l.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,l,d,p,r,i,()=>l.measureText(n))),(y===rr.STROKE||y===rr.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,d,p,r,i,()=>l.measureText(n)).recordDependencies(e,ki.stroke),l.strokeText(n,r,i));b&&((this.pendingTextPaths||=[]).push({transform:dn(l),x:r,y:i,fontSize:p,path:E}),this.dependencyTracker?.recordCharacterBBox(e,l,d,p,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return pt(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ki.showText).resetBBox(e),this.current.textRenderingMode&rr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const s=this.ctx,l=r.fontSizeScale,c=r.charSpacing,d=r.wordSpacing,h=r.fontDirection,p=r.textHScale*h,y=n.length,b=i.vertical,x=b?1:-1,w=i.defaultVMetrics,E=a*r.fontMatrix[0],S=r.textRenderingMode===rr.FILL&&!i.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),h>0?s.scale(p,-1):s.scale(p,1);let C,N;if(r.patternFill){s.save();const U=r.fillColor.getPattern(s,this,ha(s),sr.FILL,e);C=dn(s),s.restore(),s.fillStyle=U}if(r.patternStroke){s.save();const U=r.strokeColor.getPattern(s,this,ha(s),sr.STROKE,e);N=dn(s),s.restore(),s.strokeStyle=U}let D=r.lineWidth;const k=r.textMatrixScale;if(k===0||D===0){const U=r.textRenderingMode&rr.FILL_STROKE_MASK;(U===rr.STROKE||U===rr.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=k;if(l!==1&&(s.scale(l,l),D/=l),s.lineWidth=D,i.isInvalidPDFjsFont){const U=[];let V=0;for(const z of n)U.push(z.unicode),V+=z.width;const X=U.join("");if(s.fillText(X,0,0),this.dependencyTracker!==null){const z=s.measureText(X);this.dependencyTracker.recordBBox(e,this.ctx,-z.actualBoundingBoxLeft,z.actualBoundingBoxRight,-z.actualBoundingBoxAscent,z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=V*E*p,s.restore(),this.compose();return}let P=0,j;for(j=0;j<y;++j){const U=n[j];if(typeof U=="number"){P+=x*U*a/1e3;continue}let V=!1;const X=(U.isSpace?d:0)+c,z=U.fontChar,Y=U.accent;let ne,K,se=U.width;if(b){const ie=U.vmetric||w,ue=-(U.vmetric?ie[1]:se*.5)*E,M=ie[2]*E;se=ie?-ie[0]:se,ne=ue/l,K=(P+M)/l}else ne=P/l,K=0;let L;if(i.remeasure&&se>0){L=s.measureText(z);const ie=L.width*1e3/a*l;if(se<ie&&this.isFontSubpixelAAEnabled){const ue=se/ie;V=!0,s.save(),s.scale(ue,1),ne/=ue}else se!==ie&&(ne+=(se-ie)/2e3*a/l)}if(this.contentVisible&&(U.isInFont||i.missingFile)){if(S&&!Y)s.fillText(z,ne,K),this.dependencyTracker?.recordCharacterBBox(e,s,L?{bbox:null}:i,a/l,ne,K,()=>L??s.measureText(z));else if(this.paintChar(e,z,ne,K,C,N),Y){const ie=ne+a*Y.offset.x/l,ue=K-a*Y.offset.y/l;this.paintChar(e,Y.fontChar,ie,ue,C,N)}}const H=b?se*E-X*h:se*E+X*h;P+=H,V&&s.restore()}b?r.y-=P:r.x+=P*p,s.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,s=i.fontSize,l=i.fontDirection,c=a.vertical?1:-1,d=i.charSpacing,h=i.wordSpacing,p=i.textHScale*l,y=i.fontMatrix||nv,b=n.length,x=i.textRenderingMode===rr.INVISIBLE;let w,E,S,C;if(x||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(p,l);const N=this.dependencyTracker;for(this.dependencyTracker=N?new cp(N,e):null,w=0;w<b;++w){if(E=n[w],typeof E=="number"){C=c*E*s/1e3,this.ctx.translate(C,0),i.x+=C*p;continue}const D=(E.isSpace?h:0)+d,k=a.charProcOperatorList[E.operatorListId];k?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...y),this.executeOperatorList(k),this.restore()):ut(`Type3 character "${E.operatorListId}" is not available.`);const P=[E.width,0];Ye.applyTransform(P,y),S=P[0]*s+D,r.translate(S,0),i.x+=S*p}r.restore(),N&&(this.dependencyTracker=N)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,s,l){const c=new Path2D;c.rect(i,a,s-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,i,s,a,l).recordClipBox(e,this.ctx,i,s,a,l),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||dn(this.ctx),a={createCanvasGraphics:(s,l)=>new Au(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new cp(this.dependencyTracker,l,!0):null)};r=new Gw(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=Xz(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,ha(r),sr.SHADING,e);const a=ha(r);if(a){const{width:s,height:l}=r.canvas,c=gu.slice();Ye.axialAlignedBoundingBox([0,0,s,l],a,c);const[d,h,p,y]=c;this.ctx.fillRect(d,h,p-d,y-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ki.transform).recordDependencies(e,ki.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=dn(this.ctx),r)){Ye.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,s,l]=r,c=new Path2D;c.rect(i,a,s-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,i,s,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||gg("TODO: Support non-isolated groups."),n.knockout&&ut("Knockout groups not supported.");const i=dn(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=gu.slice();Ye.axialAlignedBoundingBox(n.bbox,dn(r),a);const s=[0,0,r.canvas.width,r.canvas.height];a=Ye.intersect(a,s)||[0,0,0,0];const l=Math.floor(a[0]),c=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-l,1),h=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,h]);let p="groupAt"+this.groupLevel;n.smask&&(p+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(p,d,h),b=y.context;b.translate(-l,-c),b.transform(...i);let x=new Path2D;const[w,E,S,C]=n.bbox;if(x.rect(w,E,S-w,C-E),n.matrix){const N=new Path2D;N.addPath(x,new DOMMatrix(n.matrix)),x=N}b.clip(x),n.smask&&this.smaskStack.push({canvas:y.canvas,context:b,offsetX:l,offsetY:c,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(l,c),r.save()),ud(r,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=dn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const s=gu.slice();Ye.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,a,s){if(this.#e(),vm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const l=r[2]-r[0],c=r[3]-r[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=l,r[3]=c,Ye.singularValueDecompose2dScale(dn(this.ctx),hi);const{viewportScale:d}=this,h=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(n,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(hi[0],0,0,-hi[1],0,c*hi[1]),vm(this.ctx)}else{vm(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],l,c),this.ctx.clip(d)}}this.current=new gC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,s,l){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const c=this.ctx;c.save();const d=dn(c);c.transform(r,i,a,s,0,0);const h=this._createMaskCanvas(e,n);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,y=l.length;p<y;p+=2){const b=Ye.transform(d,[r,i,a,s,l[p],l[p+1]]);c.drawImage(h.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(e,this.ctx,b[4],b[4]+h.canvas.width,b[5],b[5]+h.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,ki.transformAndFill);for(const s of n){const{data:l,width:c,height:d,transform:h}=s,p=this.cachedCanvases.getCanvas("maskCanvas",c,d),y=p.context;y.save();const b=this.getObject(e,l,s);bC(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,ha(r),sr.FILL,e):i,y.fillRect(0,0,c,d),y.restore(),r.save(),r.transform(...h),r.scale(1,-1),xm(r,p.canvas,0,0,c,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,c,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){ut("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){ut("Dependent image isn't ready yet");return}const l=s.width,c=s.height,d=[];for(let h=0,p=a.length;h<p;h+=2)d.push({transform:[r,0,0,i,a[h],a[h+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,s,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/r,-1/i);let l;if(n.bitmap)l=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)l=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;yC(h,n),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,ha(a));a.imageSmoothingEnabled=xC(dn(a),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,ki.imageXObject).recordOperation(e),xm(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const s=n.width,l=n.height,d=this.cachedCanvases.getCanvas("inlineImage",s,l).context;yC(d,n),a=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const s of r)i.save(),i.transform(...s.transform),i.scale(1,-1),xm(i,a,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ki.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===vC?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,l;if(r===0&&i===0){const c=Math.abs(n),d=Math.abs(a);if(c===d)if(e===0)s=l=1/c;else{const h=c*e;s=l=h<1?1/h:1}else if(e===0)s=1/c,l=1/d;else{const h=c*e,p=d*e;s=h<1?1/h:1,l=p<1?1/p:1}}else{const c=Math.abs(n*a-r*i),d=Math.hypot(n,r),h=Math.hypot(i,a);if(e===0)s=h/c,l=d/c;else{const p=e*c;s=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){r.lineWidth=(i||1)*a,r.stroke(e);return}const l=r.getLineDash();n&&r.save(),r.scale(a,s),Wb.a=1/a,Wb.d=1/s;const c=new Path2D;if(c.addPath(e,Wb),l.length>0){const d=Math.max(a,s);r.setLineDash(l.map(h=>h/d)),r.lineDashOffset/=d}r.lineWidth=i||1,r.stroke(c),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Zd)Au.prototype[t]!==void 0&&(Au.prototype[Zd[t]]=Au.prototype[t]);class Su{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class r${#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const fu=Symbol("INTERNAL");class i${#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&di.DISPLAY),this.#t=!!(e&di.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==fu&&Wt("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class a${#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=di.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new i$(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(fu,!1);for(const r of e.on)this.#t.get(r)._setVisible(fu,!0);for(const r of e.off)this.#t.get(r)._setVisible(fu,!1);this.#r=this.getHash()}}#s(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=this.#s(a);else if(this.#t.has(a))s=this.#t.get(a).visible;else return ut(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return gg("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(ut(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return ut(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return ut(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return ut(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return ut(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return ut(`Unknown optional content policy ${e.policy}.`),!0}return ut(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){ut(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const s of a)s!==e&&this.#t.get(s)?._setVisible(fu,!1,!0);i._setVisible(fu,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Pj;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class s${constructor(e,{disableRange:n=!1,disableStream:r=!1}){Nt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=l,a?.length>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});Nt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Nt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new o$(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new l$(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class o${constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Hw(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l${constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function u$(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=l(n);return h=unescape(h),h=c(h),h=d(h),a(h)}if(n=s(t),n){const h=d(n);return a(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=l(n);return h=d(h),a(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const y=new TextDecoder(h,{fatal:!0}),b=Sh(p);p=y.decode(b),e=!1}catch{}}return p}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function s(h){const p=[];let y;const b=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(h))!==null;){let[,w,E,S]=y;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[E,S]}const x=[];for(let w=0;w<p.length&&w in p;++w){let[E,S]=p[w];S=l(S),E&&(S=unescape(S),w===0&&(S=c(S))),x.push(S)}return x.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let y=0;y<p.length;++y){const b=p[y].indexOf('"');b!==-1&&(p[y]=p[y].slice(0,b),p.length=y+1),p[y]=p[y].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const y=h.slice(0,p),x=h.slice(p+1).replace(/^[^']*'/,"");return i(y,x)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,y,b,x){if(b==="q"||b==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,E){return String.fromCharCode(parseInt(E,16))}),i(y,x);try{x=atob(x)}catch{}return i(y,x)})}return""}function Bj(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function xg(t){return URL.parse(t)?.origin??null}function Fj({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Uj(t){const e=t.get("Content-Disposition");if(e){let n=u$(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Hw(n))return n}return null}function Oh(t,e){return new up(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function Hj(t){return t===200||t===206}function zj(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function $j(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(ut(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class c${_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Bj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Nt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d$(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new h$(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class d${constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,zj(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=xg(a.url),!Hj(a.status))throw Oh(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:l,suggestedLength:c}=Fj({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=Uj(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new so("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:$j(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class h${constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,zj(a,this._withCredentials,this._abortController)).then(l=>{const c=xg(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!Hj(l.status))throw Oh(l.status,s);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:$j(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Xb=200,Kb=206;function f$(t){const e=t.response;return typeof e!="string"?e:Sh(e).buffer}class m${_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Bj(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Kb):i.expectedStatus=Xb,n.responseType="arraybuffer",Nt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||Xb;if(!(a===Xb&&r.expectedStatus===Kb)&&a!==r.expectedStatus){r.onError(i.status);return}const l=f$(i);if(a===Kb){const c=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?r.onDone({begin:parseInt(d[1],10),chunk:l}):(ut('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone({begin:0,chunk:l}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class p${constructor(e){this._source=e,this._manager=new m$(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Nt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g$(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new y$(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class g${constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=xg(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=Fj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Uj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Oh(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y${constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=xg(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Oh(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const b$=/^[a-z][a-z0-9\-+.]+:/i;function x$(t){if(b$.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class v${constructor(e){this.source=e,this.url=x$(e.url),Nt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Nt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new w$(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new E$(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class w${constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Oh(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new so("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E${constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const cd=Symbol("INITIAL_DATA");class qj{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:cd}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===cd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==cd}delete(e){const n=this.#e[e];return!n||n.data===cd?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==cd&&(yield[e,n])}}}const A$=1e5,wC=30;class vr{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#i=0;#o=0;#u=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#c=[];#m=new WeakMap;#y=null;static#x=new Map;static#b=new Map;static#T=new WeakMap;static#A=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Aa.pixelRatio,this.#h=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:s,pageY:l}=r.rawDims;this.#y=[1,0,0,-1,-s,l+a],this.#o=i,this.#i=a,vr.#O(),il(n,r),this.#e.promise.finally(()=>{vr.#w.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=lr.platform;return pt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#u.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#f,n.styles),this.#N(n.items),e()},this.#e.reject)};return this.#u=this.#p.getReader(),vr.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Aa.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,il(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:vr.#k(this.#s)};for(const s of this.#c)a.properties=this.#m.get(s),a.div=s,this.#S(a)}}cancel(){const e=new so("TextLayer task cancelled.");this.#u?.cancel(e).catch(()=>{}),this.#u=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#g}#N(e){if(this.#r)return;this.#a.ctx??=vr.#k(this.#s);const n=this.#c,r=this.#g;for(const i of e){if(n.length>A$){ut("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#v(i)}}#v(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(n);const i=Ye.transform(this.#y,e.transform);let a=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(a+=Math.PI/2);let l=this.#n&&s.fontSubstitution||s.fontFamily;l=vr.fontFamilyMap.get(l)||l;const c=Math.hypot(i[2],i[3]),d=c*vr.#M(l,s,this.#s);let h,p;a===0?(h=i[4],p=i[5]-d):(h=i[4]+d*Math.sin(a),p=i[5]-d*Math.cos(a));const y="calc(var(--total-scale-factor) *",b=n.style;this.#t===this.#l?(b.left=`${(100*h/this.#o).toFixed(2)}%`,b.top=`${(100*p/this.#i).toFixed(2)}%`):(b.left=`${y}${h.toFixed(2)}px)`,b.top=`${y}${p.toFixed(2)}px)`),b.fontSize=`${y}${(vr.#A*c).toFixed(2)}px)`,b.fontFamily=l,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);w!==E&&Math.max(w,E)/Math.min(w,E)>1.5&&(x=!0)}if(x&&(r.canvasWidth=s.vertical?e.height:e.width),this.#m.set(n,r),this.#a.div=n,this.#a.properties=r,this.#S(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#t.append(w)}}#S(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(vr.#A>1&&(s=`scale(${1/vr.#A})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:d}=r;vr.#C(i,d*this.#d,l);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${c*this.#d/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)}static cleanup(){if(!(this.#w.size>0)){this.#x.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#k(e=null){let n=this.#b.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,n),this.#T.set(n,{size:0,family:""})}return n}static#C(e,n,r){const i=this.#T.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#O(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#M(e,n,r){const i=this.#x.get(e);if(i)return i;const a=this.#k(r);a.canvas.width=a.canvas.height=wC,this.#C(a,wC,e);const s=a.measureText(""),l=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return l?d=l/(l+c):(lr.platform.isFirefox&&ut("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#x.set(e,d),d}}const S$=100;function Yj(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new Ww,{docId:n}=e,r=t.url?Pz(t.url):null,i=t.data?Dz(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,l=t.password??null,c=t.range instanceof Vj?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof eh?t.worker:null;const p=t.verbosity,y=typeof t.docBaseUrl=="string"&&!yg(t.docBaseUrl)?t.docBaseUrl:null,b=pm(t.cMapUrl),x=t.cMapPacked!==!1,w=t.CMapReaderFactory||(wr?Uz:oC),E=pm(t.iccUrl),S=pm(t.standardFontDataUrl),C=t.StandardFontDataFactory||(wr?Hz:lC),N=pm(t.wasmUrl),D=t.WasmFactory||(wr?zz:uC),k=t.stopAtErrors!==!0,P=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,j=t.isEvalSupported!==!1,U=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!wr,V=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!wr&&(lr.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,z=typeof t.disableFontFace=="boolean"?t.disableFontFace:wr,Y=t.fontExtraProperties===!0,ne=t.enableXfa===!0,K=t.ownerDocument||globalThis.document,se=t.disableRange===!0,L=t.disableStream===!0,H=t.disableAutoFetch===!0,ie=t.pdfBug===!0,ue=t.CanvasFactory||(wr?Fz:Lz),M=t.FilterFactory||(wr?Bz:Mz),F=t.enableHWA===!0,Z=t.useWasm!==!1,R=c?c.length:t.length??NaN,oe=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!wr&&!z,$=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(w===oC&&C===lC&&D===uC&&b&&S&&N&&Nd(b,document.baseURI)&&Nd(S,document.baseURI)&&Nd(N,document.baseURI)),ae=null;az(p);const fe={canvasFactory:new ue({ownerDocument:K,enableHWA:F}),filterFactory:new M({docId:n,ownerDocument:K}),cMapReaderFactory:$?null:new w({baseUrl:b,isCompressed:x}),standardFontDataFactory:$?null:new C({baseUrl:S}),wasmFactory:$?null:new D({baseUrl:N})};h||(h=eh.create({verbosity:p,port:Su.workerPort}),e._worker=h);const ge={docId:n,apiVersion:"5.4.394",data:i,password:l,disableAutoFetch:H,rangeChunkSize:d,length:R,docBaseUrl:y,enableXfa:ne,evaluatorOptions:{maxImageSize:P,disableFontFace:z,ignoreErrors:k,isEvalSupported:j,isOffscreenCanvasSupported:U,isImageDecoderSupported:V,canvasMaxAreaInBytes:X,fontExtraProperties:Y,useSystemFonts:oe,useWasm:Z,useWorkerFetch:$,cMapUrl:b,iccUrl:E,standardFontDataUrl:S,wasmUrl:N}},J={ownerDocument:K,pdfBug:ie,styleElement:ae,loadingParams:{disableAutoFetch:H,enableXfa:ne}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ne=h.messageHandler.sendWithPromise("GetDocRequest",ge,i?[i.buffer]:null);let Le;if(c)Le=new s$(c,{disableRange:se,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const le=Nd(r)?c$:wr?v$:p$;Le=new le({url:r,length:R,httpHeaders:a,withCredentials:s,rangeChunkSize:d,disableRange:se,disableStream:L})}return Ne.then(le=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const He=new Cd(n,le,h.port),Me=new N$(He,e,Le,J,fe,F);e._transport=Me,He.send("Ready",null)})}).catch(e._capability.reject),e}class Ww{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Ww.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Vj{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#s=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#s)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class T${constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class _${#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new eC:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new qj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new _h({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=to.ENABLE,transform:s=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:y=!1,recordOperations:b=!1,operationsFilter:x=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(i,a,p,y),{renderingIntent:E,cacheKey:S}=w;this.#e=!1,c||=this._transport.getOptionalContentConfig(E);let C=this._intentStates.get(S);C||(C=Object.create(null),this._intentStates.set(S,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const N=!!(E&di.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(b||D),P=V=>{if(C.renderTasks.delete(j),k){const X=j.gfx?.dependencyTracker.take();X&&(j.stepper&&j.stepper.setOperatorBBoxes(X,j.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=X))}N&&(this.#e=!0),this.#t(),V?(j.capability.reject(V),this._abortOperatorList({intentState:C,reason:V instanceof Error?V:new Error(V)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new yu({callback:P,params:{canvas:n,canvasContext:e,dependencyTracker:k?new qz(n,C.operatorList.length,D):null,viewport:r,transform:s,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:x});(C.renderTasks||=new Set).add(j);const U=j.task;return Promise.all([C.displayReadyCapability.promise,c]).then(([V,X])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:V,optionalContentConfig:X}),j.operatorListChanged()}).catch(P),U}getOperatorList({intent:e="display",annotationMode:n=to.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let l=this._intentStates.get(s.cacheKey);l||(l=Object.create(null),this._intentStates.set(s.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Jd.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:c,done:d}){if(d){r(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),a()},i)}const s=n.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new eC),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),d=this._intentStates.get(n);d.streamReader=c;const h=()=>{c.read().then(({value:p,done:y})=>{if(y){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const y of d.renderTasks)y.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof Uw){let i=S$;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new so(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var ro,Ki,Za,Yo,ag,Vo,Go,_r,Wm,Gj,Wj,Od,ku,Xm;const ln=class ln{constructor({name:e=null,port:n=null,verbosity:r=sz()}={}){ua(this,_r);ua(this,ro,Promise.withResolvers());ua(this,Ki,null);ua(this,Za,null);ua(this,Yo,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(sn(ln,Go).has(n))throw new Error("Cannot use more than one PDFWorker per port.");sn(ln,Go).set(n,this),ca(this,_r,Gj).call(this,n)}else ca(this,_r,Wj).call(this)}get promise(){return sn(this,ro).promise}get port(){return sn(this,Za)}get messageHandler(){return sn(this,Ki)}destroy(){this.destroyed=!0,sn(this,Yo)?.terminate(),Br(this,Yo,null),sn(ln,Go).delete(sn(this,Za)),Br(this,Za,null),sn(this,Ki)?.destroy(),Br(this,Ki,null)}static create(e){const n=sn(this,Go).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ln(e)}static get workerSrc(){if(Su.workerSrc)return Su.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pt(this,"_setupFakeWorkerGlobal",(async()=>sn(this,ku,Xm)?sn(this,ku,Xm):(await import(this.workerSrc)).WorkerMessageHandler)())}};ro=new WeakMap,Ki=new WeakMap,Za=new WeakMap,Yo=new WeakMap,ag=new WeakMap,Vo=new WeakMap,Go=new WeakMap,_r=new WeakSet,Wm=function(){sn(this,ro).resolve(),sn(this,Ki).send("configure",{verbosity:this.verbosity})},Gj=function(e){Br(this,Za,e),Br(this,Ki,new Cd("main","worker",e)),sn(this,Ki).on("ready",()=>{}),ca(this,_r,Wm).call(this)},Wj=function(){if(sn(ln,Vo)||sn(ln,ku,Xm)){ca(this,_r,Od).call(this);return}let{workerSrc:e}=ln;try{ln._isSameOrigin(window.location,e)||(e=ln._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Cd("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?sn(this,ro).reject(new Error("Worker was destroyed")):ca(this,_r,Od).call(this)},a=new AbortController;n.addEventListener("error",()=>{sn(this,Yo)||i()},{signal:a.signal}),r.on("test",l=>{if(a.abort(),this.destroyed||!l){i();return}Br(this,Ki,r),Br(this,Za,n),Br(this,Yo,n),ca(this,_r,Wm).call(this)}),r.on("ready",l=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{ca(this,_r,Od).call(this)}});const s=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};s();return}catch{gg("The worker has been disabled.")}ca(this,_r,Od).call(this)},Od=function(){sn(ln,Vo)||(ut("Setting up fake worker."),Br(ln,Vo,!0)),ln._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){sn(this,ro).reject(new Error("Worker was destroyed"));return}const n=new Iz;Br(this,Za,n);const r=`fake${X_(ln,ag)._++}`,i=new Cd(r+"_worker",r,n);e.setup(i,n),Br(this,Ki,new Cd(r,r+"_worker",n)),ca(this,_r,Wm).call(this)}).catch(e=>{sn(this,ro).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ku=new WeakSet,Xm=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ua(ln,ku),ua(ln,ag,0),ua(ln,Vo,!1),ua(ln,Go,new WeakMap),wr&&(Br(ln,Vo,!0),Su.workerSrc||="./pdf.worker.mjs"),ln._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},ln._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},ln.fromPort=e=>{if(bz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ln.create(e)};let eh=ln;class N${#e=new Map;#t=new Map;#r=new Map;#n=new Map;#s=null;constructor(e,n,r,i,a,s){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new qj,this.fontLoader=new Oz({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return pt(this,"annotationStorage",new qw)}getRenderingIntent(e,n=to.ENABLE,r=null,i=!1,a=!1){let s=di.DISPLAY,l=lv;switch(e){case"any":s=di.ANY;break;case"display":break;case"print":s=di.PRINT;break;default:ut(`getRenderingIntent - invalid intent: ${e}`)}const c=s&di.PRINT&&r instanceof Dj?r:this.annotationStorage;switch(n){case to.DISABLE:s+=di.ANNOTATIONS_DISABLE;break;case to.ENABLE:break;case to.ENABLE_FORMS:s+=di.ANNOTATIONS_FORMS;break;case to.ENABLE_STORAGE:s+=di.ANNOTATIONS_STORAGE,l=c.serializable;break;default:ut(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=di.IS_EDITING),a&&(s+=di.OPLIST);const{ids:d,hash:h}=c.modifiedIds,p=[s,l.hash,h];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),vr.cleanup(),this._networkStream?.cancelAllRequests(new so("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Nt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}Nt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{n.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{Nt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:l}){if(l){i.close();return}Nt(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new T$(r,this))}),e.on("DocException",r=>{n._capability.reject(Hr(r))}),e.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!n.onPassword)throw Hr(r);const i=a=>{a instanceof Error?this.#s.reject(a):this.#s.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const p=a.error;ut(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const s=new Yt(a),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,y)=>globalThis.FontInspector.fontAdded(p,y):null,c=new kz(s,l,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=a;Nt(d,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,y]of p.objs)if(y?.ref===d)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const h=new zn(a);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{if(this.destroyed)return;const l=this.#t.get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){s?.bitmap?.close();return}switch(a){case"Image":case"Pattern":l.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ut("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const s=new _$(n,a,this,this._params.pdfBug);return this.#t.set(n,s),s});return this.#r.set(n,i),i}getPageIndex(e){return uv(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new a$(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new r$(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),vr.cleanup()}}cachedPageNumber(e){if(!uv(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class C${#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class yu{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:y=null,enableHWA:b=!1,operationsFilter:x=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=p,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new C$(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=b,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(yu.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yu.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:s}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Au(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),yu.#t.delete(this._canvas),e||=new Uw(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),yu.#t.delete(this._canvas),this.callback())))}}const Xj="5.4.394",O$="2cc809ade";class Ii{#e=null;#t=null;#r;#n=null;#s=!1;#a=!1;#i=null;#o;#u=null;#l=null;static#h=null;static get _keyboardManager(){return pt(this,"_keyboardManager",new Ch([[["Escape","mac+Escape"],Ii.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ii.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ii.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ii.prototype._moveToPrevious],[["Home","mac+Home"],Ii.prototype._moveToBeginning],[["End","mac+End"],Ii.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#i=e):this.#a=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ii.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Hi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",Ii.#h[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:_t.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastChild?.focus()}#g(e){Ii._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#c(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class th{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,th.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",th.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function EC(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function dd(t){return Math.max(0,Math.min(255,255*t))}class AC{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=dd(e),[e,e,e]}static G_HTML([e]){const n=EC(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(dd)}static RGB_HTML(e){return`#${e.map(EC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[dd(1-Math.min(1,e+i)),dd(1-Math.min(1,r+i)),dd(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,l=Math.min(i,a,s);return["CMYK",i,a,s,l]}}class k${create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Wt("Abstract method `_createSVG` called.")}}class dp extends k${_createSVG(e){return document.createElementNS(Ka,e)}}const P$=9,al=new WeakSet,D$=new Date().getTimezoneOffset()*60*1e3;class Qb{static create(e){switch(e.data.annotationType){case Nn.LINK:return new Xw(e);case Nn.TEXT:return new R$(e);case Nn.WIDGET:switch(e.data.fieldType){case"Tx":return new I$(e);case"Btn":return e.data.radioButton?new Kj(e):e.data.checkBox?new M$(e):new B$(e);case"Ch":return new F$(e);case"Sig":return new L$(e)}return new ml(e);case Nn.POPUP:return new hv(e);case Nn.FREETEXT:return new Qj(e);case Nn.LINE:return new H$(e);case Nn.SQUARE:return new z$(e);case Nn.CIRCLE:return new $$(e);case Nn.POLYLINE:return new Zj(e);case Nn.CARET:return new Y$(e);case Nn.INK:return new Kw(e);case Nn.POLYGON:return new q$(e);case Nn.HIGHLIGHT:return new Jj(e);case Nn.UNDERLINE:return new V$(e);case Nn.SQUIGGLY:return new G$(e);case Nn.STRIKEOUT:return new W$(e);case Nn.STAMP:return new eR(e);case Nn.FILEATTACHMENT:return new X$(e);default:return new hn(e)}}}class hn{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hn._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,s=-1/0;if(n?.length>=8){for(let l=0;l<n.length;l+=8)n[l+1]>s?(s=n[l+1],a=n[l+2]):n[l+1]===s&&(a=Math.max(a,n[l+2]));return[a,s]}if(r?.length>=1){for(const l of r)for(let c=0,d=l.length;c<d;c+=2)l[c+1]>s?(s=l[c+1],a=l[c]):l[c+1]===s&&(a=Math.max(a,l[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-s)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Qd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Qd}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:l,pageY:c}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-l)/a}%`,n.top=`${100*(s-e[3]+c)/s}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof ml)&&!(this instanceof Xw)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof hv){const{rotation:w}=n;return!n.hasOwnCanvas&&w!==0&&this.setRotation(w,a),a}const{width:l,height:c}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const w=n.borderStyle.horizontalCornerRadius,E=n.borderStyle.verticalCornerRadius;if(w>0||E>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;s.borderRadius=C}else if(this instanceof Kj){const C=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=C}switch(n.borderStyle.style){case hu.SOLID:s.borderStyle="solid";break;case hu.DASHED:s.borderStyle="dashed";break;case hu.BEVELED:ut("Unimplemented border style: beveled");break;case hu.INSET:ut("Unimplemented border style: inset");break;case hu.UNDERLINE:s.borderBottomStyle="solid";break}const S=n.borderColor||null;S?(this.#t=!0,s.borderColor=Ye.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):s.borderWidth=0}const d=Ye.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:y,pageY:b}=i.rawDims;s.left=`${100*(d[0]-y)/h}%`,s.top=`${100*(d[1]-b)/p}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(s.width=`${100*l/h}%`,s.height=`${100*c/p}%`):this.setRotation(x,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*s/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],l=a.slice(1);i.target.style[r]=AC[`${s}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:AC[`${s}_rgb`](l)})};return pt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const l={detail:{[i]:a},target:e};s(l),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,E,S,C]=e.subarray(2,6);if(i===w&&a===E&&n===S&&r===C)return}const{style:s}=this.container;let l;if(this.#t){const{borderColor:w,borderWidth:E}=s;s.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=i-n,d=a-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const y=h.createElement("defs");p.append(y);const b=h.createElement("clipPath"),x=`clippath_${this.data.id}`;b.setAttribute("id",x),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let w=2,E=e.length;w<E;w+=8){const S=e[w],C=e[w+1],N=e[w+2],D=e[w+3],k=h.createElement("rect"),P=(N-n)/c,j=(a-C)/d,U=(S-N)/c,V=(C-D)/d;k.setAttribute("x",P),k.setAttribute("y",j),k.setAttribute("width",U),k.setAttribute("height",V),b.append(k),l?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${j}" width="${U}" height="${V}"/>`)}this.#t&&(l.push("</g></svg>')"),s.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new hv({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:l}of i){if(a===-1||s===n)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!al.has(d)){ut(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&al.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class j$ extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Xw extends hn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){ut('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:s}=n,l=[];if(i.length!==0||a.length!==0){const h=new Set(a);for(const p of i){const y=this._fieldObjects[p]||[];for(const{id:b}of y)h.add(b)}for(const p of Object.values(this._fieldObjects))for(const y of p)h.has(y.id)===s&&l.push(y)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,d=[];for(const h of l){const{id:p}=h;switch(d.push(p),h.type){case"text":{const b=h.defaultValue||"";c.setValue(p,{value:b});break}case"checkbox":case"radiobutton":{const b=h.defaultValue===h.exportValues;c.setValue(p,{value:b});break}case"combobox":case"listbox":{const b=h.defaultValue||"";c.setValue(p,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!al.has(y)){ut(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class R$ extends hn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class ml extends hn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return lr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}})})}_setEventListeners(e,n,r,i){for(const[a,s]of r)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ye.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||P$,a=e.style;let s;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/($b*i))||1,p=d/h;s=Math.min(i,c(p/$b))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);s=Math.min(i,c(d/$b))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=Ye.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class I$ extends ml{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const s=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;s&&a.length>s&&(a=a.slice(0,s));let l=i.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=l??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",l??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),al.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:p}=this.data,y=!!h&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",x=>{e.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",x=>{const w=this.data.defaultFieldValue??"";r.value=c.userValue=w,c.formattedValue=null});let b=x=>{const{formattedValue:w}=c;w!=null&&(x.target.value=w),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",w=>{if(c.focused)return;const{target:E}=w;if(y&&(E.type=h,p&&(E.step=p)),c.userValue){const S=c.userValue;if(y)if(h==="time"){const C=new Date(S),N=[C.getHours(),C.getMinutes(),C.getSeconds()];E.value=N.map(D=>D.toString().padStart(2,"0")).join(":")}else E.value=new Date(S-D$).toISOString().split(h==="date"?"T":".",1)[0];else E.value=S}c.lastCommittedValue=E.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const E={value(S){c.userValue=S.detail.value??"",y||e.setValue(n,{value:c.userValue.toString()}),S.target.value=c.userValue},formattedValue(S){const{formattedValue:C}=S.detail;c.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C);const N={formattedValue:C};y&&(N.value=C),e.setValue(n,N)},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:C}=S.detail,{target:N}=S;if(C===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",C);let D=c.userValue;!D||D.length<=C||(D=D.slice(0,C),N.value=c.userValue=D,e.setValue(n,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(E,w)}),r.addEventListener("keydown",w=>{c.commitKey=1;let E=-1;if(w.key==="Escape"?E=0:w.key==="Enter"&&!this.data.multiLine?E=2:w.key==="Tab"&&(c.commitKey=3),E===-1)return;const{value:S}=w.target;c.lastCommittedValue!==S&&(c.lastCommittedValue=S,c.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:E,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const x=b;b=null,r.addEventListener("blur",w=>{if(!c.focused||!w.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:E}=w;let{value:S}=E;if(y){if(S&&h==="time"){const C=S.split(":").map(N=>parseInt(N,10));S=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),E.step=""}else S.includes("T")||(S=`${S}T00:00`),S=new Date(S).valueOf();E.type="text"}c.userValue=S,c.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:c.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),x(w)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",w=>{c.lastCommittedValue=null;const{data:E,target:S}=w,{value:C,selectionStart:N,selectionEnd:D}=S;let k=N,P=D;switch(w.inputType){case"deleteWordBackward":{const j=C.substring(0,N).match(/\w*[^\w]*$/);j&&(k-=j[0].length);break}case"deleteWordForward":{const j=C.substring(N).match(/^[^\w]*\w*/);j&&(P+=j[0].length);break}case"deleteContentBackward":N===D&&(k-=1);break;case"deleteContentForward":N===D&&(P+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,change:E||"",willCommit:!1,selStart:k,selEnd:P}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(b&&r.addEventListener("blur",b),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class L$ extends ml{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class M$ extends ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return al.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,r)){const h=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const l=n.defaultFieldValue||"Off";s.target.checked=l===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Kj extends ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(al.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const l=n.defaultFieldValue;s.target.checked=l!=null&&l===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=s===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const y=h&&p.id===r;p.domElement&&(p.domElement.checked=y),e.setValue(p.id,{value:y})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class B$ extends Xw{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class F$ extends ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");al.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const y of i.options)y.selected=y.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),a=!1),i.append(p)}let s=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),s=()=>{h.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const l=h=>{const p=h?"value":"textContent",{options:y,multiple:b}=i;return b?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[p]):y.selectedIndex===-1?null:y[y.selectedIndex][p]};let c=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(y){s?.();const b=y.detail.value,x=new Set(Array.isArray(b)?b:[b]);for(const w of i.options)w.selected=x.has(w.value);e.setValue(n,{value:l(!0)}),c=l(!1)},multipleSelection(y){i.multiple=!0},remove(y){const b=i.options,x=y.detail.remove;b[x].selected=!1,i.remove(x),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},clear(y){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),c=l(!1)},insert(y){const{index:b,displayValue:x,exportValue:w}=y.detail.insert,E=i.children[b],S=document.createElement("option");S.textContent=x,S.value=w,E?E.before(S):i.append(S),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},items(y){const{items:b}=y.detail;for(;i.length!==0;)i.remove(0);for(const x of b){const{displayValue:w,exportValue:E}=x,S=document.createElement("option");S.textContent=w,S.value=E,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},indices(y){const b=new Set(y.detail.indices);for(const x of y.target.options)x.selected=b.has(x.index);e.setValue(n,{value:l(!0)}),c=l(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{const p=l(!0),y=l(!1);e.setValue(n,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:y,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class hv extends hn{constructor(e){const{data:n,elements:r,parent:i}=e,a=!!i._commentManager;if(super(e,{isRenderable:!a&&hn._hasPopupData(n)}),this.elements=r,a&&hn._hasPopupData(n)){const s=this.popup=this.#e();for(const l of r)l.popup=s}else this.popup=null}#e(){return new U$({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${pu}${i}`).join(",")),this.container}}class U${#e=null;#t=this.#q.bind(this);#r=this.#F.bind(this);#n=this.#j.bind(this);#s=this.#E.bind(this);#a=null;#i=null;#o=null;#u=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#c=null;#m=null;#y=null;#x=null;#b=null;#T=null;#A=null;#w=null;#N=!1;#v=null;#S=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:l,parent:c,rect:d,parentRect:h,open:p,commentManager:y=null}){this.#i=e,this.#A=i,this.#o=s,this.#T=l,this.#h=c,this.#a=n,this.#b=d,this.#d=h,this.#l=r,this.#e=y,this.#v=r[0],this.#u=av.toDateObject(a),this.trigger=r.flatMap(b=>b.getElementsToTriggerPopup()),y||(this.#k(),this.#i.hidden=!0,p&&this.#E())}#k(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const n of this.trigger)n.addEventListener("click",this.#s,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#C(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m){this.#m.parentNode||this.#v.container.after(this.#m);return}if(this.#y||this.#C(),!this.#y)return;const{signal:e}=this.#p=new AbortController,n=this.#v.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#m=this.#v.container;for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=this.#m=document.createElement("button");s.className="annotationCommentButton";const l=this.#v.container;s.style.zIndex=l.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#M(),this.#O(),s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),l.after(s)}}#O(){if(this.#v.extraPopupElement&&!this.#v.editor)return;this.#m||this.renderCommentButton();const[e,n]=this.#y,{style:r}=this.#m;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#M(){this.#v.extraPopupElement||(this.#m||this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#v.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=this.#v.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#S||=this.#v.commentText,this.#S}set comment(e){e!==this.comment&&(this.#v.commentText=this.#S=e)}focus(){this.#v.container?.focus()}get parentBoundingClientRect(){return this.#v.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=n)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#x)return this.#x;const{x:e,y:n,height:r}=this.#m.getBoundingClientRect(),{x:i,y:a,width:s,height:l}=this.#v.layer.getBoundingClientRect();return[(e-i)/s,(n+r-a)/l]}set commentPopupPosition(e){this.#x=e}hasDefaultPopupPosition(){return this.#x===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#x||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:s,width:l,height:c}=i;this.#e.showDialog(null,this,a+n*l,s+r*c,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=Ye.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#A?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#A}if(e.append(n),this.#u){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),r.dateTime=this.#u.toISOString(),n.append(r)}Cj({html:this.#D||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#D(){const e=this.#T,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#T.html||null}get#R(){return this.#D?.attributes?.style?.fontSize||0}get#B(){return this.#D?.attributes?.style?.color||null}#I(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#B,fontSize:this.#R?`calc(${this.#R}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#E()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#S=null):n&&(n.deleted?this.remove():(this.#M(),this.#S=n.text)),e&&(this.#y=null,this.#C(),this.#O());return}if(r||n?.deleted){this.remove();return}this.#k(),this.#w||={contentsObj:this.#o,richText:this.#T},e&&(this.#c=null),n&&n.text&&(this.#T=this.#I(n.text),this.#u=av.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#T}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#c=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#N=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#_(){if(this.#c!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#h;let s=!!this.#d,l=s?this.#d:this.#b;for(const x of this.#l)if(!l||Ye.intersect(x.data.rect,l)!==null){l=x.data.rect,s=!0;break}const c=Ye.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=s?l[2]-l[0]+5:0,p=c[0]+h,y=c[1];this.#c=[100*(p-i)/n,100*(y-a)/r];const{style:b}=this.#i;b.left=`${this.#c[0]}%`,b.top=`${this.#c[1]}%`}#E(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#j(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#t)):(this.#F(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#t))}#j(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#_(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#N=this.isVisible,this.#N&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#N&&(this.#g||this.#j(),this.#N=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class Qj extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class H$ extends hn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class z$ extends hn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",n-a),s.setAttribute("height",r-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $$ extends hn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",n/2),s.setAttribute("cy",r/2),s.setAttribute("rx",n/2-a/2),s.setAttribute("ry",r/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Zj extends hn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:a,height:s}=this;if(!n)return this.container;const l=this.svgFactory.create(a,s,!0);let c=[];for(let h=0,p=n.length;h<p;h+=2){const y=n[h]-e[0],b=e[3]-n[h+1];c.push(`${y},${b}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class q$ extends Zj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Y$ extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Kw extends hn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dt.HIGHLIGHT:dt.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:s,width:l,height:c}=this.#r(n,e),d=this.svgFactory.create(l,c,!0),h=this.#e=this.svgFactory.createElement("svg:g");d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",s);for(let p=0,y=r.length;p<y;p++){const b=this.svgFactory.createElement(this.svgElementName);this.#t.push(b),b.setAttribute("points",r[p].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let s=0,l=this.#t.length;s<l;s++)this.#t[s].setAttribute("points",r[s].join(","));if(i){const{transform:s,width:l,height:c}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jj extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class V$ extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class G$ extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class W$ extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class eR extends hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class X$ extends hn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=lr.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Qw{#e=null;#t=null;#r=null;#n=new Map;#s=null;#a=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:l,commentManager:c,linkService:d,annotationStorage:h}){this.div=e,this.#e=n,this.#t=r,this.#s=l||null,this.#a=d||null,this.#r=h||new qw,this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;il(r,this.viewport);const i=new Map,a=[],s={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new dp,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===Nn.POPUP;if(c){const p=i.get(l.id);if(!p)continue;if(!this._commentManager){a.push(l);continue}s.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;s.data=l;const d=Qb.create(s);if(!d.isRenderable)continue;if(!c&&(this.#i.push(d),l.popupRef)){const p=i.get(l.popupRef);p?p.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#u();for(const l of a){const c=s.elements=i.get(l.id);s.data=l;const d=Qb.create(s);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${pu}${l.id}`,l.hidden&&(h.style.visibility="hidden"),c.at(-1).container.after(h)}this.#l()}async#u(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${pu}${i}`;e.push(this.#s?.getAriaAttributes(a).then(s=>{if(s)for(const[l,c]of s)r.setAttribute(l,c)}))}}this.#i.sort(({data:{rect:[r,i,a,s]}},{data:{rect:[l,c,d,h]}})=>{if(r===a&&i===s)return 1;if(l===d&&c===h)return-1;const p=s,y=i,b=(i+s)/2,x=h,w=c,E=(c+h)/2;if(b>=x&&E<=y)return-1;if(E>=p&&b<=w)return 1;const S=(r+a)/2,C=(l+d)/2;return S-C});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new dp,parent:this};for(const r of e){r.borderStyle||=Qw._defaultBorderStyle,n.data=r;const i=Qb.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${pu}${r.id}`,this.#i.push(i))}await this.#u()}update({viewport:e}){const n=this.div;this.viewport=e,il(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const s=this.#n.get(n);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),s._hasNoCanvas=!1):s.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,a=new j$({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${pu}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#u()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return pt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:hu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const wm=/\r\n?|\n/g;class $n extends Je{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=$n.prototype,n=a=>a.isEmpty(),r=oo.TRANSLATE_SMALL,i=oo.TRANSLATE_BIG;return pt(this,"_keyboardManager",new Ch([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=dt.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||$n._defaultColor||Je._defaultLineColor,this.#n=e.fontSize||$n._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){Je.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case _t.FREETEXT_SIZE:$n._defaultFontSize=n;break;case _t.FREETEXT_COLOR:$n._defaultColor=n;break}}updateParams(e,n){switch(e){case _t.FREETEXT_SIZE:this.#s(n);break;case _t.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,$n._defaultFontSize],[_t.FREETEXT_COLOR,$n._defaultColor||Je._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,this.#n],[_t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new th(this),[["colorPicker",this._colorPicker]]}get colorType(){return _t.FREETEXT_COLOR}#s(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-$n._internalPadding*e,-($n._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push($n.#u(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,s=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){$n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[p,y]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=e+(s[0]-p)/d,x=n+this.height-(s[1]-y)/h;break;case 90:b=e+(s[0]-p)/d,x=n-(s[1]-y)/h,[l,c]=[c,-l];break;case 180:b=e-this.width+(s[0]-p)/d,x=n-(s[1]-y)/h,[l,c]=[-l,-c];break;case 270:b=e+(s[0]-p-this.height*h)/d,x=n+(s[1]-y-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(b*i,x*a,l,c)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wm,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=$n.#d(n.getData("text")||"").replaceAll(wm,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=s,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(wm,"")),b!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===b){x=h;continue}x.push($n.#u(w))}}d.push(l.nodeValue.slice(0,c).replaceAll(wm,""))}else if(l===this.editorDiv){let b=d,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(b=h),b.push($n.#u(w))}this.#e=`${d.join(`
`)}${i}${h.join(`
`)}`,this.#l();const p=new Range;let y=Math.sumPrecise(d.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(y<=x){p.setStart(b,y),p.setEnd(b,y);break}y-=x}a.removeAllRanges(),a.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=$n._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof Qj){const{data:{defaultAppearanceData:{fontSize:s,fontColor:l},rect:c,rotation:d,id:h,popupRef:p,richText:y,contentsObj:b,creationDate:x,modificationDate:w},textContent:E,textPosition:S,parent:{page:{pageNumber:C}}}=e;if(!E||E.length===0)return null;i=e={annotationType:dt.FREETEXT,color:Array.from(l),fontSize:s,value:E.join(`
`),position:S,pageIndex:C-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:b?.str||null,richText:y,creationDate:x,modificationDate:w}}const a=await super.deserialize(e,n,r);return a.#n=e.fontSize,a.color=Ye.makeHexColor(...e.color),a.#e=$n.#d(e.value),a._initialData=i,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Je._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((s,l)=>s!==i[l])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),n.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ze{static PRECISION=1e-4;toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(e,n){Wt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)s[l]=n+e[l]*i,s[l+1]=r+e[l+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)s[l]=n+e[l+1]*i,s[l+1]=r+e[l]*a;return s}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}class Uo{#e;#t=[];#r;#n;#s=[];#a=new Float32Array(18);#i;#o;#u;#l;#h;#d;#f=[];static#g=8;static#p=2;static#c=Uo.#g+Uo.#p;constructor({x:e,y:n},r,i,a,s,l=0){this.#e=r,this.#d=a*i,this.#n=s,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=l,this.#l=Uo.#g*i,this.#u=Uo.#c*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,a,s]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/a,(this.#o+(e[1]-n[1])/2-i)/s,(this.#i+(n[0]-e[0])/2-r)/a,(this.#o+(n[1]-e[1])/2-i)/s]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,a,s]=this.#e;let[l,c,d,h]=this.#a.subarray(8,12);const p=e-d,y=n-h,b=Math.hypot(p,y);if(b<this.#u)return!1;const x=b-this.#l,w=x/b,E=w*p,S=w*y;let C=l,N=c;l=d,c=h,d+=E,h+=S,this.#f?.push(e,n);const D=-S/x,k=E/x,P=D*this.#d,j=k*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+P,h+j],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-P,h-j],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([l+P,c+j],2),this.#s.push(NaN,NaN,NaN,NaN,(l+P-r)/a,(c+j-i)/s),this.#a.set([l-P,c-j],14),this.#t.push(NaN,NaN,NaN,NaN,(l-P-r)/a,(c-j-i)/s)),this.#a.set([C,N,l,c,d,h],6),!this.isEmpty()):(this.#a.set([C,N,l,c,d,h],6),Math.abs(Math.atan2(N-c,C-l)-Math.atan2(S,E))<Math.PI/2?([l,c,d,h]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((l+d)/2-r)/a,((c+h)/2-i)/s),[l,c,C,N]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+l)/2-r)/a,((N+c)/2-i)/s),!0):([C,N,l,c,d,h]=this.#a.subarray(0,6),this.#s.push(((C+5*l)/6-r)/a,((N+5*c)/6-i)/s,((5*l+d)/6-r)/a,((5*c+h)/6-i)/s,((l+d)/2-r)/a,((c+h)/2-i)/s),[d,h,l,c,C,N]=this.#a.subarray(12,18),this.#t.push(((C+5*l)/6-r)/a,((N+5*c)/6-i)/s,((5*l+d)/6-r)/a,((5*c+h)/6-i)/s,((l+d)/2-r)/a,((c+h)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#b(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#x(r),r.join(" ")}#y(){const[e,n,r,i]=this.#e,[a,s,l,c]=this.#m();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${a} ${s} L${l} ${c} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#x(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#b(e){const[n,r,i,a]=this.#e,s=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,d,h,p]=this.#m();e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${c} ${d} L${h} ${p} L${(l[0]-n)/i} ${(l[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,s){return new tR(e,n,r,i,a,s)}getOutlines(){const e=this.#s,n=this.#t,r=this.#a,[i,a,s,l]=this.#e,c=new Float32Array((this.#f?.length??0)+2);for(let p=0,y=c.length-2;p<y;p+=2)c[p]=(this.#f[p]-i)/s,c[p+1]=(this.#f[p+1]-a)/l;if(c[c.length-2]=(this.#i-i)/s,c[c.length-1]=(this.#o-a)/l,isNaN(r[6])&&!this.isEmpty())return this.#T(c);const d=new Float32Array(this.#s.length+24+this.#t.length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){d[p]=d[p+1]=NaN;continue}d[p]=e[p],d[p+1]=e[p+1]}h=this.#w(d,h);for(let p=n.length-6;p>=6;p-=6)for(let y=0;y<6;y+=2){if(isNaN(n[p+y])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=n[p+y],d[h+1]=n[p+y+1],h+=2}return this.#A(d,h),this.newFreeDrawOutline(d,c,this.#e,this.#h,this.#r,this.#n)}#T(e){const n=this.#a,[r,i,a,s]=this.#e,[l,c,d,h]=this.#m(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(p,e,this.#e,this.#h,this.#r,this.#n)}#A(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,s,l,c]=this.#e,[d,h,p,y]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-s)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-s)/c],n),n+=24}}class tR extends ze{#e;#t=new Float32Array(4);#r;#n;#s;#a;#i;constructor(e,n,r,i,a,s){super(),this.#i=e,this.#s=n,this.#e=r,this.#a=i,this.#r=a,this.#n=s,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(s);const[l,c,d,h]=this.#t;for(let p=0,y=e.length;p<y;p+=2)e[p]=(e[p]-l)/d,e[p+1]=(e[p+1]-c)/h;for(let p=0,y=n.length;p<y;p+=2)n[p]=(n[p]-l)/d,n[p+1]=(n[p+1]-c)/h}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const s=r-e,l=i-n;let c,d;switch(a){case 0:c=ze._rescale(this.#i,e,i,s,-l),d=ze._rescale(this.#s,e,i,s,-l);break;case 90:c=ze._rescaleAndSwap(this.#i,e,n,s,l),d=ze._rescaleAndSwap(this.#s,e,n,s,l);break;case 180:c=ze._rescale(this.#i,r,n,-s,l),d=ze._rescale(this.#s,r,n,-s,l);break;case 270:c=ze._rescaleAndSwap(this.#i,r,i,-s,-l),d=ze._rescaleAndSwap(this.#s,r,i,-s,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const a=[r,i,r,i];let s=r,l=i,c=r,d=i;const h=e?Math.max:Math.min,p=new Float32Array(4);for(let b=6,x=n.length;b<x;b+=6){const w=n[b+4],E=n[b+5];isNaN(n[b])?(Ye.pointBoundingBox(w,E,a),l>E?(s=w,l=E):l===E&&(s=h(s,w)),d<E?(c=w,d=E):d===E&&(c=h(c,w))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Ye.bezierBoundingBox(r,i,...n.slice(b,b+6),p),Ye.rectBoundingBox(p[0],p[1],p[2],p[3],a),l>p[1]?(s=p[0],l=p[1]):l===p[1]&&(s=h(s,p[0])),d<p[3]?(c=p[2],d=p[3]):d===p[3]&&(c=h(c,p[2]))),r=w,i=E}const y=this.#t;y[0]=a[0]-this.#r,y[1]=a[1]-this.#r,y[2]=a[2]-a[0]+2*this.#r,y[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[s,l],this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,n,r,i,a,s=0){return new Uo(e,n,r,i,a,s)}getNewOutline(e,n){const[r,i,a,s]=this.#t,[l,c,d,h]=this.#e,p=a*d,y=s*h,b=r*d+l,x=i*h+c,w=this.newOutliner({x:this.#s[0]*p+b,y:this.#s[1]*y+x},this.#e,this.#a,e,this.#n,n??this.#r);for(let E=2;E<this.#s.length;E+=2)w.add({x:this.#s[E]*p+b,y:this.#s[E+1]*y+x});return w.getOutlines()}}class fv{#e;#t;#r;#n=[];#s=[];constructor(e,n=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:w,y:E,width:S,height:C}of e){const N=Math.floor((w-n)/s)*s,D=Math.ceil((w+S+n)/s)*s,k=Math.floor((E-n)/s)*s,P=Math.ceil((E+C+n)/s)*s,j=[N,k,P,!0],U=[D,k,P,!1];this.#n.push(j,U),Ye.rectBoundingBox(N,k,D,P,a)}const l=a[2]-a[0]+2*r,c=a[3]-a[1]+2*r,d=a[0]-r,h=a[1]-r;let p=i?-1/0:1/0,y=1/0;const b=this.#n.at(i?-1:-2),x=[b[0],b[2]];for(const w of this.#n){const[E,S,C,N]=w;!N&&i?S<y?(y=S,p=E):S===y&&(p=Math.max(p,E)):N&&!i&&(S<y?(y=S,p=E):S===y&&(p=Math.min(p,E))),w[0]=(E-d)/l,w[1]=(S-h)/c,w[2]=(C-h)/c}this.#e=new Float32Array([d,h,l,c]),this.#t=[p,y],this.#r=x}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#u(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const s of e){const[l,c,d]=s;n.push([l,c,s],[l,d,s])}n.sort((s,l)=>s[1]-l[1]||s[0]-l[0]);for(let s=0,l=n.length;s<l;s+=2){const c=n[s][2],d=n[s+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[l,c,d,h,p]=s;r.delete(s);let y=l,b=c;for(a=[l,d],i.push(a);;){let x;if(r.has(h))x=h;else if(r.has(p))x=p;else break;r.delete(x),[l,c,d,h,p]=x,y!==l&&(a.push(y,b,l,b===c?c:d),y=l),b=b===c?d:c}a.push(y,b)}return new K$(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#s;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#s.splice(r,0,[e,n])}#u([,e,n]){const r=this.#i(e);for(let i=r;i<this.#s.length;i++){const[a,s]=this.#s[i];if(a!==e)break;if(a===e&&s===n){this.#s.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=this.#s[i];if(a!==e)break;if(a===e&&s===n){this.#s.splice(i,1);return}}}#l(e){const[n,r,i]=e,a=[[n,r,i]],s=this.#i(i);for(let l=0;l<s;l++){const[c,d]=this.#s[l];for(let h=0,p=a.length;h<p;h++){const[,y,b]=a[h];if(!(d<=y||b<=c)){if(y>=c){if(b>d)a[h][1]=d;else{if(p===1)return[];a.splice(h,1),h--,p--}continue}a[h][2]=c,b>d&&a.push([n,d,b])}}}return a}}class K$ extends ze{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const s=n[a],l=n[a+1];s===r?(e.push(`V${l}`),i=l):l===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const s=[],l=r-e,c=i-n;for(const d of this.#t){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=e+d[p]*l,h[p+1]=i-d[p+1]*c;s.push(h)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class mv extends Uo{newFreeDrawOutline(e,n,r,i,a,s){return new Q$(e,n,r,i,a,s)}}class Q$ extends tR{newOutliner(e,n,r,i,a,s=0){return new mv(e,n,r,i,a,s)}}class xn extends Je{#e=null;#t=0;#r;#n=null;#s=null;#a=null;#i=null;#o=0;#u=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#c="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=dt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=xn.prototype;return pt(this,"_keyboardManager",new Ch([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||xn._defaultColor,this.#m=e.thickness||xn._defaultThickness,this.opacity=e.opacity||xn._defaultOpacity,this.#r=e.boxes||null,this.#y=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#b(e),this.#v()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#x(),this.#v(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#x(){const e=new fv(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new fv(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#m/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:xn.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:xn.#S(this.#a.box,p),path:{d:this.#a.toSVGPath()}})}const[a,s,l,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=l,this.height=c;break;case 90:{const[p,y]=this.parentDimensions;this.x=s,this.y=1-a,this.width=l*y/p,this.height=c*p/y;break}case 180:this.x=1-a,this.y=1-s,this.width=l,this.height=c;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-s,this.y=a,this.width=l*y/p,this.height=c*p/y;break}}const{firstPoint:d}=e;this.#f=[(d[0]-a)/l,(d[1]-s)/c];const{lastPoint:h}=this.#a;this.#g=[(h[0]-a)/l,(h[1]-s)/c]}static initialize(e,n){Je.initialize(e,n),xn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case _t.HIGHLIGHT_COLOR:xn._defaultColor=n;break;case _t.HIGHLIGHT_THICKNESS:xn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case _t.HIGHLIGHT_COLOR:this.#T(n);break;case _t.HIGHLIGHT_THICKNESS:this.#A(n);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,xn._defaultColor],[_t.HIGHLIGHT_THICKNESS,xn._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||xn._defaultColor],[_t.HIGHLIGHT_THICKNESS,this.#m||xn._defaultThickness],[_t.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#T(e){const n=(a,s)=>{this.color=a,this.opacity=s,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,xn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const n=this.#m,r=i=>{this.#m=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Ii({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#O())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#N(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#v(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#N():e&&(this.#v(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#N(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#v(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#u&&(this.#u.style.clipPath=this.#n))}static#S([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=xn.#S(this.#l.box,e)):r=xn.#S([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:xn.#S(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#u=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),kj(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(e){xn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#C(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#O(){return this.#d?this.rotation:0}#M(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,s=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:p}of a){const y=c*e+r,b=(1-d)*n+i;s[l]=s[l+4]=y,s[l+1]=s[l+3]=b,s[l+2]=s[l+6]=y+h*e,s[l+5]=s[l+7]=b-p*n,l+=8}return s}#D(e){return this.#l.serialize(e,this.#O())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:s,y:l,width:c,height:d}=r.getBoundingClientRect(),h=new AbortController,p=e.combinedSignal(h),y=b=>{h.abort(),this.#B(e,b)};window.addEventListener("blur",y,{signal:p}),window.addEventListener("pointerup",y,{signal:p}),window.addEventListener("pointerdown",pn,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Hi,{signal:p}),r.addEventListener("pointermove",this.#R.bind(this,e),{signal:p}),this._freeHighlight=new mv({x:i,y:a},[s,l,c,d],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#R(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof Jj){const{data:{quadPoints:x,rect:w,rotation:E,id:S,color:C,opacity:N,popupRef:D,richText:k,contentsObj:P,creationDate:j,modificationDate:U},parent:{page:{pageNumber:V}}}=e;i=e={annotationType:dt.HIGHLIGHT,color:Array.from(C),opacity:N,quadPoints:x,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,popupRef:D,richText:k,comment:P?.str||null,creationDate:j,modificationDate:U}}else if(e instanceof Kw){const{data:{inkLists:x,rect:w,rotation:E,id:S,color:C,borderStyle:{rawWidth:N},popupRef:D,richText:k,contentsObj:P,creationDate:j,modificationDate:U},parent:{page:{pageNumber:V}}}=e;i=e={annotationType:dt.HIGHLIGHT,color:Array.from(C),thickness:N,inkLists:x,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,popupRef:D,richText:k,comment:P?.str||null,creationDate:j,modificationDate:U}}const{color:a,quadPoints:s,inkLists:l,opacity:c}=e,d=await super.deserialize(e,n,r);d.color=Ye.makeHexColor(...a),d.opacity=c||1,l&&(d.#m=e.thickness),d._initialData=i,e.comment&&d.setCommentData(e);const[h,p]=d.pageDimensions,[y,b]=d.pageTranslation;if(s){const x=d.#r=[];for(let w=0;w<s.length;w+=8)x.push({x:(s[w]-y)/h,y:1-(s[w+1]-b)/p,width:(s[w+2]-s[w])/h,height:(s[w+1]-s[w+5])/p});d.#x(),d.#v(),d.rotate(d.rotation)}else if(l){d.#d=!0;const x=l[0],w={x:x[0]-y,y:p-(x[1]-b)},E=new mv(w,[0,0,h,p],1,d.#m/2,!0,.001);for(let N=0,D=x.length;N<D;N+=2)w.x=x[N]-y,w.y=p-(x[N+1]-b),E.add(w);const{id:S,clipPathId:C}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);d.#b({highlightOutlines:E.getOutlines(),highlightId:S,clipPathId:C}),d.#v(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=Je._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#m,quadPoints:this.#M(),outlines:this.#D(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#I(r)?null:(r.id=this.annotationElementId,r)}#I(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class nR{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Wt("Not implemented")}}class Rt extends Je{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#u())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(Rt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){Wt("Not implemented")}static get typesMap(){Wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(Rt.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],s=l=>{i.updateProperty(n,l);const c=this.#e.updateProperty(n,l);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,r),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Rt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Rt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Rt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#u(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#u(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#u(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[n,1-e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[1-n,e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:s,parentDimensions:[l,c]}=this;switch((a*4+s)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(l/c),i*(c/l),r*(l/c)];case 5:return[1-n,e,r*(l/c),i*(c/l)];case 6:return[1-e-i*(c/l),1-n,i*(c/l),r*(l/c)];case 7:return[n-r*(l/c),1-e-i*(c/l),r*(l/c),i*(c/l)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(c/l),n,i*(c/l),r*(l/c)];case 13:return[1-n-r*(l/c),e-i*(c/l),r*(l/c),i*(c/l)];case 14:return[1-e,1-n-r*(l/c),i*(c/l),r*(l/c)];case 15:return[n,1-e,r*(l/c),i*(c/l)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Rt._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,a){Wt("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:s,offsetY:l,pointerId:c,pointerType:d}=i;if(It.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=e,{width:p,height:y}=a.getBoundingClientRect(),b=Rt.#n=new AbortController,x=e.combinedSignal(b);if(It.setPointer(d,c),window.addEventListener("pointerup",w=>{It.isSamePointerIdOrRemove(w.pointerId)&&this._endDraw(w)},{signal:x}),window.addEventListener("pointercancel",w=>{It.isSamePointerIdOrRemove(w.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",w=>{It.isSamePointerType(w.pointerType)&&(It.initializeAndAddPointerId(w.pointerId),Rt.#r.isCancellable()&&(Rt.#r.removeLastElement(),Rt.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Hi,{signal:x}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),a.addEventListener("touchmove",w=>{It.isSameTimeStamp(w.timeStamp)&&pn(w)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),Rt.#r){e.drawLayer.updateProperties(this._currentDrawId,Rt.#r.startNew(s,l,p,y,h));return}n.updateUIForDefaultProperties(this),Rt.#r=this.createDrawerInstance(s,l,p,y,h),Rt.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Rt.#s.toSVGProperties(),Rt.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(It.isSameTimeStamp(e.timeStamp),!Rt.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(It.isSamePointerId(i)){if(It.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Rt.#r.add(n,r)),It.setTimeStamp(e.timeStamp),pn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Rt.#r=null,Rt.#s=null,It.clearPointerType(),It.clearTimeStamp()),Rt.#n&&(Rt.#n.abort(),Rt.#n=null,It.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,Rt.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=Rt.#r,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:_t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(_t.DRAW_STEP),!Rt.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Rt.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:Rt.#s,mustBeCommitted:!e});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,s){Wt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:l}}=n.viewport,c=this.deserializeDraw(s,l,i,a,this._INNER_MARGIN,e),d=await super.deserialize(e,n,r);return d.createDrawingOptions(e),d.#a({drawOutlines:c}),d.#u(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Z${#e=new Float64Array(6);#t;#r;#n;#s;#a;#i="";#o=0;#u=new kh;#l;#h;constructor(e,n,r,i,a,s){this.#l=r,this.#h=i,this.#n=a,this.#s=s,[e,n]=this.#d(e,n);const l=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,n){e==="stroke-width"&&(this.#s=n)}#d(e,n){return ze._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,s]=this.#e.subarray(2,6),l=e-a,c=n-s;return Math.hypot(this.#l*l,this.#h*c)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([a,s,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,s,e,n],0),this.#t.push(...ze.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#l=r,this.#h=i,this.#n=a,[e,n]=this.#d(e,n);const s=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const l=this.#r.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#r.push({line:s,points:this.#a}),this.#e.set(s,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#u.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=ze.svgRound(this.#t[4]),n=ze.svgRound(this.#t[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#a.length===4){const i=ze.svgRound(this.#t[10]),a=ze.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,a=this.#t.length;i<a;i+=6){const[s,l,c,d,h,p]=this.#t.slice(i,i+6).map(ze.svgRound);r.push(`C${s} ${l} ${c} ${d} ${h} ${p}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#u.build(this.#r,e,n,r,this.#n,this.#s,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class kh extends ze{#e;#t=0;#r;#n;#s;#a;#i;#o;#u;build(e,n,r,i,a,s,l){this.#s=n,this.#a=r,this.#i=i,this.#o=a,this.#u=s,this.#r=l??0,this.#n=e,this.#d()}get thickness(){return this.#u}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${ze.svgRound(n[4])} ${ze.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${ze.svgRound(n[10])} ${ze.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,s,l,c,d,h]=n.subarray(r,r+6).map(ze.svgRound);e.push(`C${a} ${s} ${l} ${c} ${d} ${h}`)}}return e.join("")}serialize([e,n,r,i],a){const s=[],l=[],[c,d,h,p]=this.#h();let y,b,x,w,E,S,C,N,D;switch(this.#o){case 0:D=ze._rescale,y=e,b=n+i,x=r,w=-i,E=e+c*r,S=n+(1-d-p)*i,C=e+(c+h)*r,N=n+(1-d)*i;break;case 90:D=ze._rescaleAndSwap,y=e,b=n,x=r,w=i,E=e+d*r,S=n+c*i,C=e+(d+p)*r,N=n+(c+h)*i;break;case 180:D=ze._rescale,y=e+r,b=n,x=-r,w=i,E=e+(1-c-h)*r,S=n+d*i,C=e+(1-c)*r,N=n+(d+p)*i;break;case 270:D=ze._rescaleAndSwap,y=e+r,b=n+i,x=-r,w=-i,E=e+(1-d-p)*r,S=n+(1-c-h)*i,C=e+(1-d)*r,N=n+(1-c)*i;break}for(const{line:k,points:P}of this.#n)s.push(D(k,y,b,x,w,a?new Array(k.length):null)),l.push(D(P,y,b,x,w,a?new Array(P.length):null));return{lines:s,points:l,rect:[E,S,C,N]}}static deserialize(e,n,r,i,a,{paths:{lines:s,points:l},rotation:c,thickness:d}){const h=[];let p,y,b,x,w;switch(c){case 0:w=ze._rescale,p=-e/r,y=n/i+1,b=1/r,x=-1/i;break;case 90:w=ze._rescaleAndSwap,p=-n/i,y=-e/r,b=1/i,x=1/r;break;case 180:w=ze._rescale,p=e/r+1,y=-n/i,b=-1/r,x=1/i;break;case 270:w=ze._rescaleAndSwap,p=n/i+1,y=e/r+1,b=-1/i,x=-1/r;break}if(!s){s=[];for(const S of l){const C=S.length;if(C===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(C===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const N=new Float32Array(3*(C-2));s.push(N);let[D,k,P,j]=S.subarray(0,4);N.set([NaN,NaN,NaN,NaN,D,k],0);for(let U=4;U<C;U+=2){const V=S[U],X=S[U+1];N.set(ze.createBezierPoints(D,k,P,j,V,X),(U-2)*3),[D,k,P,j]=[P,j,V,X]}}}for(let S=0,C=s.length;S<C;S++)h.push({line:w(s[S].map(N=>N??NaN),p,y,b,x),points:w(l[S].map(N=>N??NaN),p,y,b,x)});const E=new this.prototype.constructor;return E.build(h,r,i,1,c,d,a),E}#l(e=this.#u){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#s,n/this.#a]:[n/this.#a,n/this.#s]}#h(){const[e,n,r,i]=this.#e,[a,s]=this.#l(0);return[e+a,n+s,r-2*a,i-2*s]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let l=4,c=i.length;l<c;l+=6)Ye.pointBoundingBox(i[l],i[l+1],e);continue}let a=i[4],s=i[5];for(let l=6,c=i.length;l<c;l+=6){const[d,h,p,y,b,x]=i.subarray(l,l+6);Ye.bezierBoundingBox(a,s,d,h,p,y,b,x,e),a=b,s=x}}const[n,r]=this.#l();e[0]=Er(e[0]-n,0,1),e[1]=Er(e[1]-r,0,1),e[2]=Er(e[2]+n,0,1),e[3]=Er(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#u=e;const[i,a]=this.#l(),[s,l]=[i-n,a-r],c=this.#e;return c[0]-=s,c[1]-=l,c[2]+=2*s,c[3]+=2*l,c}updateParentDimensions([e,n],r){const[i,a]=this.#l();this.#s=e,this.#a=n,this.#i=r;const[s,l]=this.#l(),c=s-i,d=l-a,h=this.#e;return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ze.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,s=0,l=0,c=0;switch(this.#t){case 90:i=n/e,a=-e/n,l=e;break;case 180:r=-1,s=-1,l=e,c=n;break;case 270:i=-n/e,a=e/n,c=n;break;default:return""}return`matrix(${r} ${i} ${a} ${s} ${ze.svgRound(l)} ${ze.svgRound(c)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,s]=this.#l(),[l,c,d,h]=this.#e;if(Math.abs(d-a)<=ze.PRECISION||Math.abs(h-s)<=ze.PRECISION){const w=e+r/2-(l+d/2),E=n+i/2-(c+h/2);return{path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${E})`}}}const p=(r-2*a)/(d-2*a),y=(i-2*s)/(h-2*s),b=d/r,x=h/i;return{path:{"transform-origin":`${ze.svgRound(l)} ${ze.svgRound(c)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${ze.svgRound(a)} ${ze.svgRound(s)}) scale(${p} ${y}) translate(${ze.svgRound(-a)} ${ze.svgRound(-s)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,s]=this.#l(),l=this.#e,[c,d,h,p]=l;if(l[0]=e,l[1]=n,l[2]=r,l[3]=i,Math.abs(h-a)<=ze.PRECISION||Math.abs(p-s)<=ze.PRECISION){const E=e+r/2-(c+h/2),S=n+i/2-(d+p/2);for(const{line:C,points:N}of this.#n)ze._translate(C,E,S,C),ze._translate(N,E,S,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(r-2*a)/(h-2*a),b=(i-2*s)/(p-2*s),x=-y*(c+a)+e+a,w=-b*(d+s)+n+s;if(y!==1||b!==1||x!==0||w!==0)for(const{line:E,points:S}of this.#n)ze._rescale(E,x,w,y,b,E),ze._rescale(S,x,w,y,b,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,s=this.#e,l=e-s[0],c=n-s[1];if(this.#s===i&&this.#a===a)for(const{line:d,points:h}of this.#n)ze._translate(d,l,c,d),ze._translate(h,l,c,h);else{const d=this.#s/i,h=this.#a/a;this.#s=i,this.#a=a;for(const{line:p,points:y}of this.#n)ze._rescale(p,l,c,d,h,p),ze._rescale(y,l,c,d,h,y);s[2]*=d,s[3]*=h}return s[0]=e,s[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(e)} ${ze.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ze.svgRound(e[0])} ${ze.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class vg extends nR{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Je._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new vg(this._viewParameters);return e.updateAll(this),e}}class Zw extends Rt{static _type="ink";static _editorType=dt.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){Je.initialize(e,n),this._defaultDrawingOptions=new vg(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return pt(this,"typesMap",new Map([[_t.INK_THICKNESS,"stroke-width"],[_t.INK_COLOR,"stroke"],[_t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new Z$(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,s){return kh.deserialize(e,n,r,i,a,s)}static async deserialize(e,n,r){let i=null;if(e instanceof Kw){const{data:{inkLists:s,rect:l,rotation:c,id:d,color:h,opacity:p,borderStyle:{rawWidth:y},popupRef:b,richText:x,contentsObj:w,creationDate:E,modificationDate:S},parent:{page:{pageNumber:C}}}=e;i=e={annotationType:dt.INK,color:Array.from(h),thickness:y,opacity:p,paths:{points:s},boxes:null,pageIndex:C-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:x,comment:w?.str||null,creationDate:E,modificationDate:S}}const a=await super.deserialize(e,n,r);return a._initialData=i,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new th(this),[["colorPicker",this._colorPicker]]}get colorType(){return _t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=Zw.getDefaultDrawingOptions({stroke:Ye.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":s}}=this,l=Object.assign(super.serialize(e),{color:Je._colorManager.convert(i),opacity:a,thickness:s,paths:{lines:n,points:r}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((s,l)=>s!==n[l])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class pv extends kh{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Em=8,hd=3;class mu{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,a,s,l){const c=this.#t(r,i,a,s);for(let d=0;d<8;d++){const h=(-d+c-l+16)%8,p=this.#r[2*h],y=this.#r[2*h+1];if(e[(r+p)*n+(i+y)]!==0)return h}return-1}static#s(e,n,r,i,a,s,l){const c=this.#t(r,i,a,s);for(let d=0;d<8;d++){const h=(d+c+l+16)%8,p=this.#r[2*h],y=this.#r[2*h+1];if(e[(r+p)*n+(i+y)]!==0)return h}return-1}static#a(e,n,r,i){const a=e.length,s=new Int32Array(a);for(let h=0;h<a;h++)s[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)s[h*n]=s[h*n+n-1]=0;for(let h=0;h<n;h++)s[h]=s[n*r-1-h]=0;let l=1,c;const d=[];for(let h=1;h<r-1;h++){c=1;for(let p=1;p<n-1;p++){const y=h*n+p,b=s[y];if(b===0)continue;let x=h,w=p;if(b===1&&s[y-1]===0)l+=1,w-=1;else if(b>=1&&s[y+1]===0)l+=1,w+=1,b>1&&(c=b);else{b!==1&&(c=Math.abs(b));continue}const E=[p,h],S=w===p+1,C={isHole:S,points:E,id:l,parent:0};d.push(C);let N;for(const z of d)if(z.id===c){N=z;break}N?N.isHole?C.parent=S?N.parent:c:C.parent=S?c:N.parent:C.parent=S?c:0;const D=this.#n(s,n,h,p,x,w,0);if(D===-1){s[y]=-l,s[y]!==1&&(c=Math.abs(s[y]));continue}let k=this.#r[2*D],P=this.#r[2*D+1];const j=h+k,U=p+P;x=j,w=U;let V=h,X=p;for(;;){const z=this.#s(s,n,V,X,x,w,1);k=this.#r[2*z],P=this.#r[2*z+1];const Y=V+k,ne=X+P;E.push(ne,Y);const K=V*n+X;if(s[K+1]===0?s[K]=-l:s[K]===1&&(s[K]=l),Y===h&&ne===p&&V===j&&X===U){s[y]!==1&&(c=Math.abs(s[y]));break}else x=V,w=X,V=Y,X=ne}}}return d}static#i(e,n,r,i){if(r-n<=4){for(let j=n;j<r-2;j+=2)i.push(e[j],e[j+1]);return}const a=e[n],s=e[n+1],l=e[r-4]-a,c=e[r-3]-s,d=Math.hypot(l,c),h=l/d,p=c/d,y=h*s-p*a,b=c/l,x=1/d,w=Math.atan(b),E=Math.cos(w),S=Math.sin(w),C=x*(Math.abs(E)+Math.abs(S)),N=x*(1-C+C**2),D=Math.max(Math.atan(Math.abs(S+E)*N),Math.atan(Math.abs(S-E)*N));let k=0,P=n;for(let j=n+2;j<r-2;j+=2){const U=Math.abs(y-h*e[j+1]+p*e[j]);U>k&&(P=j,k=U)}k>(d*D)**2?(this.#i(e,n,P+2,i),this.#i(e,P,r,i)):i.push(a,s)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#u(e,n,r,i,a,s){const l=new Float32Array(s**2),c=-2*i**2,d=s>>1;for(let w=0;w<s;w++){const E=(w-d)**2;for(let S=0;S<s;S++)l[w*s+S]=Math.exp((E+(S-d)**2)/c)}const h=new Float32Array(256),p=-2*a**2;for(let w=0;w<256;w++)h[w]=Math.exp(w**2/p);const y=e.length,b=new Uint8Array(y),x=new Uint32Array(256);for(let w=0;w<r;w++)for(let E=0;E<n;E++){const S=w*n+E,C=e[S];let N=0,D=0;for(let P=0;P<s;P++){const j=w+P-d;if(!(j<0||j>=r))for(let U=0;U<s;U++){const V=E+U-d;if(V<0||V>=n)continue;const X=e[j*n+V],z=l[P*s+U]*h[Math.abs(X-C)];N+=X*z,D+=z}}const k=b[S]=Math.round(N/D);x[k]++}return[b,x]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let l=0,c=r.length;l<c;l++){const d=r[l]=e[l<<2];i=Math.max(i,d),a=Math.min(a,d)}const s=255/(i-a);for(let l=0,c=r.length;l<c;l++)r[l]=(r[l]-a)*s;return r}static#d(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(c=>c!==0);let s=a,l=a;for(n=a;n<256;n++){const c=e[n];c>r&&(n-s>i&&(i=n-s,l=n-1),r=c,s=n)}for(n=l-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:a}=this.#e;let s=r,l=i;if(r>a||i>a){let y=r,b=i,x=Math.log2(Math.max(r,i)/a);const w=Math.floor(x);x=x===w?w-1:w;for(let S=0;S<x;S++){s=Math.ceil(y/2),l=Math.ceil(b/2);const C=new OffscreenCanvas(s,l);C.getContext("2d").drawImage(e,0,0,y,b,0,0,s,l),y=s,b=l,e!==n&&e.close(),e=C.transferToImageBitmap()}const E=Math.min(a/s,a/l);s=Math.round(s*E),l=Math.round(l*E)}const d=new OffscreenCanvas(s,l).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,s,l),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,s,l);const h=d.getImageData(0,0,s,l).data;return[this.#h(h),s,l]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,s,l,c){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const p=200,y=h.font=`${r} ${i} ${p}px ${n}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:x,actualBoundingBoxAscent:w,actualBoundingBoxDescent:E,fontBoundingBoxAscent:S,fontBoundingBoxDescent:C,width:N}=h.measureText(e),D=1.5,k=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||0,N)*D),P=Math.ceil(Math.max(Math.abs(w)+Math.abs(E)||p,Math.abs(S)+Math.abs(C)||p)*D);d=new OffscreenCanvas(k,P),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=y,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,P),h.fillStyle="black",h.fillText(e,k*(D-1)/2,P*(3-D)/2);const j=this.#h(h.getImageData(0,0,k,P).data),U=this.#l(j),V=this.#d(U),X=this.#a(j,k,P,V);return this.processDrawnLines({lines:{curves:X,width:k,height:P},pageWidth:a,pageHeight:s,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[s,l,c]=this.#f(e),[d,h]=this.#u(s,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(h),y=this.#a(d,l,c,p);return this.processDrawnLines({lines:{curves:y,width:l,height:c},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:s,areContours:l}){i%180!==0&&([n,r]=[r,n]);const{curves:c,width:d,height:h}=e,p=e.thickness??0,y=[],b=Math.min(n/d,r/h),x=b/n,w=b/r,E=[];for(const{points:C}of c){const N=s?this.#o(C):C;if(!N)continue;E.push(N);const D=N.length,k=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(y.push({line:P,points:k}),D===2){k[0]=N[0]*x,k[1]=N[1]*w,P.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[j,U,V,X]=N;j*=x,U*=w,V*=x,X*=w,k.set([j,U,V,X],0),P.set([NaN,NaN,NaN,NaN,j,U],0);for(let z=4;z<D;z+=2){const Y=k[z]=N[z]*x,ne=k[z+1]=N[z+1]*w;P.set(ze.createBezierPoints(j,U,V,X,Y,ne),(z-2)*3),[j,U,V,X]=[V,X,Y,ne]}}if(y.length===0)return null;const S=l?new pv:new kh;return S.build(y,n,r,1,i,l?0:p,a),{outline:S,newCurves:E,areContours:l,thickness:p,width:d,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let s=1/0,l=-1/0,c=0;for(const N of e){c+=N.length;for(let D=2,k=N.length;D<k;D++){const P=N[D]-N[D-2];s=Math.min(s,P),l=Math.max(l,P)}}let d;s>=-128&&l<=127?d=Int8Array:s>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const h=e.length,p=Em+hd*h,y=new Uint32Array(p);let b=0;y[b++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*d.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=i,y[b++]=a,y[b++]=n?0:1,y[b++]=Math.max(0,Math.floor(r??0)),y[b++]=h,y[b++]=d.BYTES_PER_ELEMENT;for(const N of e)y[b++]=N.length-2,y[b++]=N[0],y[b++]=N[1];const x=new CompressionStream("deflate-raw"),w=x.writable.getWriter();await w.ready,w.write(y);const E=d.prototype.constructor;for(const N of e){const D=new E(N.length-2);for(let k=2,P=N.length;k<P;k++)D[k-2]=N[k]-N[k-2];w.write(D)}w.close();const S=await new Response(x.readable).arrayBuffer(),C=new Uint8Array(S);return _j(C)}static async decompressSignature(e){try{const n=pz(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,l=0;for await(const N of r)s||=new Uint8Array(new Uint32Array(N.buffer,0,4)[0]),s.set(N,l),l+=N.length;const c=new Uint32Array(s.buffer,0,s.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=c[2],p=c[3],y=c[4]===0,b=c[5],x=c[6],w=c[7],E=[],S=(Em+hd*x)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(s.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(s.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(s.buffer,S);break}l=0;for(let N=0;N<x;N++){const D=c[hd*N+Em],k=new Float32Array(D+2);E.push(k);for(let P=0;P<hd-1;P++)k[P]=c[hd*N+Em+P+1];for(let P=0;P<D;P++)k[P+2]=k[P]+C[l++]}return{areContours:y,thickness:b,outlines:E,width:h,height:p}}catch(n){return ut(`decompressSignature: ${n}`),null}}}class Jw extends nR{constructor(){super(),super.updateProperties({fill:Je._defaultLineColor,"stroke-width":0})}clone(){const e=new Jw;return e.updateAll(this),e}}class eE extends vg{constructor(e){super(e),super.updateProperties({stroke:Je._defaultLineColor,"stroke-width":1})}clone(){const e=new eE(this._viewParameters);return e.updateAll(this),e}}class ma extends Rt{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=dt.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){Je.initialize(e,n),this._defaultDrawingOptions=new Jw,this._defaultDrawnSignatureOptions=new eE(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return pt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:s,description:l,uuid:c,heightInPage:d}=this.#r,{rawDims:{pageWidth:h,pageHeight:p},rotation:y}=this.parent.viewport,b=mu.processDrawnLines({lines:i,pageWidth:h,pageHeight:p,rotation:y,innerMargin:ma._INNER_MARGIN,mustSmooth:a,areContours:s});this.addSignature(b,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:a}=this.#r,s=Math.max(i,a),l=mu.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:r,width:i,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:a,y:s}=this,{outline:l}=this.#r=e;this.#e=l instanceof pv,this.description=r;let c;this.#e?c=ma.getDefaultDrawingOptions():(c=ma._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,d]=this.pageDimensions;let h=n/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return mu.process(e,n,r,i,ma._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return mu.extractContoursFromText(e,n,r,i,a,ma._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return mu.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:ma._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=ma.getDefaultDrawingOptions():(this._drawingOptions=ma._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(a),e?(a.paths={lines:n,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,a,s){return s.areContours?pv.deserialize(e,n,r,i,a,s):kh.deserialize(e,n,r,i,a,s)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class J$ extends Je{#e=null;#t=null;#r=null;#n=null;#s=null;#a="";#i=null;#o=!1;#u=null;#l=!1;#h=!1;static _type="stamp";static _editorType=dt.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){Je.initialize(e,n)}static isHandlingMimeForPasting(e){return sv.includes(e)}static paste(e,n){n.pasteEditor({mode:dt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#p()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:s}=e||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:a,height:s,channels:i.length/(a*s)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=sv.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const e=200;this.#u=setTimeout(()=>{this.#u=null,this.#m()},e)}#p(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>s*i||r>s*a){const c=Math.min(s*i/n,s*a/r);n*=c,r*=c}this._uiManager.enableWaiting(!1);const l=this.#i=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=n/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,s=new Aa;let l=this.#e,c=i,d=a,h=null;if(n){if(i>n||a>n){const P=Math.min(n/i,n/a);c=Math.floor(i*P),d=Math.floor(a*P)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*s.sx),b=h.height=Math.ceil(d*s.sy);this.#l||(l=this.#c(y,b));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let w="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":wz.isDarkMode&&(w="#8f8f9d",E="#42414d");const S=15,C=S*s.sx,N=S*s.sy,D=new OffscreenCanvas(C*2,N*2),k=D.getContext("2d");k.fillStyle=w,k.fillRect(0,0,C*2,N*2),k.fillStyle=E,k.fillRect(0,0,C,N),k.fillRect(C,N,C,N),x.fillStyle=x.createPattern(D,"repeat"),x.fillRect(0,0,y,b),x.drawImage(l,0,0,l.width,l.height,0,0,y,b)}let p=null;if(r){let y,b;if(s.symmetric&&l.width<e&&l.height<e)y=l.width,b=l.height;else if(l=this.#e,i>e||a>e){const E=Math.min(e/i,e/a);y=Math.floor(i*E),b=Math.floor(a*E),this.#l||(l=this.#c(y,b))}const w=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,y,b),p={width:y,height:b,data:w.getImageData(0,0,y,b).data}}return{canvas:h,width:c,height:d,imageData:p}}#c(e,n){const{width:r,height:i}=this.#e;let a=r,s=i,l=this.#e;for(;a>2*e||s>2*n;){const c=a,d=s;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(a,s);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,s),l=h.transferToImageBitmap()}return l}#m(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new Aa,s=Math.ceil(r*e*a.sx),l=Math.ceil(i*n*a.sy),c=this.#i;if(!c||c.width===s&&c.height===l)return;c.width=s,c.height=l;const d=this.#l?this.#e:this.#c(s,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,s,l)}#y(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*ju.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ju.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,a);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,a=!1;if(e instanceof eR){const{data:{rect:w,rotation:E,id:S,structParent:C,popupRef:N,richText:D,contentsObj:k,creationDate:P,modificationDate:j},container:U,parent:{page:{pageNumber:V}},canvas:X}=e;let z,Y;X?(delete e.canvas,{id:z,bitmap:Y}=r.imageManager.getFromCanvas(U.id,X),X.remove()):(a=!0,e._hasNoCanvas=!0);const ne=(await n._structTree.getAriaAttributes(`${pu}${S}`))?.get("aria-label")||"";i=e={annotationType:dt.STAMP,bitmapId:z,bitmap:Y,pageIndex:V-1,rect:w.slice(0),rotation:E,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:ne},isSvg:!1,structParent:C,popupRef:N,richText:D,comment:k?.str||null,creationDate:P,modificationDate:j}}const s=await super.deserialize(e,n,r),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:y}=e;a?(r.addMissingCanvas(e.id,s),s.#o=!0):h&&r.imageManager.isValidId(h)?(s.#t=h,c&&(s.#e=c)):s.#n=d,s.#l=p;const[b,x]=s.pageDimensions;return s.width=(l[2]-l[0])/b,s.height=(l[3]-l[1])/x,y&&(s.altTextData=y),s._initialData=i,e.comment&&s.setCommentData(e),s.#h=!!i,s}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#y(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=this.#x(r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const s=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#y(!1);else if(this.#l){const l=n.stamps.get(this.#t);s>l.area&&(l.area=s,l.serialized.bitmap.close(),l.serialized.bitmap=this.#y(!1))}return r}#x(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Qa{#e;#t=!1;#r=null;#n=null;#s=null;#a=new Map;#i=!1;#o=!1;#u=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#c;static _initialized=!1;static#m=new Map([$n,Zw,J$,xn,ma].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:l,textLayer:c,viewport:d,l10n:h}){const p=[...Qa.#m.values()];if(!Qa._initialized){Qa._initialized=!0;for(const y of p)y.initialize(h,e)}e.registerEditorTypes(p),this.#c=e,this.pageIndex=n,this.div=r,this.#e=a,this.#r=s,this.viewport=d,this.#d=c,this.drawLayer=l,this._structTree=i,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===dt.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#w(),e){case dt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===dt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of Qa.#m.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#y(){return this.#a.size!==0?this.#a.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#y)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#c.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#c.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#c.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,h=this.#p;if(d-h>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const y=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const x=new RegExp(`^${Qd}[0-9]+$`);for(const E of y)if(x.test(E.id)){b=E.id;break}if(!b)return;const w=this.#a.get(b);w?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),w.dblclick(a))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,a=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const s=e.getEditableAnnotations();for(const l of s){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=i.get(c),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Qa.#m.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#x.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#x(e){this.#c.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=lr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#c.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),xn.startHighlighting(this,this.#c.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#c.isDeletedAnnotationElement(n)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),Je.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#u),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#c.getId()}get#b(){return Qa.#m.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#T(e){const n=this.#b;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#A(),a=this.getNextId(),s=this.#T({parent:this,id:a,x:r,y:i,uiManager:this.#c,isCentered:!0,...n});s&&this.add(s)}async deserialize(e){return await Qa.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#T({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+i),d=(a+l)/2-e,h=(s+c)/2-n,[p,y]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:y}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:n}=lr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#c.getMode();if(r===dt.STAMP||r===dt.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===dt.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=lr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const r=this.#c.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#b.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#c.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#w(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,il(this.div,e);for(const n of this.#c.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,il(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#c.viewParameters.realScale}}class ir{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return pt(this,"_svgFactory",new dp)}static#s(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`}#a(){const e=ir._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=ir._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=ir._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=ir.#n++,a=this.#a(),s=ir._svgFactory.createElement("defs");a.append(s);const l=ir._svgFactory.createElement("path");s.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,l);const d=r?this.#i(s,c):null,h=ir._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,n){const r=ir.#n++,i=this.#a(),a=ir._svgFactory.createElement("defs");i.append(a);const s=ir._svgFactory.createElement("path");a.append(s);const l=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",l),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const p=ir._svgFactory.createElement("mask");a.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const y=ir._svgFactory.createElement("rect");p.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=ir._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=ir._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return i.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,l=typeof e=="number"?this.#t.get(e):e;if(l){if(r&&this.#o(l,r),i&&ir.#s(l,i),a){const{classList:c}=l;for(const[d,h]of Object.entries(a))c.toggle(d,h)}if(s){const d=l.firstChild.firstChild;this.#o(d,s)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:fv};globalThis.pdfjsLib={AbortException:so,AnnotationEditorLayer:Qa,AnnotationEditorParamsType:_t,AnnotationEditorType:dt,AnnotationEditorUIManager:oo,AnnotationLayer:Qw,AnnotationMode:to,AnnotationType:Nn,applyOpacity:Az,build:O$,ColorPicker:Ii,createValidAbsoluteUrl:Ej,CSSConstants:Ez,DOMSVGFactory:dp,DrawLayer:ir,FeatureTest:lr,fetchData:Th,findContrastColor:Sz,getDocument:Yj,getFilenameFromUrl:gz,getPdfFilenameFromUrl:yz,getRGB:Nh,getUuid:Tj,getXfaPageViewport:xz,GlobalWorkerOptions:Su,ImageKind:Gm,InvalidPDFException:iv,isDataScheme:yg,isPdfFile:Hw,isValidExplicitDest:Rz,MathClamp:Er,noContextMenu:Hi,normalizeUnicode:fz,OPS:Zd,OutputScale:Aa,PasswordResponses:iz,PDFDataRangeTransport:Vj,PDFDateString:av,PDFWorker:eh,PermissionFlag:rz,PixelsPerInch:ju,RenderingCancelledException:Uw,renderRichText:Cj,ResponseException:up,setLayerDimensions:il,shadow:pt,SignatureExtractor:mu,stopEvent:pn,SupportedImageMimeTypes:sv,TextLayer:vr,TouchManager:bg,updateUrlHash:Aj,Util:Ye,VerbosityLevel:mg,version:Xj,XfaLayer:Nj};Su.workerSrc=`https://unpkg.com/pdfjs-dist@${Xj}/build/pdf.worker.min.mjs`;const Xs="https://yu.xingke888.com";function eq(){const t=hl(),{user:e}=ka(),[n,r]=T.useState(null),[i,a]=T.useState(""),[s,l]=T.useState(`<image>
<|grounding|>Convert the document to markdown.`),[c,d]=T.useState(!1),[h,p]=T.useState(!1),[y,b]=T.useState(""),[x,w]=T.useState(""),[E,S]=T.useState(!1),[C,N]=T.useState(""),[D,k]=T.useState([]),[P,j]=T.useState(null),[U,V]=T.useState(""),[X,z]=T.useState({step:0,message:"",percentage:0}),[Y,ne]=T.useState(!1),[K,se]=T.useState(!1),[L,H]=T.useState({step:0,message:"",percentage:0}),[ie,ue]=T.useState([]),[M,F]=T.useState(!1),[Z,R]=T.useState(new Set),[oe,$]=T.useState(!1),[ae,fe]=T.useState(null),[ge,J]=T.useState(!1),[Ne,Le]=T.useState(!1),le=T.useRef(new Set),He=T.useRef(new Set),Me=T.useRef(new Map),tt=async me=>{try{console.log(" PDF...");const Oe=await me.arrayBuffer(),Ie=await Yj({data:Oe}).promise;console.log(` PDF: ${Ie.numPages}`);const Ue=Math.min(Ie.numPages,5);for(let Ve=1;Ve<=Ue;Ve++){const gn=(await(await Ie.getPage(Ve)).getTextContent()).items.map(d0=>d0.str).join(" "),br=/<table|<tr|<td/i.test(gn),Kn=/||||||/i.test(gn),kr=(gn.match(/\d/g)||[]).length,As=gn.length,Ss=As>0?kr/As:0;if(console.log(` ${Ve}: =${As}, =${Ss.toFixed(2)}, =${Kn}`),br||Kn&&Ss>.15)return console.log(` ${Ve}`),!0}return console.log(" "),!1}catch(Oe){return console.error("PDF:",Oe),!0}},ee=async me=>{const Oe=me.target.files?.[0];if(Oe){if(Oe.type!=="application/pdf"){alert("PDF");return}Oe.createdAt=new Date().toISOString(),r(Oe);const Ie=URL.createObjectURL(Oe);if(N(Ie),p(!0),!await tt(Oe)){alert("PDF"),r(null),N(""),p(!1);return}console.log(" PDF..."),ye(Oe)}},ye=async me=>{p(!0),S(!1),j(null),a(""),b(""),w(""),$(!1),J(!1),H({step:0,message:"",percentage:0});try{const Oe=new FormData;Oe.append("file",me);const Ue=await(await fetch(`${Xs}/api/upload`,{method:"POST",body:Oe})).json();Ue.status==="success"?(a(Ue.file_path),p(!1)):(p(!1),r(null),alert(""))}catch(Oe){console.error("Upload error:",Oe),p(!1),r(null),alert("")}},Be=()=>{r(null),N(""),a(""),S(!1),j(null),b(""),w(""),z({step:0,message:""}),$(!1),J(!1),H({step:0,message:"",percentage:0})},je=async()=>{if(e?.id)try{console.log(" ...");const Oe=await(await fetch(`/api/ocr/documents/pending/?user_id=${e.id}`)).json();if(Oe.status==="success"&&Oe.count>0){console.log(`  ${Oe.count} `);const Ie=Oe.data.map(Ve=>{const bt={ocr_pending:5,pending:10,extracting_basic_info:20,basic_info_completed:30,extracting_tablesummary:40,tablesummary_completed:50,extracting_table:60,table_completed:70,extracting_wellness_table:75,wellness_table_completed:80,extracting_summary:90,all_completed:100}[Ve.processing_stage]||10;let gn="running";return Ve.processing_stage==="all_completed"||Ve.status==="completed"?gn="finished":bt>=10&&bt<100&&(gn="processing"),{task_id:Ve.id.toString(),file_name:Ve.file_name,file_size:0,state:gn,progress:bt,created_at:Ve.created_at,processing_stage:Ve.processing_stage,result_dir:null}});ue(Ie),Fe(Ie),Ie.filter(Ve=>Ve.state!=="finished").length>0&&F(!0)}else console.log(" ")}catch(me){console.error(" :",me)}};T.useEffect(()=>{const me=localStorage.getItem("backgroundTasks");if(me){const Oe=JSON.parse(me);ue(Oe),Oe.forEach(Ie=>{Ie.state!=="finished"&&Ie.state!=="error"&&rt(Ie.task_id)})}return je(),()=>{Me.current.forEach((Oe,Ie)=>{console.log("SSE:",Ie),Oe.close()}),Me.current.clear()}},[e]),T.useEffect(()=>{if(Ne){console.log(" ");return}U&&E&&!ge&&!Y&&(console.log(" OCR"),J(!0),setTimeout(()=>{bi()},1e3))},[U,E,ge,Y,Ne]);const Fe=me=>{localStorage.setItem("backgroundTasks",JSON.stringify(me))},Ge=me=>{console.log(" :",me);const Oe=setInterval(async()=>{try{const Ue=await(await fetch(`${Xs}/api/progress/${me}`)).json();if(Ue.status==="success"){const Ve=Ue.progress||0;console.log(`: ${Ve}%`),z({step:Ve>=100?4:Ve>=60?3:Ve>=30?2:1,message:Ve>=100?"":`... ${Ve}%`,percentage:Ve}),Ae(me,{progress:Ve,state:Ue.state==="finished"?"finished":"running"}),(Ue.state==="finished"||Ve>=100)&&(clearInterval(Oe),console.log(" "),Xe(me))}else Ue.status==="error"&&(clearInterval(Oe),console.error(" :",Ue.message),Ae(me,{state:"error",error:Ue.message}))}catch(Ie){console.error(":",Ie)}},5e3);setTimeout(()=>{clearInterval(Oe),console.log(" ")},3e5)},it=me=>{Me.current.has(me)&&(console.log("SSE:",me),Me.current.get(me).close());const Oe=`${Xs}/api/stream/progress/${me}`;console.log("SSE:",Oe);const Ie=new EventSource(Oe);let Ue=!1;return Ie.onopen=()=>{console.log("SSE:",me)},Ie.onmessage=Ve=>{try{const St=JSON.parse(Ve.data);if(console.log("SSE:",St),St.task_id===me){const bt=St.progress||0;z(gn=>({step:bt>=100?4:bt>=60?3:bt>=30?2:1,message:bt>=100?"":`... ${bt}%`,percentage:bt})),Ae(me,{progress:bt,state:bt>=100?"finished":"running"}),bt>=100&&!Ue&&(Ue=!0,console.log(":",me),Xe(me),Ie.close(),Me.current.delete(me))}}catch(St){console.error("SSE:",St)}},Ie.onerror=Ve=>{console.error("SSE:",Ve),Ie.close(),Me.current.delete(me),console.log(" SSE:",me),Ge(me)},Me.current.set(me,Ie),Ie},rt=async me=>{try{const Ie=await(await fetch(`${Xs}/api/progress/${me}`)).json();Ie.status==="success"&&(Ie.state==="finished"?Xe(me):Ie.state!=="error"&&it(me))}catch(Oe){console.error(":",Oe)}},Xe=async me=>{if(Z.has(me)){console.log(":",me);return}R(Oe=>new Set(Oe).add(me));try{const Ie=await(await fetch(`${Xs}/api/result/${me}`)).json();Ie.status==="success"&&Ie.state==="finished"&&(Ae(me,{state:"finished",progress:100,result_dir:Ie.result_dir,completed_at:new Date().toISOString()}),b(Ue=>(Ue===me&&(w(Ie.result_dir),S(!0),d(!1),z({step:4,message:"",percentage:100}),ct(Ie.result_dir)),Ue)))}catch(Oe){console.error(":",Oe),Ae(me,{state:"error",error:Oe.message}),R(Ie=>{const Ue=new Set(Ie);return Ue.delete(me),Ue})}},Ae=(me,Oe)=>{ue(Ie=>{const Ue=Ie.map(Ve=>Ve.task_id===me?{...Ve,...Oe}:Ve);return Fe(Ue),Ue})},te=me=>{ue(Oe=>{const Ie=[...Oe,me];return Fe(Ie),Ie})},ve=me=>{ue(Oe=>{const Ie=Oe.filter(Ue=>Ue.task_id!==me);return Fe(Ie),Ie})},Re=async()=>{if(!i){alert("");return}d(!0),$(!0),S(!1),w(""),z({step:1,message:"...",percentage:0}),Le(!1),J(!1);try{console.log(" 1: ...");const me=await fetch("/api/ocr/documents/create-pending/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||"unknown.pdf",user_id:e?.id})});if(!me.ok){const bt=await me.json();throw new Error(bt.message||"")}const Ie=(await me.json()).document_id;console.log(` ID: ${Ie}`);const Ue=`${window.location.protocol}//${window.location.host}/api/ocr/webhook/`;console.log(" 2: OCR...");const St=await(await fetch(`${Xs}/api/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:i,prompt:s,task_id:Ie.toString(),webhook_url:Ue})})).json();if(St.status==="running"&&St.task_id){const bt=St.task_id;b(bt),te({task_id:bt,file_name:n?.name||"",file_size:n?.size||0,state:"running",progress:0,created_at:new Date().toISOString()}),it(bt),z({step:2,message:"...",percentage:10}),d(!1)}else alert(""),d(!1)}catch(me){console.error("Parse error:",me),alert(""),d(!1)}},Ke=async me=>{fe(me.task_id);try{if(console.log(" :",me),me.state!=="finished"&&me.processing_stage!=="all_completed"){alert(""),fe(null);return}const Ie=await(await fetch(`/api/ocr/documents/${me.task_id}/`)).json();if(Ie.status==="success"){const Ue=Ie.data;if(console.log(" :",Ue),Le(!0),J(!0),b(me.task_id),S(!0),z({step:4,message:"",percentage:100}),Ue.content&&V(Ue.content),me.file_name){const Ve={name:me.file_name,size:me.file_size||0,createdAt:me.created_at};r(Ve)}me.result_dir?(console.log(" result_dir"),w(me.result_dir),await ct(me.result_dir)):(console.log(" "),w("")),F(!1)}else throw new Error(Ie.message||"")}catch(Oe){console.error(":",Oe),alert("")}finally{fe(null)}},ct=async me=>{if(le.current.has(me)){console.log(" :",me);return}le.current.add(me),console.log(" :",me);try{const Ie=await(await fetch(`${Xs}/api/folder?path=${encodeURIComponent(me)}`)).json();if(console.log("API:",Ie),Ie.status==="success"){const Ue=Ie.children||[];console.log(":",Ue);const Ve=Ue.filter(bt=>bt.name.endsWith(".mmd")?!bt.name.endsWith("det.mmd"):!0);console.log(":",Ve),k(Ve);const St=Ve.find(bt=>bt.type==="file"&&bt.name.endsWith(".mmd"));console.log("mmd:",St),St?await Dt(St):console.warn(".mmd")}}catch(Oe){console.error("Error fetching file structure:",Oe)}finally{setTimeout(()=>{le.current.delete(me),console.log(" :",me)},100)}},Dt=async me=>{if(me.type==="file"){const Oe=me.path;if(He.current.has(Oe)){console.log(" :",Oe);return}He.current.add(Oe),console.log(" :",me.name,Oe),j(me);try{const Ue=await(await fetch(`${Xs}/api/file/content?path=${encodeURIComponent(Oe)}`)).json();console.log("API:",Ue);let Ve="";Ue.status==="success"?Ve=Ue.content||"":Ue.content?Ve=Ue.content:(console.error("API:",Ue),Ve=""),console.log(":",Ve.length),console.log("100:",Ve.substring(0,100)),V(Ve)}catch(Ie){console.error(":",Ie)}finally{setTimeout(()=>{He.current.delete(Oe),console.log(" :",Oe)},100)}}},bi=async()=>{if(!U){alert("");return}ne(!0),se(!1),H({message:"...",percentage:0,processing_stage:"saving"});try{const Oe=await(await fetch("/api/ocr/save/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||P?.name||"unknown.pdf",ocr_content:U,task_id:y,result_dir:x,user_id:e?.id})})).json();if(console.log(":",Oe),Oe.status==="success"){const Ie=Oe.document_id;H({message:"...",percentage:5,processing_stage:"pending"});const Ue=setInterval(async()=>{try{const Ve=await fetch(`/api/ocr/documents/${Ie}/status/`);if(Ve.status===404){console.error(" "),clearInterval(Ue),ne(!1),ve(Ie.toString()),alert(""),H({step:0,message:"",percentage:0}),z({step:0,message:"",percentage:0}),$(!1);return}const St=await Ve.json();if(St.status==="success"){const{processing_stage:bt,progress_percentage:gn}=St.data,Kn={pending:"...",extracting_basic_info:"...",basic_info_completed:"",extracting_tablesummary:"...",tablesummary_completed:"",extracting_table:"...",table_completed:"",extracting_wellness_table:"...",wellness_table_completed:"",extracting_summary:"...",all_completed:"",error:""}[bt]||"...";H({message:Kn,percentage:gn,processing_stage:bt}),(bt==="all_completed"||bt==="error")&&(clearInterval(Ue),ne(!1),bt==="all_completed"?(se(!0),setTimeout(()=>{se(!1),H({step:0,message:"",percentage:0}),z({step:0,message:"",percentage:0})},5e3)):bt==="error"&&(alert(""),H({step:0,message:"",percentage:0}),z({step:0,message:"",percentage:0})))}}catch(Ve){console.error(":",Ve)}},3e3);setTimeout(()=>{clearInterval(Ue),ne(!1)},3e5)}else alert(`: ${Oe.message}`),H({step:0,message:"",percentage:0}),ne(!1)}catch(me){console.error(":",me),alert(""),H({step:0,message:"",percentage:0}),ne(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[m.jsx("header",{className:"sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-3 md:py-4",children:[m.jsx("div",{className:"mb-3",children:m.jsx("button",{onClick:()=>t&&t("plan-management"),className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all text-sm md:text-base whitespace-nowrap shadow-sm border border-gray-200",children:" "})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl text-gray-800 font-bold tracking-wide",children:""}),m.jsx("p",{className:"mt-1 md:mt-2 text-gray-600 text-xs md:text-sm",children:"AI"})]})]})}),M&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:[m.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(ns,{className:"w-6 h-6"}),""]}),m.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-gray-200 rounded-lg transition-all",children:m.jsx(Du,{className:"w-6 h-6 text-gray-600"})})]}),m.jsx("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:ie.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(ns,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),m.jsx("p",{children:""})]}):m.jsx("div",{className:"space-y-4",children:ie.map(me=>m.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-4 border border-primary-200 hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:me.file_name}),m.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",me.task_id]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[me.state==="running"&&m.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded-full flex items-center gap-1",children:[m.jsx(Mt,{className:"w-3 h-3 animate-spin"}),""]}),me.state==="finished"&&m.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full flex items-center gap-1",children:[m.jsx(Kd,{className:"w-3 h-3"}),""]}),me.state==="error"&&m.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:""})]})]}),me.state==="running"&&m.jsxs("div",{className:"mb-3",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-xs font-semibold text-primary-700",children:[me.progress||0,"%"]})]}),m.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 to-blue-600 transition-all duration-300",style:{width:`${me.progress||0}%`}})})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[m.jsxs("span",{children:[": ",new Date(me.created_at).toLocaleString("zh-CN")]}),m.jsxs("div",{className:"flex gap-2",children:[me.state==="finished"&&m.jsx("button",{onClick:()=>Ke(me),disabled:ae===me.task_id,className:`px-3 py-1 rounded-lg transition-all flex items-center gap-1 ${ae===me.task_id?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:ae===me.task_id?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-4 h-4 animate-spin"}),""]}):""}),m.jsx("button",{onClick:()=>ve(me.task_id),className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",children:""})]})]})]},me.task_id))})})]})}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 md:py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>document.getElementById("file-input")?.click(),disabled:h,className:"flex-1 px-3 md:px-4 py-2.5 md:py-3 bg-gradient-to-r from-primary-50 to-blue-50 border-2 border-dashed border-primary-300 hover:border-primary-500 rounded-lg transition-all hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:h?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}),m.jsx("span",{className:"hidden sm:inline",children:"..."}),m.jsx("span",{className:"sm:hidden",children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(lp,{className:"h-4 w-4 md:h-5 md:w-5"}),m.jsx("span",{className:"hidden sm:inline",children:"PDF"}),m.jsx("span",{className:"sm:hidden",children:"PDF"})]})}),m.jsx("input",{id:"file-input",type:"file",accept:"application/pdf,.pdf",className:"hidden",onChange:ee,disabled:h}),m.jsx("button",{onClick:Be,disabled:!n,className:"px-3 md:px-4 py-2.5 md:py-3 bg-white hover:bg-red-50 border-2 border-gray-300 hover:border-red-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m.jsx(Fw,{className:"h-4 w-4 md:h-5 md:w-5"})})]}),m.jsx("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg p-3 md:p-6 h-[120px] md:h-[500px] overflow-auto",children:C?m.jsx("div",{className:"w-full h-full",children:n?.type==="application/pdf"?m.jsxs(m.Fragment,{children:[m.jsx("iframe",{src:C,className:"hidden md:block w-full h-full rounded-lg border border-gray-300",title:"PDF Preview"}),m.jsxs("div",{className:"md:hidden flex items-center justify-start h-full text-left gap-3 px-2",children:[m.jsx(qr,{className:"h-10 w-10 text-primary-500 flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-0.5",children:"PDF "}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:n?.name})]})]})]}):m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("img",{src:C,alt:"Preview",className:"max-w-full max-h-full object-contain rounded-lg shadow-md"})})}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[m.jsx(lp,{className:"h-8 w-8 md:h-16 md:w-16 mb-1 md:mb-4 opacity-30"}),m.jsx("p",{className:"text-xs md:text-base",children:""})]})})]}),m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:Re,disabled:!n||!i||h||oe,className:"flex-1 px-4 md:px-6 py-3 md:py-4 bg-gradient-to-r from-primary-600 to-blue-600 text-white rounded-xl shadow-lg hover:from-primary-700 hover:to-blue-700 hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base md:text-lg",children:c?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"..."})]}):""}),ie.length>0&&m.jsxs("button",{onClick:()=>F(!0),className:"relative px-3 md:px-4 py-3 md:py-4 bg-white border-2 border-primary-500 text-primary-700 hover:bg-primary-50 rounded-xl shadow-lg font-semibold transition-all flex items-center justify-center gap-2 whitespace-nowrap text-sm md:text-base",title:"",children:[m.jsx(wj,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""}),ie.filter(me=>me.state==="running").length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:ie.filter(me=>me.state==="running").length})]})]}),ie.filter(me=>me.state==="running").length>0&&m.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border-2 border-amber-200 p-3 md:p-4",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("h3",{className:"text-xs md:text-sm font-semibold text-amber-900 flex items-center gap-2",children:[m.jsx(ns,{className:"w-4 h-4"})," (",ie.filter(me=>me.state==="running").length,")"]})}),m.jsx("div",{className:"mb-3 p-2 md:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("p",{className:"text-xs md:text-sm text-blue-800 flex items-center gap-2",children:[m.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),m.jsxs("span",{className:"flex-1",children:[m.jsx("strong",{className:"font-semibold",children:""}),""]})]})}),m.jsx("div",{className:"space-y-2",children:ie.filter(me=>me.state==="running").map((me,Oe)=>m.jsxs("div",{className:"bg-white rounded-lg p-2 md:p-3 border border-amber-200",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-800 truncate",title:me.file_name,children:[Oe+1,". ",me.file_name]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",me.progress||0,"%"]})]}),m.jsx("button",{onClick:()=>ve(me.task_id),className:"p-1 hover:bg-red-100 rounded transition-all flex-shrink-0",title:"",children:m.jsx(Du,{className:"w-4 h-4 text-red-600"})})]}),m.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-blue-600 h-full transition-all duration-500",style:{width:`${me.progress||0}%`}})})]},me.task_id))})]}),c&&m.jsxs("div",{className:"bg-primary-50 rounded-xl border-2 border-primary-200 p-3 md:p-4",children:[m.jsx("h3",{className:"text-xs md:text-sm font-semibold text-navy-800 mb-2 md:mb-3",children:""}),m.jsxs("div",{className:"mb-3 md:mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-xs font-bold text-primary-700",children:[X.percentage||0,"%"]})]}),m.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 transition-all duration-500",style:{width:`${X.percentage||0}%`}})})]}),m.jsx("div",{className:"space-y-1.5 md:space-y-2",children:[{step:1,label:""},{step:2,label:""},{step:3,label:""},{step:4,label:""}].map(({step:me,label:Oe})=>m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[X.step>me?m.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 bg-green-500 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"h-2.5 w-2.5 md:h-3 md:w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):X.step===me?m.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 text-primary-600 animate-spin"}):m.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 border-2 border-gray-300 rounded-full"}),m.jsx("span",{className:`text-xs md:text-sm ${X.step>=me?"text-gray-900 font-medium":"text-gray-500"}`,children:Oe})]},me))}),X.message&&m.jsx("p",{className:"mt-2 md:mt-3 text-xs md:text-sm text-primary-700 font-semibold",children:X.message})]}),E&&m.jsx("div",{className:"space-y-3 md:space-y-4",children:m.jsxs("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg",children:[m.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-blue-100 px-3 md:px-4 py-2 md:py-3 border-b border-primary-200",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 mb-2",children:[m.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-700",children:" OCR"}),K&&m.jsxs("div",{className:"w-full sm:w-auto px-3 md:px-4 py-1.5 md:py-2 rounded-lg font-semibold flex items-center justify-center gap-2 text-sm bg-green-500 text-white",children:[m.jsx(Kd,{className:"h-4 w-4"}),m.jsx("span",{children:""})]})]}),(c||Y||L.percentage>0&&L.processing_stage!=="all_completed"||X.percentage>0&&X.percentage<100&&oe)&&m.jsxs("div",{className:"mt-3 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(ns,{className:"h-4 w-4 text-blue-600"}),""]}),m.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[(()=>{const me=E?20:X.percentage*.2,Oe=L.percentage?L.percentage*.8:0;return Math.round(me+Oe)})(),"%"]})]}),m.jsx("div",{className:"mb-4",children:m.jsx("div",{className:"h-2 bg-white rounded-full overflow-hidden shadow-inner",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:{width:`${(()=>{const me=E?20:X.percentage*.2,Oe=L.percentage?L.percentage*.8:0;return Math.round(me+Oe)})()}%`}})})}),m.jsx("div",{className:"space-y-2.5",children:[{id:"ocr",label:" OCR",checkCompleted:()=>E&&U,checkProcessing:()=>c||X.percentage>0&&X.percentage<100&&!E},{id:"save",label:" ",processingStages:["saving"],checkCompleted:me=>me&&me!=="saving"&&me!=="",checkEnabled:()=>E&&U},{id:"basic_info",label:" ",processingStages:["extracting_basic_info"],completedStages:["basic_info_completed","extracting_tablesummary","tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"tablesummary",label:" ",processingStages:["extracting_tablesummary"],completedStages:["tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table1",label:" ",processingStages:["extracting_table"],completedStages:["table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table2",label:" ",processingStages:["extracting_wellness_table"],completedStages:["wellness_table_completed","extracting_summary","all_completed"]},{id:"summary",label:" ",processingStages:["extracting_summary"],completedStages:["all_completed"]}].map(({id:me,label:Oe,checkCompleted:Ie,checkProcessing:Ue,checkEnabled:Ve,processingStages:St,completedStages:bt})=>{const gn=L.processing_stage||"";let br,Kn,kr;return Ie&&Ue?(br=Ie(),Kn=Ue(),kr=!1):Ie?(br=Ie(gn),Kn=St&&St.includes(gn),kr=Ve?!Ve():!1):(br=bt&&bt.includes(gn),Kn=St&&St.includes(gn),kr=!1),m.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-all duration-300 ${br?"bg-green-100 border border-green-300":Kn?"bg-blue-100 border border-blue-300 shadow-md":kr?"bg-gray-50 border border-gray-200 opacity-60":"bg-white border border-gray-200"}`,children:[br?m.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:m.jsx("svg",{className:"h-4 w-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):Kn?m.jsx(Mt,{className:"h-6 w-6 text-blue-600 animate-spin flex-shrink-0"}):m.jsx("div",{className:"h-6 w-6 border-2 border-gray-300 rounded-full flex-shrink-0 bg-white"}),m.jsx("span",{className:`text-sm flex-1 ${br?"text-green-800 font-medium line-through":Kn?"text-blue-900 font-semibold":"text-gray-600"}`,children:Oe}),br&&m.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full font-medium",children:""}),Kn&&m.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-500 text-white rounded-full font-medium animate-pulse",children:""})]},me)})}),L.message&&m.jsx("div",{className:"mt-3 p-2 bg-white rounded-lg border border-blue-200",children:m.jsx("p",{className:"text-xs text-blue-800 font-medium text-center",children:L.message})})]}),m.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600 mt-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium",children:"ID:"}),m.jsx("span",{className:"font-mono",title:y,children:y||"-"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium whitespace-nowrap",children:":"}),m.jsx("span",{children:n?.name||"-"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium",children:":"}),m.jsx("span",{children:n?.createdAt?new Date(n.createdAt).toLocaleString("zh-CN"):"-"})]})]})]}),m.jsx("div",{className:"p-3 md:p-6 min-h-[300px] md:min-h-[400px] max-h-[500px] md:max-h-[600px] overflow-auto bg-gray-50",children:U?m.jsx("pre",{className:"text-xs md:text-sm text-gray-800 whitespace-pre-wrap font-mono leading-relaxed",children:U}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[m.jsx(Mt,{className:"h-6 w-6 md:h-8 md:w-8 animate-spin mb-2"}),m.jsx("p",{className:"text-sm md:text-base",children:"..."}),m.jsxs("p",{className:"text-xs mt-2",children:["selectedFile: ",P?"":""]}),m.jsxs("p",{className:"text-xs",children:["fileContent length: ",U?.length||0]})]})})]})})]})]})})]})}const su="https://yu.xingke888.com",tq="wss://yu.xingke888.com";function nq(){const t=hl(),{user:e}=ka(),[n,r]=T.useState(null),[i,a]=T.useState(""),[s,l]=T.useState(`<image>
<|grounding|>Convert the document to markdown.`),[c,d]=T.useState(!1),[h,p]=T.useState(!1),[y,b]=T.useState(""),[x,w]=T.useState(""),[E,S]=T.useState(!1),[C,N]=T.useState(""),[D,k]=T.useState([]),[P,j]=T.useState(null),[U,V]=T.useState(""),[X,z]=T.useState({step:0,message:"",percentage:0}),[Y,ne]=T.useState(!1),[K,se]=T.useState(!1),[L,H]=T.useState([]),[ie,ue]=T.useState(!1),[M,F]=T.useState(null),[Z,R]=T.useState(new Set),[oe,$]=T.useState(!1),[ae,fe]=T.useState(null),ge=T.useRef(new Set),J=T.useRef(new Set),Ne=Ae=>{const te=Ae.target.files?.[0];if(te){te.createdAt=new Date().toISOString(),r(te);const ve=URL.createObjectURL(te);N(ve),Le(te)}},Le=async Ae=>{p(!0),S(!1),j(null),a(""),b(""),w(""),$(!1);try{const te=new FormData;te.append("file",Ae);const Re=await(await fetch(`${su}/api/upload`,{method:"POST",body:te})).json();Re.status==="success"?(a(Re.file_path),p(!1)):(p(!1),r(null),alert(""))}catch(te){console.error("Upload error:",te),p(!1),r(null),alert("")}},le=()=>{r(null),N(""),a(""),S(!1),j(null),b(""),w(""),z({step:0,message:""}),$(!1)};T.useEffect(()=>{const Ae=localStorage.getItem("backgroundTasks2");if(Ae){const te=JSON.parse(Ae);H(te),te.forEach(ve=>{ve.state!=="finished"&&ve.state!=="error"&&tt(ve.task_id)})}return()=>{M&&M.close()}},[]);const He=Ae=>{localStorage.setItem("backgroundTasks2",JSON.stringify(Ae))},Me=Ae=>{const te=`${tq}/ws/progress/${Ae}`;console.log("WebSocket:",te);const ve=new WebSocket(te);let Re=!1;return ve.onopen=()=>{console.log("WebSocket:",Ae)},ve.onmessage=Ke=>{try{const ct=JSON.parse(Ke.data);if(console.log("WebSocket:",ct),ct.task_id===Ae){const Dt=ct.progress||0;z(bi=>({step:Dt>=100?4:Dt>=60?3:Dt>=30?2:1,message:Dt>=100?"":`... ${Dt}%`,percentage:Dt})),ye(Ae,{progress:Dt,state:Dt>=100?"finished":"running"}),Dt>=100&&!Re&&(Re=!0,console.log(":",Ae),ee(Ae),ve.close())}}catch(ct){console.error("WebSocket:",ct)}},ve.onerror=Ke=>{console.error("WebSocket:",Ke)},ve.onclose=()=>{console.log("WebSocket:",Ae)},ve},tt=async Ae=>{try{const ve=await(await fetch(`${su}/api/progress/${Ae}`)).json();ve.status==="success"&&(ve.state==="finished"?ee(Ae):ve.state!=="error"&&Me(Ae))}catch(te){console.error(":",te)}},ee=async Ae=>{if(Z.has(Ae)){console.log(":",Ae);return}R(te=>new Set(te).add(Ae));try{const ve=await(await fetch(`${su}/api/result/${Ae}`)).json();ve.status==="success"&&ve.state==="finished"&&(ye(Ae,{state:"finished",progress:100,result_dir:ve.result_dir,completed_at:new Date().toISOString()}),b(Re=>(Re===Ae&&(w(ve.result_dir),S(!0),d(!1),z({step:4,message:"",percentage:100}),it(ve.result_dir)),Re)))}catch(te){console.error(":",te),ye(Ae,{state:"error",error:te.message}),R(ve=>{const Re=new Set(ve);return Re.delete(Ae),Re})}},ye=(Ae,te)=>{H(ve=>{const Re=ve.map(Ke=>Ke.task_id===Ae?{...Ke,...te}:Ke);return He(Re),Re})},Be=Ae=>{H(te=>{const ve=[...te,Ae];return He(ve),ve})},je=Ae=>{H(te=>{const ve=te.filter(Re=>Re.task_id!==Ae);return He(ve),ve})},Fe=async()=>{if(!i){alert("");return}d(!0),$(!0),S(!1),w(""),z({step:1,message:"...",percentage:0});try{const te=await(await fetch(`${su}/api/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:i,prompt:s})})).json();if(te.status==="running"&&te.task_id){const ve=te.task_id;b(ve),Be({task_id:ve,file_name:n?.name||"",file_size:n?.size||0,state:"running",progress:0,created_at:new Date().toISOString()});const Re=Me(ve);F(Re),z({step:2,message:"...",percentage:10}),setTimeout(()=>{alert(`


""`),d(!1)},1e3)}else alert(""),d(!1)}catch(Ae){console.error("Parse error:",Ae),alert(""),d(!1)}},Ge=async Ae=>{if(Ae.state==="finished"&&Ae.result_dir){fe(Ae.task_id);try{if(b(Ae.task_id),w(Ae.result_dir),S(!0),z({step:4,message:"",percentage:100}),Ae.file_name){const te={name:Ae.file_name,size:Ae.file_size||0,createdAt:Ae.created_at};r(te)}await it(Ae.result_dir),ue(!1)}catch(te){console.error(":",te),alert("")}finally{fe(null)}}else alert("")},it=async Ae=>{if(ge.current.has(Ae)){console.log(" :",Ae);return}ge.current.add(Ae),console.log(" :",Ae);try{const ve=await(await fetch(`${su}/api/folder?path=${encodeURIComponent(Ae)}`)).json();if(console.log("API:",ve),ve.status==="success"){const Re=ve.children||[];console.log(":",Re);const Ke=Re.filter(Dt=>Dt.name.endsWith(".mmd")?!Dt.name.endsWith("det.mmd"):!0);console.log(":",Ke),k(Ke);const ct=Ke.find(Dt=>Dt.type==="file"&&Dt.name.endsWith(".mmd"));console.log("mmd:",ct),ct?await rt(ct):console.warn(".mmd")}}catch(te){console.error("Error fetching file structure:",te)}finally{setTimeout(()=>{ge.current.delete(Ae),console.log(" :",Ae)},100)}},rt=async Ae=>{if(Ae.type==="file"){const te=Ae.path;if(J.current.has(te)){console.log(" :",te);return}J.current.add(te),console.log(" :",Ae.name,te),j(Ae);try{const Re=await(await fetch(`${su}/api/file/content?path=${encodeURIComponent(te)}`)).json();console.log("API:",Re);let Ke="";Re.status==="success"?Ke=Re.content||"":Re.content?Ke=Re.content:(console.error("API:",Re),Ke=""),console.log(":",Ke.length),console.log("100:",Ke.substring(0,100)),V(Ke)}catch(ve){console.error(":",ve)}finally{setTimeout(()=>{J.current.delete(te),console.log(" :",te)},100)}}},Xe=async()=>{if(!U){alert("");return}ne(!0),se(!1);try{const te=await(await fetch("/api/ocr/save/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||P?.name||"unknown.pdf",ocr_content:U,task_id:y,result_dir:x,user_id:e?.id})})).json();if(console.log(":",te),te.status==="success"){const ve=te.document_id;se(!0),alert(`ID: ${ve}

...`),fetch(`/api/ocr/documents/${ve}/basic-info/`,{method:"POST"}).then(Re=>Re.json()).then(Re=>{Re.status==="success"?console.log(":",Re.data):console.error(":",Re.message)}).catch(Re=>{console.error(":",Re)}),setTimeout(()=>se(!1),3e3)}else alert(`: ${te.message}`)}catch(Ae){console.error(":",Ae),alert("")}finally{ne(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[m.jsx("header",{className:"bg-gradient-to-r from-navy-700 via-primary-600 to-navy-700 shadow-lg sticky top-0 z-10 border-b-2 border-primary-500/30",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-2 md:py-3",children:[m.jsx("div",{className:"mb-1",children:m.jsx("button",{onClick:()=>t&&t("home"),className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-primary-700 hover:bg-blue-50 rounded-lg font-semibold transition-all text-sm md:text-base whitespace-nowrap shadow-md",children:""})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl text-white font-bold tracking-wide drop-shadow-lg",children:" 2.0"}),m.jsx("p",{className:"mt-1 md:mt-2 text-blue-100 text-xs md:text-sm",children:" - AI"})]})]})}),ie&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:[m.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(ns,{className:"w-6 h-6"}),""]}),m.jsx("button",{onClick:()=>ue(!1),className:"p-2 hover:bg-gray-200 rounded-lg transition-all",children:m.jsx(Du,{className:"w-6 h-6 text-gray-600"})})]}),m.jsx("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:L.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(ns,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),m.jsx("p",{children:""})]}):m.jsx("div",{className:"space-y-4",children:L.map(Ae=>m.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-4 border border-primary-200 hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:Ae.file_name}),m.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",Ae.task_id]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[Ae.state==="running"&&m.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded-full flex items-center gap-1",children:[m.jsx(Mt,{className:"w-3 h-3 animate-spin"}),""]}),Ae.state==="finished"&&m.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full flex items-center gap-1",children:[m.jsx(Kd,{className:"w-3 h-3"}),""]}),Ae.state==="error"&&m.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:""})]})]}),Ae.state==="running"&&m.jsxs("div",{className:"mb-3",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-xs font-semibold text-primary-700",children:[Ae.progress||0,"%"]})]}),m.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 to-blue-600 transition-all duration-300",style:{width:`${Ae.progress||0}%`}})})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[m.jsxs("span",{children:[": ",new Date(Ae.created_at).toLocaleString("zh-CN")]}),m.jsxs("div",{className:"flex gap-2",children:[Ae.state==="finished"&&m.jsx("button",{onClick:()=>Ge(Ae),disabled:ae===Ae.task_id,className:`px-3 py-1 rounded-lg transition-all flex items-center gap-1 ${ae===Ae.task_id?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:ae===Ae.task_id?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-4 h-4 animate-spin"}),""]}):""}),m.jsx("button",{onClick:()=>je(Ae.task_id),className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",children:""})]})]})]},Ae.task_id))})})]})}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 md:py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>document.getElementById("file-input-2")?.click(),disabled:h,className:"flex-1 px-3 md:px-4 py-2.5 md:py-3 bg-gradient-to-r from-primary-50 to-blue-50 border-2 border-dashed border-primary-300 hover:border-primary-500 rounded-lg transition-all hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:h?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}),m.jsx("span",{className:"hidden sm:inline",children:"..."}),m.jsx("span",{className:"sm:hidden",children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(lp,{className:"h-4 w-4 md:h-5 md:w-5"}),m.jsx("span",{className:"hidden sm:inline",children:"PDF / PNG / JPG"}),m.jsx("span",{className:"sm:hidden",children:""})]})}),m.jsx("input",{id:"file-input-2",type:"file",accept:".pdf,.png,.jpg,.jpeg",className:"hidden",onChange:Ne,disabled:h}),m.jsx("button",{onClick:le,disabled:!n,className:"px-3 md:px-4 py-2.5 md:py-3 bg-white hover:bg-red-50 border-2 border-gray-300 hover:border-red-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m.jsx(Fw,{className:"h-4 w-4 md:h-5 md:w-5"})})]}),m.jsx("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg p-4 md:p-6 h-[300px] md:h-[500px] overflow-auto",children:C?m.jsx("div",{className:"flex items-center justify-center",children:n?.type==="application/pdf"?m.jsx("iframe",{src:C,className:"w-full h-[250px] md:h-[450px] rounded-lg border border-gray-300",title:"PDF Preview"}):m.jsx("img",{src:C,alt:"Preview",className:"max-w-full h-auto rounded-lg shadow-md"})}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[m.jsx(lp,{className:"h-12 w-12 md:h-16 md:w-16 mb-3 md:mb-4 opacity-30"}),m.jsx("p",{className:"text-sm md:text-base",children:""})]})})]}),m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:Fe,disabled:!n||!i||h||oe,className:"flex-1 px-4 md:px-6 py-3 md:py-4 bg-gradient-to-r from-primary-600 to-blue-600 text-white rounded-xl shadow-lg hover:from-primary-700 hover:to-blue-700 hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base md:text-lg",children:c?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"..."})]}):""}),L.length>0&&m.jsxs("button",{onClick:()=>ue(!0),className:"relative px-3 md:px-4 py-3 md:py-4 bg-white border-2 border-primary-500 text-primary-700 hover:bg-primary-50 rounded-xl shadow-lg font-semibold transition-all flex items-center justify-center gap-2 whitespace-nowrap text-sm md:text-base",title:"",children:[m.jsx(wj,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""}),L.filter(Ae=>Ae.state==="running").length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:L.filter(Ae=>Ae.state==="running").length})]})]}),L.filter(Ae=>Ae.state==="running").length>0&&m.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border-2 border-amber-200 p-3 md:p-4",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("h3",{className:"text-xs md:text-sm font-semibold text-amber-900 flex items-center gap-2",children:[m.jsx(ns,{className:"w-4 h-4"})," (",L.filter(Ae=>Ae.state==="running").length,")"]})}),m.jsx("div",{className:"space-y-2",children:L.filter(Ae=>Ae.state==="running").map((Ae,te)=>m.jsxs("div",{className:"bg-white rounded-lg p-2 md:p-3 border border-amber-200",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-800 truncate",title:Ae.file_name,children:[te+1,". ",Ae.file_name]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",Ae.progress||0,"%"]})]}),m.jsx("button",{onClick:()=>je(Ae.task_id),className:"p-1 hover:bg-red-100 rounded transition-all flex-shrink-0",title:"",children:m.jsx(Du,{className:"w-4 h-4 text-red-600"})})]}),m.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-blue-600 h-full transition-all duration-500",style:{width:`${Ae.progress||0}%`}})})]},Ae.task_id))})]}),c&&m.jsxs("div",{className:"bg-primary-50 rounded-xl border-2 border-primary-200 p-3 md:p-4",children:[m.jsx("h3",{className:"text-xs md:text-sm font-semibold text-navy-800 mb-2 md:mb-3",children:""}),m.jsxs("div",{className:"mb-3 md:mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-xs font-bold text-primary-700",children:[X.percentage||0,"%"]})]}),m.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 transition-all duration-500",style:{width:`${X.percentage||0}%`}})})]}),m.jsx("div",{className:"space-y-1.5 md:space-y-2",children:[{step:1,label:""},{step:2,label:""},{step:3,label:""},{step:4,label:""}].map(({step:Ae,label:te})=>m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[X.step>Ae?m.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 bg-green-500 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"h-2.5 w-2.5 md:h-3 md:w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):X.step===Ae?m.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 text-primary-600 animate-spin"}):m.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 border-2 border-gray-300 rounded-full"}),m.jsx("span",{className:`text-xs md:text-sm ${X.step>=Ae?"text-gray-900 font-medium":"text-gray-500"}`,children:te})]},Ae))}),X.message&&m.jsx("p",{className:"mt-2 md:mt-3 text-xs md:text-sm text-primary-700 font-semibold",children:X.message})]}),E&&m.jsx("div",{className:"space-y-3 md:space-y-4",children:m.jsxs("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg",children:[m.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-blue-100 px-3 md:px-4 py-2 md:py-3 border-b border-primary-200",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 mb-2",children:[m.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-700",children:" OCR"}),m.jsx("button",{onClick:Xe,disabled:Y||!U||K,className:`w-full sm:w-auto px-3 md:px-4 py-1.5 md:py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 text-sm shadow-md ${K?"bg-green-500 text-white cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-blue-600 text-white hover:from-primary-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:Y?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{children:"..."})]}):K?m.jsxs(m.Fragment,{children:[m.jsx(Kd,{className:"h-4 w-4"}),m.jsx("span",{children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx(lH,{className:"h-4 w-4"}),m.jsx("span",{children:""})]})})]}),m.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium",children:"ID:"}),m.jsx("span",{className:"font-mono",title:y,children:y||"-"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium whitespace-nowrap",children:":"}),m.jsx("span",{children:n?.name||"-"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"font-medium",children:":"}),m.jsx("span",{children:n?.createdAt?new Date(n.createdAt).toLocaleString("zh-CN"):"-"})]})]})]}),m.jsx("div",{className:"p-3 md:p-6 min-h-[300px] md:min-h-[400px] max-h-[500px] md:max-h-[600px] overflow-auto bg-gray-50",children:U?m.jsx("pre",{className:"text-xs md:text-sm text-gray-800 whitespace-pre-wrap font-mono leading-relaxed",children:U}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[m.jsx(Mt,{className:"h-6 w-6 md:h-8 md:w-8 animate-spin mb-2"}),m.jsx("p",{className:"text-sm md:text-base",children:"..."}),m.jsxs("p",{className:"text-xs mt-2",children:["selectedFile: ",P?"":""]}),m.jsxs("p",{className:"text-xs",children:["fileContent length: ",U?.length||0]})]})})]})})]})]})})]})}function rq(){const t=hl(),{user:e,loading:n}=ka(),[r,i]=T.useState([]),[a,s]=T.useState(!0),[l,c]=T.useState(""),[d,h]=T.useState("all"),[p,y]=T.useState([]),[b,x]=T.useState(!1),[w,E]=T.useState(!1),[S,C]=T.useState(null),[N,D]=T.useState("1,2,3,4,5,6,7,8,9,10,65,75,90,100"),[k,P]=T.useState(!0),[j,U]=T.useState({}),[V,X]=T.useState(!1),[z,Y]=T.useState(null);T.useEffect(()=>{console.log(" [PlanDocumentManagement] useEffect - authLoading:",n,"user:",e),n?console.log(" [PlanDocumentManagement] ..."):(console.log(" [PlanDocumentManagement] "),ne())},[n,e]),T.useEffect(()=>{const $=r.filter(ge=>ge.status==="processing");if($.length===0)return;const ae=async()=>{for(const ge of $)try{const Ne=(await ot.get(`/api/ocr/documents/${ge.id}/status/`)).data;Ne.status==="success"&&(U(Le=>({...Le,[ge.id]:Ne.data})),(Ne.data.processing_stage==="all_completed"||Ne.data.processing_stage==="error")&&ne())}catch(J){console.error(`${ge.id}:`,J)}};ae();const fe=setInterval(ae,3e3);return()=>clearInterval(fe)},[r]);const ne=async()=>{s(!0);try{const $="/api/ocr/documents/";console.log("  - user:",e),console.log(" URL:",$);const fe=(await ot.get($)).data;console.log(" API:",fe),fe.status==="success"&&(i(fe.data||[]),console.log(" :",fe.data?.length))}catch($){console.error(":",$),$.response?.status===401&&console.error(" ")}finally{s(!1)}},K=$=>{t(`/document/${$.id}`)},se=async $=>{Y($),X(!0);try{const fe=(await ot.get(`/api/ocr/documents/${$}/status/`)).data;fe.status==="success"&&U(ge=>({...ge,[$]:fe.data}))}catch(ae){console.error(`${$}:`,ae)}},L=$=>{$.target.checked?y(oe.map(ae=>ae.id)):y([])},H=$=>{y(ae=>ae.includes($)?ae.filter(fe=>fe!==$):[...ae,$])},ie=($,ae,fe)=>!$||!ae||!fe||fe<=0||ae<=0?null:($-ae)/ae/fe*100,ue=($,ae,fe)=>!$||!ae||!fe||fe<=0||ae<=0?null:(Math.pow($/ae,1/fe)-1)*100,M=()=>{if(p.length===0){alert("");return}const $=r.filter(le=>p.includes(le.id));console.log("=====  ====="),console.log(":",$.length);const ae=$.filter(le=>{console.log(`
---  ---`),console.log(":",le.file_name),console.log("table1:",le.table1),console.log("table1 === null:",le.table1===null),console.log("table1 === undefined:",le.table1===void 0),console.log("table1:",typeof le.table1),console.log("table1:",le.table1&&typeof le.table1=="object"),le.table1&&typeof le.table1=="object"&&(console.log("table1.keys:",Object.keys(le.table1)),console.log("table1.years:",le.table1.years),console.log("years:",Array.isArray(le.table1.years)),console.log("years:",le.table1.years?.length));let He=!1;return le.table1&&(typeof le.table1=="string"?(He=le.table1.trim().length>0,console.log("table1:",le.table1.trim().length)):typeof le.table1=="object"&&(He=le.table1.years&&Array.isArray(le.table1.years)&&le.table1.years.length>0,console.log("table1hasTable:",He))),console.log(" hasTable :",He),console.log(" !hasTable ():",!He),!He});if(console.log(`
=====  =====`),console.log("table:",ae.length),console.log("table:",ae.map(le=>le.file_name)),ae.length>0){alert(`
${ae.map(le=>le.file_name).join(`
`)}`);return}let fe=new Set;$.forEach(le=>{const He=le.table1?.years||[],Me=le.insured_age||0;He.forEach(tt=>{const ee=tt.policy_year;if(typeof ee=="string"&&/[]/.test(ee)){const ye=ee.match(/\d+/);ye&&fe.add(parseInt(ye[0]))}else typeof ee=="number"&&fe.add(Me+ee)})});const ge=Array.from(fe).sort((le,He)=>le-He);let J,Ne={};if(k&&N.trim()){const le=N.replace(//g,",").split(",").map(Me=>Me.trim()).filter(Me=>Me),He=new Set;if(le.forEach(Me=>{if(/[]/.test(Me)){const tt=Me.match(/\d+/);if(tt){const ee=parseInt(tt[0]);fe.has(ee)&&(He.add(ee),Ne[ee]={type:"age",value:ee})}}else{const tt=parseInt(Me);if(!isNaN(tt)){const ee=`policyYear_${tt}`;He.add(ee),Ne[ee]={type:"policyYear",value:tt}}}}),J=Array.from(He).sort((Me,tt)=>{const ee=typeof Me=="string"&&Me.startsWith("policyYear_"),ye=typeof tt=="string"&&tt.startsWith("policyYear_");if(ee&&ye){const Be=parseInt(Me.split("_")[1]),je=parseInt(tt.split("_")[1]);return Be-je}else return ee?-1:ye?1:Me-tt}),J.length===0){alert("");return}}else J=ge.filter((le,He,Me)=>He===0||He===Me.length-1?!0:le%5===0||[33,65,75,90,100].includes(le)).slice(0,15);const Le=$.map(le=>{const He=le.table1?.years||[],Me={};return J.forEach(tt=>{const ee=le.insured_age||0;let ye;if(typeof tt=="string"&&tt.startsWith("policyYear_")){const Be=parseInt(tt.split("_")[1]);ye=He.find(je=>{const Fe=je.policy_year;return typeof Fe=="number"?Fe===Be:!1})}else{const Be=tt,je=Be-ee;ye=He.find(Fe=>{const Ge=Fe.policy_year;if(typeof Ge=="string"&&/[]/.test(Ge)){const it=Ge.match(/\d+/);return(it?parseInt(it[0]):0)===Be}return typeof Ge=="number"?Ge===je:!1})}Me[tt]={guaranteed:ye?ye.guaranteed||ye.guaranteed_cash_value:void 0,total:ye?ye.total:void 0}}),{id:le.id,name:le.insurance_product||le.file_name,insuredName:le.insured_name||"-",company:le.insurance_company||"-",currentAge:le.insured_age||0,ageData:Me}});C({products:Le,targetAges:J,ageDisplayMap:Ne}),E(!0)},F=async()=>{if(p.length===0){alert("");return}if(confirm(` ${p.length} `)){x(!0);try{const ae=(await ot.delete("/api/ocr/documents/delete/",{data:{document_ids:p}})).data;ae.status==="success"?(alert(` ${ae.deleted_count} `),y([]),ne()):alert(`${ae.message}`)}catch($){console.error(":",$),alert("")}finally{x(!1)}}},Z=$=>({uploaded:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[$]||"bg-gray-100 text-gray-800",R=$=>({uploaded:"",processing:"",completed:"",failed:""})[$]||$,oe=r.filter($=>{const ae=$.file_name.toLowerCase().includes(l.toLowerCase()),fe=d==="all"||$.status===d;return ae&&fe});return w&&S?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 md:p-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"mb-4 md:mb-6",children:m.jsxs("button",{onClick:()=>E(!1),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all",children:[m.jsx(Xd,{className:"w-5 h-5"}),""]})}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-4 md:px-8 md:py-6",children:[m.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white",children:""}),m.jsxs("p",{className:"text-blue-100 mt-1 md:mt-2 text-sm md:text-base",children:[" ",S.products.length," "]}),m.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[m.jsxs("label",{className:"flex items-center gap-2 text-white text-sm",children:[m.jsx("input",{type:"checkbox",checked:k,onChange:$=>P($.target.checked),className:"w-4 h-4 rounded"}),m.jsx("span",{children:""})]}),k&&m.jsxs("div",{className:"flex-1 flex gap-2",children:[m.jsx("input",{type:"text",value:N,onChange:$=>D($.target.value),placeholder:": 1,2,3,33,65 (==)",className:"flex-1 px-3 py-2 rounded-lg text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-white"}),m.jsx("button",{onClick:()=>M(),className:"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium whitespace-nowrap",children:""})]})]})]}),S.products.length>0&&m.jsx("div",{className:"px-4 md:px-8 py-3 bg-blue-50 border-b border-blue-200",children:m.jsxs("div",{className:"text-xs md:text-sm text-gray-700",children:[m.jsx("span",{className:"font-medium",children:""}),S.products.map(($,ae)=>{const fe=r.find(ge=>ge.id===$.id);return m.jsxs("span",{children:[m.jsxs("span",{className:"font-semibold text-indigo-700",children:[" ",ae+1,". ",$.name]}),m.jsxs("span",{children:[" (",$.insuredName," | ",$.currentAge," / ",fe?.insured_gender||"-"," | : ",fe?.annual_premium?parseInt(fe.annual_premium).toLocaleString("zh-CN"):"-"," | : ",fe?.payment_years?`${fe.payment_years}`:"-",")"]}),ae<S.products.length-1&&m.jsx("span",{className:"mx-1",children:""})]},$.id)})]})}),m.jsx("div",{className:"p-2 md:p-8 overflow-x-auto",children:m.jsxs("table",{className:"w-full min-w-max",children:[m.jsxs("thead",{children:[m.jsxs("tr",{className:"border-b-2 border-gray-200",children:[m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold text-gray-700 sticky left-0 bg-white z-10 border-r-2 border-gray-300",children:"/"}),S.products.map(($,ae)=>m.jsx("th",{className:`px-2 md:px-4 py-2 md:py-3 text-center ${ae<S.products.length-1?"border-r-2 border-indigo-200":""}`,colSpan:"4",children:m.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-700 truncate",title:$.name,children:$.name})},$.id))]}),m.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[m.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-left text-xs font-medium text-gray-600 sticky left-0 bg-gray-50 z-10 border-r-2 border-gray-300"}),S.products.map(($,ae)=>m.jsxs(_d.Fragment,{children:[m.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),m.jsx("th",{className:`px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap ${ae<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:"IRR"})]},`${$.id}-headers`))]})]}),m.jsxs("tbody",{children:[S.targetAges.map($=>{const ae=S.ageDisplayMap?.[$];let fe;return ae?.type==="policyYear"?fe=ae.value:ae?.type==="age"?fe=`${$}`:fe=`${$}`,m.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium text-gray-900 whitespace-nowrap sticky left-0 bg-white z-10 border-r-2 border-gray-300",children:fe}),S.products.map((ge,J)=>{const Ne=r.find(Be=>Be.id===ge.id),Le=Ne?.annual_premium?parseInt(Ne.annual_premium):0,le=Ne?.payment_years?parseInt(Ne.payment_years):0,He=ge.ageData[$]?.total;let Me=0;ae?.type==="policyYear"?Me=ae.value:Me=(typeof $=="string"?parseInt($.replace(/[^\d]/g,"")):$)-ge.currentAge;const tt=Le*Math.min(Me,le),ee=ie(He,tt,Me),ye=ue(He,tt,Me);return m.jsxs(_d.Fragment,{children:[m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-gray-900 font-medium text-center whitespace-nowrap",children:ge.ageData[$]?.guaranteed!==void 0&&ge.ageData[$]?.guaranteed!==null?parseInt(ge.ageData[$].guaranteed).toLocaleString("zh-CN"):"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-indigo-900 font-medium text-center whitespace-nowrap",children:ge.ageData[$]?.total!==void 0&&ge.ageData[$]?.total!==null?parseInt(ge.ageData[$].total).toLocaleString("zh-CN"):"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-purple-700 font-medium text-center whitespace-nowrap",children:ee!==null?`${ee.toFixed(2)}%`:"-"}),m.jsx("td",{className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-green-700 font-bold text-center whitespace-nowrap ${J<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:ye!==null?`${ye.toFixed(2)}%`:"-"})]},`${ge.id}-${$}`)})]},$)}),m.jsxs("tr",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-t-2 border-green-200",children:[m.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm font-bold text-green-800 whitespace-nowrap sticky left-0 bg-gradient-to-r from-green-50 to-emerald-50 z-10 border-r-2 border-gray-300",children:""}),S.products.map(($,ae)=>{const fe=r.find(Me=>Me.id===$.id),ge=fe?.annual_premium?parseInt(fe.annual_premium):0,J=fe?.payment_years?parseInt(fe.payment_years):0,Ne=$.ageData[100]?.total||0,Le=100-$.currentAge,le=ge*Math.min(Le,J),He=le>0?(Ne/le).toFixed(2):"-";return m.jsxs(_d.Fragment,{children:[m.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap",children:"-"}),m.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm font-bold text-green-700 text-center whitespace-nowrap",children:He!=="-"?`${He}x`:"-"}),m.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap",children:"-"}),m.jsx("td",{className:`px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap ${ae<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:"-"})]},`${$.id}-growth`)})]})]})]})})]})]})}):m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-4 pt-4 pb-8",children:[m.jsxs("div",{className:"max-w-[95%] mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("button",{onClick:()=>t("dashboard"),className:"mb-2 flex items-center gap-1.5 px-3 py-1.5 bg-white rounded-lg shadow hover:shadow-md transition-all text-sm",children:[m.jsx(Xd,{className:"w-4 h-4"}),""]}),m.jsx("div",{className:"mb-3 text-center",children:m.jsx("h1",{className:"text-2xl font-semibold text-gray-700",children:""})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:oe.length}),m.jsx("div",{className:"text-sm text-gray-600",children:""})]}),m.jsxs("button",{onClick:()=>t&&t("plan-analyzer"),className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-md hover:shadow-lg",children:[m.jsx(qr,{className:"w-4 h-4"}),m.jsx("span",{className:"font-medium text-sm",children:""})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0 relative",children:[m.jsx(cH,{className:"absolute left-2 md:left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"...",value:l,onChange:$=>c($.target.value),className:"w-full pl-8 md:pl-10 pr-2 md:pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm md:text-base"})]}),m.jsxs("select",{value:d,onChange:$=>h($.target.value),className:"px-2 md:px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm md:text-base",children:[m.jsx("option",{value:"all",children:""}),m.jsx("option",{value:"uploaded",children:""}),m.jsx("option",{value:"processing",children:""}),m.jsx("option",{value:"completed",children:""}),m.jsx("option",{value:"failed",children:""})]}),m.jsxs("button",{onClick:ne,disabled:a,className:"flex items-center justify-center gap-1 px-3 md:px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm hover:shadow text-sm md:text-base font-medium whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(ev,{className:`w-4 h-4 ${a?"animate-spin":""}`}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]}),p.length>0&&m.jsxs("div",{className:"flex gap-2 md:gap-4 mt-3",children:[m.jsxs("button",{onClick:M,className:"flex-1 md:flex-none flex items-center justify-center gap-1 px-3 py-2 text-sm md:text-base md:px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[m.jsx(eH,{className:"w-3 h-3 md:w-4 md:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"sm:hidden",children:""}),m.jsxs("span",{children:["(",p.length,")"]})]}),m.jsx("button",{onClick:F,disabled:b,className:"flex-1 md:flex-none flex items-center justify-center gap-1 px-3 py-2 text-sm md:text-base md:px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:b?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-3 h-3 md:w-4 md:h-4 animate-spin"}),m.jsx("span",{className:"hidden sm:inline",children:"..."}),m.jsx("span",{className:"sm:hidden",children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Fw,{className:"w-3 h-3 md:w-4 md:h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""}),m.jsx("span",{className:"sm:hidden",children:""}),m.jsxs("span",{children:["(",p.length,")"]})]})})]})]}),a?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Mt,{className:"w-12 h-12 text-indigo-600 animate-spin"})}):oe.length===0?m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[m.jsx(qr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-xl text-gray-600 mb-2",children:""}),m.jsx("p",{className:"text-gray-500",children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-lg overflow-x-auto",children:m.jsxs("table",{className:"w-full min-w-max",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center",children:m.jsx("input",{type:"checkbox",checked:p.length===oe.length&&oe.length>0,onChange:L,className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),m.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:oe.map($=>m.jsx(_d.Fragment,{children:m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-center",onClick:ae=>ae.stopPropagation(),children:m.jsx("input",{type:"checkbox",checked:p.includes($.id),onChange:()=>H($.id),className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 cursor-pointer",onClick:()=>K($),children:$.insured_name||"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K($),children:$.insured_age||"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K($),children:$.insured_gender||"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 cursor-pointer",onClick:()=>K($),children:$.insurance_company||"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-xs text-sm text-gray-700 cursor-pointer",onClick:()=>K($),children:m.jsx("div",{className:"truncate",title:$.insurance_product,children:$.insurance_product||"-"})}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium cursor-pointer",onClick:()=>K($),children:$.sum_assured?parseInt($.sum_assured).toLocaleString("zh-CN"):"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium cursor-pointer",onClick:()=>K($),children:$.annual_premium?parseInt($.annual_premium).toLocaleString("zh-CN"):"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K($),children:$.payment_years?`${$.payment_years}`:"-"}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center cursor-pointer",onClick:()=>K($),children:(()=>{let ae=!1,fe=0;return $.table1&&(typeof $.table1=="object"&&$.table1.years&&Array.isArray($.table1.years)?(ae=$.table1.years.length>0,fe=$.table1.years.length):typeof $.table1=="string"&&$.table1.trim().length>0&&(ae=!0,fe=0)),ae?m.jsx("span",{className:"px-1.5 md:px-2 py-0.5 md:py-1 text-sm font-semibold bg-green-100 text-green-800 rounded-full",children:fe>0?`${fe}`:""}):m.jsx("span",{className:"text-gray-400 text-sm",children:""})})()}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-md cursor-pointer",onClick:()=>K($),children:(()=>{let ae="";if($.summary)try{typeof $.summary=="string"?ae=JSON.parse($.summary).summary||$.summary:typeof $.summary=="object"&&(ae=$.summary.summary||"")}catch{typeof $.summary=="string"&&(ae=$.summary)}return ae&&typeof ae=="string"&&ae.trim()?m.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",title:ae,children:ae}):m.jsx("span",{className:"text-gray-400 text-sm",children:""})})()}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center cursor-pointer",onClick:()=>K($),children:m.jsx("span",{className:`px-1.5 md:px-2 py-0.5 md:py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${Z($.status)}`,children:R($.status)})}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-xs cursor-pointer",onClick:()=>K($),children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(qr,{className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 mr-1 md:mr-2 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",title:$.file_name,children:$.file_name})]})}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-500 cursor-pointer",onClick:()=>K($),children:new Date($.created_at).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center",children:m.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2",children:[m.jsxs("button",{onClick:ae=>{ae.stopPropagation(),se($.id)},className:"inline-flex items-center gap-1 px-2 md:px-3 py-1 md:py-1.5 bg-blue-600 text-white text-xs md:text-sm rounded-lg hover:bg-blue-700 transition-colors",title:"",children:[m.jsx(ns,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),m.jsx("span",{className:"hidden lg:inline",children:""})]}),m.jsxs("button",{onClick:ae=>{ae.stopPropagation(),K($)},className:"inline-flex items-center gap-1 px-2 md:px-3 py-1 md:py-1.5 bg-indigo-600 text-white text-xs md:text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[m.jsx(VN,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),m.jsx("span",{className:"hidden lg:inline",children:""})]})]})})]})},$.id))})]})}),m.jsx("div",{className:"md:hidden space-y-4",children:oe.map($=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>K($),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2 text-xs text-gray-500",children:[m.jsx("span",{children:new Date($.created_at).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),m.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${Z($.status)}`,children:R($.status)})]}),m.jsxs("div",{className:"flex items-start gap-2 mb-2 pb-2 border-b border-gray-200",children:[m.jsx("input",{type:"checkbox",checked:p.includes($.id),onChange:()=>H($.id),onClick:ae=>ae.stopPropagation(),className:"w-4 h-4 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 flex-shrink-0"}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("span",{className:"text-sm font-bold text-gray-900 break-words line-clamp-1",children:$.file_name})})]}),m.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:m.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-0.5 text-xs text-gray-700",children:[m.jsxs("span",{children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-medium",children:$.insured_name||"-"})]}),m.jsx("span",{className:"text-gray-300",children:"|"}),m.jsxs("span",{children:[m.jsx("span",{className:"text-gray-500",children:""}),$.insured_age||"-"]}),m.jsx("span",{className:"text-gray-300",children:"|"}),m.jsxs("span",{children:[m.jsx("span",{className:"text-gray-500",children:""}),$.insured_gender||"-"]})]})}),m.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:m.jsxs("div",{className:"text-xs",children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-medium text-gray-900",children:$.insurance_company||"-"}),m.jsx("span",{className:"text-gray-300 mx-1",children:"|"}),m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-medium text-gray-900",children:$.insurance_product||"-"})]})}),m.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:m.jsxs("div",{className:"grid grid-cols-3 gap-x-2 gap-y-0.5 text-xs",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-bold text-gray-900",children:$.sum_assured?parseInt($.sum_assured).toLocaleString("zh-CN"):"-"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-bold text-gray-900",children:$.annual_premium?parseInt($.annual_premium).toLocaleString("zh-CN"):"-"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"font-medium text-gray-900",children:$.payment_years?`${$.payment_years}`:"-"})]})]})}),m.jsx("div",{children:(()=>{let ae="";if($.summary)try{typeof $.summary=="string"?ae=JSON.parse($.summary).summary||$.summary:typeof $.summary=="object"&&(ae=$.summary.summary||"")}catch{typeof $.summary=="string"&&(ae=$.summary)}return ae&&typeof ae=="string"&&ae.trim()?m.jsxs("div",{className:"text-xs text-gray-600",children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"line-clamp-2",children:ae})]}):m.jsxs("div",{className:"text-xs text-gray-400",children:[m.jsx("span",{className:"text-gray-500",children:""}),""]})})()})]},$.id))})]})]}),V&&z&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6 flex items-center justify-between rounded-t-2xl",children:[m.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(ns,{className:"w-6 h-6 text-blue-600"}),""]}),m.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(Du,{className:"w-6 h-6 text-gray-600"})})]}),m.jsx("div",{className:"p-4 md:p-6",children:j[z]?(()=>{const $=j[z],ae=$.processing_stage||"",fe=r.find(ge=>ge.id===z);return m.jsxs("div",{className:"space-y-6",children:[fe&&m.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(qr,{className:"w-5 h-5 text-indigo-600"}),m.jsx("span",{className:"font-semibold text-gray-800",children:fe.file_name})]}),m.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",fe.id,"   ",new Date(fe.created_at).toLocaleString("zh-CN")]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""}),m.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[$.progress_percentage,"%"]})]}),m.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500",style:{width:`${$.progress_percentage}%`}})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),m.jsx("div",{className:"space-y-3",children:[{id:"basic_info",label:" ",stages:["extracting_basic_info"],completedStages:["basic_info_completed","extracting_tablesummary","tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"tablesummary",label:" ",stages:["extracting_tablesummary"],completedStages:["tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table1",label:" ",stages:["extracting_table"],completedStages:["table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table2",label:" ",stages:["extracting_wellness_table"],completedStages:["wellness_table_completed","extracting_summary","all_completed"]},{id:"summary",label:" ",stages:["extracting_summary"],completedStages:["all_completed"]}].map(({id:ge,label:J,stages:Ne,completedStages:Le})=>{const le=Ne.includes(ae),He=Le.includes(ae);return m.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl transition-all ${He?"bg-green-50 border-2 border-green-300":le?"bg-blue-50 border-2 border-blue-300 shadow-lg":"bg-gray-50 border-2 border-gray-200"}`,children:[He?m.jsx(Kd,{className:"h-7 w-7 text-green-600 flex-shrink-0"}):le?m.jsx(Mt,{className:"h-7 w-7 text-blue-600 animate-spin flex-shrink-0"}):m.jsx("div",{className:"h-7 w-7 border-2 border-gray-300 rounded-full flex-shrink-0"}),m.jsx("span",{className:`text-base flex-1 ${He?"text-green-800 font-semibold line-through":le?"text-blue-900 font-bold":"text-gray-600"}`,children:J}),He&&m.jsx("span",{className:"text-sm px-3 py-1 bg-green-500 text-white rounded-full font-semibold",children:" "}),le&&m.jsx("span",{className:"text-sm px-3 py-1 bg-blue-500 text-white rounded-full font-semibold animate-pulse",children:" "})]},ge)})})]}),m.jsxs("div",{className:"space-y-3",children:[$.error_message&&m.jsx("div",{className:"p-4 bg-red-50 border-2 border-red-300 rounded-xl",children:m.jsxs("p",{className:"text-sm text-red-800 font-medium",children:[m.jsx("span",{className:"font-bold",children:""})," ",$.error_message]})}),$.last_processed_at&&m.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[": ",new Date($.last_processed_at).toLocaleString("zh-CN")]}),ae==="all_completed"&&m.jsx("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-xl text-center",children:m.jsx("p",{className:"text-green-800 font-bold text-lg",children:" "})})]}),m.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[m.jsxs("button",{onClick:()=>se(z),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(ev,{className:"w-4 h-4"}),""]}),m.jsxs("button",{onClick:()=>{X(!1);const ge=r.find(J=>J.id===z);ge&&K(ge)},className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(VN,{className:"w-4 h-4"}),""]})]})]})})():m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx(Mt,{className:"w-12 h-12 text-blue-600 animate-spin"})})})]})})]})}function SC(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&e.push(s),i=r+1,r=n.indexOf(",",i)}return e}function rR(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aq=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sq={};function TC(t,e){return(sq.jsx?aq:iq).test(t)}const oq=/[ \t\n\f\r]/g;function lq(t){return typeof t=="object"?t.type==="text"?_C(t.value):!1:_C(t)}function _C(t){return t.replace(oq,"")===""}let Ph=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Ph.prototype.normal={};Ph.prototype.property={};Ph.prototype.space=void 0;function iR(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ph(n,r,e)}function nh(t){return t.toLowerCase()}let Kr=class{constructor(e,n){this.attribute=n,this.property=e}};Kr.prototype.attribute="";Kr.prototype.booleanish=!1;Kr.prototype.boolean=!1;Kr.prototype.commaOrSpaceSeparated=!1;Kr.prototype.commaSeparated=!1;Kr.prototype.defined=!1;Kr.prototype.mustUseProperty=!1;Kr.prototype.number=!1;Kr.prototype.overloadedBoolean=!1;Kr.prototype.property="";Kr.prototype.spaceSeparated=!1;Kr.prototype.space=void 0;let uq=0;const yt=pl(),Cn=pl(),gv=pl(),Pe=pl(),Kt=pl(),Tu=pl(),oi=pl();function pl(){return 2**++uq}const yv=Object.freeze(Object.defineProperty({__proto__:null,boolean:yt,booleanish:Cn,commaOrSpaceSeparated:oi,commaSeparated:Tu,number:Pe,overloadedBoolean:gv,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),Zb=Object.keys(yv);let tE=class extends Kr{constructor(e,n,r,i){let a=-1;if(super(e,n),NC(this,"space",i),typeof r=="number")for(;++a<Zb.length;){const s=Zb[a];NC(this,Zb[a],(r&yv[s])===yv[s])}}};tE.prototype.defined=!0;function NC(t,e,n){n&&(t[e]=n)}function Xu(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new tE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[nh(r)]=r,n[nh(a.attribute)]=r}return new Ph(e,n,t.space)}const aR=Xu({properties:{ariaActiveDescendant:null,ariaAtomic:Cn,ariaAutoComplete:null,ariaBusy:Cn,ariaChecked:Cn,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:Cn,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:Cn,ariaFlowTo:Kt,ariaGrabbed:Cn,ariaHasPopup:null,ariaHidden:Cn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:Pe,ariaLive:null,ariaModal:Cn,ariaMultiLine:Cn,ariaMultiSelectable:Cn,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:Cn,ariaReadOnly:Cn,ariaRelevant:null,ariaRequired:Cn,ariaRoleDescription:Kt,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:Cn,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function sR(t,e){return e in t?t[e]:e}function oR(t,e){return sR(t,e.toLowerCase())}const cq=Xu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tu,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:yt,allowPaymentRequest:yt,allowUserMedia:yt,alt:null,as:null,async:yt,autoCapitalize:null,autoComplete:Kt,autoFocus:yt,autoPlay:yt,blocking:Kt,capture:null,charSet:null,checked:yt,cite:null,className:Kt,cols:Pe,colSpan:null,content:null,contentEditable:Cn,controls:yt,controlsList:Kt,coords:Pe|Tu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yt,defer:yt,dir:null,dirName:null,disabled:yt,download:gv,draggable:Cn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yt,formTarget:null,headers:Kt,height:Pe,hidden:gv,high:Pe,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:yt,inputMode:null,integrity:null,is:null,isMap:yt,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:yt,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yt,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:yt,muted:yt,name:null,nonce:null,noModule:yt,noValidate:yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yt,optimum:Pe,pattern:null,ping:Kt,placeholder:null,playsInline:yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yt,referrerPolicy:null,rel:Kt,required:yt,reversed:yt,rows:Pe,rowSpan:Pe,sandbox:Kt,scope:null,scoped:yt,seamless:yt,selected:yt,shadowRootClonable:yt,shadowRootDelegatesFocus:yt,shadowRootMode:null,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:Cn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:yt,useMap:null,value:Cn,width:Pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yt,declare:yt,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:yt,noHref:yt,noShade:yt,noWrap:yt,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:Cn,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yt,disableRemotePlayback:yt,prefix:null,property:null,results:Pe,security:null,unselectable:null},space:"html",transform:oR}),dq=Xu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oi,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tu,g2:Tu,glyphName:Tu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:oi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oi,rev:oi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oi,requiredFeatures:oi,requiredFonts:oi,requiredFormats:oi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:oi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oi,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sR}),lR=Xu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),uR=Xu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oR}),cR=Xu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),hq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fq=/[A-Z]/g,CC=/-[a-z]/g,mq=/^data[-\w.:]+$/i;function nE(t,e){const n=nh(e);let r=e,i=Kr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mq.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(CC,gq);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!CC.test(a)){let s=a.replace(fq,pq);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=tE}return new i(r,e)}function pq(t){return"-"+t.toLowerCase()}function gq(t){return t.charAt(1).toUpperCase()}const wg=iR([aR,cq,lR,uR,cR],"html"),Ku=iR([aR,dq,lR,uR,cR],"svg");function OC(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function dR(t){return t.join(" ").trim()}var ou={},Jb,kC;function yq(){if(kC)return Jb;kC=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",p="",y="comment",b="declaration";function x(E,S){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];S=S||{};var C=1,N=1;function D(K){var se=K.match(e);se&&(C+=se.length);var L=K.lastIndexOf(c);N=~L?K.length-L:N+K.length}function k(){var K={line:C,column:N};return function(se){return se.position=new P(K),V(),se}}function P(K){this.start=K,this.end={line:C,column:N},this.source=S.source}P.prototype.content=E;function j(K){var se=new Error(S.source+":"+C+":"+N+": "+K);if(se.reason=K,se.filename=S.source,se.line=C,se.column=N,se.source=E,!S.silent)throw se}function U(K){var se=K.exec(E);if(se){var L=se[0];return D(L),E=E.slice(L.length),se}}function V(){U(n)}function X(K){var se;for(K=K||[];se=z();)se!==!1&&K.push(se);return K}function z(){var K=k();if(!(d!=E.charAt(0)||h!=E.charAt(1))){for(var se=2;p!=E.charAt(se)&&(h!=E.charAt(se)||d!=E.charAt(se+1));)++se;if(se+=2,p===E.charAt(se-1))return j("End of comment missing");var L=E.slice(2,se-2);return N+=2,D(L),E=E.slice(se),N+=2,K({type:y,comment:L})}}function Y(){var K=k(),se=U(r);if(se){if(z(),!U(i))return j("property missing ':'");var L=U(a),H=K({type:b,property:w(se[0].replace(t,p)),value:L?w(L[0].replace(t,p)):p});return U(s),H}}function ne(){var K=[];X(K);for(var se;se=Y();)se!==!1&&(K.push(se),X(K));return K}return V(),ne()}function w(E){return E?E.replace(l,p):p}return Jb=x,Jb}var PC;function bq(){if(PC)return ou;PC=1;var t=ou&&ou.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=n;const e=t(yq());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),l=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;l?i(d,h,c):h&&(a=a||{},a[d]=h)}),a}return ou}var fd={},DC;function xq(){if(DC)return fd;DC=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),a(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,s))};return fd.camelCase=c,fd}var md,jC;function vq(){if(jC)return md;jC=1;var t=md&&md.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(bq()),n=xq();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(s[(0,n.camelCase)(l,a)]=c)}),s}return r.default=r,md=r,md}var wq=vq();const Eq=Ji(wq),Eg=hR("end"),Pa=hR("start");function hR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Aq(t){const e=Pa(t),n=Eg(t);if(e&&n)return{start:e,end:n}}function Md(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?RC(t.position):"start"in t||"end"in t?RC(t):"line"in t||"column"in t?bv(t):""}function bv(t){return IC(t&&t.line)+":"+IC(t&&t.column)}function RC(t){return bv(t&&t.start)+"-"+bv(t&&t.end)}function IC(t){return t&&typeof t=="number"?t:1}class pr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Md(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pr.prototype.file="";pr.prototype.name="";pr.prototype.reason="";pr.prototype.message="";pr.prototype.stack="";pr.prototype.column=void 0;pr.prototype.line=void 0;pr.prototype.ancestors=void 0;pr.prototype.cause=void 0;pr.prototype.fatal=void 0;pr.prototype.place=void 0;pr.prototype.ruleId=void 0;pr.prototype.source=void 0;const rE={}.hasOwnProperty,Sq=new Map,Tq=/[A-Z]/g,_q=new Set(["table","tbody","thead","tfoot","tr"]),Nq=new Set(["td","th"]),fR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Cq(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Lq(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Iq(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ku:wg,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=mR(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function mR(t,e,n){if(e.type==="element")return Oq(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return kq(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Dq(t,e,n);if(e.type==="mdxjsEsm")return Pq(t,e);if(e.type==="root")return jq(t,e,n);if(e.type==="text")return Rq(t,e)}function Oq(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ku,t.schema=i),t.ancestors.push(e);const a=gR(t,e.tagName,!1),s=Mq(t,e);let l=aE(t,e);return _q.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!lq(c):!0})),pR(t,s,a,e),iE(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function kq(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}rh(t,e.position)}function Pq(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);rh(t,e.position)}function Dq(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Ku,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:gR(t,e.name,!0),s=Bq(t,e),l=aE(t,e);return pR(t,s,a,e),iE(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function jq(t,e,n){const r={};return iE(r,aE(t,e)),t.create(e,t.Fragment,r,n)}function Rq(t,e){return e.value}function pR(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function iE(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Iq(t,e,n){return r;function r(i,a,s,l){const d=Array.isArray(s.children)?n:e;return l?d(a,s,l):d(a,s)}}function Lq(t,e){return n;function n(r,i,a,s){const l=Array.isArray(a.children),c=Pa(r);return e(i,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function Mq(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&rE.call(e.properties,i)){const a=Fq(t,i,e.properties[i]);if(a){const[s,l]=a;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Nq.has(e.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Bq(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else rh(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else rh(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function aE(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Sq;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;s=c+"-"+d,i.set(c,d+1)}}const l=mR(t,a,s);l!==void 0&&n.push(l)}return n}function Fq(t,e,n){const r=nE(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rR(n):dR(n)),r.property==="style"){let i=typeof n=="object"?n:Uq(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Hq(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?hq[r.property]||r.property:r.attribute,n]}}function Uq(t,e){try{return Eq(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new pr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=fR+"#cannot-parse-style-attribute",i}}function gR(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const l=TC(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=TC(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return rE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);rh(t)}function rh(t,e){const n=new pr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=fR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Hq(t){const e={};let n;for(n in t)rE.call(t,n)&&(e[zq(n)]=t[n]);return e}function zq(t){let e=t.replace(Tq,$q);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function $q(t){return"-"+t.toLowerCase()}const ex={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qq={};function Yq(t,e){const n=qq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yR(t,r,i)}function yR(t,e,n){if(Vq(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return LC(t.children,e,n)}return Array.isArray(t)?LC(t,e,n):""}function LC(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=yR(t[i],e,n);return r.join("")}function Vq(t){return!!(t&&typeof t=="object")}const MC=document.createElement("i");function sE(t){const e="&"+t+";";MC.innerHTML=e;const n=MC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Sa(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Li(t,e){return t.length>0?(Sa(t,t.length,0,e),t):e}const BC={}.hasOwnProperty;function Gq(t){const e={};let n=-1;for(;++n<t.length;)Wq(e,t[n]);return e}function Wq(t,e){let n;for(n in e){const i=(BC.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){BC.call(i,s)||(i[s]=[]);const l=a[s];Xq(i[s],Array.isArray(l)?l:l?[l]:[])}}}function Xq(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Sa(t,0,0,r)}function bR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _u(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xa=co(/[A-Za-z]/),pi=co(/[\dA-Za-z]/),Kq=co(/[#-'*+\--9=?A-Z^-~]/);function xv(t){return t!==null&&(t<32||t===127)}const vv=co(/\d/),Qq=co(/[\dA-Fa-f]/),Zq=co(/[!-/:-@[-`{-~]/);function at(t){return t!==null&&t<-2}function Xr(t){return t!==null&&(t<0||t===32)}function Lt(t){return t===-2||t===-1||t===32}const Jq=co(new RegExp("\\p{P}|\\p{S}","u")),eY=co(/\s/);function co(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Qu(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&pi(t.charCodeAt(n+1))&&pi(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Jt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return Lt(c)?(t.enter(n),l(c)):e(c)}function l(c){return Lt(c)&&a++<i?(t.consume(c),l):(t.exit(n),e(c))}}const tY={tokenize:nY};function nY(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Jt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return at(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),s)}}const rY={tokenize:iY},FC={tokenize:aY};function iY(t){const e=this,n=[];let r=0,i,a,s;return l;function l(N){if(r<n.length){const D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const D=e.events.length;let k=D,P;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){P=e.events[k][1].end;break}S(r);let j=D;for(;j<e.events.length;)e.events[j][1].end={...P},j++;return Sa(e.events,k+1,0,e.events.slice(D)),e.events.length=j,d(N)}return l(N)}function d(N){if(r===n.length){if(!i)return y(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(FC,h,p)(N)}function h(N){return i&&C(),S(r),y(N)}function p(N){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,x(N)}function y(N){return e.containerState={},t.attempt(FC,b,x)(N)}function b(N){return r++,n.push([e.currentConstruct,e.containerState]),y(N)}function x(N){if(N===null){i&&C(),S(0),t.consume(N);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(N)}function w(N){if(N===null){E(t.exit("chunkFlow"),!0),S(0),t.consume(N);return}return at(N)?(t.consume(N),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(N),w)}function E(N,D){const k=e.sliceStream(N);if(D&&k.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(k),e.parser.lazy[N.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<s&&(!i.events[P][1].end||i.events[P][1].end.offset>s))return;const j=e.events.length;let U=j,V,X;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(V){X=e.events[U][1].end;break}V=!0}for(S(r),P=j;P<e.events.length;)e.events[P][1].end={...X},P++;Sa(e.events,U+1,0,e.events.slice(j)),e.events.length=P}}function S(N){let D=n.length;for(;D-- >N;){const k=n[D];e.containerState=k[1],k[0].exit.call(e,t)}n.length=N}function C(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function aY(t,e,n){return Jt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function UC(t){if(t===null||Xr(t)||eY(t))return 1;if(Jq(t))return 2}function oE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const wv={name:"attention",resolveAll:sY,tokenize:oY};function sY(t,e){let n=-1,r,i,a,s,l,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},y={...t[n][1].start};HC(p,-c),HC(y,c),s={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},t[r][1].end={...s.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Li(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Li(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=Li(d,oE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Li(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Li(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Sa(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function oY(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=UC(r);let a;return s;function s(c){return a=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===a)return t.consume(c),l;const d=t.exit("attentionSequence"),h=UC(c),p=!h||h===2&&i||n.includes(c),y=!i||i===2&&h||n.includes(r);return d._open=!!(a===42?p:p&&(i||!y)),d._close=!!(a===42?y:y&&(h||!p)),e(c)}}function HC(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const lY={name:"autolink",tokenize:uY};function uY(t,e,n){let r=0;return i;function i(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(b){return xa(b)?(t.consume(b),s):b===64?n(b):d(b)}function s(b){return b===43||b===45||b===46||pi(b)?(r=1,l(b)):d(b)}function l(b){return b===58?(t.consume(b),r=0,c):(b===43||b===45||b===46||pi(b))&&r++<32?(t.consume(b),l):(r=0,d(b))}function c(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||xv(b)?n(b):(t.consume(b),c)}function d(b){return b===64?(t.consume(b),h):Kq(b)?(t.consume(b),d):n(b)}function h(b){return pi(b)?p(b):n(b)}function p(b){return b===46?(t.consume(b),r=0,h):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):y(b)}function y(b){if((b===45||pi(b))&&r++<63){const x=b===45?y:p;return t.consume(b),x}return n(b)}}const Ag={partial:!0,tokenize:cY};function cY(t,e,n){return r;function r(a){return Lt(a)?Jt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||at(a)?e(a):n(a)}}const xR={continuation:{tokenize:hY},exit:fY,name:"blockQuote",tokenize:dY};function dY(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Lt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function hY(t,e,n){const r=this;return i;function i(s){return Lt(s)?Jt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(xR,e,n)(s)}}function fY(t){t.exit("blockQuote")}const vR={name:"characterEscape",tokenize:mY};function mY(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Zq(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const wR={name:"characterReference",tokenize:pY};function pY(t,e,n){const r=this;let i=0,a,s;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=pi,h(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Qq,h):(t.enter("characterReferenceValue"),a=7,s=vv,h(p))}function h(p){if(p===59&&i){const y=t.exit("characterReferenceValue");return s===pi&&!sE(r.sliceSerialize(y))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const zC={partial:!0,tokenize:yY},$C={concrete:!0,name:"codeFenced",tokenize:gY};function gY(t,e,n){const r=this,i={partial:!0,tokenize:k};let a=0,s=0,l;return c;function c(P){return d(P)}function d(P){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,l=P,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===l?(s++,t.consume(P),h):s<3?n(P):(t.exit("codeFencedFenceSequence"),Lt(P)?Jt(t,p,"whitespace")(P):p(P))}function p(P){return P===null||at(P)?(t.exit("codeFencedFence"),r.interrupt?e(P):t.check(zC,w,D)(P)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(P))}function y(P){return P===null||at(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(P)):Lt(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Jt(t,b,"whitespace")(P)):P===96&&P===l?n(P):(t.consume(P),y)}function b(P){return P===null||at(P)?p(P):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(P))}function x(P){return P===null||at(P)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(P)):P===96&&P===l?n(P):(t.consume(P),x)}function w(P){return t.attempt(i,D,E)(P)}function E(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),S}function S(P){return a>0&&Lt(P)?Jt(t,C,"linePrefix",a+1)(P):C(P)}function C(P){return P===null||at(P)?t.check(zC,w,D)(P):(t.enter("codeFlowValue"),N(P))}function N(P){return P===null||at(P)?(t.exit("codeFlowValue"),C(P)):(t.consume(P),N)}function D(P){return t.exit("codeFenced"),e(P)}function k(P,j,U){let V=0;return X;function X(se){return P.enter("lineEnding"),P.consume(se),P.exit("lineEnding"),z}function z(se){return P.enter("codeFencedFence"),Lt(se)?Jt(P,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):Y(se)}function Y(se){return se===l?(P.enter("codeFencedFenceSequence"),ne(se)):U(se)}function ne(se){return se===l?(V++,P.consume(se),ne):V>=s?(P.exit("codeFencedFenceSequence"),Lt(se)?Jt(P,K,"whitespace")(se):K(se)):U(se)}function K(se){return se===null||at(se)?(P.exit("codeFencedFence"),j(se)):U(se)}}}function yY(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const tx={name:"codeIndented",tokenize:xY},bY={partial:!0,tokenize:vY};function xY(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Jt(t,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):at(d)?t.attempt(bY,s,c)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||at(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),l)}function c(d){return t.exit("codeIndented"),e(d)}}function vY(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):at(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Jt(t,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):at(s)?i(s):n(s)}}const wY={name:"codeText",previous:AY,resolve:EY,tokenize:SY};function EY(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function AY(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function SY(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):at(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||at(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class TY{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&pd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),pd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),pd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);pd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);pd(this.left,n.reverse())}}}function pd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function ER(t){const e={};let n=-1,r,i,a,s,l,c,d;const h=new TY(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,_Y(h,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return Sa(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function _Y(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],d={};let h,p,y=-1,b=n,x=0,w=0;const E=[w];for(;b;){for(;t.get(++i)[1]!==b;);a.push(i),b._tokenizer||(h=r.sliceStream(b),b.next||h.push(null),p&&s.defineSkip(b.start),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=b,b=b.next}for(b=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(w=y+1,E.push(w),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(s.events=[],b?(b._tokenizer=void 0,b.previous=void 0):E.pop(),y=E.length;y--;){const S=l.slice(E[y],E[y+1]),C=a.pop();c.push([C,C+S.length-1]),t.splice(C,2,S)}for(c.reverse(),y=-1;++y<c.length;)d[x+c[y][0]]=x+c[y][1],x+=c[y][1]-c[y][0]-1;return d}const NY={resolve:OY,tokenize:kY},CY={partial:!0,tokenize:PY};function OY(t){return ER(t),t}function kY(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):at(l)?t.check(CY,s,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function PY(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Jt(t,a,"linePrefix")}function a(s){if(s===null||at(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function AR(t,e,n,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(S){return S===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(S),t.exit(a),y):S===null||S===32||S===41||xv(S)?n(S):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),w(S))}function y(S){return S===62?(t.enter(a),t.consume(S),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(t.exit("chunkString"),t.exit(l),y(S)):S===null||S===60||at(S)?n(S):(t.consume(S),S===92?x:b)}function x(S){return S===60||S===62||S===92?(t.consume(S),b):b(S)}function w(S){return!h&&(S===null||S===41||Xr(S))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(S)):h<d&&S===40?(t.consume(S),h++,w):S===41?(t.consume(S),h--,w):S===null||S===32||S===40||xv(S)?n(S):(t.consume(S),S===92?E:w)}function E(S){return S===40||S===41||S===92?(t.consume(S),w):w(S)}}function SR(t,e,n,r,i,a){const s=this;let l=0,c;return d;function d(b){return t.enter(r),t.enter(i),t.consume(b),t.exit(i),t.enter(a),h}function h(b){return l>999||b===null||b===91||b===93&&!c||b===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(b):b===93?(t.exit(a),t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):at(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||b===91||b===93||at(b)||l++>999?(t.exit("chunkString"),h(b)):(t.consume(b),c||(c=!Lt(b)),b===92?y:p)}function y(b){return b===91||b===92||b===93?(t.consume(b),l++,p):p(b)}}function TR(t,e,n,r,i,a){let s;return l;function l(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),s=y===40?41:y,c):n(y)}function c(y){return y===s?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(a),d(y))}function d(y){return y===s?(t.exit(a),c(s)):y===null?n(y):at(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Jt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===s||y===null||at(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?p:h)}function p(y){return y===s||y===92?(t.consume(y),h):h(y)}}function Bd(t,e){let n;return r;function r(i){return at(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Lt(i)?Jt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const DY={name:"definition",tokenize:RY},jY={partial:!0,tokenize:IY};function RY(t,e,n){const r=this;let i;return a;function a(b){return t.enter("definition"),s(b)}function s(b){return SR.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function l(b){return i=_u(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),c):n(b)}function c(b){return Xr(b)?Bd(t,d)(b):d(b)}function d(b){return AR(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function h(b){return t.attempt(jY,p,p)(b)}function p(b){return Lt(b)?Jt(t,y,"whitespace")(b):y(b)}function y(b){return b===null||at(b)?(t.exit("definition"),r.parser.defined.push(i),e(b)):n(b)}}function IY(t,e,n){return r;function r(l){return Xr(l)?Bd(t,i)(l):n(l)}function i(l){return TR(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Lt(l)?Jt(t,s,"whitespace")(l):s(l)}function s(l){return l===null||at(l)?e(l):n(l)}}const LY={name:"hardBreakEscape",tokenize:MY};function MY(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return at(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const BY={name:"headingAtx",resolve:FY,tokenize:UY};function FY(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Sa(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function UY(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Xr(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||at(h)?(t.exit("atxHeading"),e(h)):Lt(h)?Jt(t,l,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||Xr(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),d)}}const HY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qC=["pre","script","style","textarea"],zY={concrete:!0,name:"htmlFlow",resolveTo:YY,tokenize:VY},$Y={partial:!0,tokenize:WY},qY={partial:!0,tokenize:GY};function YY(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function VY(t,e,n){const r=this;let i,a,s,l,c;return d;function d(R){return h(R)}function h(R){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(R),p}function p(R){return R===33?(t.consume(R),y):R===47?(t.consume(R),a=!0,w):R===63?(t.consume(R),i=3,r.interrupt?e:M):xa(R)?(t.consume(R),s=String.fromCharCode(R),E):n(R)}function y(R){return R===45?(t.consume(R),i=2,b):R===91?(t.consume(R),i=5,l=0,x):xa(R)?(t.consume(R),i=4,r.interrupt?e:M):n(R)}function b(R){return R===45?(t.consume(R),r.interrupt?e:M):n(R)}function x(R){const oe="CDATA[";return R===oe.charCodeAt(l++)?(t.consume(R),l===oe.length?r.interrupt?e:Y:x):n(R)}function w(R){return xa(R)?(t.consume(R),s=String.fromCharCode(R),E):n(R)}function E(R){if(R===null||R===47||R===62||Xr(R)){const oe=R===47,$=s.toLowerCase();return!oe&&!a&&qC.includes($)?(i=1,r.interrupt?e(R):Y(R)):HY.includes(s.toLowerCase())?(i=6,oe?(t.consume(R),S):r.interrupt?e(R):Y(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):a?C(R):N(R))}return R===45||pi(R)?(t.consume(R),s+=String.fromCharCode(R),E):n(R)}function S(R){return R===62?(t.consume(R),r.interrupt?e:Y):n(R)}function C(R){return Lt(R)?(t.consume(R),C):X(R)}function N(R){return R===47?(t.consume(R),X):R===58||R===95||xa(R)?(t.consume(R),D):Lt(R)?(t.consume(R),N):X(R)}function D(R){return R===45||R===46||R===58||R===95||pi(R)?(t.consume(R),D):k(R)}function k(R){return R===61?(t.consume(R),P):Lt(R)?(t.consume(R),k):N(R)}function P(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),c=R,j):Lt(R)?(t.consume(R),P):U(R)}function j(R){return R===c?(t.consume(R),c=null,V):R===null||at(R)?n(R):(t.consume(R),j)}function U(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Xr(R)?k(R):(t.consume(R),U)}function V(R){return R===47||R===62||Lt(R)?N(R):n(R)}function X(R){return R===62?(t.consume(R),z):n(R)}function z(R){return R===null||at(R)?Y(R):Lt(R)?(t.consume(R),z):n(R)}function Y(R){return R===45&&i===2?(t.consume(R),L):R===60&&i===1?(t.consume(R),H):R===62&&i===4?(t.consume(R),F):R===63&&i===3?(t.consume(R),M):R===93&&i===5?(t.consume(R),ue):at(R)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check($Y,Z,ne)(R)):R===null||at(R)?(t.exit("htmlFlowData"),ne(R)):(t.consume(R),Y)}function ne(R){return t.check(qY,K,Z)(R)}function K(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),se}function se(R){return R===null||at(R)?ne(R):(t.enter("htmlFlowData"),Y(R))}function L(R){return R===45?(t.consume(R),M):Y(R)}function H(R){return R===47?(t.consume(R),s="",ie):Y(R)}function ie(R){if(R===62){const oe=s.toLowerCase();return qC.includes(oe)?(t.consume(R),F):Y(R)}return xa(R)&&s.length<8?(t.consume(R),s+=String.fromCharCode(R),ie):Y(R)}function ue(R){return R===93?(t.consume(R),M):Y(R)}function M(R){return R===62?(t.consume(R),F):R===45&&i===2?(t.consume(R),M):Y(R)}function F(R){return R===null||at(R)?(t.exit("htmlFlowData"),Z(R)):(t.consume(R),F)}function Z(R){return t.exit("htmlFlow"),e(R)}}function GY(t,e,n){const r=this;return i;function i(s){return at(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function WY(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ag,e,n)}}const XY={name:"htmlText",tokenize:KY};function KY(t,e,n){const r=this;let i,a,s;return l;function l(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),c}function c(M){return M===33?(t.consume(M),d):M===47?(t.consume(M),k):M===63?(t.consume(M),N):xa(M)?(t.consume(M),U):n(M)}function d(M){return M===45?(t.consume(M),h):M===91?(t.consume(M),a=0,x):xa(M)?(t.consume(M),C):n(M)}function h(M){return M===45?(t.consume(M),b):n(M)}function p(M){return M===null?n(M):M===45?(t.consume(M),y):at(M)?(s=p,H(M)):(t.consume(M),p)}function y(M){return M===45?(t.consume(M),b):p(M)}function b(M){return M===62?L(M):M===45?y(M):p(M)}function x(M){const F="CDATA[";return M===F.charCodeAt(a++)?(t.consume(M),a===F.length?w:x):n(M)}function w(M){return M===null?n(M):M===93?(t.consume(M),E):at(M)?(s=w,H(M)):(t.consume(M),w)}function E(M){return M===93?(t.consume(M),S):w(M)}function S(M){return M===62?L(M):M===93?(t.consume(M),S):w(M)}function C(M){return M===null||M===62?L(M):at(M)?(s=C,H(M)):(t.consume(M),C)}function N(M){return M===null?n(M):M===63?(t.consume(M),D):at(M)?(s=N,H(M)):(t.consume(M),N)}function D(M){return M===62?L(M):N(M)}function k(M){return xa(M)?(t.consume(M),P):n(M)}function P(M){return M===45||pi(M)?(t.consume(M),P):j(M)}function j(M){return at(M)?(s=j,H(M)):Lt(M)?(t.consume(M),j):L(M)}function U(M){return M===45||pi(M)?(t.consume(M),U):M===47||M===62||Xr(M)?V(M):n(M)}function V(M){return M===47?(t.consume(M),L):M===58||M===95||xa(M)?(t.consume(M),X):at(M)?(s=V,H(M)):Lt(M)?(t.consume(M),V):L(M)}function X(M){return M===45||M===46||M===58||M===95||pi(M)?(t.consume(M),X):z(M)}function z(M){return M===61?(t.consume(M),Y):at(M)?(s=z,H(M)):Lt(M)?(t.consume(M),z):V(M)}function Y(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),i=M,ne):at(M)?(s=Y,H(M)):Lt(M)?(t.consume(M),Y):(t.consume(M),K)}function ne(M){return M===i?(t.consume(M),i=void 0,se):M===null?n(M):at(M)?(s=ne,H(M)):(t.consume(M),ne)}function K(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Xr(M)?V(M):(t.consume(M),K)}function se(M){return M===47||M===62||Xr(M)?V(M):n(M)}function L(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):n(M)}function H(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),ie}function ie(M){return Lt(M)?Jt(t,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):ue(M)}function ue(M){return t.enter("htmlTextData"),s(M)}}const lE={name:"labelEnd",resolveAll:eV,resolveTo:tV,tokenize:nV},QY={tokenize:rV},ZY={tokenize:iV},JY={tokenize:aV};function eV(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Sa(t,0,t.length,n),t}function tV(t,e){let n=t.length,r=0,i,a,s,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return l=[["enter",c,e],["enter",d,e]],l=Li(l,t.slice(a+1,a+r+3)),l=Li(l,[["enter",h,e]]),l=Li(l,oE(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),l=Li(l,[["exit",h,e],t[s-2],t[s-1],["exit",d,e]]),l=Li(l,t.slice(s+1)),l=Li(l,[["exit",c,e]]),Sa(t,a,t.length,l),t}function nV(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(y){return a?a._inactive?p(y):(s=r.parser.defined.includes(_u(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),c):n(y)}function c(y){return y===40?t.attempt(QY,h,s?h:p)(y):y===91?t.attempt(ZY,h,s?d:p)(y):s?h(y):p(y)}function d(y){return t.attempt(JY,h,p)(y)}function h(y){return e(y)}function p(y){return a._balanced=!0,n(y)}}function rV(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Xr(p)?Bd(t,a)(p):a(p)}function a(p){return p===41?h(p):AR(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return Xr(p)?Bd(t,c)(p):h(p)}function l(p){return n(p)}function c(p){return p===34||p===39||p===40?TR(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return Xr(p)?Bd(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function iV(t,e,n){const r=this;return i;function i(l){return SR.call(r,t,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(_u(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function aV(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const sV={name:"labelStartImage",resolveAll:lE.resolveAll,tokenize:oV};function oV(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const lV={name:"labelStartLink",resolveAll:lE.resolveAll,tokenize:uV};function uV(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const nx={name:"lineEnding",tokenize:cV};function cV(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Jt(t,e,"linePrefix")}}const Km={name:"thematicBreak",tokenize:dV};function dV(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||at(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),Lt(d)?Jt(t,l,"whitespace")(d):l(d))}}const Ur={continuation:{tokenize:pV},exit:yV,name:"list",tokenize:mV},hV={partial:!0,tokenize:bV},fV={partial:!0,tokenize:gV};function mV(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(b){const x=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:vv(b)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Km,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(b)}return n(b)}function c(b){return vv(b)&&++s<10?(t.consume(b),c):(!r.interrupt||s<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(Ag,r.interrupt?n:h,t.attempt(hV,y,p))}function h(b){return r.containerState.initialBlankLine=!0,a++,y(b)}function p(b){return Lt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),y):n(b)}function y(b){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function pV(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ag,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Jt(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Lt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(fV,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Jt(t,t.attempt(Ur,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function gV(t,e,n){const r=this;return Jt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function yV(t){t.exit(this.containerState.type)}function bV(t,e,n){const r=this;return Jt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Lt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const YC={name:"setextUnderline",resolveTo:xV,tokenize:vV};function xV(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function vV(t,e,n){const r=this;let i;return a;function a(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Lt(d)?Jt(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||at(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const wV={tokenize:EV};function EV(t){const e=this,n=t.attempt(Ag,r,t.attempt(this.parser.constructs.flowInitial,i,Jt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(NY,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const AV={resolveAll:NR()},SV=_R("string"),TV=_R("text");function _R(t){return{resolveAll:NR(t==="text"?_V:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,l);return s;function s(h){return d(h)?a(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),a(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;const p=i[h];let y=-1;if(p)for(;++y<p.length;){const b=p[y];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function NR(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function _V(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const NV={42:Ur,43:Ur,45:Ur,48:Ur,49:Ur,50:Ur,51:Ur,52:Ur,53:Ur,54:Ur,55:Ur,56:Ur,57:Ur,62:xR},CV={91:DY},OV={[-2]:tx,[-1]:tx,32:tx},kV={35:BY,42:Km,45:[YC,Km],60:zY,61:YC,95:Km,96:$C,126:$C},PV={38:wR,92:vR},DV={[-5]:nx,[-4]:nx,[-3]:nx,33:sV,38:wR,42:wv,60:[lY,XY],91:lV,92:[LY,vR],93:lE,95:wv,96:wY},jV={null:[wv,AV]},RV={null:[42,95]},IV={null:[]},LV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RV,contentInitial:CV,disable:IV,document:NV,flow:kV,flowInitial:OV,insideSpan:jV,string:PV,text:DV},Symbol.toStringTag,{value:"Module"}));function MV(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const c={attempt:j(k),check:j(P),consume:C,enter:N,exit:D,interrupt:j(P,{interrupt:!0})},d={code:null,containerState:{},defineSkip:w,events:[],now:x,parser:t,previous:null,sliceSerialize:y,sliceStream:b,write:p};let h=e.tokenize.call(d,c);return e.resolveAll&&a.push(e),d;function p(z){return s=Li(s,z),E(),s[s.length-1]!==null?[]:(U(e,0),d.events=oE(a,d.events,d),d.events)}function y(z,Y){return FV(b(z),Y)}function b(z){return BV(s,z)}function x(){const{_bufferIndex:z,_index:Y,line:ne,column:K,offset:se}=r;return{_bufferIndex:z,_index:Y,line:ne,column:K,offset:se}}function w(z){i[z.line]=z.column,X()}function E(){let z;for(;r._index<s.length;){const Y=s[r._index];if(typeof Y=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<Y.length;)S(Y.charCodeAt(r._bufferIndex));else S(Y)}}function S(z){h=h(z)}function C(z){at(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,X()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=z}function N(z,Y){const ne=Y||{};return ne.type=z,ne.start=x(),d.events.push(["enter",ne,d]),l.push(ne),ne}function D(z){const Y=l.pop();return Y.end=x(),d.events.push(["exit",Y,d]),Y}function k(z,Y){U(z,Y.from)}function P(z,Y){Y.restore()}function j(z,Y){return ne;function ne(K,se,L){let H,ie,ue,M;return Array.isArray(K)?Z(K):"tokenize"in K?Z([K]):F(K);function F(ae){return fe;function fe(ge){const J=ge!==null&&ae[ge],Ne=ge!==null&&ae.null,Le=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return Z(Le)(ge)}}function Z(ae){return H=ae,ie=0,ae.length===0?L:R(ae[ie])}function R(ae){return fe;function fe(ge){return M=V(),ue=ae,ae.partial||(d.currentConstruct=ae),ae.name&&d.parser.constructs.disable.null.includes(ae.name)?$():ae.tokenize.call(Y?Object.assign(Object.create(d),Y):d,c,oe,$)(ge)}}function oe(ae){return z(ue,M),se}function $(ae){return M.restore(),++ie<H.length?R(H[ie]):L}}}function U(z,Y){z.resolveAll&&!a.includes(z)&&a.push(z),z.resolve&&Sa(d.events,Y,d.events.length-Y,z.resolve(d.events.slice(Y),d)),z.resolveTo&&(d.events=z.resolveTo(d.events,d))}function V(){const z=x(),Y=d.previous,ne=d.currentConstruct,K=d.events.length,se=Array.from(l);return{from:K,restore:L};function L(){r=z,d.previous=Y,d.currentConstruct=ne,d.events.length=K,l=se,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BV(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function FV(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function UV(t){const r={constructs:Gq([LV,...(t||{}).extensions||[]]),content:i(tY),defined:[],document:i(rY),flow:i(wV),lazy:{},string:i(SV),text:i(TV)};return r;function i(a){return s;function s(l){return MV(r,a,l)}}}function HV(t){for(;!ER(t););return t}const VC=/[\0\t\n\r]/g;function zV(){let t=1,e="",n=!0,r;return i;function i(a,s,l){const c=[];let d,h,p,y,b;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(VC.lastIndex=p,d=VC.exec(a),y=d&&d.index!==void 0?d.index:a.length,b=a.charCodeAt(y),!d){e=a.slice(p);break}if(b===10&&p===y&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<y&&(c.push(a.slice(p,y)),t+=y-p),b){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=y+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const $V=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qV(t){return t.replace($V,YV)}function YV(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return bR(n.slice(a?2:1),a?16:10)}return sE(n)||t}const CR={}.hasOwnProperty;function VV(t,e,n){return typeof e!="string"&&(n=e,e=void 0),GV(n)(HV(UV(n).document().write(zV()(t,e,!0))))}function GV(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(je),autolinkProtocol:V,autolinkEmail:V,atxHeading:a(tt),blockQuote:a(Ne),characterEscape:V,characterReference:V,codeFenced:a(Le),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Le,s),codeText:a(le,s),codeTextData:V,data:V,codeFlowValue:V,definition:a(He),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Me),hardBreakEscape:a(ee),hardBreakTrailing:a(ee),htmlFlow:a(ye,s),htmlFlowData:V,htmlText:a(ye,s),htmlTextData:V,image:a(Be),label:s,link:a(je),listItem:a(Ge),listItemValue:y,listOrdered:a(Fe,p),listUnordered:a(Fe),paragraph:a(it),reference:R,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(tt),strong:a(rt),thematicBreak:a(Ae)},exit:{atxHeading:c(),atxHeadingSequence:k,autolink:c(),autolinkEmail:J,autolinkProtocol:ge,blockQuote:c(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:ae,characterReference:fe,codeFenced:c(E),codeFencedFence:w,codeFencedFenceInfo:b,codeFencedFenceMeta:x,codeFlowValue:X,codeIndented:c(S),codeText:c(se),codeTextData:X,data:X,definition:c(),definitionDestinationString:D,definitionLabelString:C,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(Y),hardBreakTrailing:c(Y),htmlFlow:c(ne),htmlFlowData:X,htmlText:c(K),htmlTextData:X,image:c(H),label:ue,labelText:ie,lineEnding:z,link:c(L),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:oe,resourceDestinationString:M,resourceTitleString:F,resource:Z,setextHeading:c(U),setextHeadingLineSequence:j,setextHeadingText:P,strong:c(),thematicBreak:c()}};OR(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(te){let ve={type:"root",children:[]};const Re={stack:[ve],tokenStack:[],config:e,enter:l,exit:d,buffer:s,resume:h,data:n},Ke=[];let ct=-1;for(;++ct<te.length;)if(te[ct][1].type==="listOrdered"||te[ct][1].type==="listUnordered")if(te[ct][0]==="enter")Ke.push(ct);else{const Dt=Ke.pop();ct=i(te,Dt,ct)}for(ct=-1;++ct<te.length;){const Dt=e[te[ct][0]];CR.call(Dt,te[ct][1].type)&&Dt[te[ct][1].type].call(Object.assign({sliceSerialize:te[ct][2].sliceSerialize},Re),te[ct][1])}if(Re.tokenStack.length>0){const Dt=Re.tokenStack[Re.tokenStack.length-1];(Dt[1]||GC).call(Re,void 0,Dt[0])}for(ve.position={start:Ks(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Ks(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<e.transforms.length;)ve=e.transforms[ct](ve)||ve;return ve}function i(te,ve,Re){let Ke=ve-1,ct=-1,Dt=!1,bi,me,Oe,Ie;for(;++Ke<=Re;){const Ue=te[Ke];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?ct++:ct--,Ie=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(bi&&!Ie&&!ct&&!Oe&&(Oe=Ke),Ie=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ie=void 0}if(!ct&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||ct===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(bi){let Ve=Ke;for(me=void 0;Ve--;){const St=te[Ve];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;me&&(te[me][1].type="lineEndingBlank",Dt=!0),St[1].type="lineEnding",me=Ve}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}Oe&&(!me||Oe<me)&&(bi._spread=!0),bi.end=Object.assign({},me?te[me][1].start:Ue[1].end),te.splice(me||Ke,0,["exit",bi,Ue[2]]),Ke++,Re++}if(Ue[1].type==="listItemPrefix"){const Ve={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};bi=Ve,te.splice(Ke,0,["enter",Ve,Ue[2]]),Ke++,Re++,Oe=void 0,Ie=!0}}}return te[ve][1]._spread=Dt,Re}function a(te,ve){return Re;function Re(Ke){l.call(this,te(Ke),Ke),ve&&ve.call(this,Ke)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(te,ve,Re){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ve,Re||void 0]),te.position={start:Ks(ve.start),end:void 0}}function c(te){return ve;function ve(Re){te&&te.call(this,Re),d.call(this,Re)}}function d(te,ve){const Re=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==te.type&&(ve?ve.call(this,te,Ke[0]):(Ke[1]||GC).call(this,te,Ke[0]));else throw new Error("Cannot close `"+te.type+"` ("+Md({start:te.start,end:te.end})+"): its not open");Re.position.end=Ks(te.end)}function h(){return Yq(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(te){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function b(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=te}function x(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=te}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te.replace(/(\r?\n|\r)$/g,"")}function C(te){const ve=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ve,Re.identifier=_u(this.sliceSerialize(te)).toLowerCase()}function N(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.title=te}function D(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.url=te}function k(te){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Re=this.sliceSerialize(te).length;ve.depth=Re}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function j(te){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function V(te){const Re=this.stack[this.stack.length-1].children;let Ke=Re[Re.length-1];(!Ke||Ke.type!=="text")&&(Ke=Xe(),Ke.position={start:Ks(te.start),end:void 0},Re.push(Ke)),this.stack.push(Ke)}function X(te){const ve=this.stack.pop();ve.value+=this.sliceSerialize(te),ve.position.end=Ks(te.end)}function z(te){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=ve.children[ve.children.length-1];Re.position.end=Ks(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(V.call(this,te),X.call(this,te))}function Y(){this.data.atHardBreak=!0}function ne(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function K(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function se(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function L(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ve,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function H(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ve,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ie(te){const ve=this.sliceSerialize(te),Re=this.stack[this.stack.length-2];Re.label=qV(ve),Re.identifier=_u(ve).toLowerCase()}function ue(){const te=this.stack[this.stack.length-1],ve=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const Ke=te.children;Re.children=Ke}else Re.alt=ve}function M(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.url=te}function F(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.title=te}function Z(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function oe(te){const ve=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ve,Re.identifier=_u(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function $(te){this.data.characterReferenceType=te.type}function ae(te){const ve=this.sliceSerialize(te),Re=this.data.characterReferenceType;let Ke;Re?(Ke=bR(ve,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=sE(ve);const ct=this.stack[this.stack.length-1];ct.value+=Ke}function fe(te){const ve=this.stack.pop();ve.position.end=Ks(te.end)}function ge(te){X.call(this,te);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(te)}function J(te){X.call(this,te);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(te)}function Ne(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Me(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function ee(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Be(){return{type:"image",title:null,url:"",alt:null}}function je(){return{type:"link",title:null,url:"",children:[]}}function Fe(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function Ge(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function it(){return{type:"paragraph",children:[]}}function rt(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function Ae(){return{type:"thematicBreak"}}}function Ks(t){return{line:t.line,column:t.column,offset:t.offset}}function OR(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?OR(t,r):WV(t,r)}}function WV(t,e){let n;for(n in e)if(CR.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function GC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Md({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Md({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Md({start:e.start,end:e.end})+") is still open")}function XV(t){const e=this;e.parser=n;function n(r){return VV(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function KV(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function QV(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ZV(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function JV(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eG(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tG(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Qu(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function nG(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rG(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function kR(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function iG(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kR(t,e);const i={src:Qu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function aG(t,e){const n={src:Qu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function sG(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function oG(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kR(t,e);const i={href:Qu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function lG(t,e){const n={href:Qu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function uG(t,e,n){const r=t.all(e),i=n?cG(n):PR(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function cG(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=PR(n[r])}return e}function PR(t){const e=t.spread;return e??t.children.length>1}function dG(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function hG(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fG(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function mG(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pG(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Pa(e.children[1]),c=Eg(e.children[e.children.length-1]);l&&c&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function gG(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let c=-1;const d=[];for(;++c<l;){const p=e.children[c],y={},b=s?s[c]:void 0;b&&(y.align=b);let x={type:"element",tagName:a,properties:y,children:[]};p&&(x.children=t.all(p),t.patch(p,x),x=t.applyData(p,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function yG(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WC=9,XC=32;function bG(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(KC(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(KC(e.slice(i),i>0,!1)),a.join("")}function KC(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===WC||a===XC;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===WC||a===XC;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function xG(t,e){const n={type:"text",value:bG(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vG(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const wG={blockquote:KV,break:QV,code:ZV,delete:JV,emphasis:eG,footnoteReference:tG,heading:nG,html:rG,imageReference:iG,image:aG,inlineCode:sG,linkReference:oG,link:lG,listItem:uG,list:dG,paragraph:hG,root:fG,strong:mG,table:pG,tableCell:yG,tableRow:gG,text:xG,thematicBreak:vG,toml:Am,yaml:Am,definition:Am,footnoteDefinition:Am};function Am(){}const DR=-1,Sg=0,Fd=1,hp=2,uE=3,cE=4,dE=5,hE=6,jR=7,RR=8,QC=typeof self=="object"?self:globalThis,EG=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Sg:case DR:return n(s,i);case Fd:{const l=n([],i);for(const c of s)l.push(r(c));return l}case hp:{const l=n({},i);for(const[c,d]of s)l[r(c)]=r(d);return l}case uE:return n(new Date(s),i);case cE:{const{source:l,flags:c}=s;return n(new RegExp(l,c),i)}case dE:{const l=n(new Map,i);for(const[c,d]of s)l.set(r(c),r(d));return l}case hE:{const l=n(new Set,i);for(const c of s)l.add(r(c));return l}case jR:{const{name:l,message:c}=s;return n(new QC[l](c),i)}case RR:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new QC[a](s),i)};return r},ZC=t=>EG(new Map,t)(0),lu="",{toString:AG}={},{keys:SG}=Object,gd=t=>{const e=typeof t;if(e!=="object"||!t)return[Sg,e];const n=AG.call(t).slice(8,-1);switch(n){case"Array":return[Fd,lu];case"Object":return[hp,lu];case"Date":return[uE,lu];case"RegExp":return[cE,lu];case"Map":return[dE,lu];case"Set":return[hE,lu];case"DataView":return[Fd,n]}return n.includes("Array")?[Fd,n]:n.includes("Error")?[jR,n]:[hp,n]},Sm=([t,e])=>t===Sg&&(e==="function"||e==="symbol"),TG=(t,e,n,r)=>{const i=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},a=s=>{if(n.has(s))return n.get(s);let[l,c]=gd(s);switch(l){case Sg:{let h=s;switch(c){case"bigint":l=RR,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([DR],s)}return i([l,h],s)}case Fd:{if(c){let y=s;return c==="DataView"?y=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(s)),i([c,[...y]],s)}const h=[],p=i([l,h],s);for(const y of s)h.push(a(y));return p}case hp:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([l,h],s);for(const y of SG(s))(t||!Sm(gd(s[y])))&&h.push([a(y),a(s[y])]);return p}case uE:return i([l,s.toISOString()],s);case cE:{const{source:h,flags:p}=s;return i([l,{source:h,flags:p}],s)}case dE:{const h=[],p=i([l,h],s);for(const[y,b]of s)(t||!(Sm(gd(y))||Sm(gd(b))))&&h.push([a(y),a(b)]);return p}case hE:{const h=[],p=i([l,h],s);for(const y of s)(t||!Sm(gd(y)))&&h.push(a(y));return p}}const{message:d}=s;return i([l,{name:c,message:d}],s)};return a},JC=(t,{json:e,lossy:n}={})=>{const r=[];return TG(!(e||n),!!e,new Map,r)(t),r},Ru=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ZC(JC(t,e)):structuredClone(t):(t,e)=>ZC(JC(t,e));function _G(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function NG(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function CG(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||_G,r=t.options.footnoteBackLabel||NG,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const h=t.all(d),p=String(d.identifier).toUpperCase(),y=Qu(p.toLowerCase());let b=0;const x=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++b<=w;){x.length>0&&x.push({type:"text",value:" "});let C=typeof n=="string"?n:n(c,b);typeof C=="string"&&(C={type:"text",value:C}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,b),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const C=E.children[E.children.length-1];C&&C.type==="text"?C.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...x)}else h.push(...x);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(h,!0)};t.patch(d,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ru(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const IR=(function(t){if(t==null)return DG;if(typeof t=="function")return Tg(t);if(typeof t=="object")return Array.isArray(t)?OG(t):kG(t);if(typeof t=="string")return PG(t);throw new Error("Expected function, string, or object as test")});function OG(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=IR(t[n]);return Tg(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function kG(t){const e=t;return Tg(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function PG(t){return Tg(e);function e(n){return n&&n.type===t}}function Tg(t){return e;function e(n,r,i){return!!(jG(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function DG(){return!0}function jG(t){return t!==null&&typeof t=="object"&&"type"in t}const LR=[],RG=!0,eO=!1,IG="skip";function LG(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=IR(i),s=r?-1:1;l(t,void 0,[])();function l(c,d,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const b=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=LR,x,w,E;if((!e||a(c,d,h[h.length-1]||void 0))&&(b=MG(n(c,h)),b[0]===eO))return b;if("children"in c&&c.children){const S=c;if(S.children&&b[0]!==IG)for(w=(r?S.children.length:-1)+s,E=h.concat(S);w>-1&&w<S.children.length;){const C=S.children[w];if(x=l(C,w,E)(),x[0]===eO)return x;w=typeof x[1]=="number"?x[1]:w+s}}return b}}}function MG(t){return Array.isArray(t)?t:typeof t=="number"?[RG,t]:t==null?LR:[t]}function fE(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),LG(t,a,l,i);function l(c,d){const h=d[d.length-1],p=h?h.children.indexOf(c):void 0;return s(c,p,h)}}const Ev={}.hasOwnProperty,BG={};function FG(t,e){const n=e||BG,r=new Map,i=new Map,a=new Map,s={...wG,...n.handlers},l={all:d,applyData:HG,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:UG,wrap:$G};return fE(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,y=String(h.identifier).toUpperCase();p.has(y)||p.set(y,h)}}),l;function c(h,p){const y=h.type,b=l.handlers[y];if(Ev.call(l.handlers,y)&&b)return b(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in h){const{children:w,...E}=h,S=Ru(E);return S.children=l.all(h),S}return Ru(h)}return(l.options.unknownHandler||zG)(l,h,p)}function d(h){const p=[];if("children"in h){const y=h.children;let b=-1;for(;++b<y.length;){const x=l.one(y[b],h);if(x){if(b&&y[b-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=tO(x.value)),!Array.isArray(x)&&x.type==="element")){const w=x.children[0];w&&w.type==="text"&&(w.value=tO(w.value))}Array.isArray(x)?p.push(...x):p.push(x)}}}return p}}function UG(t,e){t.position&&(e.position=Aq(t))}function HG(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ru(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function zG(t,e){const n=e.data||{},r="value"in e&&!(Ev.call(n,"hProperties")||Ev.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function $G(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function tO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function nO(t,e){const n=FG(t,e),r=n.one(t,void 0),i=CG(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function qG(t,e){return t&&"run"in t?async function(n,r){const i=nO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return nO(n,{file:r,...t||e})}}function rO(t){if(t)throw t}var rx,iO;function YG(){if(iO)return rx;iO=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},s=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return rx=function c(){var d,h,p,y,b,x,w=arguments[0],E=1,S=arguments.length,C=!1;for(typeof w=="boolean"&&(C=w,w=arguments[1]||{},E=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});E<S;++E)if(d=arguments[E],d!=null)for(h in d)p=l(w,h),y=l(d,h),w!==y&&(C&&y&&(a(y)||(b=i(y)))?(b?(b=!1,x=p&&i(p)?p:[]):x=p&&a(p)?p:{},s(w,{name:h,newValue:c(C,x,y)})):typeof y<"u"&&s(w,{name:h,newValue:y}));return w},rx}var VG=YG();const ix=Ji(VG);function Av(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function GG(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const h=t[++a];let p=-1;if(c){s(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?WG(h,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function WG(t,e){let n;return r;function r(...s){const l=t.length>s.length;let c;l&&s.push(i);try{c=t.apply(this,s)}catch(d){const h=d;if(l&&n)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){n||(n=!0,e(s,...l))}function a(s){i(null,s)}}const pa={basename:XG,dirname:KG,extname:QG,join:ZG,sep:"/"};function XG(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Dh(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function KG(t){if(Dh(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function QG(t){Dh(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ZG(...t){let e=-1,n;for(;++e<t.length;)Dh(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":JG(n)}function JG(t){Dh(t);const e=t.codePointAt(0)===47;let n=eW(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function eW(t,e){let n="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function Dh(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const tW={cwd:nW};function nW(){return"/"}function Sv(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function rW(t){if(typeof t=="string")t=new URL(t);else if(!Sv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return iW(t)}function iW(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const ax=["history","path","basename","stem","extname","dirname"];class MR{constructor(e){let n;e?Sv(e)?n={path:e}:typeof e=="string"||aW(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":tW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ax.length;){const a=ax[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)ax.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pa.basename(this.path):void 0}set basename(e){ox(e,"basename"),sx(e,"basename"),this.path=pa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?pa.dirname(this.path):void 0}set dirname(e){aO(this.basename,"dirname"),this.path=pa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?pa.extname(this.path):void 0}set extname(e){if(sx(e,"extname"),aO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Sv(e)&&(e=rW(e)),ox(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?pa.basename(this.path,this.extname):void 0}set stem(e){ox(e,"stem"),sx(e,"stem"),this.path=pa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new pr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function sx(t,e){if(t&&t.includes(pa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pa.sep+"`")}function ox(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function aO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function aW(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sW=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),oW={}.hasOwnProperty;class mE extends sW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=GG()}copy(){const e=new mE;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(ix(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(cx("data",this.frozen),this.namespace[e]=n,this):oW.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cx("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Tm(e),r=this.parser||this.Parser;return lx("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),lx("process",this.parser||this.Parser),ux("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=Tm(e),c=r.parse(l);r.run(c,l,function(h,p,y){if(h||!p||!y)return d(h);const b=p,x=r.stringify(b,y);cW(x)?y.value=x:y.result=x,d(h,y)});function d(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),lx("processSync",this.parser||this.Parser),ux("processSync",this.compiler||this.Compiler),this.process(e,i),oO("processSync","process",n),r;function i(a,s){n=!0,rO(a),r=s}}run(e,n,r){sO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const c=Tm(n);i.run(e,c,d);function d(h,p,y){const b=p||e;h?l(h):s?s(b):r(void 0,b,y)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),oO("runSync","run",r),i;function a(s,l){rO(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=Tm(n),i=this.compiler||this.Compiler;return ux("stringify",i),sO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(cx("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;c(h,p)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=ix(!0,i.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let p=-1,y=-1;for(;++p<r.length;)if(r[p][0]===d){y=p;break}if(y===-1)r.push([d,...h]);else if(h.length>0){let[b,...x]=h;const w=r[y][1];Av(w)&&Av(b)&&(b=ix(!0,w,b)),r[y]=[d,b,...x]}}}}const lW=new mE().freeze();function lx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ux(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function cx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sO(t){if(!Av(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function oO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Tm(t){return uW(t)?t:new MR(t)}function uW(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function cW(t){return typeof t=="string"||dW(t)}function dW(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lO=[],uO={allowDangerousHtml:!0},fW=/^(https?|ircs?|mailto|xmpp)$/i,mW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Tv(t){const e=pW(t),n=gW(t);return yW(e.runSync(e.parse(n),n),t)}function pW(t){const e=t.rehypePlugins||lO,n=t.remarkPlugins||lO,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...uO}:uO;return lW().use(XV).use(n).use(qG,r).use(e)}function gW(t){const e=t.children||"",n=new MR;return typeof e=="string"&&(n.value=e),n}function yW(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||bW;for(const h of mW)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+hW+h.id,void 0);return fE(t,d),Cq(t,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function d(h,p,y){if(h.type==="raw"&&y&&typeof p=="number")return s?y.children.splice(p,1):y.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let b;for(b in ex)if(Object.hasOwn(ex,b)&&Object.hasOwn(h.properties,b)){const x=h.properties[b],w=ex[b];(w===null||w.includes(h.tagName))&&(h.properties[b]=c(String(x||""),b,h))}}if(h.type==="element"){let b=n?!n.includes(h.tagName):a?a.includes(h.tagName):!1;if(!b&&r&&typeof p=="number"&&(b=!r(h,p,y)),b&&y&&typeof p=="number")return l&&h.children?y.children.splice(p,1,...h.children):y.children.splice(p,1),p}}}function bW(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||fW.test(t.slice(0,e))?t:""}const cO=/[#.]/g;function xW(t,e){const n=t||"",r={};let i=0,a,s;for(;i<n.length;){cO.lastIndex=i;const l=cO.exec(n),c=n.slice(i,l?l.index:n.length);c&&(a?a==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:s=c,i+=c.length),l&&(a=l[0],i++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function BR(t,e,n){const r=n?AW(n):void 0;function i(a,s,...l){let c;if(a==null){c={type:"root",children:[]};const d=s;l.unshift(d)}else{c=xW(a,e);const d=c.tagName.toLowerCase(),h=r?r.get(d):void 0;if(c.tagName=h||d,vW(s))l.unshift(s);else for(const[p,y]of Object.entries(s))wW(t,c.properties,p,y)}for(const d of l)_v(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function vW(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function wW(t,e,n,r){const i=nE(t,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=OC(r):i.commaSeparated?a=SC(r):i.commaOrSpaceSeparated?a=OC(SC(r).join(" ")):a=dO(i,i.property,r):Array.isArray(r)?a=[...r]:a=i.property==="style"?EW(r):String(r);if(Array.isArray(a)){const s=[];for(const l of a)s.push(dO(i,i.property,l));a=s}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function _v(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)_v(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?_v(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function dO(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||nh(n)===nh(e)))return!0}return n}function EW(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function AW(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const SW=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],TW=BR(wg,"div"),_W=BR(Ku,"g",SW);function NW(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=e.length){let s=0;for(;;){let l=n[s];if(l===void 0){const c=hO(e,n[s-1]);l=c===-1?e.length+1:c+1,n[s]=l}if(l>a)return{line:s+1,column:a-(s>0?n[s-1]:0)+1,offset:a};s++}}}function i(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const l=n[n.length-1],c=hO(e,l),d=c===-1?e.length+1:c+1;if(l===d)break;n.push(d)}const s=(a.line>1?n[a.line-2]:0)+a.column-1;if(s<n[a.line-1])return s}}}function hO(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Ho={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},FR={}.hasOwnProperty,CW=Object.prototype;function OW(t,e){const n=e||{};return pE({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ku:wg,verbose:n.verbose||!1},t)}function pE(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Qm(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:UR(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const a=String(t.file),s=NW(a),l=s.toPoint(0),c=s.toPoint(a.length);n.position={start:l,end:c}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Qm(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Qm(t,r,n),n}default:return n=kW(t,e),n}}function UR(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=pE(t,e[n]);r.push(i)}return r}function kW(t,e){const n=t.schema;t.schema=e.namespaceURI===Ho.svg?Ku:wg;let r=-1;const i={};for(;++r<e.attrs.length;){const l=e.attrs[r],c=(l.prefix?l.prefix+":":"")+l.name;FR.call(CW,c)||(i[c]=l.value)}const s=(t.schema.space==="svg"?_W:TW)(e.tagName,i,UR(t,e.childNodes));if(Qm(t,e,s),s.tagName==="template"){const l=e,c=l.sourceCodeLocation,d=c&&c.startTag&&bu(c.startTag),h=c&&c.endTag&&bu(c.endTag),p=pE(t,l.content);d&&h&&t.file&&(p.position={start:d.end,end:h.start}),s.content=p}return t.schema=n,s}function Qm(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=PW(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function PW(t,e,n){const r=bu(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const a={};let s;if(n.attrs)for(s in n.attrs)FR.call(n.attrs,s)&&(a[nE(t.schema,s).property]=bu(n.attrs[s]));n.startTag;const l=bu(n.startTag),c=n.endTag?bu(n.endTag):void 0,d={opening:l};c&&(d.closing=c),d.properties=a,e.data={position:d}}}return r}function bu(t){const e=fO({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=fO({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function fO(t){return t.line&&t.column?t:void 0}class jh{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}jh.prototype.property={};jh.prototype.normal={};jh.prototype.space=null;function HR(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new jh(n,r,e)}function Nv(t){return t.toLowerCase()}class Yi{constructor(e,n){this.property=e,this.attribute=n}}Yi.prototype.space=null;Yi.prototype.boolean=!1;Yi.prototype.booleanish=!1;Yi.prototype.overloadedBoolean=!1;Yi.prototype.number=!1;Yi.prototype.commaSeparated=!1;Yi.prototype.spaceSeparated=!1;Yi.prototype.commaOrSpaceSeparated=!1;Yi.prototype.mustUseProperty=!1;Yi.prototype.defined=!1;let DW=0;const ft=gl(),On=gl(),zR=gl(),De=gl(),Qt=gl(),Nu=gl(),li=gl();function gl(){return 2**++DW}const Cv=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:On,commaOrSpaceSeparated:li,commaSeparated:Nu,number:De,overloadedBoolean:zR,spaceSeparated:Qt},Symbol.toStringTag,{value:"Module"})),dx=Object.keys(Cv);class gE extends Yi{constructor(e,n,r,i){let a=-1;if(super(e,n),mO(this,"space",i),typeof r=="number")for(;++a<dx.length;){const s=dx[a];mO(this,dx[a],(r&Cv[s])===Cv[s])}}}gE.prototype.defined=!0;function mO(t,e,n){n&&(t[e]=n)}const jW={}.hasOwnProperty;function Zu(t){const e={},n={};let r;for(r in t.properties)if(jW.call(t.properties,r)){const i=t.properties[r],a=new gE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Nv(r)]=r,n[Nv(a.attribute)]=r}return new jh(e,n,t.space)}const $R=Zu({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),qR=Zu({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function YR(t,e){return e in t?t[e]:e}function VR(t,e){return YR(t,e.toLowerCase())}const GR=Zu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:VR,properties:{xmlns:null,xmlnsXLink:null}}),WR=Zu({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:On,ariaAutoComplete:null,ariaBusy:On,ariaChecked:On,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:Qt,ariaCurrent:null,ariaDescribedBy:Qt,ariaDetails:null,ariaDisabled:On,ariaDropEffect:Qt,ariaErrorMessage:null,ariaExpanded:On,ariaFlowTo:Qt,ariaGrabbed:On,ariaHasPopup:null,ariaHidden:On,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qt,ariaLevel:De,ariaLive:null,ariaModal:On,ariaMultiLine:On,ariaMultiSelectable:On,ariaOrientation:null,ariaOwns:Qt,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:On,ariaReadOnly:On,ariaRelevant:null,ariaRequired:On,ariaRoleDescription:Qt,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:On,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null}}),RW=Zu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:VR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:Qt,autoFocus:ft,autoPlay:ft,blocking:Qt,capture:null,charSet:null,checked:ft,cite:null,className:Qt,cols:De,colSpan:null,content:null,contentEditable:On,controls:ft,controlsList:Qt,coords:De|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:zR,draggable:On,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:Qt,height:De,hidden:ft,high:De,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:null,inert:ft,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:ft,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:De,pattern:null,ping:Qt,placeholder:null,playsInline:ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:Qt,required:ft,reversed:ft,rows:De,rowSpan:De,sandbox:Qt,scope:null,scoped:ft,seamless:ft,selected:ft,shadowRootClonable:ft,shadowRootDelegatesFocus:ft,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:On,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:On,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:On,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:De,security:null,unselectable:null}}),IW=Zu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:YR,properties:{about:li,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:Qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:li,rev:li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:li,requiredFeatures:li,requiredFonts:li,requiredFormats:li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:li,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),LW=/^data[-\w.:]+$/i,pO=/-[a-z]/g,MW=/[A-Z]/g;function BW(t,e){const n=Nv(e);let r=e,i=Yi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&LW.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(pO,UW);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!pO.test(a)){let s=a.replace(MW,FW);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=gE}return new i(r,e)}function FW(t){return"-"+t.toLowerCase()}function UW(t){return t.charAt(1).toUpperCase()}const HW=HR([qR,$R,GR,WR,RW],"html"),XR=HR([qR,$R,GR,WR,IW],"svg"),gO={}.hasOwnProperty;function KR(t,e){const n=e||{};function r(i,...a){let s=r.invalid;const l=r.handlers;if(i&&gO.call(i,t)){const c=String(i[t]);s=gO.call(l,c)?l[c]:r.unknown}if(s)return s.call(this,i,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const zW={},$W={}.hasOwnProperty,QR=KR("type",{handlers:{root:YW,element:KW,text:WW,comment:XW,doctype:GW}});function qW(t,e){const r=(e||zW).space;return QR(t,r==="svg"?XR:HW)}function YW(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=yE(t.children,n,e),Ju(t,n),n}function VW(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=yE(t.children,n,e),Ju(t,n),n}function GW(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ju(t,e),e}function WW(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Ju(t,e),e}function XW(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Ju(t,e),e}function KW(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=XR);const i=[];let a;if(t.properties){for(a in t.properties)if(a!=="children"&&$W.call(t.properties,a)){const c=QW(r,a,t.properties[a]);c&&i.push(c)}}const s=r.space,l={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Ho[s],childNodes:[],parentNode:null};return l.childNodes=yE(t.children,l,r),Ju(t,l),t.tagName==="template"&&t.content&&(l.content=VW(t.content,r)),l}function QW(t,e,n){const r=BW(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?rR(n):dR(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const a=i.name.indexOf(":");a<0?i.prefix="":(i.name=i.name.slice(a+1),i.prefix=r.attribute.slice(0,a)),i.namespace=Ho[r.space]}return i}function yE(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const a=QR(t[r],n);a.parentNode=e,i.push(a)}return i}function Ju(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const ZW=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],JW=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),on="";var B;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(B||(B={}));const Fr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ZR(t){return t>=55296&&t<=57343}function eX(t){return t>=56320&&t<=57343}function tX(t,e){return(t-55296)*1024+9216+e}function JR(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function e4(t){return t>=64976&&t<=65007||JW.has(t)}var we;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(we||(we={}));const nX=65536;class rX{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=nX,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:a}=this,s=i+n,l=a+n;return{code:e,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:l,endOffset:l}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(eX(n))return this.pos++,this._addGap(),tX(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(we.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const r=this.html.charCodeAt(n);return r===B.CARRIAGE_RETURN?B.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let e=this.html.charCodeAt(this.pos);return e===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):e===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ZR(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===B.LINE_FEED||e===B.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){JR(e)?this._err(we.controlCharacterInInputStream):e4(e)&&this._err(we.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var xt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(xt||(xt={}));function t4(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const iX=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),aX=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function sX(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=aX.get(t))!==null&&e!==void 0?e:t}var Vn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Vn||(Vn={}));const oX=32;var io;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(io||(io={}));function Ov(t){return t>=Vn.ZERO&&t<=Vn.NINE}function lX(t){return t>=Vn.UPPER_A&&t<=Vn.UPPER_F||t>=Vn.LOWER_A&&t<=Vn.LOWER_F}function uX(t){return t>=Vn.UPPER_A&&t<=Vn.UPPER_Z||t>=Vn.LOWER_A&&t<=Vn.LOWER_Z||Ov(t)}function cX(t){return t===Vn.EQUALS||uX(t)}var qn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(qn||(qn={}));var Ja;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ja||(Ja={}));class dX{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=qn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ja.Strict}startEntity(e){this.decodeMode=e,this.state=qn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case qn.EntityStart:return e.charCodeAt(n)===Vn.NUM?(this.state=qn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=qn.NamedEntity,this.stateNamedEntity(e,n));case qn.NumericStart:return this.stateNumericStart(e,n);case qn.NumericDecimal:return this.stateNumericDecimal(e,n);case qn.NumericHex:return this.stateNumericHex(e,n);case qn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|oX)===Vn.LOWER_X?(this.state=qn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=qn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const a=r-n;this.result=this.result*Math.pow(i,a)+Number.parseInt(e.substr(n,a),i),this.consumed+=a}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ov(i)||lX(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ov(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Vn.SEMI)this.consumed+=1;else if(this.decodeMode===Ja.Strict)return 0;return this.emitCodePoint(sX(this.result),this.consumed),this.errors&&(e!==Vn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&io.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const s=e.charCodeAt(n);if(this.treeIndex=hX(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Ja.Attribute&&(a===0||cX(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&io.VALUE_LENGTH)>>14,a!==0){if(s===Vn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Ja.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&io.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~io.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case qn.NamedEntity:return this.result!==0&&(this.decodeMode!==Ja.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case qn.NumericDecimal:return this.emitNumericEntity(0,2);case qn.NumericHex:return this.emitNumericEntity(0,3);case qn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case qn.EntityStart:return 0}}}function hX(t,e,n,r){const i=(e&io.BRANCH_LENGTH)>>7,a=e&io.JUMP_TABLE;if(i===0)return a!==0&&r===a?n:-1;if(a){const c=r-a;return c<0||c>=i?-1:t[n+c]-1}let s=n,l=s+i-1;for(;s<=l;){const c=s+l>>>1,d=t[c];if(d<r)s=c+1;else if(d>r)l=c-1;else return t[c+i]}return-1}var Ce;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Ce||(Ce={}));var Qo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Qo||(Qo={}));var Mi;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Mi||(Mi={}));var ce;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ce||(ce={}));var _;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(_||(_={}));const fX=new Map([[ce.A,_.A],[ce.ADDRESS,_.ADDRESS],[ce.ANNOTATION_XML,_.ANNOTATION_XML],[ce.APPLET,_.APPLET],[ce.AREA,_.AREA],[ce.ARTICLE,_.ARTICLE],[ce.ASIDE,_.ASIDE],[ce.B,_.B],[ce.BASE,_.BASE],[ce.BASEFONT,_.BASEFONT],[ce.BGSOUND,_.BGSOUND],[ce.BIG,_.BIG],[ce.BLOCKQUOTE,_.BLOCKQUOTE],[ce.BODY,_.BODY],[ce.BR,_.BR],[ce.BUTTON,_.BUTTON],[ce.CAPTION,_.CAPTION],[ce.CENTER,_.CENTER],[ce.CODE,_.CODE],[ce.COL,_.COL],[ce.COLGROUP,_.COLGROUP],[ce.DD,_.DD],[ce.DESC,_.DESC],[ce.DETAILS,_.DETAILS],[ce.DIALOG,_.DIALOG],[ce.DIR,_.DIR],[ce.DIV,_.DIV],[ce.DL,_.DL],[ce.DT,_.DT],[ce.EM,_.EM],[ce.EMBED,_.EMBED],[ce.FIELDSET,_.FIELDSET],[ce.FIGCAPTION,_.FIGCAPTION],[ce.FIGURE,_.FIGURE],[ce.FONT,_.FONT],[ce.FOOTER,_.FOOTER],[ce.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[ce.FORM,_.FORM],[ce.FRAME,_.FRAME],[ce.FRAMESET,_.FRAMESET],[ce.H1,_.H1],[ce.H2,_.H2],[ce.H3,_.H3],[ce.H4,_.H4],[ce.H5,_.H5],[ce.H6,_.H6],[ce.HEAD,_.HEAD],[ce.HEADER,_.HEADER],[ce.HGROUP,_.HGROUP],[ce.HR,_.HR],[ce.HTML,_.HTML],[ce.I,_.I],[ce.IMG,_.IMG],[ce.IMAGE,_.IMAGE],[ce.INPUT,_.INPUT],[ce.IFRAME,_.IFRAME],[ce.KEYGEN,_.KEYGEN],[ce.LABEL,_.LABEL],[ce.LI,_.LI],[ce.LINK,_.LINK],[ce.LISTING,_.LISTING],[ce.MAIN,_.MAIN],[ce.MALIGNMARK,_.MALIGNMARK],[ce.MARQUEE,_.MARQUEE],[ce.MATH,_.MATH],[ce.MENU,_.MENU],[ce.META,_.META],[ce.MGLYPH,_.MGLYPH],[ce.MI,_.MI],[ce.MO,_.MO],[ce.MN,_.MN],[ce.MS,_.MS],[ce.MTEXT,_.MTEXT],[ce.NAV,_.NAV],[ce.NOBR,_.NOBR],[ce.NOFRAMES,_.NOFRAMES],[ce.NOEMBED,_.NOEMBED],[ce.NOSCRIPT,_.NOSCRIPT],[ce.OBJECT,_.OBJECT],[ce.OL,_.OL],[ce.OPTGROUP,_.OPTGROUP],[ce.OPTION,_.OPTION],[ce.P,_.P],[ce.PARAM,_.PARAM],[ce.PLAINTEXT,_.PLAINTEXT],[ce.PRE,_.PRE],[ce.RB,_.RB],[ce.RP,_.RP],[ce.RT,_.RT],[ce.RTC,_.RTC],[ce.RUBY,_.RUBY],[ce.S,_.S],[ce.SCRIPT,_.SCRIPT],[ce.SEARCH,_.SEARCH],[ce.SECTION,_.SECTION],[ce.SELECT,_.SELECT],[ce.SOURCE,_.SOURCE],[ce.SMALL,_.SMALL],[ce.SPAN,_.SPAN],[ce.STRIKE,_.STRIKE],[ce.STRONG,_.STRONG],[ce.STYLE,_.STYLE],[ce.SUB,_.SUB],[ce.SUMMARY,_.SUMMARY],[ce.SUP,_.SUP],[ce.TABLE,_.TABLE],[ce.TBODY,_.TBODY],[ce.TEMPLATE,_.TEMPLATE],[ce.TEXTAREA,_.TEXTAREA],[ce.TFOOT,_.TFOOT],[ce.TD,_.TD],[ce.TH,_.TH],[ce.THEAD,_.THEAD],[ce.TITLE,_.TITLE],[ce.TR,_.TR],[ce.TRACK,_.TRACK],[ce.TT,_.TT],[ce.U,_.U],[ce.UL,_.UL],[ce.SVG,_.SVG],[ce.VAR,_.VAR],[ce.WBR,_.WBR],[ce.XMP,_.XMP]]);function ec(t){var e;return(e=fX.get(t))!==null&&e!==void 0?e:_.UNKNOWN}const ke=_,mX={[Ce.HTML]:new Set([ke.ADDRESS,ke.APPLET,ke.AREA,ke.ARTICLE,ke.ASIDE,ke.BASE,ke.BASEFONT,ke.BGSOUND,ke.BLOCKQUOTE,ke.BODY,ke.BR,ke.BUTTON,ke.CAPTION,ke.CENTER,ke.COL,ke.COLGROUP,ke.DD,ke.DETAILS,ke.DIR,ke.DIV,ke.DL,ke.DT,ke.EMBED,ke.FIELDSET,ke.FIGCAPTION,ke.FIGURE,ke.FOOTER,ke.FORM,ke.FRAME,ke.FRAMESET,ke.H1,ke.H2,ke.H3,ke.H4,ke.H5,ke.H6,ke.HEAD,ke.HEADER,ke.HGROUP,ke.HR,ke.HTML,ke.IFRAME,ke.IMG,ke.INPUT,ke.LI,ke.LINK,ke.LISTING,ke.MAIN,ke.MARQUEE,ke.MENU,ke.META,ke.NAV,ke.NOEMBED,ke.NOFRAMES,ke.NOSCRIPT,ke.OBJECT,ke.OL,ke.P,ke.PARAM,ke.PLAINTEXT,ke.PRE,ke.SCRIPT,ke.SECTION,ke.SELECT,ke.SOURCE,ke.STYLE,ke.SUMMARY,ke.TABLE,ke.TBODY,ke.TD,ke.TEMPLATE,ke.TEXTAREA,ke.TFOOT,ke.TH,ke.THEAD,ke.TITLE,ke.TR,ke.TRACK,ke.UL,ke.WBR,ke.XMP]),[Ce.MATHML]:new Set([ke.MI,ke.MO,ke.MN,ke.MS,ke.MTEXT,ke.ANNOTATION_XML]),[Ce.SVG]:new Set([ke.TITLE,ke.FOREIGN_OBJECT,ke.DESC]),[Ce.XLINK]:new Set,[Ce.XML]:new Set,[Ce.XMLNS]:new Set},kv=new Set([ke.H1,ke.H2,ke.H3,ke.H4,ke.H5,ke.H6]);ce.STYLE,ce.SCRIPT,ce.XMP,ce.IFRAME,ce.NOEMBED,ce.NOFRAMES,ce.PLAINTEXT;var q;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(q||(q={}));const wn={DATA:q.DATA,RCDATA:q.RCDATA,RAWTEXT:q.RAWTEXT,SCRIPT_DATA:q.SCRIPT_DATA,PLAINTEXT:q.PLAINTEXT,CDATA_SECTION:q.CDATA_SECTION};function pX(t){return t>=B.DIGIT_0&&t<=B.DIGIT_9}function kd(t){return t>=B.LATIN_CAPITAL_A&&t<=B.LATIN_CAPITAL_Z}function gX(t){return t>=B.LATIN_SMALL_A&&t<=B.LATIN_SMALL_Z}function Qs(t){return gX(t)||kd(t)}function yO(t){return Qs(t)||pX(t)}function _m(t){return t+32}function n4(t){return t===B.SPACE||t===B.LINE_FEED||t===B.TABULATION||t===B.FORM_FEED}function bO(t){return n4(t)||t===B.SOLIDUS||t===B.GREATER_THAN_SIGN}function yX(t){return t===B.NULL?we.nullCharacterReference:t>1114111?we.characterReferenceOutsideUnicodeRange:ZR(t)?we.surrogateCharacterReference:e4(t)?we.noncharacterCharacterReference:JR(t)||t===B.CARRIAGE_RETURN?we.controlCharacterReference:null}class bX{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=q.DATA,this.returnState=q.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new rX(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new dX(iX,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(we.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(we.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=yX(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:xt.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:xt.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:xt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:xt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(t4(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(we.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ec(e.tagName),e.type===xt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(we.endTagWithAttributes),e.selfClosing&&this._err(we.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case xt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case xt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case xt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:xt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=n4(e)?xt.WHITESPACE_CHARACTER:e===B.NULL?xt.NULL_CHARACTER:xt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(xt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=q.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ja.Attribute:Ja.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===q.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===q.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===q.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case q.DATA:{this._stateData(e);break}case q.RCDATA:{this._stateRcdata(e);break}case q.RAWTEXT:{this._stateRawtext(e);break}case q.SCRIPT_DATA:{this._stateScriptData(e);break}case q.PLAINTEXT:{this._statePlaintext(e);break}case q.TAG_OPEN:{this._stateTagOpen(e);break}case q.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case q.TAG_NAME:{this._stateTagName(e);break}case q.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case q.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case q.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case q.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case q.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case q.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case q.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case q.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case q.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case q.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case q.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case q.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case q.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case q.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case q.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case q.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case q.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case q.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case q.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case q.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case q.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case q.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case q.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case q.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case q.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case q.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case q.BOGUS_COMMENT:{this._stateBogusComment(e);break}case q.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case q.COMMENT_START:{this._stateCommentStart(e);break}case q.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case q.COMMENT:{this._stateComment(e);break}case q.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case q.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case q.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case q.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case q.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case q.COMMENT_END:{this._stateCommentEnd(e);break}case q.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case q.DOCTYPE:{this._stateDoctype(e);break}case q.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case q.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case q.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case q.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case q.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case q.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case q.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case q.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case q.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case q.CDATA_SECTION:{this._stateCdataSection(e);break}case q.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case q.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case q.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case q.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case B.LESS_THAN_SIGN:{this.state=q.TAG_OPEN;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitCodePoint(e);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case B.AMPERSAND:{this._startCharacterReference();break}case B.LESS_THAN_SIGN:{this.state=q.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case B.LESS_THAN_SIGN:{this.state=q.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Qs(e))this._createStartTagToken(),this.state=q.TAG_NAME,this._stateTagName(e);else switch(e){case B.EXCLAMATION_MARK:{this.state=q.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=q.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(we.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=q.BOGUS_COMMENT,this._stateBogusComment(e);break}case B.EOF:{this._err(we.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(we.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=q.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Qs(e))this._createEndTagToken(),this.state=q.TAG_NAME,this._stateTagName(e);else switch(e){case B.GREATER_THAN_SIGN:{this._err(we.missingEndTagName),this.state=q.DATA;break}case B.EOF:{this._err(we.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(we.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=q.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=q.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.tagName+=on;break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(kd(e)?_m(e):e)}}_stateRcdataLessThanSign(e){e===B.SOLIDUS?this.state=q.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=q.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Qs(e)?(this.state=q.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=q.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=q.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=q.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=q.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=q.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===B.SOLIDUS?this.state=q.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=q.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Qs(e)?(this.state=q.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=q.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=q.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case B.SOLIDUS:{this.state=q.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=q.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=q.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Qs(e)?(this.state=q.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===B.HYPHEN_MINUS?(this.state=q.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===B.HYPHEN_MINUS?(this.state=q.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case B.HYPHEN_MINUS:{this.state=q.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case B.HYPHEN_MINUS:{this.state=q.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.state=q.SCRIPT_DATA_ESCAPED,this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=q.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=q.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.state=q.SCRIPT_DATA_ESCAPED,this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=q.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===B.SOLIDUS?this.state=q.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Qs(e)?(this._emitChars("<"),this.state=q.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Qs(e)?(this.state=q.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Fr.SCRIPT,!1)&&bO(this.preprocessor.peek(Fr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Fr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case B.HYPHEN_MINUS:{this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case B.HYPHEN_MINUS:{this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=q.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(on);break}case B.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===B.SOLIDUS?(this.state=q.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Fr.SCRIPT,!1)&&bO(this.preprocessor.peek(Fr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Fr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=q.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=q.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=q.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case B.EQUALS_SIGN:{this._err(we.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=q.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=q.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=q.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=q.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(we.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.name+=on;break}default:this.currentAttr.name+=String.fromCodePoint(kd(e)?_m(e):e)}}_stateAfterAttributeName(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=q.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=q.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=q.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=q.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=q.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(we.missingAttributeValue),this.state=q.DATA,this.emitCurrentTagToken();break}default:this.state=q.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case B.QUOTATION_MARK:{this.state=q.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=on;break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case B.APOSTROPHE:{this.state=q.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=on;break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=q.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=q.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=on;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(we.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=q.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=q.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=q.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._err(we.missingWhitespaceBetweenAttributes),this.state=q.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case B.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=q.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._err(we.unexpectedSolidusInTag),this.state=q.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentComment(n);break}case B.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.data+=on;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Fr.DASH_DASH,!0)?(this._createCommentToken(Fr.DASH_DASH.length+1),this.state=q.COMMENT_START):this._consumeSequenceIfMatch(Fr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Fr.DOCTYPE.length+1),this.state=q.DOCTYPE):this._consumeSequenceIfMatch(Fr.CDATA_START,!0)?this.inForeignNode?this.state=q.CDATA_SECTION:(this._err(we.cdataInHtmlContent),this._createCommentToken(Fr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=q.BOGUS_COMMENT):this._ensureHibernation()||(this._err(we.incorrectlyOpenedComment),this._createCommentToken(2),this.state=q.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case B.HYPHEN_MINUS:{this.state=q.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptClosingOfEmptyComment),this.state=q.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=q.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case B.HYPHEN_MINUS:{this.state=q.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptClosingOfEmptyComment),this.state=q.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=q.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case B.HYPHEN_MINUS:{this.state=q.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{n.data+="<",this.state=q.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.data+=on;break}case B.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case B.EXCLAMATION_MARK:{n.data+="!",this.state=q.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=q.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===B.HYPHEN_MINUS?this.state=q.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=q.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===B.HYPHEN_MINUS?this.state=q.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=q.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==B.GREATER_THAN_SIGN&&e!==B.EOF&&this._err(we.nestedComment),this.state=q.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case B.HYPHEN_MINUS:{this.state=q.COMMENT_END;break}case B.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=q.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentComment(n);break}case B.EXCLAMATION_MARK:{this.state=q.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{n.data+="-";break}case B.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=q.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case B.HYPHEN_MINUS:{n.data+="--!",this.state=q.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(we.incorrectlyClosedComment),this.state=q.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=q.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=q.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case B.EOF:{this._err(we.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingWhitespaceBeforeDoctypeName),this.state=q.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(kd(e))this._createDoctypeToken(String.fromCharCode(_m(e))),this.state=q.DOCTYPE_NAME;else switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(we.unexpectedNullCharacter),this._createDoctypeToken(on),this.state=q.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(we.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=q.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.name+=on;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(kd(e)?_m(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Fr.PUBLIC,!1)?this.state=q.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Fr.SYSTEM,!1)?this.state=q.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(we.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(we.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(we.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(we.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.publicId="",this.state=q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.publicId="",this.state=q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(we.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case B.QUOTATION_MARK:{this.state=q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.publicId+=on;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case B.APOSTROPHE:{this.state=q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.publicId+=on;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.QUOTATION_MARK:{this._err(we.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(we.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.QUOTATION_MARK:{n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=q.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(we.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(we.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(we.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(we.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case B.QUOTATION_MARK:{this.state=q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.systemId+=on;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case B.APOSTROPHE:{this.state=q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(we.unexpectedNullCharacter),n.systemId+=on;break}case B.GREATER_THAN_SIGN:{this._err(we.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=q.DATA;break}case B.NULL:{this._err(we.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case B.RIGHT_SQUARE_BRACKET:{this.state=q.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(we.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===B.RIGHT_SQUARE_BRACKET?this.state=q.CDATA_SECTION_END:(this._emitChars("]"),this.state=q.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case B.GREATER_THAN_SIGN:{this.state=q.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=q.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&yO(this.preprocessor.peek(1))?q.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){yO(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===B.SEMICOLON&&this._err(we.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const r4=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),xO=new Set([...r4,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),fp=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),xX=new Set([...fp,_.OL,_.UL]),vX=new Set([...fp,_.BUTTON]),vO=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),wO=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),wX=new Set([_.TR,_.TEMPLATE,_.HTML]),EX=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),AX=new Set([_.TABLE,_.TEMPLATE,_.HTML]),SX=new Set([_.TD,_.TH]);class TX{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ce.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ce.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(kv,Ce.HTML)}popUntilTableCellPopped(){this.popUntilPopped(SX,Ce.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(AX,Ce.HTML)}clearBackToTableBodyContext(){this.clearBackTo(EX,Ce.HTML)}clearBackToTableRowContext(){this.clearBackTo(wX,Ce.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ce.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case Ce.SVG:{if(wO.has(i))return!1;break}case Ce.MATHML:{if(vO.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,fp)}hasInListItemScope(e){return this.hasInDynamicScope(e,xX)}hasInButtonScope(e){return this.hasInDynamicScope(e,vX)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ce.HTML:{if(kv.has(n))return!0;if(fp.has(n))return!1;break}case Ce.SVG:{if(wO.has(n))return!1;break}case Ce.MATHML:{if(vO.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ce.HTML)switch(this.tagIDs[n]){case e:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ce.HTML)switch(this.tagIDs[e]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ce.HTML)switch(this.tagIDs[n]){case e:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&r4.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&xO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&xO.has(this.currentTagId);)this.pop()}}const hx=3;var ya;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(ya||(ya={}));const EO={type:ya.Marker};class _X{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===ya.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===a&&this.treeAdapter.getNamespaceURI(d)===s){const h=this.treeAdapter.getAttrList(d);h.length===i&&r.push({idx:l,attrs:h})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<hx)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<hx)return;const i=new Map(n.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<r.length;s++){const l=r[s];l.attrs.every(c=>i.get(c.name)===c.value)&&(a+=1,a>=hx&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(EO)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:ya.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ya.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(EO);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===ya.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===ya.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===ya.Element&&n.element===e)}}const Zs={createDocument(){return{nodeName:"#document",mode:Mi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const a={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Zs.appendChild(t,a)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Zs.isTextNode(n)){n.value+=e;return}}Zs.appendChild(t,Zs.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Zs.isTextNode(r)?r.value+=e:Zs.insertBefore(t,Zs.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},i4="html",NX="about:legacy-compat",CX="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",a4=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],OX=[...a4,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],kX=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),s4=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],PX=[...s4,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function AO(t,e){return e.some(n=>t.startsWith(n))}function DX(t){return t.name===i4&&t.publicId===null&&(t.systemId===null||t.systemId===NX)}function jX(t){if(t.name!==i4)return Mi.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===CX)return Mi.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),kX.has(n))return Mi.QUIRKS;let r=e===null?OX:a4;if(AO(n,r))return Mi.QUIRKS;if(r=e===null?s4:PX,AO(n,r))return Mi.LIMITED_QUIRKS}return Mi.NO_QUIRKS}const SO={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},RX="definitionurl",IX="definitionURL",LX=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),MX=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ce.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ce.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ce.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ce.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ce.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ce.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ce.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ce.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ce.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ce.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ce.XMLNS}]]),BX=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),FX=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function UX(t){const e=t.tagID;return e===_.FONT&&t.attrs.some(({name:r})=>r===Qo.COLOR||r===Qo.SIZE||r===Qo.FACE)||FX.has(e)}function o4(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===RX){t.attrs[e].name=IX;break}}function l4(t){for(let e=0;e<t.attrs.length;e++){const n=LX.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function bE(t){for(let e=0;e<t.attrs.length;e++){const n=MX.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function HX(t){const e=BX.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ec(t.tagName))}function zX(t,e){return e===Ce.MATHML&&(t===_.MI||t===_.MO||t===_.MN||t===_.MS||t===_.MTEXT)}function $X(t,e,n){if(e===Ce.MATHML&&t===_.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Qo.ENCODING){const i=n[r].value.toLowerCase();return i===SO.TEXT_HTML||i===SO.APPLICATION_XML}}return e===Ce.SVG&&(t===_.FOREIGN_OBJECT||t===_.DESC||t===_.TITLE)}function qX(t,e,n,r){return(!r||r===Ce.HTML)&&$X(t,e,n)||(!r||r===Ce.MATHML)&&zX(t,e)}const YX="hidden",VX=8,GX=3;var G;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(G||(G={}));const WX={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},u4=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),TO={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Zs,onParseError:null};class _O{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=G.INITIAL,this.originalInsertionMode=G.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...TO,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new bX(this.options,this),this.activeFormattingElements=new _X(this.treeAdapter),this.fragmentContextID=r?ec(this.treeAdapter.getTagName(r)):_.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new TX(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...TO,...n};e??(e=r.treeAdapter.createElement(ce.TEMPLATE,Ce.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ce.HTML,[]),a=new this(r,i,e);return a.fragmentContextID===_.TEMPLATE&&a.tmplInsertionModeStack.unshift(G.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const a=(i=e.location)!==null&&i!==void 0?i:WX,s={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(e,n,r){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ce.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Ce.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=G.TEXT}switchToPlaintextParsing(){this.insertionMode=G.TEXT,this.originalInsertionMode=G.IN_BODY,this.tokenizer.state=wn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ce.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ce.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=wn.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=wn.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=wn.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=wn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Ce.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Ce.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ce.HTML,Ce.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,_.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),a=r?i.lastIndexOf(r):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:c,endCol:d,endOffset:h}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:c,endCol:d,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),a=n.type===xt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===_.SVG&&this.treeAdapter.getTagName(n)===ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ce.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===_.MGLYPH||e.tagID===_.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ce.HTML)}_processToken(e){switch(e.type){case xt.CHARACTER:{this.onCharacter(e);break}case xt.NULL_CHARACTER:{this.onNullCharacter(e);break}case xt.COMMENT:{this.onComment(e);break}case xt.DOCTYPE:{this.onDoctype(e);break}case xt.START_TAG:{this._processStartTag(e);break}case xt.END_TAG:{this.onEndTag(e);break}case xt.EOF:{this.onEof(e);break}case xt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return qX(e,i,a,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===ya.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=G.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case _.TR:{this.insertionMode=G.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=G.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=G.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=G.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=G.IN_TABLE;return}case _.BODY:{this.insertionMode=G.IN_BODY;return}case _.FRAMESET:{this.insertionMode=G.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(e);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?G.AFTER_HEAD:G.BEFORE_HEAD;return}case _.TD:case _.TH:{if(e>0){this.insertionMode=G.IN_CELL;return}break}case _.HEAD:{if(e>0){this.insertionMode=G.IN_HEAD;return}break}}this.insertionMode=G.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===_.TEMPLATE)break;if(r===_.TABLE){this.insertionMode=G.IN_SELECT_IN_TABLE;return}}this.insertionMode=G.IN_SELECT}_isElementCausesFosterParenting(e){return u4.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ce.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case _.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return mX[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){SQ(this,e);return}switch(this.insertionMode){case G.INITIAL:{yd(this,e);break}case G.BEFORE_HTML:{Ud(this,e);break}case G.BEFORE_HEAD:{Hd(this,e);break}case G.IN_HEAD:{zd(this,e);break}case G.IN_HEAD_NO_SCRIPT:{$d(this,e);break}case G.AFTER_HEAD:{qd(this,e);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:{d4(this,e);break}case G.TEXT:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{fx(this,e);break}case G.IN_TABLE_TEXT:{y4(this,e);break}case G.IN_COLUMN_GROUP:{mp(this,e);break}case G.AFTER_BODY:{pp(this,e);break}case G.AFTER_AFTER_BODY:{Zm(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){AQ(this,e);return}switch(this.insertionMode){case G.INITIAL:{yd(this,e);break}case G.BEFORE_HTML:{Ud(this,e);break}case G.BEFORE_HEAD:{Hd(this,e);break}case G.IN_HEAD:{zd(this,e);break}case G.IN_HEAD_NO_SCRIPT:{$d(this,e);break}case G.AFTER_HEAD:{qd(this,e);break}case G.TEXT:{this._insertCharacters(e);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{fx(this,e);break}case G.IN_COLUMN_GROUP:{mp(this,e);break}case G.AFTER_BODY:{pp(this,e);break}case G.AFTER_AFTER_BODY:{Zm(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Pv(this,e);return}switch(this.insertionMode){case G.INITIAL:case G.BEFORE_HTML:case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_TEMPLATE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{Pv(this,e);break}case G.IN_TABLE_TEXT:{bd(this,e);break}case G.AFTER_BODY:{tK(this,e);break}case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{nK(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case G.INITIAL:{rK(this,e);break}case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:{this._err(e,we.misplacedDoctype);break}case G.IN_TABLE_TEXT:{bd(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,we.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?TQ(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case G.INITIAL:{yd(this,e);break}case G.BEFORE_HTML:{iK(this,e);break}case G.BEFORE_HEAD:{sK(this,e);break}case G.IN_HEAD:{ra(this,e);break}case G.IN_HEAD_NO_SCRIPT:{uK(this,e);break}case G.AFTER_HEAD:{dK(this,e);break}case G.IN_BODY:{gr(this,e);break}case G.IN_TABLE:{Iu(this,e);break}case G.IN_TABLE_TEXT:{bd(this,e);break}case G.IN_CAPTION:{oQ(this,e);break}case G.IN_COLUMN_GROUP:{wE(this,e);break}case G.IN_TABLE_BODY:{Cg(this,e);break}case G.IN_ROW:{Og(this,e);break}case G.IN_CELL:{cQ(this,e);break}case G.IN_SELECT:{v4(this,e);break}case G.IN_SELECT_IN_TABLE:{hQ(this,e);break}case G.IN_TEMPLATE:{mQ(this,e);break}case G.AFTER_BODY:{gQ(this,e);break}case G.IN_FRAMESET:{yQ(this,e);break}case G.AFTER_FRAMESET:{xQ(this,e);break}case G.AFTER_AFTER_BODY:{wQ(this,e);break}case G.AFTER_AFTER_FRAMESET:{EQ(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?_Q(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case G.INITIAL:{yd(this,e);break}case G.BEFORE_HTML:{aK(this,e);break}case G.BEFORE_HEAD:{oK(this,e);break}case G.IN_HEAD:{lK(this,e);break}case G.IN_HEAD_NO_SCRIPT:{cK(this,e);break}case G.AFTER_HEAD:{hK(this,e);break}case G.IN_BODY:{Ng(this,e);break}case G.TEXT:{QK(this,e);break}case G.IN_TABLE:{ih(this,e);break}case G.IN_TABLE_TEXT:{bd(this,e);break}case G.IN_CAPTION:{lQ(this,e);break}case G.IN_COLUMN_GROUP:{uQ(this,e);break}case G.IN_TABLE_BODY:{Dv(this,e);break}case G.IN_ROW:{x4(this,e);break}case G.IN_CELL:{dQ(this,e);break}case G.IN_SELECT:{w4(this,e);break}case G.IN_SELECT_IN_TABLE:{fQ(this,e);break}case G.IN_TEMPLATE:{pQ(this,e);break}case G.AFTER_BODY:{A4(this,e);break}case G.IN_FRAMESET:{bQ(this,e);break}case G.AFTER_FRAMESET:{vQ(this,e);break}case G.AFTER_AFTER_BODY:{Zm(this,e);break}}}onEof(e){switch(this.insertionMode){case G.INITIAL:{yd(this,e);break}case G.BEFORE_HTML:{Ud(this,e);break}case G.BEFORE_HEAD:{Hd(this,e);break}case G.IN_HEAD:{zd(this,e);break}case G.IN_HEAD_NO_SCRIPT:{$d(this,e);break}case G.AFTER_HEAD:{qd(this,e);break}case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{p4(this,e);break}case G.TEXT:{ZK(this,e);break}case G.IN_TABLE_TEXT:{bd(this,e);break}case G.IN_TEMPLATE:{E4(this,e);break}case G.AFTER_BODY:case G.IN_FRAMESET:case G.AFTER_FRAMESET:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{vE(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===B.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.TEXT:case G.IN_COLUMN_GROUP:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{this._insertCharacters(e);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:case G.AFTER_BODY:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{c4(this,e);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{fx(this,e);break}case G.IN_TABLE_TEXT:{g4(this,e);break}}}}function XX(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):m4(t,e),n}function KX(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function QX(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let a=0,s=i;s!==n;a++,s=i){i=t.openElements.getCommonAncestor(s);const l=t.activeFormattingElements.getElementEntry(s),c=l&&a>=GX;!l||c?(c&&t.activeFormattingElements.removeEntry(l),t.openElements.remove(s)):(s=ZX(t,l),r===e&&(t.activeFormattingElements.bookmark=l),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(s,r),r=s)}return r}function ZX(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function JX(t,e,n){const r=t.treeAdapter.getTagName(e),i=ec(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const a=t.treeAdapter.getNamespaceURI(e);i===_.TEMPLATE&&a===Ce.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function eK(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,a=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,a),t.treeAdapter.appendChild(e,a),t.activeFormattingElements.insertElementAfterBookmark(a,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,a,i.tagID)}function xE(t,e){for(let n=0;n<VX;n++){const r=XX(t,e);if(!r)break;const i=KX(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const a=QX(t,i,r.element),s=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(a),s&&JX(t,s,a),eK(t,i,r)}}function Pv(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function tK(t,e){t._appendCommentNode(e,t.openElements.items[0])}function nK(t,e){t._appendCommentNode(e,t.document)}function vE(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const a=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&t._setEndLocation(a,e)}}}}function rK(t,e){t._setDocumentType(e);const n=e.forceQuirks?Mi.QUIRKS:jX(e);DX(e)||t._err(e,we.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=G.BEFORE_HTML}function yd(t,e){t._err(e,we.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Mi.QUIRKS),t.insertionMode=G.BEFORE_HTML,t._processToken(e)}function iK(t,e){e.tagID===_.HTML?(t._insertElement(e,Ce.HTML),t.insertionMode=G.BEFORE_HEAD):Ud(t,e)}function aK(t,e){const n=e.tagID;(n===_.HTML||n===_.HEAD||n===_.BODY||n===_.BR)&&Ud(t,e)}function Ud(t,e){t._insertFakeRootElement(),t.insertionMode=G.BEFORE_HEAD,t._processToken(e)}function sK(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.HEAD:{t._insertElement(e,Ce.HTML),t.headElement=t.openElements.current,t.insertionMode=G.IN_HEAD;break}default:Hd(t,e)}}function oK(t,e){const n=e.tagID;n===_.HEAD||n===_.BODY||n===_.HTML||n===_.BR?Hd(t,e):t._err(e,we.endTagWithoutMatchingOpenElement)}function Hd(t,e){t._insertFakeElement(ce.HEAD,_.HEAD),t.headElement=t.openElements.current,t.insertionMode=G.IN_HEAD,t._processToken(e)}function ra(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{t._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case _.TITLE:{t._switchToTextParsing(e,wn.RCDATA);break}case _.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,wn.RAWTEXT):(t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{t._switchToTextParsing(e,wn.RAWTEXT);break}case _.SCRIPT:{t._switchToTextParsing(e,wn.SCRIPT_DATA);break}case _.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=G.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(G.IN_TEMPLATE);break}case _.HEAD:{t._err(e,we.misplacedStartTagForHeadElement);break}default:zd(t,e)}}function lK(t,e){switch(e.tagID){case _.HEAD:{t.openElements.pop(),t.insertionMode=G.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{zd(t,e);break}case _.TEMPLATE:{yl(t,e);break}default:t._err(e,we.endTagWithoutMatchingOpenElement)}}function yl(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==_.TEMPLATE&&t._err(e,we.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,we.endTagWithoutMatchingOpenElement)}function zd(t,e){t.openElements.pop(),t.insertionMode=G.AFTER_HEAD,t._processToken(e)}function uK(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{ra(t,e);break}case _.NOSCRIPT:{t._err(e,we.nestedNoscriptInHead);break}default:$d(t,e)}}function cK(t,e){switch(e.tagID){case _.NOSCRIPT:{t.openElements.pop(),t.insertionMode=G.IN_HEAD;break}case _.BR:{$d(t,e);break}default:t._err(e,we.endTagWithoutMatchingOpenElement)}}function $d(t,e){const n=e.type===xt.EOF?we.openElementsLeftAfterEof:we.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=G.IN_HEAD,t._processToken(e)}function dK(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.BODY:{t._insertElement(e,Ce.HTML),t.framesetOk=!1,t.insertionMode=G.IN_BODY;break}case _.FRAMESET:{t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{t._err(e,we.abandonedHeadElementChild),t.openElements.push(t.headElement,_.HEAD),ra(t,e),t.openElements.remove(t.headElement);break}case _.HEAD:{t._err(e,we.misplacedStartTagForHeadElement);break}default:qd(t,e)}}function hK(t,e){switch(e.tagID){case _.BODY:case _.HTML:case _.BR:{qd(t,e);break}case _.TEMPLATE:{yl(t,e);break}default:t._err(e,we.endTagWithoutMatchingOpenElement)}}function qd(t,e){t._insertFakeElement(ce.BODY,_.BODY),t.insertionMode=G.IN_BODY,_g(t,e)}function _g(t,e){switch(e.type){case xt.CHARACTER:{d4(t,e);break}case xt.WHITESPACE_CHARACTER:{c4(t,e);break}case xt.COMMENT:{Pv(t,e);break}case xt.START_TAG:{gr(t,e);break}case xt.END_TAG:{Ng(t,e);break}case xt.EOF:{p4(t,e);break}}}function c4(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function d4(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function fK(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function mK(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function pK(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_FRAMESET)}function gK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML)}function yK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&kv.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Ce.HTML)}function bK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function xK(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML),n||(t.formElement=t.openElements.current))}function vK(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===_.LI&&i===_.LI||(n===_.DD||n===_.DT)&&(i===_.DD||i===_.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==_.ADDRESS&&i!==_.DIV&&i!==_.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML)}function wK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML),t.tokenizer.state=wn.PLAINTEXT}function EK(t,e){t.openElements.hasInScope(_.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML),t.framesetOk=!1}function AK(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(ce.A);n&&(xE(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function SK(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function TK(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(_.NOBR)&&(xE(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Ce.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function _K(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function NK(t,e){t.treeAdapter.getDocumentMode(t.document)!==Mi.QUIRKS&&t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ce.HTML),t.framesetOk=!1,t.insertionMode=G.IN_TABLE}function h4(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ce.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function f4(t){const e=t4(t,Qo.TYPE);return e!=null&&e.toLowerCase()===YX}function CK(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ce.HTML),f4(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function OK(t,e){t._appendElement(e,Ce.HTML),e.ackSelfClosing=!0}function kK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._appendElement(e,Ce.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function PK(t,e){e.tagName=ce.IMG,e.tagID=_.IMG,h4(t,e)}function DK(t,e){t._insertElement(e,Ce.HTML),t.skipNextNewLine=!0,t.tokenizer.state=wn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=G.TEXT}function jK(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,wn.RAWTEXT)}function RK(t,e){t.framesetOk=!1,t._switchToTextParsing(e,wn.RAWTEXT)}function NO(t,e){t._switchToTextParsing(e,wn.RAWTEXT)}function IK(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===G.IN_TABLE||t.insertionMode===G.IN_CAPTION||t.insertionMode===G.IN_TABLE_BODY||t.insertionMode===G.IN_ROW||t.insertionMode===G.IN_CELL?G.IN_SELECT_IN_TABLE:G.IN_SELECT}function LK(t,e){t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML)}function MK(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Ce.HTML)}function BK(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(_.RTC),t._insertElement(e,Ce.HTML)}function FK(t,e){t._reconstructActiveFormattingElements(),o4(e),bE(e),e.selfClosing?t._appendElement(e,Ce.MATHML):t._insertElement(e,Ce.MATHML),e.ackSelfClosing=!0}function UK(t,e){t._reconstructActiveFormattingElements(),l4(e),bE(e),e.selfClosing?t._appendElement(e,Ce.SVG):t._insertElement(e,Ce.SVG),e.ackSelfClosing=!0}function CO(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ce.HTML)}function gr(t,e){switch(e.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{SK(t,e);break}case _.A:{AK(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{yK(t,e);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{gK(t,e);break}case _.LI:case _.DD:case _.DT:{vK(t,e);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{h4(t,e);break}case _.HR:{kK(t,e);break}case _.RB:case _.RTC:{MK(t,e);break}case _.RT:case _.RP:{BK(t,e);break}case _.PRE:case _.LISTING:{bK(t,e);break}case _.XMP:{jK(t,e);break}case _.SVG:{UK(t,e);break}case _.HTML:{fK(t,e);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{ra(t,e);break}case _.BODY:{mK(t,e);break}case _.FORM:{xK(t,e);break}case _.NOBR:{TK(t,e);break}case _.MATH:{FK(t,e);break}case _.TABLE:{NK(t,e);break}case _.INPUT:{CK(t,e);break}case _.PARAM:case _.TRACK:case _.SOURCE:{OK(t,e);break}case _.IMAGE:{PK(t,e);break}case _.BUTTON:{EK(t,e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{_K(t,e);break}case _.IFRAME:{RK(t,e);break}case _.SELECT:{IK(t,e);break}case _.OPTION:case _.OPTGROUP:{LK(t,e);break}case _.NOEMBED:case _.NOFRAMES:{NO(t,e);break}case _.FRAMESET:{pK(t,e);break}case _.TEXTAREA:{DK(t,e);break}case _.NOSCRIPT:{t.options.scriptingEnabled?NO(t,e):CO(t,e);break}case _.PLAINTEXT:{wK(t,e);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:CO(t,e)}}function HK(t,e){if(t.openElements.hasInScope(_.BODY)&&(t.insertionMode=G.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function zK(t,e){t.openElements.hasInScope(_.BODY)&&(t.insertionMode=G.AFTER_BODY,A4(t,e))}function $K(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function qK(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(_.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(_.FORM):n&&t.openElements.remove(n))}function YK(t){t.openElements.hasInButtonScope(_.P)||t._insertFakeElement(ce.P,_.P),t._closePElement()}function VK(t){t.openElements.hasInListItemScope(_.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(_.LI),t.openElements.popUntilTagNamePopped(_.LI))}function GK(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function WK(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function XK(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function KK(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ce.BR,_.BR),t.openElements.pop(),t.framesetOk=!1}function m4(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const a=t.openElements.items[i],s=t.openElements.tagIDs[i];if(r===s&&(r!==_.UNKNOWN||t.treeAdapter.getTagName(a)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(a,s))break}}function Ng(t,e){switch(e.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{xE(t,e);break}case _.P:{YK(t);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{$K(t,e);break}case _.LI:{VK(t);break}case _.DD:case _.DT:{GK(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{WK(t);break}case _.BR:{KK(t);break}case _.BODY:{HK(t,e);break}case _.HTML:{zK(t,e);break}case _.FORM:{qK(t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{XK(t,e);break}case _.TEMPLATE:{yl(t,e);break}default:m4(t,e)}}function p4(t,e){t.tmplInsertionModeStack.length>0?E4(t,e):vE(t,e)}function QK(t,e){var n;e.tagID===_.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function ZK(t,e){t._err(e,we.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function fx(t,e){if(t.openElements.currentTagId!==void 0&&u4.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=G.IN_TABLE_TEXT,e.type){case xt.CHARACTER:{y4(t,e);break}case xt.WHITESPACE_CHARACTER:{g4(t,e);break}}else Rh(t,e)}function JK(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_CAPTION}function eQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_COLUMN_GROUP}function tQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.COLGROUP,_.COLGROUP),t.insertionMode=G.IN_COLUMN_GROUP,wE(t,e)}function nQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_TABLE_BODY}function rQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.TBODY,_.TBODY),t.insertionMode=G.IN_TABLE_BODY,Cg(t,e)}function iQ(t,e){t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function aQ(t,e){f4(e)?t._appendElement(e,Ce.HTML):Rh(t,e),e.ackSelfClosing=!0}function sQ(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Ce.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Iu(t,e){switch(e.tagID){case _.TD:case _.TH:case _.TR:{rQ(t,e);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{ra(t,e);break}case _.COL:{tQ(t,e);break}case _.FORM:{sQ(t,e);break}case _.TABLE:{iQ(t,e);break}case _.TBODY:case _.TFOOT:case _.THEAD:{nQ(t,e);break}case _.INPUT:{aQ(t,e);break}case _.CAPTION:{JK(t,e);break}case _.COLGROUP:{eQ(t,e);break}default:Rh(t,e)}}function ih(t,e){switch(e.tagID){case _.TABLE:{t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode());break}case _.TEMPLATE:{yl(t,e);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Rh(t,e)}}function Rh(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,_g(t,e),t.fosterParentingEnabled=n}function g4(t,e){t.pendingCharacterTokens.push(e)}function y4(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function bd(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Rh(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const b4=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function oQ(t,e){const n=e.tagID;b4.has(n)?t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=G.IN_TABLE,Iu(t,e)):gr(t,e)}function lQ(t,e){const n=e.tagID;switch(n){case _.CAPTION:case _.TABLE:{t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=G.IN_TABLE,n===_.TABLE&&ih(t,e));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Ng(t,e)}}function wE(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.COL:{t._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case _.TEMPLATE:{ra(t,e);break}default:mp(t,e)}}function uQ(t,e){switch(e.tagID){case _.COLGROUP:{t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=G.IN_TABLE);break}case _.TEMPLATE:{yl(t,e);break}case _.COL:break;default:mp(t,e)}}function mp(t,e){t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=G.IN_TABLE,t._processToken(e))}function Cg(t,e){switch(e.tagID){case _.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_ROW;break}case _.TH:case _.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ce.TR,_.TR),t.insertionMode=G.IN_ROW,Og(t,e);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE,Iu(t,e));break}default:Iu(t,e)}}function Dv(t,e){const n=e.tagID;switch(e.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE);break}case _.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE,ih(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:ih(t,e)}}function Og(t,e){switch(e.tagID){case _.TH:case _.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Ce.HTML),t.insertionMode=G.IN_CELL,t.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE_BODY,Cg(t,e));break}default:Iu(t,e)}}function x4(t,e){switch(e.tagID){case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE_BODY);break}case _.TABLE:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE_BODY,Dv(t,e));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(_.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=G.IN_TABLE_BODY,Dv(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:ih(t,e)}}function cQ(t,e){const n=e.tagID;b4.has(n)?(t.openElements.hasInTableScope(_.TD)||t.openElements.hasInTableScope(_.TH))&&(t._closeTableCell(),Og(t,e)):gr(t,e)}function dQ(t,e){const n=e.tagID;switch(n){case _.TD:case _.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=G.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),x4(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:Ng(t,e)}}function v4(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._insertElement(e,Ce.HTML);break}case _.OPTGROUP:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Ce.HTML);break}case _.HR:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),e.tagID!==_.SELECT&&t._processStartTag(e));break}case _.SCRIPT:case _.TEMPLATE:{ra(t,e);break}}}function w4(t,e){switch(e.tagID){case _.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===_.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===_.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop();break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop();break}case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode());break}case _.TEMPLATE:{yl(t,e);break}}}function hQ(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t._processStartTag(e)):v4(t,e)}function fQ(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t.onEndTag(e)):w4(t,e)}function mQ(t,e){switch(e.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{ra(t,e);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.tmplInsertionModeStack[0]=G.IN_TABLE,t.insertionMode=G.IN_TABLE,Iu(t,e);break}case _.COL:{t.tmplInsertionModeStack[0]=G.IN_COLUMN_GROUP,t.insertionMode=G.IN_COLUMN_GROUP,wE(t,e);break}case _.TR:{t.tmplInsertionModeStack[0]=G.IN_TABLE_BODY,t.insertionMode=G.IN_TABLE_BODY,Cg(t,e);break}case _.TD:case _.TH:{t.tmplInsertionModeStack[0]=G.IN_ROW,t.insertionMode=G.IN_ROW,Og(t,e);break}default:t.tmplInsertionModeStack[0]=G.IN_BODY,t.insertionMode=G.IN_BODY,gr(t,e)}}function pQ(t,e){e.tagID===_.TEMPLATE&&yl(t,e)}function E4(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):vE(t,e)}function gQ(t,e){e.tagID===_.HTML?gr(t,e):pp(t,e)}function A4(t,e){var n;if(e.tagID===_.HTML){if(t.fragmentContext||(t.insertionMode=G.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===_.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else pp(t,e)}function pp(t,e){t.insertionMode=G.IN_BODY,_g(t,e)}function yQ(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.FRAMESET:{t._insertElement(e,Ce.HTML);break}case _.FRAME:{t._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case _.NOFRAMES:{ra(t,e);break}}}function bQ(t,e){e.tagID===_.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==_.FRAMESET&&(t.insertionMode=G.AFTER_FRAMESET))}function xQ(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.NOFRAMES:{ra(t,e);break}}}function vQ(t,e){e.tagID===_.HTML&&(t.insertionMode=G.AFTER_AFTER_FRAMESET)}function wQ(t,e){e.tagID===_.HTML?gr(t,e):Zm(t,e)}function Zm(t,e){t.insertionMode=G.IN_BODY,_g(t,e)}function EQ(t,e){switch(e.tagID){case _.HTML:{gr(t,e);break}case _.NOFRAMES:{ra(t,e);break}}}function AQ(t,e){e.chars=on,t._insertCharacters(e)}function SQ(t,e){t._insertCharacters(e),t.framesetOk=!1}function S4(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Ce.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function TQ(t,e){if(UX(e))S4(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Ce.MATHML?o4(e):r===Ce.SVG&&(HX(e),l4(e)),bE(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function _Q(t,e){if(e.tagID===_.P||e.tagID===_.BR){S4(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Ce.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}ce.AREA,ce.BASE,ce.BASEFONT,ce.BGSOUND,ce.BR,ce.COL,ce.EMBED,ce.FRAME,ce.HR,ce.IMG,ce.INPUT,ce.KEYGEN,ce.LINK,ce.META,ce.PARAM,ce.SOURCE,ce.TRACK,ce.WBR;const NQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,CQ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),OO={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function T4(t,e){const n=BQ(t),r=KR("type",{handlers:{root:OQ,element:kQ,text:PQ,comment:N4,doctype:DQ,raw:RQ},unknown:IQ}),i={parser:n?new _O(OO):_O.getFragmentParser(void 0,OO),handle(l){r(l,i)},stitches:!1,options:e||{}};r(t,i),tc(i,Pa());const a=n?i.parser.document:i.parser.getFragment(),s=OW(a,{file:i.options.file});return i.stitches&&fE(s,"comment",function(l,c,d){const h=l;if(h.value.stitch&&d&&c!==void 0){const p=d.children;return p[c]=h.value.stitch,c}}),s.type==="root"&&s.children.length===1&&s.children[0].type===t.type?s.children[0]:s}function _4(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function OQ(t,e){_4(t.children,e)}function kQ(t,e){LQ(t,e),_4(t.children,e),MQ(t,e)}function PQ(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:xt.CHARACTER,chars:t.value,location:Ih(t)};tc(e,Pa(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function DQ(t,e){const n={type:xt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Ih(t)};tc(e,Pa(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function jQ(t,e){e.stitches=!0;const n=FQ(t);if("children"in t&&"children"in n){const r=T4({type:"root",children:t.children},e.options);n.children=r.children}N4({type:"comment",value:{stitch:n}},e)}function N4(t,e){const n=t.value,r={type:xt.COMMENT,data:n,location:Ih(t)};tc(e,Pa(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function RQ(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,C4(e,Pa(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(NQ,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function IQ(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))jQ(n,e);else{let r="";throw CQ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function tc(t,e){C4(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=wn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function C4(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function LQ(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===wn.PLAINTEXT)return;tc(e,Pa(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Ho.html;i===Ho.html&&n==="svg"&&(i=Ho.svg);const a=qW({...t,children:[]},{space:i===Ho.svg?"svg":"html"}),s={type:xt.START_TAG,tagName:n,tagID:ec(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:Ih(t)};e.parser.currentToken=s,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function MQ(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&ZW.includes(n)||e.parser.tokenizer.state===wn.PLAINTEXT)return;tc(e,Eg(t));const r={type:xt.END_TAG,tagName:n,tagID:ec(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Ih(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===wn.RCDATA||e.parser.tokenizer.state===wn.RAWTEXT||e.parser.tokenizer.state===wn.SCRIPT_DATA)&&(e.parser.tokenizer.state=wn.DATA)}function BQ(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Ih(t){const e=Pa(t)||{line:void 0,column:void 0,offset:void 0},n=Eg(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function FQ(t){return"children"in t?Ru({...t,children:[]}):Ru(t)}function UQ(t){return function(e,n){return T4(e,{...t,file:n})}}function HQ(){const{id:t}=DD(),e=qi(),{user:n}=ka(),[r,i]=T.useState(null),[a,s]=T.useState(!0),[l,c]=T.useState(null),[d,h]=T.useState(!0),[p,y]=T.useState(!0),[b,x]=T.useState(!0),[w,E]=T.useState(!1),[S,C]=T.useState(!1),[N,D]=T.useState([]),[k,P]=T.useState(""),[j,U]=T.useState(!1),V=T.useRef(null);T.useEffect(()=>{X()},[t]);const X=async()=>{s(!0),c(null);try{console.log(" ID:",t);const L=await fetch(`/api/ocr/documents/${t}/`);if(!L.ok){console.error(" HTTP:",L.status,L.statusText),c(`HTTP ${L.status}: ${L.statusText}`),s(!1);return}const H=await L.json();console.log(" API:",H),H.status==="success"?(console.log(" "),i(H.data)):(console.error(" API:",H.message),c(H.message||""))}catch(L){console.error(" :",L),c("")}finally{s(!1)}},z=L=>L?Number(L).toLocaleString("zh-CN"):"-",Y=L=>L?`${z(L)}`:"-",ne=()=>{C(!0),N.length===0&&D([{role:"assistant",content:"",timestamp:new Date}])},K=()=>{C(!1)},se=async()=>{if(!k.trim()||j)return;const L={role:"user",content:k.trim(),timestamp:new Date};D(ie=>[...ie,L]),P(""),U(!0);const H={role:"assistant",content:"",timestamp:new Date,isStreaming:!0};D(ie=>[...ie,H]);try{const ie=await fetch(`/api/ocr/documents/${t}/chat/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:L.content,history:N.map(Z=>({role:Z.role,content:Z.content})),stream:!0})});if(!ie.ok)throw new Error("");const ue=ie.body.getReader(),M=new TextDecoder;let F="";for(;;){const{done:Z,value:R}=await ue.read();if(Z)break;const $=M.decode(R,{stream:!0}).split(`
`);for(const ae of $)if(ae.startsWith("data: ")){const fe=ae.slice(6);if(fe==="[DONE]")break;try{const ge=JSON.parse(fe);ge.content&&(F+=ge.content,D(J=>{const Ne=[...J];return Ne[Ne.length-1]={...Ne[Ne.length-1],content:F},Ne}))}catch(ge){console.error(":",ge)}}}D(Z=>{const R=[...Z];return R[R.length-1]={...R[R.length-1],isStreaming:!1},R})}catch(ie){console.error(":",ie),D(ue=>{const M=[...ue];return M[M.length-1]={role:"assistant",content:"",timestamp:new Date,isStreaming:!1},M})}finally{U(!1)}};return T.useEffect(()=>{V.current&&V.current.scrollIntoView({behavior:"smooth"})},[N]),a?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsx(Mt,{className:"w-8 h-8 animate-spin text-blue-500"})}):l?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[m.jsx(Rd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),m.jsx("p",{className:"text-gray-600 text-center mb-4",children:l}),m.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})}):r?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:hidden",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:()=>e("/plan-management"),className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[m.jsx(Xd,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm",children:""})]}),m.jsxs("button",{onClick:ne,disabled:r.processing_stage!=="all_completed",className:`flex items-center space-x-1.5 px-3 py-1 rounded-lg shadow transition-all ${r.processing_stage!=="all_completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:shadow-lg"}`,children:[m.jsx(Vm,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm",children:""})]})]}),m.jsx("h1",{className:"text-base font-bold text-gray-800 line-clamp-2 break-words",children:r.file_name})]}),m.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[m.jsxs("button",{onClick:()=>e("/plan-management"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 flex-shrink-0",children:[m.jsx(Xd,{className:"w-5 h-5"}),m.jsx("span",{children:""})]}),m.jsx("div",{className:"h-6 w-px bg-gray-300 flex-shrink-0"}),m.jsx("h1",{className:"text-xl font-bold text-gray-800 truncate",children:r.file_name})]}),m.jsxs("button",{onClick:ne,disabled:r.processing_stage!=="all_completed",className:`flex items-center space-x-2 px-4 py-1.5 rounded-lg shadow transition-all flex-shrink-0 ${r.processing_stage!=="all_completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:shadow-lg"}`,children:[m.jsx(Vm,{className:"w-4 h-4"}),m.jsx("span",{children:""})]})]})]})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-2 sm:py-4 space-y-2 sm:space-y-4",children:[r&&r.processing_stage==="error"&&m.jsx("div",{className:"w-full bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Rd,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-sm font-semibold text-red-900 mb-1",children:""}),m.jsx("p",{className:"text-xs text-red-800 mb-2",children:r.error_message||""})]}),m.jsx("button",{onClick:()=>e("/plan-management"),className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:""})]})}),r&&r.processing_stage!=="all_completed"&&r.processing_stage!=="error"&&m.jsx("div",{className:"w-full bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Mt,{className:"w-5 h-5 text-amber-600 animate-spin flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:""}),m.jsx("p",{className:"text-xs text-amber-800 mb-2",children:""}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[m.jsx("span",{className:"font-medium",children:":"}),m.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 rounded",children:[r.processing_stage==="ocr_pending"&&"OCR",r.processing_stage==="pending"&&"",r.processing_stage==="extracting_basic_info"&&"",r.processing_stage==="basic_info_completed"&&"",r.processing_stage==="extracting_tablesummary"&&"",r.processing_stage==="tablesummary_completed"&&"",r.processing_stage==="extracting_table"&&"",r.processing_stage==="table_completed"&&"",r.processing_stage==="extracting_wellness_table"&&"",r.processing_stage==="wellness_table_completed"&&"",r.processing_stage==="extracting_summary"&&"",!r.processing_stage&&""]})]})]}),m.jsx("button",{onClick:X,className:"px-3 py-1.5 bg-amber-600 text-white text-xs rounded-lg hover:bg-amber-700 transition-colors flex-shrink-0",children:""})]})}),m.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>h(!d),children:[m.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.jsx(EH,{className:"w-4 h-4 text-blue-500"}),m.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),d?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),d&&m.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs sm:text-sm mt-2",children:[!r.insured_name&&!r.insured_age&&!r.insured_gender&&!r.insurance_company&&!r.insurance_product&&!r.sum_assured&&!r.annual_premium&&m.jsxs("div",{className:"w-full text-center py-4 text-gray-500",children:[m.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),m.jsx("p",{className:"text-xs",children:"..."})]}),r.insured_name&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:r.insured_name})]}),r.insured_age&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsxs("span",{className:"font-medium text-gray-800",children:[r.insured_age,""]})]}),r.insured_gender&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:r.insured_gender})]}),(r.insured_name||r.insured_age||r.insured_gender)&&(r.insurance_company||r.insurance_product)&&m.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-300"}),r.insurance_company&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:r.insurance_company})]}),r.insurance_product&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800 max-w-[200px] truncate",title:r.insurance_product,children:r.insurance_product})]}),(r.insurance_company||r.insurance_product)&&(r.sum_assured||r.annual_premium)&&m.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-300"}),r.sum_assured&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:Y(r.sum_assured)})]}),r.annual_premium&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:Y(r.annual_premium)})]}),r.payment_years&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsxs("span",{className:"font-medium text-gray-800",children:[r.payment_years,""]})]}),r.total_premium&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:Y(r.total_premium)})]}),r.insurance_period&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-gray-500",children:":"}),m.jsx("span",{className:"font-medium text-gray-800",children:r.insurance_period})]})]})]}),(r.summary&&typeof r.summary=="string"&&r.summary.trim().length>0||r.processing_stage!=="all_completed")&&m.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>y(!p),children:[m.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.jsx(qr,{className:"w-4 h-4 text-green-500"}),m.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),p?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),p&&(r.summary&&typeof r.summary=="string"&&r.summary.trim().length>0?m.jsx("div",{className:"mt-3 prose prose-sm max-w-none",children:m.jsx(Tv,{rehypePlugins:[UQ],className:"text-xs sm:text-sm text-gray-600 leading-relaxed",components:{h1:({node:L,...H})=>m.jsx("h1",{className:"text-base sm:text-lg font-bold text-gray-900 mt-4 mb-3",...H}),h2:({node:L,...H})=>m.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800 mt-4 mb-2",...H}),h3:({node:L,...H})=>m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-700 mt-3 mb-1",...H}),p:({node:L,...H})=>m.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",...H}),ul:({node:L,...H})=>m.jsx("ul",{className:"list-disc list-inside space-y-1 mb-2",...H}),ol:({node:L,...H})=>m.jsx("ol",{className:"list-decimal list-inside space-y-1 mb-2",...H}),li:({node:L,...H})=>m.jsx("li",{className:"text-xs sm:text-sm text-gray-600",...H}),strong:({node:L,...H})=>m.jsx("strong",{className:"font-semibold text-gray-800",...H}),table:({node:L,...H})=>m.jsx("div",{className:"overflow-x-auto my-4",children:m.jsx("table",{className:"min-w-full border-collapse border border-gray-300",...H})}),thead:({node:L,...H})=>m.jsx("thead",{className:"bg-gray-100",...H}),tbody:({node:L,...H})=>m.jsx("tbody",{...H}),tr:({node:L,...H})=>m.jsx("tr",{className:"border-b border-gray-300",...H}),th:({node:L,...H})=>m.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-semibold text-gray-700",...H}),td:({node:L,...H})=>m.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm text-gray-600",...H})},children:r.summary})}):m.jsxs("div",{className:"mt-3 text-center py-6 text-gray-500",children:[m.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),m.jsx("p",{className:"text-xs",children:"..."})]}))]}),(r.table1&&r.table1.years&&r.table1.years.length>0||r.processing_stage!=="all_completed")&&m.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>x(!b),children:[m.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.jsx(K7,{className:"w-4 h-4 text-purple-500"}),m.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),r.table1?.years?.length>0&&m.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.table1.years.length," )"]})]}),b?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),b&&(r.table1&&r.table1.years&&r.table1.years.length>0?m.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0 mt-2",children:m.jsxs("table",{className:"w-full text-xs border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[m.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-left font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:"/"}),m.jsx("span",{children:""})]})}),m.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:""}),m.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:""}),m.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:"%"}),m.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 whitespace-nowrap",children:"IRR%"})]})}),m.jsx("tbody",{className:"bg-white",children:r.table1.years.map((L,H)=>{console.log(" :",L);const ie=r.insured_age?parseInt(r.insured_age)+parseInt(L.policy_year):null,ue=r?.annual_premium?parseInt(r.annual_premium):0,M=r?.payment_years?parseInt(r.payment_years):0,F=ue*Math.min(L.policy_year,M),Z=L.total||0,R=F>0&&Z>0&&L.policy_year>0?(Z-F)/F/L.policy_year*100:0,oe=F>0&&Z>0&&L.policy_year>0?(Math.pow(Z/F,1/L.policy_year)-1)*100:0;return m.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[m.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-gray-800 border-r border-gray-100",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:L.policy_year||"-"}),m.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),m.jsx("span",{children:ie?`${ie}`:"-"})]})}),m.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right text-gray-800 border-r border-gray-100",children:z(L.guaranteed)}),m.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-900 border-r border-gray-100",children:z(L.total)}),m.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-semibold text-purple-600 border-r border-gray-100",children:!isNaN(R)&&R!==0?R.toFixed(2):"-"}),m.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-semibold text-green-600",children:!isNaN(oe)&&oe!==0?oe.toFixed(2):"-"})]},H)})})]})}):m.jsxs("div",{className:"mt-2 text-center py-6 text-gray-500",children:[m.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),m.jsx("p",{className:"text-xs",children:"..."})]}))]}),m.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>E(!w),children:[m.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.jsx(qr,{className:"w-4 h-4 text-orange-500"}),m.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),r.content&&m.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.content_length?.toLocaleString()||0," )"]})]}),w?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),w&&(r.content?m.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 max-h-60 sm:max-h-80 overflow-y-auto mt-2 sm:mt-3",children:m.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono leading-snug",children:r.content})}):m.jsxs("div",{className:"mt-2 text-center py-6 text-gray-500",children:[m.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),m.jsx("p",{className:"text-xs",children:"OCR..."})]}))]}),m.jsx("div",{className:"w-full",children:m.jsxs("button",{onClick:()=>e(`/document/${t}/content-editor`),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center space-x-2 font-medium",children:[m.jsx(qr,{className:"w-5 h-5"}),m.jsx("span",{children:""})]})})]}),S&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl h-[calc(100vh-2rem)] sm:h-[600px] flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-t-2xl",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:""})]}),m.jsx("button",{onClick:K,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:m.jsx(Du,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-2 sm:space-y-4 bg-gray-50",children:[N.map((L,H)=>m.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[85%] sm:max-w-[80%] rounded-lg p-2 sm:p-3 ${L.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-800 shadow"}`,children:L.role==="user"?m.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:L.content}):m.jsx("div",{className:"text-xs sm:text-sm prose prose-sm max-w-none prose-headings:text-gray-800 prose-p:text-gray-800 prose-strong:text-gray-900 prose-ul:text-gray-800 prose-ol:text-gray-800 prose-li:text-gray-800",children:m.jsx(Tv,{children:L.content})})})},H)),j&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"bg-white text-gray-800 shadow rounded-lg p-2 sm:p-3",children:m.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"})})}),m.jsx("div",{ref:V})]}),m.jsx("div",{className:"p-2 sm:p-4 border-t bg-white rounded-b-2xl",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:k,onChange:L=>P(L.target.value),onKeyPress:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),se())},placeholder:"...",className:"flex-1 px-3 sm:px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:j}),m.jsxs("button",{onClick:se,disabled:j||!k.trim(),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 sm:gap-2",children:[m.jsx(hH,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:""})]})]})})]})})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[m.jsx(Rd,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),m.jsx("p",{className:"text-gray-600 text-center mb-4",children:""}),m.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})})}function O4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O4(t))&&(r&&(r+=" "),r+=e);return r}var zQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function EE(t){if(typeof t!="string")return!1;var e=zQ;return e.includes(t)}var $Q=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function k4(t){if(typeof t!="string")return!1;var e=$Q;return e.includes(t)}function P4(t){return typeof t=="string"&&t.startsWith("data-")}function Ta(t){var e=Object.entries(t).filter(n=>{var[r]=n;return k4(r)||P4(r)});return Object.fromEntries(e)}function kg(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ta(e)}return typeof t=="object"&&!Array.isArray(t)?Ta(t):null}function Cr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return k4(r)||P4(r)||EE(r)});return Object.fromEntries(e)}function qQ(t){return t==null?null:T.isValidElement(t)?Cr(t.props):typeof t=="object"&&!Array.isArray(t)?Cr(t):null}var YQ=["children","width","height","viewBox","className","style","title","desc"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function VQ(t,e){if(t==null)return{};var n,r,i=GQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AE=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:c,desc:d}=t,h=VQ(t,YQ),p=a||{width:r,height:i,x:0,y:0},y=Vt("recharts-surface",s);return T.createElement("svg",jv({},Cr(h),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,c),T.createElement("desc",null,d),n)}),WQ=["children","className"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}function XQ(t,e){if(t==null)return{};var n,r,i=KQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lo=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=XQ(t,WQ),a=Vt("recharts-layer",r);return T.createElement("g",Rv({className:a},Cr(i),{ref:e}),n)}),D4=T.createContext(null),QQ=()=>T.useContext(D4);function Zt(t){return function(){return t}}const j4=Math.cos,gp=Math.sin,ia=Math.sqrt,yp=Math.PI,Pg=2*yp,Iv=Math.PI,Lv=2*Iv,Ro=1e-6,ZQ=Lv-Ro;function R4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function JQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return R4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?R4:JQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,d=i-n,h=s-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ro)if(!(Math.abs(p*c-d*h)>Ro)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,x=i-l,w=c*c+d*d,E=b*b+x*x,S=Math.sqrt(w),C=Math.sqrt(y),N=a*Math.tan((Iv-Math.acos((w+y-E)/(2*S*C)))/2),D=N/C,k=N/S;Math.abs(D-1)>Ro&&this._append`L${e+D*h},${n+D*p}`,this._append`A${a},${a},0,0,${+(p*b>h*x)},${this._x1=e+k*c},${this._y1=n+k*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,h=n+c,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ro||Math.abs(this._y1-h)>Ro)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%Lv+Lv),y>ZQ?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:y>Ro&&this._append`A${r},${r},0,${+(y>=Iv)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function SE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new eZ(e)}function TE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dg(t){return new I4(t)}function L4(t){return t[0]}function M4(t){return t[1]}function B4(t,e){var n=Zt(!0),r=null,i=Dg,a=null,s=SE(l);t=typeof t=="function"?t:t===void 0?L4:Zt(t),e=typeof e=="function"?e:e===void 0?M4:Zt(e);function l(c){var d,h=(c=TE(c)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),d=0;d<=h;++d)!(d<h&&n(p=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,c),+e(p,d,c));if(b)return a=null,b+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Zt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Nm(t,e,n){var r=null,i=Zt(!0),a=null,s=Dg,l=null,c=SE(d);t=typeof t=="function"?t:t===void 0?L4:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?M4:Zt(+n);function d(p){var y,b,x,w=(p=TE(p)).length,E,S=!1,C,N=new Array(w),D=new Array(w);for(a==null&&(l=s(C=c())),y=0;y<=w;++y){if(!(y<w&&i(E=p[y],y,p))===S)if(S=!S)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=y-1;x>=b;--x)l.point(N[x],D[x]);l.lineEnd(),l.areaEnd()}S&&(N[y]=+t(E,y,p),D[y]=+e(E,y,p),l.point(r?+r(E,y,p):N[y],n?+n(E,y,p):D[y]))}if(C)return l=null,C+""||null}function h(){return B4().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Zt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Zt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Zt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Zt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Zt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Zt(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Zt(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class F4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tZ(t){return new F4(t,!0)}function nZ(t){return new F4(t,!1)}const _E={draw(t,e){const n=ia(e/yp);t.moveTo(n,0),t.arc(0,0,n,0,Pg)}},rZ={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},U4=ia(1/3),iZ=U4*2,aZ={draw(t,e){const n=ia(e/iZ),r=n*U4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sZ={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},oZ=.8908130915292852,H4=gp(yp/10)/gp(7*yp/10),lZ=gp(Pg/10)*H4,uZ=-j4(Pg/10)*H4,cZ={draw(t,e){const n=ia(e*oZ),r=lZ*n,i=uZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Pg*a/5,l=j4(s),c=gp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},mx=ia(3),dZ={draw(t,e){const n=-ia(e/(mx*3));t.moveTo(0,n*2),t.lineTo(-mx*n,-n),t.lineTo(mx*n,-n),t.closePath()}},Pi=-.5,Di=ia(3)/2,Mv=1/ia(12),hZ=(Mv/2+1)*3,fZ={draw(t,e){const n=ia(e/hZ),r=n/2,i=n*Mv,a=r,s=n*Mv+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Pi*r-Di*i,Di*r+Pi*i),t.lineTo(Pi*a-Di*s,Di*a+Pi*s),t.lineTo(Pi*l-Di*c,Di*l+Pi*c),t.lineTo(Pi*r+Di*i,Pi*i-Di*r),t.lineTo(Pi*a+Di*s,Pi*s-Di*a),t.lineTo(Pi*l+Di*c,Pi*c-Di*l),t.closePath()}};function mZ(t,e){let n=null,r=SE(i);t=typeof t=="function"?t:Zt(t||_E),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Zt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function bp(){}function xp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pZ(t){return new z4(t)}function $4(t){this._context=t}$4.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gZ(t){return new $4(t)}function q4(t){this._context=t}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yZ(t){return new q4(t)}function Y4(t){this._context=t}Y4.prototype={areaStart:bp,areaEnd:bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bZ(t){return new Y4(t)}function kO(t){return t<0?-1:1}function PO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(kO(a)+kO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function DO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function px(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function vp(t){this._context=t}vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:px(this,this._t0,DO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,px(this,DO(this,n=PO(this,t,e)),n);break;default:px(this,this._t0,n=PO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function V4(t){this._context=new G4(t)}(V4.prototype=Object.create(vp.prototype)).point=function(t,e){vp.prototype.point.call(this,e,t)};function G4(t){this._context=t}G4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function xZ(t){return new vp(t)}function vZ(t){return new V4(t)}function W4(t){this._context=t}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jO(t),i=jO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wZ(t){return new W4(t)}function jg(t,e){this._context=t,this._t=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function EZ(t){return new jg(t,.5)}function AZ(t){return new jg(t,0)}function SZ(t){return new jg(t,1)}function Lu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Bv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TZ(t,e){return t[e]}function _Z(t){const e=[];return e.key=t,e}function NZ(){var t=Zt([]),e=Bv,n=Lu,r=TZ;function i(a){var s=Array.from(t.apply(this,arguments),_Z),l,c=s.length,d=-1,h;for(const p of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(p,s[l].key,d,a)]).data=p;for(l=0,h=TE(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Zt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Bv:typeof a=="function"?a:Zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Lu,i):n},i}function CZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Lu(t,e)}}function OZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Lu(t,e)}}function kZ(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,b=(p-y)/2,x=0;x<l;++x){var w=t[e[x]],E=w[r][1]||0,S=w[r-1][1]||0;b+=E-S}c+=p,d+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Lu(t,e)}}var gx={},yx={},RO;function PZ(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(yx)),yx}var bx={},IO;function X4(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(bx)),bx}var xx={},LO;function NE(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(xx)),xx}var vx={},Ex={},MO;function DZ(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Ex)),Ex}var BO;function CE(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DZ(),n=NE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,c+=i[l]):p===d?d="":c+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=r})(vx)),vx}var FO;function OE(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PZ(),n=X4(),r=NE(),i=CE();function a(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=l[c];return h===void 0?n.isDeepKey(c)?a(l,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=l[c];return h===void 0?d:h}}}function s(l,c,d){if(c.length===0)return d;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return d;h=h[c[p]]}return h===void 0?d:h}t.get=a})(gx)),gx}var Ax,UO;function jZ(){return UO||(UO=1,Ax=OE().get),Ax}var RZ=jZ();const Rg=Ji(RZ);var Bi=t=>t===0?0:t>0?1:-1,_a=t=>typeof t=="number"&&t!=+t,us=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,et=t=>(typeof t=="number"||t instanceof Number)&&!_a(t),Na=t=>et(t)||typeof t=="string",IZ=0,ah=t=>{var e=++IZ;return"".concat(t||"").concat(e)},uo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&typeof e!="string")return r;var a;if(us(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return _a(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},K4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Yr(t,e,n){return et(t)&&et(e)?t+n*(e-t):e}function Q4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Rg(r,e))===n)}var Gn=t=>t===null||typeof t>"u",Lh=t=>Gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function LZ(t){return t!=null}function nc(){}var MZ=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HZ(t,e){if(t==null)return{};var n,r,i=zZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z4={symbolCircle:_E,symbolCross:rZ,symbolDiamond:aZ,symbolSquare:sZ,symbolStar:cZ,symbolTriangle:dZ,symbolWye:fZ},$Z=Math.PI/180,qZ=t=>{var e="symbol".concat(Lh(t));return Z4[e]||_E},YZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*$Z;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VZ=(t,e)=>{Z4["symbol".concat(Lh(t))]=e},kE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=HZ(t,MZ),a=zO(zO({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var y=qZ(s),b=mZ().type(y).size(YZ(n,r,s)),x=b();if(x!==null)return x},{className:c,cx:d,cy:h}=a,p=Cr(a);return et(d)&&et(h)&&et(n)?T.createElement("path",Fv({},p,{className:Vt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:l()})):null};kE.registerSymbol=VZ;var J4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,PE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{EE(i)&&(r[i]=(a=>n[i](n,a)))}),r},GZ=(t,e,n)=>r=>(t(e,n,r),null),eI=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];EE(i)&&typeof a=="function"&&(r||(r={}),r[i]=GZ(a,e,n))}),r};function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){XZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XZ(t,e,n){return(e=KZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=QZ(t,"string");return typeof e=="symbol"?e:e+""}function QZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e){var n=WZ({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(null,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){JZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JZ(t,e,n){return(e=eJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return typeof e=="symbol"?e:e+""}function tJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ri=32,nJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function rJ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ri/2,a=Ri/6,s=Ri/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var d;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:Ri,y2:i,className:"recharts-legend-icon"})}if(c==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ri,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var h=ZZ({},e);return delete h.legendIcon,T.cloneElement(e.legendIcon,h)}return T.createElement(kE,{fill:l,cx:i,cy:i,size:Ri,sizeType:"diameter",type:c})}function iJ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,l={x:0,y:0,width:Ri,height:Ri},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var y=h.formatter||i,b=Vt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?a:h.color,w=y?y(h.value,h,p):h.value;return T.createElement("li",wp({className:b,style:c,key:"legend-item-".concat(p)},eI(t,h,p)),T.createElement(AE,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(w," legend icon")},T.createElement(rJ,{data:h,iconType:s,inactiveColor:a})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w))})}var aJ=t=>{var e=yr(t,nJ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},T.createElement(iJ,wp({},e,{payload:n})))},Sx={},Tx={},YO;function sJ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(Tx)),Tx}var _x={},VO;function tI(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(_x)),_x}var Nx={},Cx={},Ox={},GO;function oJ(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ox)),Ox}var WO;function DE(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Cx)),Cx}var kx={},XO;function lJ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(kx)),kx}var KO;function uJ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DE(),n=lJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Nx)),Nx}var Px={},Dx={},QO;function cJ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Dx)),Dx}var jx={},Rx={},Ix={},Lx={},ZO;function nI(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Lx)),Lx}var Mx={},JO;function rI(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Mx)),Mx}var Bx={},e3;function iI(){return e3||(e3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Bx)),Bx}var t3;function dJ(){return t3||(t3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nI(),n=rI(),r=iI();function i(h,p,y){return typeof y!="function"?i(h,p,()=>{}):a(h,p,function b(x,w,E,S,C,N){const D=y(x,w,E,S,C,N);return D!==void 0?!!D:a(x,w,b,N)},new Map)}function a(h,p,y,b){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,y,b);case"function":return Object.keys(p).length>0?a(h,{...p},y,b):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,y,b){if(p==null)return!0;if(Array.isArray(p))return c(h,p,y,b);if(p instanceof Map)return l(h,p,y,b);if(p instanceof Set)return d(h,p,y,b);const x=Object.keys(p);if(h==null)return x.length===0;if(x.length===0)return!0;if(b?.has(p))return b.get(p)===h;b?.set(p,h);try{for(let w=0;w<x.length;w++){const E=x[w];if(!n.isPrimitive(h)&&!(E in h)||p[E]===void 0&&h[E]!==void 0||p[E]===null&&h[E]!==null||!y(h[E],p[E],E,h,p,b))return!1}return!0}finally{b?.delete(p)}}function l(h,p,y,b){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,w]of p.entries()){const E=h.get(x);if(y(E,w,x,h,p,b)===!1)return!1}return!0}function c(h,p,y,b){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let w=0;w<p.length;w++){const E=p[w];let S=!1;for(let C=0;C<h.length;C++){if(x.has(C))continue;const N=h[C];let D=!1;if(y(N,E,w,h,p,b)&&(D=!0),D){x.add(C),S=!0;break}}if(!S)return!1}return!0}function d(h,p,y,b){return p.size===0?!0:h instanceof Set?c([...h],[...p],y,b):!1}t.isMatchWith=i,t.isSetMatch=d})(Ix)),Ix}var n3;function aI(){return n3||(n3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Rx)),Rx}var Fx={},Ux={},Hx={},r3;function hJ(){return r3||(r3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Hx)),Hx}var zx={},i3;function sI(){return i3||(i3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(zx)),zx}var $x={},a3;function oI(){return a3||(a3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",w="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",D="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",j="[object Int32Array]",U="[object BigInt64Array]",V="[object Float32Array]",X="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=V,t.float64ArrayTag=X,t.functionTag=p,t.int16ArrayTag=P,t.int32ArrayTag=j,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=C,t.uint32ArrayTag=N,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=S})($x)),$x}var qx={},s3;function fJ(){return s3||(s3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qx)),qx}var o3;function lI(){return o3||(o3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hJ(),n=sI(),r=oI(),i=rI(),a=fJ();function s(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,y,b=new Map,x=void 0){const w=x?.(h,p,y,b);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const E=new Array(h.length);b.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,y,b,x);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;b.set(h,E);for(const[S,C]of h)E.set(S,l(C,S,y,b,x));return E}if(h instanceof Set){const E=new Set;b.set(h,E);for(const S of h)E.add(l(S,void 0,y,b,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,y,b,x);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,E),c(E,h,y,b,x),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return b.set(h,E),c(E,h,y,b,x),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return b.set(h,E),c(E,h,y,b,x),E}if(h instanceof Error){const E=new h.constructor;return b.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,y,b,x),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return b.set(h,E),c(E,h,y,b,x),E}if(h instanceof Number){const E=new Number(h.valueOf());return b.set(h,E),c(E,h,y,b,x),E}if(h instanceof String){const E=new String(h.valueOf());return b.set(h,E),c(E,h,y,b,x),E}if(typeof h=="object"&&d(h)){const E=Object.create(Object.getPrototypeOf(h));return b.set(h,E),c(E,h,y,b,x),E}return h}function c(h,p,y=h,b,x){const w=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<w.length;E++){const S=w[E],C=Object.getOwnPropertyDescriptor(h,S);(C==null||C.writable)&&(h[S]=l(p[S],S,y,b,x))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=c})(Ux)),Ux}var l3;function mJ(){return l3||(l3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lI();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Fx)),Fx}var u3;function pJ(){return u3||(u3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aI(),n=mJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(jx)),jx}var Yx={},Vx={},Gx={},c3;function gJ(){return c3||(c3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lI(),n=oI();function r(i,a){return e.cloneDeepWith(i,(s,l,c,d)=>{const h=a?.(s,l,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Gx)),Gx}var d3;function yJ(){return d3||(d3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Vx)),Vx}var Wx={},Xx={},h3;function uI(){return h3||(h3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xx)),Xx}var Kx={},f3;function bJ(){return f3||(f3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Kx)),Kx}var m3;function xJ(){return m3||(m3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X4(),n=uI(),r=bJ(),i=CE();function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&s?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const p=c[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(Wx)),Wx}var p3;function vJ(){return p3||(p3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aI(),n=NE(),r=yJ(),i=OE(),a=xJ();function s(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(Yx)),Yx}var g3;function wJ(){return g3||(g3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tI(),n=cJ(),r=pJ(),i=vJ();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Px)),Px}var y3;function EJ(){return y3||(y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sJ(),n=tI(),r=uJ(),i=wJ();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(Sx)),Sx}var Qx,b3;function AJ(){return b3||(b3=1,Qx=EJ().uniqBy),Qx}var SJ=AJ();const x3=Ji(SJ);function cI(t,e,n){return e===!0?x3(t,n):typeof e=="function"?x3(t,e):t}var Zx={exports:{}},Jx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function TJ(){if(v3)return Jx;v3=1;var t=zu(),e=xj();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Jx.useSyncExternalStoreWithSelector=function(d,h,p,y,b){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function S(P){if(!C){if(C=!0,N=P,P=y(P),b!==void 0&&w.hasValue){var j=w.value;if(b(j,P))return D=j}return D=P}if(j=D,r(N,P))return j;var U=y(P);return b!==void 0&&b(j,U)?(N=P,j):(N=P,D=U)}var C=!1,N,D,k=p===void 0?null:p;return[function(){return S(h())},k===null?void 0:function(){return S(k())}]},[h,p,y,b]);var E=i(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},Jx}var w3;function _J(){return w3||(w3=1,Zx.exports=TJ()),Zx.exports}var NJ=_J(),jE=T.createContext(null),CJ=t=>t,Dn=()=>{var t=T.useContext(jE);return t?t.store.dispatch:CJ},Jm=()=>{},OJ=()=>Jm,kJ=(t,e)=>t===e;function Qe(t){var e=T.useContext(jE);return NJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:OJ,e?e.store.getState:Jm,e?e.store.getState:Jm,e?t:Jm,kJ)}function PJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function DJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var E3=t=>Array.isArray(t)?t:[t];function RJ(t){const e=Array.isArray(t[0])?t[0]:t;return jJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function IJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var LJ=class{constructor(t){this.value=t}deref(){return this.value}},MJ=typeof WeakRef<"u"?WeakRef:LJ,BJ=0,A3=1;function Cm(){return{s:BJ,v:void 0,o:null,p:null}}function dI(t,e={}){let n=Cm();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let l=n;const{length:c}=arguments;for(let p=0,y=c;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(b);w===void 0?(l=Cm(),x.set(b,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(b);w===void 0?(l=Cm(),x.set(b,l)):l=w}}const d=l;let h;if(l.s===A3)h=l.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new MJ(h):h}return d.s=A3,d.v=h,h}return s.clearCache=()=>{n=Cm(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function FJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),PJ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:p,memoizeOptions:y=[],argsMemoize:b=dI,argsMemoizeOptions:x=[]}=h,w=E3(y),E=E3(x),S=RJ(i),C=p(function(){return a++,d.apply(null,arguments)},...w),N=b(function(){s++;const k=IJ(S,arguments);return l=C.apply(null,k),l},...E);return Object.assign(N,{resultFunc:d,memoizedResultFunc:C,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var Ee=FJ(dI),UJ=Object.assign((t,e=Ee)=>{DJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>UJ}),e1={},t1={},n1={},S3;function HJ(){return S3||(S3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(n1)),n1}var r1={},i1={},T3;function hI(){return T3||(T3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(i1)),i1}var _3;function zJ(){return _3||(_3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(r1)),r1}var N3;function $J(){return N3||(N3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HJ(),n=zJ(),r=CE();function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,x)=>{let w=b;for(let E=0;E<x.length&&w!=null;++E)w=w[x[E]];return w},h=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:d(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?d(x,b):typeof x=="object"?x[b]:x,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>h(x,b))})).slice().sort((b,x)=>{for(let w=0;w<p.length;w++){const E=e.compareValues(b.criteria[w],x.criteria[w],l[w]);if(E!==0)return E}return 0}).map(b=>b.original)}t.orderBy=i})(t1)),t1}var a1={},C3;function qJ(){return C3||(C3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,c)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(a1)),a1}var s1={},O3;function fI(){return O3||(O3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uI(),n=DE(),r=nI(),i=iI();function a(s,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}t.isIterateeCall=a})(s1)),s1}var k3;function YJ(){return k3||(k3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J(),n=qJ(),r=fI();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(e1)),e1}var o1,P3;function VJ(){return P3||(P3=1,o1=YJ().sortBy),o1}var GJ=VJ();const Ig=Ji(GJ);var mI=t=>t.legend.settings,WJ=t=>t.legend.size,XJ=t=>t.legend.payload,KJ=Ee([XJ,mI],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ig(r,n):r});function QJ(){return Qe(KJ)}var Om=1;function pI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Om||Math.abs(s.left-e.left)>Om||Math.abs(s.top-e.top)>Om||Math.abs(s.width-e.width)>Om)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",D3=ZJ,l1=()=>Math.random().toString(36).substring(7).split("").join("."),JJ={INIT:`@@redux/INIT${l1()}`,REPLACE:`@@redux/REPLACE${l1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l1()}`},Ep=JJ;function RE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gI(t,e,n){if(typeof t!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(gI)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((E,S)=>{s.set(S,E)}))}function h(){if(c)throw new Error(ar(3));return i}function p(E){if(typeof E!="function")throw new Error(ar(4));if(c)throw new Error(ar(5));let S=!0;d();const C=l++;return s.set(C,E),function(){if(S){if(c)throw new Error(ar(6));S=!1,d(),s.delete(C),a=null}}}function y(E){if(!RE(E))throw new Error(ar(7));if(typeof E.type>"u")throw new Error(ar(8));if(typeof E.type!="string")throw new Error(ar(17));if(c)throw new Error(ar(9));try{c=!0,i=r(i,E)}finally{c=!1}return(a=s).forEach(C=>{C()}),E}function b(E){if(typeof E!="function")throw new Error(ar(10));r=E,y({type:Ep.REPLACE})}function x(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(ar(11));function C(){const D=S;D.next&&D.next(h())}return C(),{unsubscribe:E(C)}},[D3](){return this}}}return y({type:Ep.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:b,[D3]:x}}function eee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ep.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:Ep.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function yI(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{eee(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],b=s[p],x=y(b,l);if(typeof x>"u")throw l&&l.type,new Error(ar(14));d[p]=x,c=c||x!==b}return c=c||r.length!==Object.keys(s).length,c?d:s}}function Ap(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tee(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ar(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=t.map(c=>c(s));return a=Ap(...l)(i.dispatch),{...i,dispatch:a}}}function bI(t){return RE(t)&&"type"in t&&typeof t.type=="string"}var xI=Symbol.for("immer-nothing"),j3=Symbol.for("immer-draftable"),yi=Symbol.for("immer-state");function Qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sh=Object.getPrototypeOf;function sl(t){return!!t&&!!t[yi]}function cs(t){return t?vI(t)||Array.isArray(t)||!!t[j3]||!!t.constructor?.[j3]||Mh(t)||Mg(t):!1}var nee=Object.prototype.constructor.toString(),R3=new WeakMap;function vI(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=R3.get(n);return r===void 0&&(r=Function.toString.call(n),R3.set(n,r)),r===nee}function Sp(t,e,n=!0){Lg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lg(t){const e=t[yi];return e?e.type_:Array.isArray(t)?1:Mh(t)?2:Mg(t)?3:0}function Uv(t,e){return Lg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wI(t,e,n){const r=Lg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ree(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Mh(t){return t instanceof Map}function Mg(t){return t instanceof Set}function Io(t){return t.copy_||t.base_}function Hv(t,e){if(Mh(t))return new Map(t);if(Mg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=vI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[yi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(sh(t),r)}else{const r=sh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function IE(t,e=!1){return Bg(t)||sl(t)||!cs(t)||(Lg(t)>1&&Object.defineProperties(t,{set:km,add:km,clear:km,delete:km}),Object.freeze(t),e&&Object.values(t).forEach(n=>IE(n,!0))),t}function iee(){Qi(2)}var km={value:iee};function Bg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var aee={};function ol(t){const e=aee[t];return e||Qi(0,t),e}var oh;function EI(){return oh}function see(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I3(t,e){e&&(ol("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zv(t){$v(t),t.drafts_.forEach(oee),t.drafts_=null}function $v(t){t===oh&&(oh=t.parent_)}function L3(t){return oh=see(oh,t)}function oee(t){const e=t[yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function M3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yi].modified_&&(zv(e),Qi(4)),cs(t)&&(t=Tp(e,t),e.parent_||_p(e,t)),e.patches_&&ol("Patches").generateReplacementPatches_(n[yi].base_,t,e.patches_,e.inversePatches_)):t=Tp(e,n,[]),zv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xI?t:void 0}function Tp(t,e,n){if(Bg(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[yi];if(!i)return Sp(e,(a,s)=>B3(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return _p(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Sp(s,(c,d)=>B3(t,i,a,c,d,n,l),r),_p(t,a,!1),n&&t.patches_&&ol("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function B3(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=Bg(i);if(!(l&&!s)){if(sl(i)){const c=a&&e&&e.type_!==3&&!Uv(e.assigned_,r)?a.concat(r):void 0,d=Tp(t,i,c);if(wI(n,r,d),sl(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(cs(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;Tp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Mh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_p(t,i)}}}function _p(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&IE(e,n)}function lee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:EI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=LE;n&&(i=[r],a=lh);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var LE={get(t,e){if(e===yi)return t;const n=Io(t);if(!Uv(n,e))return uee(t,n,e);const r=n[e];return t.finalized_||!cs(r)?r:r===u1(t.base_,e)?(c1(t),t.copy_[e]=Yv(r,t)):r},has(t,e){return e in Io(t)},ownKeys(t){return Reflect.ownKeys(Io(t))},set(t,e,n){const r=AI(Io(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=u1(Io(t),e),a=i?.[yi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ree(n,i)&&(n!==void 0||Uv(t.base_,e)))return!0;c1(t),qv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return u1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,c1(t),qv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Io(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qi(11)},getPrototypeOf(t){return sh(t.base_)},setPrototypeOf(){Qi(12)}},lh={};Sp(LE,(t,e)=>{lh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lh.deleteProperty=function(t,e){return lh.set.call(this,t,e,void 0)};lh.set=function(t,e,n){return LE.set.call(this,t[0],e,n,t[0])};function u1(t,e){const n=t[yi];return(n?Io(n):t)[e]}function uee(t,e,n){const r=AI(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function AI(t,e){if(!(e in t))return;let n=sh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sh(n)}}function qv(t){t.modified_||(t.modified_=!0,t.parent_&&qv(t.parent_))}function c1(t){t.copy_||(t.copy_=Hv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let i;if(cs(e)){const a=L3(this),s=Yv(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?zv(a):$v(a)}return I3(a,r),M3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xI&&(i=void 0),this.autoFreeze_&&IE(i,!0),r){const a=[],s=[];ol("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cs(t)||Qi(8),sl(t)&&(t=ss(t));const e=L3(this),n=Yv(t,void 0);return n[yi].isManual_=!0,$v(e),n}finishDraft(t,e){const n=t&&t[yi];(!n||!n.isManual_)&&Qi(9);const{scope_:r}=n;return I3(r,e),M3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ol("Patches").applyPatches_;return sl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Yv(t,e){const n=Mh(t)?ol("MapSet").proxyMap_(t,e):Mg(t)?ol("MapSet").proxySet_(t,e):lee(t,e);return(e?e.scope_:EI()).drafts_.push(n),n}function ss(t){return sl(t)||Qi(10,t),SI(t)}function SI(t){if(!cs(t)||Bg(t))return t;const e=t[yi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hv(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Hv(t,!0);return Sp(n,(i,a)=>{wI(n,i,SI(a))},r),e&&(e.finalized_=!1),n}var Vv=new cee,TI=Vv.produce,dee=Vv.setUseStrictIteration.bind(Vv);function _I(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var hee=_I(),fee=_I,mee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ap:Ap.apply(null,arguments)};function zi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(gi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>bI(r)&&r.type===t,n}var NI=class Pd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pd.prototype)}static get[Symbol.species](){return Pd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pd(...e[0].concat(this)):new Pd(...e.concat(this))}};function F3(t){return cs(t)?TI(t,()=>{}):t}function Pm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pee(t){return typeof t=="boolean"}var gee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new NI;return n&&(pee(n)?s.push(hee):s.push(fee(n.extraArgument))),s},CI="RTK_autoBatch",In=()=>t=>({payload:t,meta:{[CI]:!0}}),U3=t=>e=>{setTimeout(e,t)},OI=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U3(10):t.type==="callback"?t.queueNotification:U3(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return l.add(h),()=>{y(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[CI],a=!i,a&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},yee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new NI(t);return r&&i.push(OI(typeof r=="object"?r:void 0)),i};function bee(t){const e=gee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(RE(n))l=yI(n);else throw new Error(gi(1));let c;typeof r=="function"?c=r(e):c=e();let d=Ap;i&&(d=mee({trace:!1,...typeof i=="object"&&i}));const h=tee(...c),p=yee(h);let y=typeof s=="function"?s(p):p();const b=d(...y);return gI(l,a,b)}function kI(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(gi(28));if(l in e)throw new Error(gi(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}dee(!1);function xee(t){return typeof t=="function"}function vee(t,e){let[n,r,i]=kI(e),a;if(xee(t))a=()=>F3(t());else{const l=F3(t);a=()=>l}function s(l=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(sl(h)){const b=p(h,c);return b===void 0?h:b}else{if(cs(h))return TI(h,y=>p(y,c));{const y=p(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},l)}return s.getInitialState=a,s}var wee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Eee=(t=21)=>{let e="",n=t;for(;n--;)e+=wee[Math.random()*64|0];return e},Aee=Symbol.for("rtk-slice-createasyncthunk");function See(t,e){return`${t}/${e}`}function Tee({creators:t}={}){const e=t?.asyncThunk?.[Aee];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(gi(11));const s=(typeof r.reducers=="function"?r.reducers(Nee()):r.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,D){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(gi(12));if(k in c.sliceCaseReducersByType)throw new Error(gi(13));return c.sliceCaseReducersByType[k]=D,d},addMatcher(N,D){return c.sliceMatchers.push({matcher:N,reducer:D}),d},exposeAction(N,D){return c.actionCreators[N]=D,d},exposeCaseReducer(N,D){return c.sliceCaseReducersByName[N]=D,d}};l.forEach(N=>{const D=s[N],k={reducerName:N,type:See(i,N),createNotation:typeof r.reducers=="function"};Oee(D)?Pee(k,D,d,e):Cee(k,D,d)});function h(){const[N={},D=[],k=void 0]=typeof r.extraReducers=="function"?kI(r.extraReducers):[r.extraReducers],P={...N,...c.sliceCaseReducersByType};return vee(r.initialState,j=>{for(let U in P)j.addCase(U,P[U]);for(let U of c.sliceMatchers)j.addMatcher(U.matcher,U.reducer);for(let U of D)j.addMatcher(U.matcher,U.reducer);k&&j.addDefaultCase(k)})}const p=N=>N,y=new Map,b=new WeakMap;let x;function w(N,D){return x||(x=h()),x(N,D)}function E(){return x||(x=h()),x.getInitialState()}function S(N,D=!1){function k(j){let U=j[N];return typeof U>"u"&&D&&(U=Pm(b,k,E)),U}function P(j=p){const U=Pm(y,D,()=>new WeakMap);return Pm(U,j,()=>{const V={};for(const[X,z]of Object.entries(r.selectors??{}))V[X]=_ee(z,j,()=>Pm(b,j,E),D);return V})}return{reducerPath:N,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const C={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(N,{reducerPath:D,...k}={}){const P=D??a;return N.inject({reducerPath:P,reducer:w},k),{...C,...S(P,!0)}}};return C}}function _ee(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var Qr=Tee();function Nee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Cee({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!kee(r))throw new Error(gi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?zi(t,s):zi(t))}function Oee(t){return t._reducerDefinitionType==="asyncThunk"}function kee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Pee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(gi(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:d,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||Dm,pending:l||Dm,rejected:c||Dm,settled:d||Dm})}function Dm(){}var Dee="task",PI="listener",DI="completed",ME="cancelled",jee=`task-${ME}`,Ree=`task-${DI}`,Gv=`${PI}-${ME}`,Iee=`${PI}-${DI}`,Fg=class{constructor(t){this.code=t,this.message=`${Dee} ${ME} (reason: ${t})`}name="TaskAbortError";message},BE=(t,e)=>{if(typeof t!="function")throw new TypeError(gi(32))},Np=()=>{},jI=(t,e=Np)=>(t.catch(e),t),RI=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jo=t=>{if(t.aborted){const{reason:e}=t;throw new Fg(e)}};function II(t,e){let n=Np;return new Promise((r,i)=>{const a=()=>i(new Fg(t.reason));if(t.aborted){a();return}n=RI(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Np})}var Lee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Fg?"cancelled":"rejected",error:n}}finally{e?.()}},Cp=t=>e=>jI(II(t,e).then(n=>(Jo(t),n))),LI=t=>{const e=Cp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cu}=Object,H3={},Ug="listenerMiddleware",Mee=(t,e)=>{const n=r=>RI(t,()=>Zo(r,t.reason));return(r,i)=>{BE(r);const a=new AbortController;n(a);const s=Lee(async()=>{Jo(t),Jo(a.signal);const l=await r({pause:Cp(a.signal),delay:LI(a.signal),signal:a.signal});return Jo(a.signal),l},()=>Zo(a,Ree));return i?.autoJoin&&e.push(s.catch(Np)),{result:Cp(t)(s),cancel(){Zo(a,jee)}}}},Bee=(t,e)=>{const n=async(r,i)=>{Jo(e);let a=()=>{};const l=[new Promise((c,d)=>{let h=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),c([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await II(e,Promise.race(l));return Jo(e),c}finally{a()}};return(r,i)=>jI(n(r,i))},MI=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=zi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gi(21));return BE(a),{predicate:i,type:e,effect:a}},BI=Cu(t=>{const{type:e,predicate:n,effect:r}=MI(t);return{id:Eee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gi(22))}}},{withTypes:()=>BI}),z3=(t,e)=>{const{type:n,effect:r,predicate:i}=MI(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Wv=t=>{t.pending.forEach(e=>{Zo(e,Gv)})},Fee=(t,e)=>()=>{for(const n of e.keys())Wv(n);t.clear()},$3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},FI=Cu(zi(`${Ug}/add`),{withTypes:()=>FI}),Uee=zi(`${Ug}/removeAll`),UI=Cu(zi(`${Ug}/remove`),{withTypes:()=>UI}),Hee=(...t)=>{console.error(`${Ug}/error`,...t)},Bh=(t={})=>{const e=new Map,n=new Map,r=b=>{const x=n.get(b)??0;n.set(b,x+1)},i=b=>{const x=n.get(b)??1;x===1?n.delete(b):n.set(b,x-1)},{extra:a,onError:s=Hee}=t;BE(s);const l=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),x=>{b.unsubscribe(),x?.cancelActive&&Wv(b)}),c=b=>{const x=z3(e,b)??BI(b);return l(x)};Cu(c,{withTypes:()=>c});const d=b=>{const x=z3(e,b);return x&&(x.unsubscribe(),b.cancelActive&&Wv(x)),!!x};Cu(d,{withTypes:()=>d});const h=async(b,x,w,E)=>{const S=new AbortController,C=Bee(c,S.signal),N=[];try{b.pending.add(S),r(b),await Promise.resolve(b.effect(x,Cu({},w,{getOriginalState:E,condition:(D,k)=>C(D,k).then(Boolean),take:C,delay:LI(S.signal),pause:Cp(S.signal),extra:a,signal:S.signal,fork:Mee(S.signal,N),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((D,k,P)=>{D!==S&&(Zo(D,Gv),P.delete(D))})},cancel:()=>{Zo(S,Gv),b.pending.delete(S)},throwIfCancelled:()=>{Jo(S.signal)}})))}catch(D){D instanceof Fg||$3(s,D,{raisedBy:"effect"})}finally{await Promise.all(N),Zo(S,Iee),i(b),b.pending.delete(S)}},p=Fee(e,n);return{middleware:b=>x=>w=>{if(!bI(w))return x(w);if(FI.match(w))return c(w.payload);if(Uee.match(w)){p();return}if(UI.match(w))return d(w.payload);let E=b.getState();const S=()=>{if(E===H3)throw new Error(gi(23));return E};let C;try{if(C=x(w),e.size>0){const N=b.getState(),D=Array.from(e.values());for(const k of D){let P=!1;try{P=k.predicate(w,N,E)}catch(j){P=!1,$3(s,j,{raisedBy:"predicate"})}P&&h(k,w,b,S)}}}finally{E=H3}return C},startListening:c,stopListening:d,clearListeners:p}};function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HI=Qr({name:"chartLayout",initialState:zee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:$ee,setLayout:qee,setChartSize:Yee,setScale:Vee}=HI.actions,Gee=HI.reducer;function zI(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){Wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Kee(t,"string");return typeof e=="symbol"?e:e+""}function Kee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nr(t,e,n){return Gn(t)||Gn(e)?n:Na(e)?Rg(t,e,n):typeof e=="function"?e(t):n}var Qee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&et(t[a]))return xu(xu({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&et(t[s]))return xu(xu({},t),{},{[s]:t[s]+(i||0)})}return t},ho=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",$I=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},qI=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:y,axisType:b}=t;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=b==="angleAxis"&&a&&a.length>=2?Bi(a[0]-a[1])*2*w:w,p||y){var E=(p||y||[]).map((S,C)=>{var N=r?r.indexOf(S):S;return{coordinate:s(N)+w,value:S,offset:w,index:C}});return E.filter(S=>!_a(S.coordinate))}return c&&d?d.map((S,C)=>({coordinate:s(S)+w,value:S,index:C,offset:w})):s.ticks&&h!=null?s.ticks(h).map((S,C)=>({coordinate:s(S)+w,value:S,offset:w,index:C})):s.domain().map((S,C)=>({coordinate:s(S)+w,value:r?r[S]:S,index:C,offset:w}))},Y3=1e-4,Zee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-Y3,a=Math.max(r[0],r[1])+Y3,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Jee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=_a(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},ete=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=_a(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},tte={sign:Jee,expand:CZ,none:Lu,silhouette:OZ,wiggle:kZ,positive:ete},nte=(t,e,n)=>{var r=tte[n],i=NZ().keys(e).value((a,s)=>Number(Nr(a,s,0))).order(Bv).offset(r);return i(t)};function V3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gn(i[e.dataKey])){var l=Q4(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Nr(i,Gn(s)?e.dataKey:s);return Gn(c)?null:e.scale(c)}var rte=t=>{var e=t.flat(2).filter(et);return[Math.min(...e),Math.max(...e)]},ite=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ate=(t,e,n)=>{if(t!=null)return ite(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((c,d)=>{var h=zI(d,e,n),p=rte(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},G3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Op=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ig(e,h=>h.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function X3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return xu(xu({},e),{},{dataKey:n,payload:r,value:i,name:a})}function YI(t,e){if(t)return String(t);if(typeof e=="string")return e}var ste=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ote=(t,e)=>e==="centric"?t.angle:t.radius,gs=t=>t.layout.width,ys=t=>t.layout.height,lte=t=>t.layout.scale,VI=t=>t.layout.margin,Hg=Ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zg=Ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ute="data-recharts-item-index",cte="data-recharts-item-data-key",Fh=60;function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mte=t=>t.brush.height;function pte(t){var e=zg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fh;return n+i}return n},0)}function gte(t){var e=zg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fh;return n+i}return n},0)}function yte(t){var e=Hg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function bte(t){var e=Hg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ur=Ee([gs,ys,VI,mte,pte,gte,yte,bte,mI,WJ],(t,e,n,r,i,a,s,l,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=jm(jm({},p),h),b=y.bottom;y.bottom+=r,y=Qee(y,c,d);var x=t-y.left-y.right,w=e-y.top-y.bottom;return jm(jm({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(w,0)})}),xte=Ee(ur,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GI=Ee(gs,ys,(t,e)=>({x:0,y:0,width:t,height:e})),vte=T.createContext(null),Zr=()=>T.useContext(vte)!=null,$g=t=>t.brush,qg=Ee([$g,ur,VI],(t,e,n)=>({height:t.height,x:et(t.x)?t.x:e.left,y:et(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:et(t.width)?t.width:e.width})),d1={},h1={},f1={},Q3;function wte(){return Q3||(Q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&h(),w()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{x(),s=void 0,l=null},E=()=>{h()},S=function(...C){if(i?.aborted)return;s=this,l=C;const N=y==null;b(),c&&N&&h()};return S.schedule=b,S.cancel=w,S.flush=E,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(f1)),f1}var Z3;function Ete(){return Z3||(Z3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wte();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const y=e.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),b=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,w),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,w),h)},x=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=x,b}t.debounce=n})(h1)),h1}var J3;function Ate(){return J3||(J3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ete();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(d1)),d1}var m1,ek;function Ste(){return ek||(ek=1,m1=Ate().throttle),m1}var Tte=Ste();const _te=Ji(Tte);var kp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},WI=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=us(r)?t:Number(r),c=us(i)?e:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},Nte={width:0,height:0,overflow:"visible"},Cte={width:0,overflowX:"visible"},Ote={height:0,overflowY:"visible"},kte={},Pte=t=>{var{width:e,height:n}=t,r=us(e),i=us(n);return r&&i?Nte:r?Cte:i?Ote:kte};function Dte(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Wn(t){return Number.isFinite(t)}function Ca(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(null,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XI=T.createContext({width:-1,height:-1});function Lte(t){return Ca(t.width)&&Ca(t.height)}function KI(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Lte(i)?T.createElement(XI.Provider,{value:i},e):null}var FE=()=>T.useContext(XI),Mte=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:c,children:d,debounce:h=0,id:p,className:y,onResize:b,style:x={}}=t,w=T.useRef(null),E=T.useRef();E.current=b,T.useImperativeHandle(e,()=>w.current);var[S,C]=T.useState({containerWidth:r.width,containerHeight:r.height}),N=T.useCallback((U,V)=>{C(X=>{var z=Math.round(U),Y=Math.round(V);return X.containerWidth===z&&X.containerHeight===Y?X:{containerWidth:z,containerHeight:Y}})},[]);T.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return nc;var U=Y=>{var ne,{width:K,height:se}=Y[0].contentRect;N(K,se),(ne=E.current)===null||ne===void 0||ne.call(E,K,se)};h>0&&(U=_te(U,h,{trailing:!0,leading:!1}));var V=new ResizeObserver(U),{width:X,height:z}=w.current.getBoundingClientRect();return N(X,z),V.observe(w.current),()=>{V.disconnect()}},[N,h]);var{containerWidth:D,containerHeight:k}=S;kp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:j}=WI(D,k,{width:i,height:a,aspect:n,maxHeight:c});return kp(P!=null&&P>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,j,i,a,s,l,n),T.createElement("div",{id:p?"".concat(p):void 0,className:Vt("recharts-responsive-container",y),style:nk(nk({},x),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:w},T.createElement("div",{style:Pte({width:i,height:a})},T.createElement(KI,{width:P,height:j},d)))}),Bte=T.forwardRef((t,e)=>{var n=FE();if(Ca(n.width)&&Ca(n.height))return t.children;var{width:r,height:i}=Dte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=WI(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return et(a)&&et(s)?T.createElement(KI,{width:a,height:s},t.children):T.createElement(Mte,Xv({},t,{width:r,height:i,ref:e}))});function QI(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Yg=()=>{var t,e=Zr(),n=Qe(xte),r=Qe(qg),i=(t=Qe($g))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Fte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZI=()=>{var t;return(t=Qe(ur))!==null&&t!==void 0?t:Fte},UE=()=>Qe(gs),HE=()=>Qe(ys),Ute=()=>Qe(t=>t.layout.margin),rn=t=>t.layout.layoutType,Vg=()=>Qe(rn),Hte=()=>{var t=Vg();return t!==void 0},Gg=t=>{var e=Dn(),n=Zr(),{width:r,height:i}=t,a=FE(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),T.useEffect(()=>{!n&&Ca(s)&&Ca(l)&&e(Yee({width:s,height:l}))},[e,n,s,l]),null},zte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JI=Qr({name:"legend",initialState:zte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:In()},removeLegendPayload:{reducer(t,e){var n=ss(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:In()}}}),{setLegendSize:rk,setLegendSettings:$te,addLegendPayload:qte,removeLegendPayload:Yte}=JI.actions,Vte=JI.reducer,Gte=["contextPayload"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wte(t,e,n){return(e=Xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qte(t,e){if(t==null)return{};var n,r,i=Zte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jte(t){return t.value}function ene(t){var{contextPayload:e}=t,n=Qte(t,Gte),r=cI(e,t.payloadUniqBy,Jte),i=Mu(Mu({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(aJ,i)}function tne(t,e,n,r,i,a){var{layout:s,align:l,verticalAlign:c}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&s==="vertical"?d={left:((r||0)-a.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Mu(Mu({},d),h)}function nne(t){var e=Dn();return T.useEffect(()=>{e($te(t))},[e,t]),null}function rne(t){var e=Dn();return T.useEffect(()=>(e(rk(t)),()=>{e(rk({width:0,height:0}))}),[e,t]),null}function ine(t,e,n,r){return t==="vertical"&&et(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var ane={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function eL(t){var e=yr(t,ane),n=QJ(),r=QQ(),i=Ute(),{width:a,height:s,wrapperStyle:l,portal:c}=e,[d,h]=pI([n]),p=UE(),y=HE();if(p==null||y==null)return null;var b=p-(i?.left||0)-(i?.right||0),x=ine(e.layout,s,a,b),w=c?l:Mu(Mu({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},tne(l,e,i,p,y,d)),l),E=c??r;if(E==null||n==null)return null;var S=T.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},T.createElement(nne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),T.createElement(rne,{width:d.width,height:d.height}),T.createElement(ene,Kv({},e,x,{margin:i,chartWidth:p,chartHeight:y,contextPayload:n})));return Rw.createPortal(S,E)}eL.displayName="Legend";function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(null,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=lne(t,"string");return typeof e=="symbol"?e:e+""}function lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function une(t){return Array.isArray(t)&&Na(t[0])&&Na(t[1])?t.join(" ~ "):t}var cne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var k={padding:0,margin:0},P=(l?Ig(a,l):a).map((j,U)=>{if(j.type==="none")return null;var V=j.formatter||s||une,{value:X,name:z}=j,Y=X,ne=z;if(V){var K=V(X,z,j,U,a);if(Array.isArray(K))[Y,ne]=K;else if(K!=null)Y=K;else return null}var se=p1({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:se},Na(ne)?T.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Na(ne)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},Y),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},x=p1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=p1({margin:0},i),E=!Gn(h),S=E?h:"",C=Vt("recharts-default-tooltip",c),N=Vt("recharts-tooltip-label",d);E&&p&&a!==void 0&&a!==null&&(S=p(h,a));var D=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Qv({className:C,style:x},D),T.createElement("p",{className:N,style:w},T.isValidElement(S)?S:"".concat(S)),b())},xd="recharts-tooltip-wrapper",dne={visibility:"hidden"};function hne(t){var{coordinate:e,translateX:n,translateY:r}=t;return Vt(xd,{["".concat(xd,"-right")]:et(n)&&e&&et(e.x)&&n>=e.x,["".concat(xd,"-left")]:et(n)&&e&&et(e.x)&&n<e.x,["".concat(xd,"-bottom")]:et(r)&&e&&et(e.y)&&r>=e.y,["".concat(xd,"-top")]:et(r)&&e&&et(e.y)&&r<e.y})}function sk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(a&&et(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var y=c[r];if(y==null)return 0;if(s[r]){var b=h,x=y;return b<x?Math.max(p,y):Math.max(h,y)}if(d==null)return 0;var w=p+l,E=y+d;return w>E?Math.max(h,y):Math.max(p,y)}function fne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=t,d,h,p;return s.height>0&&s.width>0&&n?(h=sk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=sk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=fne({translateX:h,translateY:p,useTranslate3d:l})):d=dne,{cssProperties:d,cssClasses:hne({translateX:h,translateY:p,coordinate:n})}}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zv(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yne extends T.PureComponent{constructor(){super(...arguments),Zv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:d,position:h,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:w,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:C,cssProperties:N}=mne({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:b}),D=S?{}:Rm(Rm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Rm(Rm({},D),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:k,ref:E},a)}}var bne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rc={devToolsEnabled:!1,isSsr:bne()},tL=()=>{var t;return(t=Qe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck={curveBasisClosed:gZ,curveBasisOpen:yZ,curveBasis:pZ,curveBumpX:tZ,curveBumpY:nZ,curveLinearClosed:bZ,curveLinear:Dg,curveMonotoneX:xZ,curveMonotoneY:vZ,curveNatural:wZ,curveStep:EZ,curveStepAfter:SZ,curveStepBefore:AZ},Pp=t=>Wn(t.x)&&Wn(t.y),dk=t=>t.base!=null&&Pp(t.base)&&Pp(t),vd=t=>t.x,wd=t=>t.y,Ene=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Lh(t));return(n==="curveMonotone"||n==="curveBump")&&e?ck["".concat(n).concat(e==="vertical"?"Y":"X")]:ck[n]||Dg},Ane=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Ene(e,i),l=a?n.filter(Pp):n,c;if(Array.isArray(r)){var d=n.map((b,x)=>uk(uk({},b),{},{base:r[x]}));i==="vertical"?c=Nm().y(wd).x1(vd).x0(b=>b.base.x):c=Nm().x(vd).y1(wd).y0(b=>b.base.y);var h=c.defined(dk).curve(s),p=a?d.filter(dk):d;return h(p)}i==="vertical"&&et(r)?c=Nm().y(wd).x1(vd).x0(r):et(r)?c=Nm().x(vd).y1(wd).y0(r):c=B4().x(vd).y(wd);var y=c.defined(Pp).curve(s);return y(l)},nL=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ane(t):r;return T.createElement("path",Jv({},Ta(t),PE(t),{className:Vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Sne=["x","y","top","left","width","height","className"];function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(null,arguments)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){if(t==null)return{};var n,r,i=kne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pne=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Dne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,c=One(t,Sne),d=Tne({x:e,y:n,top:r,left:i,width:a,height:s},c);return!et(e)||!et(n)||!et(a)||!et(s)||!et(r)||!et(i)?null:T.createElement("path",ew({},Cr(d),{className:Vt("recharts-cross",l),d:Pne(e,n,a,s,r,i)}))};function jne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),rL=(t,e,n)=>t.map(r=>"".concat(Mne(r)," ").concat(e,"ms ").concat(n)).join(","),Bne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),uh=(t,e)=>Object.keys(e).reduce((n,r)=>mk(mk({},n),{},{[r]:t(r,e[r])}),{});function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dp=(t,e,n)=>t+(e-t)*n,tw=t=>{var{from:e,to:n}=t;return e!==n},iL=(t,e,n)=>{var r=uh((i,a)=>{if(tw(a)){var[s,l]=t(a.from,a.to,a.velocity);return Rn(Rn({},a),{},{from:s,velocity:l})}return a},e);return n<1?uh((i,a)=>tw(a)?Rn(Rn({},a),{},{velocity:Dp(a.velocity,r[i].velocity,n),from:Dp(a.from,r[i].from,n)}):a,e):iL(t,r,n-1)};function zne(t,e,n,r,i,a){var s,l=r.reduce((y,b)=>Rn(Rn({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),c=()=>uh((y,b)=>b.from,l),d=()=>!Object.values(l).filter(tw).length,h=null,p=y=>{s||(s=y);var b=y-s,x=b/n.dt;l=iL(n,l,x),i(Rn(Rn(Rn({},t),e),c())),s=y,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var y;(y=h)===null||y===void 0||y()})}function $ne(t,e,n,r,i,a,s){var l=null,c=i.reduce((p,y)=>Rn(Rn({},p),{},{[y]:[t[y],e[y]]}),{}),d,h=p=>{d||(d=p);var y=(p-d)/r,b=uh((w,E)=>Dp(...E,n(y)),c);if(a(Rn(Rn(Rn({},t),e),b)),y<1)l=s.setTimeout(h);else{var x=uh((w,E)=>Dp(...E,n(1)),c);a(Rn(Rn(Rn({},t),e),x))}};return()=>(l=s.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const qne=(t,e,n,r,i,a)=>{var s=Bne(t,e);return n==null?()=>(i(Rn(Rn({},t),e)),()=>{}):n.isStepper===!0?zne(t,e,n,s,i,a):$ne(t,e,n,r,s,i,a)};var jp=1e-4,aL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],sL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),gk=(t,e)=>n=>{var r=aL(t,e);return sL(r,n)},Yne=(t,e)=>n=>{var r=aL(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return sL(i,n)},Vne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Gne=(t,e,n,r)=>{var i=gk(t,n),a=gk(e,r),s=Yne(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,p=h,y=0;y<8;++y){var b=i(p)-h,x=s(p);if(Math.abs(b-h)<jp||x<jp)return a(p);p=l(p-b/x)}return a(p)};return c.isStepper=!1,c},yk=function(){return Gne(...Vne(...arguments))},Wne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,c)=>{var d=-(s-l)*n,h=c*r,p=c+(d-h)*i/1e3,y=c*i/1e3+s;return Math.abs(y-l)<jp&&Math.abs(p)<jp?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Xne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yk(t);case"spring":return Wne();default:if(t.split("(")[0]==="cubic-bezier")return yk(t)}return typeof t=="function"?t:null};function Kne(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Qne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Zne(){return Kne(new Qne)}var Jne=T.createContext(Zne);function ere(t,e){var n=T.useContext(Jne);return T.useMemo(()=>e??n(t),[t,e,n])}var tre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bk={t:0},g1={t:1};function zE(t){var e=yr(t,tre),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:d}=e,h=ere(e.animationId,e.animationManager),[p,y]=T.useState(n?bk:g1),b=T.useRef(null);return T.useEffect(()=>{n||y(g1)},[n]),T.useEffect(()=>{if(!n||!r)return nc;var x=qne(bk,g1,Xne(a),i,y,h.getTimeoutController()),w=()=>{b.current=x()};return h.start([c,s,w,i,l]),()=>{h.stop(),b.current&&b.current(),l()}},[n,r,i,a,s,c,l,h]),d(p.t)}function $E(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(ah(e)),r=T.useRef(t);return r.current!==t&&(n.current=ah(e),r.current=t),n.current}var nre=["radius"],rre=["radius"];function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(null,arguments)}function wk(t,e){if(t==null)return{};var n,r,i=ore(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ek=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),d+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),d+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),d+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*b,`
            L `).concat(t+n,",").concat(e+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Ak={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oL=t=>{var e=yr(t,Ak),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:d,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:w}=e,E=T.useRef(l),S=T.useRef(c),C=T.useRef(a),N=T.useRef(s),D=T.useMemo(()=>({x:a,y:s,width:l,height:c,radius:d}),[a,s,l,c,d]),k=$E(D,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var P=Vt("recharts-rectangle",h);if(!w){var j=Cr(e),{radius:U}=j,V=wk(j,nre);return T.createElement("path",Rp({},V,{radius:typeof d=="number"?d:void 0,className:P,d:Ek(a,s,l,c,d)}))}var X=E.current,z=S.current,Y=C.current,ne=N.current,K="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),L=rL(["strokeDasharray"],y,typeof p=="string"?p:Ak.animationEasing);return T.createElement(zE,{animationId:k,key:k,canBegin:r>0,duration:y,easing:p,isActive:w,begin:b},H=>{var ie=Yr(X,l,H),ue=Yr(z,c,H),M=Yr(Y,a,H),F=Yr(ne,s,H);n.current&&(E.current=ie,S.current=ue,C.current=M,N.current=F);var Z;x?H>0?Z={transition:L,strokeDasharray:se}:Z={strokeDasharray:K}:Z={strokeDasharray:se};var R=Cr(e),{radius:oe}=R,$=wk(R,rre);return T.createElement("path",Rp({},$,{radius:typeof d=="number"?d:void 0,className:P,d:Ek(M,F,ie,ue,d),ref:n,style:vk(vk({},Z),e.style)}))})};function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip=Math.PI/180,dre=t=>t*180/Math.PI,or=(t,e,n,r)=>({x:t+Math.cos(-Ip*r)*n,y:e+Math.sin(-Ip*r)*n}),hre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},mre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=fre({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:s,angle:dre(c),angleInRadian:c}},pre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},gre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},yre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=mre({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:d}=pre(e),h=a,p;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=c}return p?Tk(Tk({},e),{},{radius:i,angle:gre(h,e)}):null};function lL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=or(e,n,r,i),l=or(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}var bre=(t,e)=>{var n=Bi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Im=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=t,d=l*(s?1:-1)+r,h=Math.asin(l/d)/Ip,p=c?i:i+a*h,y=or(e,n,d,p),b=or(e,n,r,p),x=c?i-a*h:i,w=or(e,n,d*Math.cos(h*Ip),x);return{center:y,circleTangency:b,lineTangency:w,theta:h}},uL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=bre(a,s),c=a+l,d=or(e,n,i,a),h=or(e,n,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=or(e,n,r,a),b=or(e,n,r,c);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},xre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}=t,h=Bi(d-c),{circleTangency:p,lineTangency:y,theta:b}=Im({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:x,lineTangency:w,theta:E}=Im({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-d):Math.abs(c-d)-b-E;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):uL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:D,theta:k}=Im({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:j,theta:U}=Im({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),V=l?Math.abs(c-d):Math.abs(c-d)-k-U;if(V<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},vre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cL=t=>{var e=yr(t,vre),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h,className:p}=e;if(a<i||d===h)return null;var y=Vt("recharts-sector",p),b=a-i,x=uo(s,b,0,!0),w;return x>0&&Math.abs(d-h)<360?w=xre({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):w=uL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),T.createElement("path",nw({},Cr(e),{className:y,d:w}))};function wre(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(J4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,c=or(r,i,a,l),d=or(r,i,s,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return lL(e)}}var y1={},b1={},x1={},_k;function Ere(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hI();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(x1)),x1}var Nk;function Are(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ere();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(b1)),b1}var Ck;function Sre(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fI(),n=Are();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=s;return c}t.range=r})(y1)),y1}var v1,Ok;function Tre(){return Ok||(Ok=1,v1=Sre().range),v1}var _re=Tre();const dL=Ji(_re);function ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qE(t){let e,n,r;t.length!==2?(e=ao,n=(l,c)=>ao(t(l),c),r=(l,c)=>t(l)-c):(e=t===ao||t===Nre?t:Cre,n=t,r=t);function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(l[p],c)<0?d=p+1:h=p}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(l[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function s(l,c,d=0,h=l.length){const p=i(l,c,d,h-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:a}}function Cre(){return 0}function hL(t){return t===null?NaN:+t}function*Ore(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const kre=qE(ao),Uh=kre.right;qE(hL).center;class kk extends Map{constructor(e,n=jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Pk(this,e))}has(e){return super.has(Pk(this,e))}set(e,n){return super.set(Pre(this,e),n)}delete(e){return super.delete(Dre(this,e))}}function Pk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Dre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function jre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rre(t=ao){if(t===ao)return fL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ire=Math.sqrt(50),Lre=Math.sqrt(10),Mre=Math.sqrt(2);function Lp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Ire?10:a>=Lre?5:a>=Mre?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Lp(t,e,n*2):[l,c,d]}function rw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Lp(e,t,n):Lp(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function iw(t,e,n){return e=+e,t=+t,n=+n,Lp(t,e,n)[2]}function aw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?iw(e,t,n):iw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Dk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fL:Rre(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),b=Math.max(n,Math.floor(e-d*p/c+y)),x=Math.min(r,Math.floor(e+(c-d)*p/c+y));mL(t,e,b,x,i)}const a=t[e];let s=n,l=r;for(Ed(t,n,e),i(t[r],a)>0&&Ed(t,n,r);s<l;){for(Ed(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Ed(t,n,l):(++l,Ed(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Ed(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Bre(t,e,n){if(t=Float64Array.from(Ore(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jk(t);if(e>=1)return Dk(t);var r,i=(r-1)*e,a=Math.floor(i),s=Dk(mL(t,a).subarray(0,a+1)),l=jk(t.subarray(a+1));return s+(l-s)*(i-a)}}function Fre(t,e,n=hL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function Ure(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sw=Symbol("implicit");function YE(){var t=new kk,e=[],n=[],r=sw;function i(a){let s=t.get(a);if(s===void 0){if(r!==sw)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YE(e,n).unknown(r)},Vi.apply(i,arguments),i}function VE(){var t=YE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,d=0,h=.5;delete t.unknown;function p(){var y=e().length,b=i<r,x=b?i:r,w=b?r:i;a=(w-x)/Math.max(1,y-c+d*2),l&&(a=Math.floor(a)),x+=(w-x-a*(y-c))*h,s=a*(1-c),l&&(x=Math.round(x),s=Math.round(s));var E=Ure(y).map(function(S){return x+a*S});return n(b?E.reverse():E)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return VE(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},Vi.apply(p(),arguments)}function pL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pL(e())},t}function Hre(){return pL(VE.apply(null,arguments).paddingInner(1))}function GE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hh(){}var ch=.7,Mp=1/ch,Ou="\\s*([+-]?\\d+)\\s*",dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zre=/^#([0-9a-f]{3,8})$/,$re=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),qre=new RegExp(`^rgb\\(${Ea},${Ea},${Ea}\\)$`),Yre=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${dh}\\)$`),Vre=new RegExp(`^rgba\\(${Ea},${Ea},${Ea},${dh}\\)$`),Gre=new RegExp(`^hsl\\(${dh},${Ea},${Ea}\\)$`),Wre=new RegExp(`^hsla\\(${dh},${Ea},${Ea},${dh}\\)$`),Rk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GE(Hh,hh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ik,formatHex:Ik,formatHex8:Xre,formatHsl:Kre,formatRgb:Lk,toString:Lk});function Ik(){return this.rgb().formatHex()}function Xre(){return this.rgb().formatHex8()}function Kre(){return yL(this).formatHsl()}function Lk(){return this.rgb().formatRgb()}function hh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Mk(e):n===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$re.exec(t))?new Vr(e[1],e[2],e[3],1):(e=qre.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yre.exec(t))?Lm(e[1],e[2],e[3],e[4]):(e=Vre.exec(t))?Lm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gre.exec(t))?Uk(e[1],e[2]/100,e[3]/100,1):(e=Wre.exec(t))?Uk(e[1],e[2]/100,e[3]/100,e[4]):Rk.hasOwnProperty(t)?Mk(Rk[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function Mk(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function Lm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vr(t,e,n,r)}function Qre(t){return t instanceof Hh||(t=hh(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function ow(t,e,n,r){return arguments.length===1?Qre(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}GE(Vr,ow,gL(Hh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ch:Math.pow(ch,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(el(this.r),el(this.g),el(this.b),Bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:Zre,formatRgb:Fk,toString:Fk}));function Bk(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function Zre(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const t=Bp(this.opacity);return`${t===1?"rgb(":"rgba("}${el(this.r)}, ${el(this.g)}, ${el(this.b)}${t===1?")":`, ${t})`}`}function Bp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function el(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zo(t){return t=el(t),(t<16?"0":"")+t.toString(16)}function Uk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function yL(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Hh||(t=hh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Zi(s,l,c,t.opacity)}function Jre(t,e,n,r){return arguments.length===1?yL(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}GE(Zi,Jre,gL(Hh,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ch:Math.pow(ch,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vr(w1(t>=240?t-240:t+120,i,r),w1(t,i,r),w1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(Hk(this.h),Mm(this.s),Mm(this.l),Bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bp(this.opacity);return`${t===1?"hsl(":"hsla("}${Hk(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Hk(t){return t=(t||0)%360,t<0?t+360:t}function Mm(t){return Math.max(0,Math.min(1,t||0))}function w1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WE=t=>()=>t;function eie(t,e){return function(n){return t+n*e}}function tie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nie(t){return(t=+t)==1?bL:function(e,n){return n-e?tie(e,n,t):WE(isNaN(e)?n:e)}}function bL(t,e){var n=e-t;return n?eie(t,n):WE(isNaN(t)?e:t)}const zk=(function t(e){var n=nie(e);function r(i,a){var s=n((i=ow(i)).r,(a=ow(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=bL(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function rie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function iie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ic(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function sie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function oie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ic(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E1=new RegExp(lw.source,"g");function lie(t){return function(){return t}}function uie(t){return function(e){return t(e)+""}}function cie(t,e){var n=lw.lastIndex=E1.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=lw.exec(t))&&(i=E1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Fp(r,i)})),n=E1.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?uie(c[0].x):lie(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(d);return l.join("")})}function ic(t,e){var n=typeof e,r;return e==null||n==="boolean"?WE(e):(n==="number"?Fp:n==="string"?(r=hh(e))?(e=r,zk):cie:e instanceof hh?zk:e instanceof Date?sie:iie(e)?rie:Array.isArray(e)?aie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oie:Fp)(t,e)}function XE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function die(t,e){e===void 0&&(e=t,t=ic);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function hie(t){return function(){return t}}function Up(t){return+t}var $k=[0,1];function Sr(t){return t}function uw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hie(isNaN(e)?NaN:.5)}function fie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mie(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=uw(i,r),a=n(s,a)):(r=uw(r,i),a=n(a,s)),function(l){return a(r(l))}}function pie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uw(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Uh(t,l,1,r)-1;return a[c](i[c](l))}}function zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wg(){var t=$k,e=$k,n=ic,r,i,a,s=Sr,l,c,d;function h(){var y=Math.min(t.length,e.length);return s!==Sr&&(s=fie(t[0],t[y-1])),l=y>2?pie:mie,c=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((d||(d=l(e,t.map(r),Fp)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Up),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=XE,h()},p.clamp=function(y){return arguments.length?(s=y?!0:Sr,h()):s!==Sr},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,h()}}function KE(){return Wg()(Sr,Sr)}function gie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bu(t){return t=Hp(Math.abs(t)),t?t[1]:NaN}function yie(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function bie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fh(t){if(!(e=xie.exec(t)))throw new Error("invalid format: "+t);var e;return new QE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fh.prototype=QE.prototype;function QE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xL;function wie(t,e){var n=Hp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(xL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hp(t,Math.max(0,e+a-1))[0]}function qk(t,e){var n=Hp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qk(t*100,e),r:qk,s:wie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Gk=Array.prototype.map,Wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eie(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:yie(Gk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Vk:bie(Gk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=fh(p);var y=p.fill,b=p.align,x=p.sign,w=p.symbol,E=p.zero,S=p.width,C=p.comma,N=p.precision,D=p.trim,k=p.type;k==="n"?(C=!0,k="g"):Yk[k]||(N===void 0&&(N=12),D=!0,k="g"),(E||y==="0"&&b==="=")&&(E=!0,y="0",b="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",j=w==="$"?r:/[%p]/.test(k)?s:"",U=Yk[k],V=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function X(z){var Y=P,ne=j,K,se,L;if(k==="c")ne=U(z)+ne,z="";else{z=+z;var H=z<0||1/z<0;if(z=isNaN(z)?c:U(Math.abs(z),N),D&&(z=vie(z)),H&&+z==0&&x!=="+"&&(H=!1),Y=(H?x==="("?x:l:x==="-"||x==="("?"":x)+Y,ne=(k==="s"?Wk[8+xL/3]:"")+ne+(H&&x==="("?")":""),V){for(K=-1,se=z.length;++K<se;)if(L=z.charCodeAt(K),48>L||L>57){ne=(L===46?i+z.slice(K+1):z.slice(K))+ne,z=z.slice(0,K);break}}}C&&!E&&(z=e(z,1/0));var ie=Y.length+z.length+ne.length,ue=ie<S?new Array(S-ie+1).join(y):"";switch(C&&E&&(z=e(ue+z,ue.length?S-ne.length:1/0),ue=""),b){case"<":z=Y+z+ne+ue;break;case"=":z=Y+ue+z+ne;break;case"^":z=ue.slice(0,ie=ue.length>>1)+Y+z+ne+ue.slice(ie);break;default:z=ue+Y+z+ne;break}return a(z)}return X.toString=function(){return p+""},X}function h(p,y){var b=d((p=fh(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Bu(y)/3)))*3,w=Math.pow(10,-x),E=Wk[8+x/3];return function(S){return b(w*S)+E}}return{format:d,formatPrefix:h}}var Bm,ZE,vL;Aie({thousands:",",grouping:[3],currency:["$",""]});function Aie(t){return Bm=Eie(t),ZE=Bm.format,vL=Bm.formatPrefix,Bm}function Sie(t){return Math.max(0,-Bu(Math.abs(t)))}function Tie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(e)/3)))*3-Bu(Math.abs(t)))}function _ie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bu(e)-Bu(t))+1}function wL(t,e,n,r){var i=aw(t,e,n),a;switch(r=fh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Tie(i,s))&&(r.precision=a),vL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_ie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Sie(i))&&(r.precision=a-(r.type==="%")*2);break}}return ZE(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return rw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return wL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,h=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=iw(s,l,n),d===c)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function EL(){var t=KE();return t.copy=function(){return zh(t,EL())},Vi.apply(t,arguments),fo(t)}function AL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Up),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return AL(t).unknown(e)},t=arguments.length?Array.from(t,Up):[0,1],fo(n)}function SL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Xk(t){return Math.log(t)}function Kk(t){return Math.exp(t)}function Nie(t){return-Math.log(-t)}function Cie(t){return-Math.exp(-t)}function Oie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kie(t){return t===10?Oie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qk(t){return(e,n)=>-t(-e,n)}function JE(t){const e=t(Xk,Kk),n=e.domain;let r=10,i,a;function s(){return i=Pie(r),a=kie(r),n()[0]<0?(i=Qk(i),a=Qk(a),t(Nie,Cie)):t(Xk,Kk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let y=i(d),b=i(h),x,w;const E=l==null?10:+l;let S=[];if(!(r%1)&&b-y<E){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(x=1;x<r;++x)if(w=y<0?x/a(-y):x*a(y),!(w<d)){if(w>h)break;S.push(w)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(w=y>0?x/a(-y):x*a(y),!(w<d)){if(w>h)break;S.push(w)}S.length*2<E&&(S=rw(d,h,E))}else S=rw(y,b,Math.min(b-y,E)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fh(c)).precision==null&&(c.trim=!0),c=ZE(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?c(h):""}},e.nice=()=>n(SL(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function TL(){const t=JE(Wg()).domain([1,10]);return t.copy=()=>zh(t,TL()).base(t.base()),Vi.apply(t,arguments),t}function Zk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Jk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e2(t){var e=1,n=t(Zk(e),Jk(e));return n.constant=function(r){return arguments.length?t(Zk(e=+r),Jk(e)):e},fo(n)}function _L(){var t=e2(Wg());return t.copy=function(){return zh(t,_L()).constant(t.constant())},Vi.apply(t,arguments)}function eP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Die(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jie(t){return t<0?-t*t:t*t}function t2(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(Die,jie):t(eP(n),eP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function n2(){var t=t2(Wg());return t.copy=function(){return zh(t,n2()).exponent(t.exponent())},Vi.apply(t,arguments),t}function Rie(){return n2.apply(null,arguments).exponent(.5)}function tP(t){return Math.sign(t)*t*t}function Iie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function NL(){var t=KE(),e=[0,1],n=!1,r;function i(a){var s=Iie(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(tP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Up)).map(tP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return NL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vi.apply(i,arguments),fo(i)}function CL(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=Fre(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Uh(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ao),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CL().domain(t).range(e).unknown(r)},Vi.apply(a,arguments)}function OL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Uh(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return OL().domain([t,e]).range(i).unknown(a)},Vi.apply(fo(s),arguments)}function kL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Uh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kL().domain(t).range(e).unknown(n)},Vi.apply(i,arguments)}const A1=new Date,S1=new Date;function Ln(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>Ln(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(A1.setTime(+a),S1.setTime(+s),t(A1),t(S1),Math.floor(n(A1,S1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const zp=Ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zp);zp.range;const rs=1e3,Fi=rs*60,is=Fi*60,ds=is*24,r2=ds*7,nP=ds*30,T1=ds*365,$o=Ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCSeconds());$o.range;const i2=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getMinutes());i2.range;const a2=Ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getUTCMinutes());a2.range;const s2=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs-t.getMinutes()*Fi)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getHours());s2.range;const o2=Ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCHours());o2.range;const $h=Ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/ds,t=>t.getDate()-1);$h.range;const Xg=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>t.getUTCDate()-1);Xg.range;const PL=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>Math.floor(t/ds));PL.range;function bl(t){return Ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/r2)}const Kg=bl(0),$p=bl(1),Lie=bl(2),Mie=bl(3),Fu=bl(4),Bie=bl(5),Fie=bl(6);Kg.range;$p.range;Lie.range;Mie.range;Fu.range;Bie.range;Fie.range;function xl(t){return Ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/r2)}const Qg=xl(0),qp=xl(1),Uie=xl(2),Hie=xl(3),Uu=xl(4),zie=xl(5),$ie=xl(6);Qg.range;qp.range;Uie.range;Hie.range;Uu.range;zie.range;$ie.range;const l2=Ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l2.range;const u2=Ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u2.range;const hs=Ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hs.range;const fs=Ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fs.range;function DL(t,e,n,r,i,a){const s=[[$o,1,rs],[$o,5,5*rs],[$o,15,15*rs],[$o,30,30*rs],[a,1,Fi],[a,5,5*Fi],[a,15,15*Fi],[a,30,30*Fi],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[r,1,ds],[r,2,2*ds],[n,1,r2],[e,1,nP],[e,3,3*nP],[t,1,T1]];function l(d,h,p){const y=h<d;y&&([d,h]=[h,d]);const b=p&&typeof p.range=="function"?p:c(d,h,p),x=b?b.range(d,+h+1):[];return y?x.reverse():x}function c(d,h,p){const y=Math.abs(h-d)/p,b=qE(([,,E])=>E).right(s,y);if(b===s.length)return t.every(aw(d/T1,h/T1,p));if(b===0)return zp.every(Math.max(aw(d,h,p),1));const[x,w]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(w)}return[l,c]}const[qie,Yie]=DL(fs,u2,Qg,PL,o2,a2),[Vie,Gie]=DL(hs,l2,Kg,$h,s2,i2);function _1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ad(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=Sd(i),h=Td(i),p=Sd(a),y=Td(a),b=Sd(s),x=Td(s),w=Sd(l),E=Td(l),S=Sd(c),C=Td(c),N={a:H,A:ie,b:ue,B:M,c:null,d:lP,e:lP,f:yae,g:Nae,G:Oae,H:mae,I:pae,j:gae,L:jL,m:bae,M:xae,p:F,q:Z,Q:dP,s:hP,S:vae,u:wae,U:Eae,V:Aae,w:Sae,W:Tae,x:null,X:null,y:_ae,Y:Cae,Z:kae,"%":cP},D={a:R,A:oe,b:$,B:ae,c:null,d:uP,e:uP,f:Rae,g:qae,G:Vae,H:Pae,I:Dae,j:jae,L:IL,m:Iae,M:Lae,p:fe,q:ge,Q:dP,s:hP,S:Mae,u:Bae,U:Fae,V:Uae,w:Hae,W:zae,x:null,X:null,y:$ae,Y:Yae,Z:Gae,"%":cP},k={a:X,A:z,b:Y,B:ne,c:K,d:sP,e:sP,f:cae,g:aP,G:iP,H:oP,I:oP,j:sae,L:uae,m:aae,M:oae,p:V,q:iae,Q:hae,s:fae,S:lae,u:Jie,U:eae,V:tae,w:Zie,W:nae,x:se,X:L,y:aP,Y:iP,Z:rae,"%":dae};N.x=P(n,N),N.X=P(r,N),N.c=P(e,N),D.x=P(n,D),D.X=P(r,D),D.c=P(e,D);function P(J,Ne){return function(Le){var le=[],He=-1,Me=0,tt=J.length,ee,ye,Be;for(Le instanceof Date||(Le=new Date(+Le));++He<tt;)J.charCodeAt(He)===37&&(le.push(J.slice(Me,He)),(ye=rP[ee=J.charAt(++He)])!=null?ee=J.charAt(++He):ye=ee==="e"?" ":"0",(Be=Ne[ee])&&(ee=Be(Le,ye)),le.push(ee),Me=He+1);return le.push(J.slice(Me,He)),le.join("")}}function j(J,Ne){return function(Le){var le=Ad(1900,void 0,1),He=U(le,J,Le+="",0),Me,tt;if(He!=Le.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ne&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Me=N1(Ad(le.y,0,1)),tt=Me.getUTCDay(),Me=tt>4||tt===0?qp.ceil(Me):qp(Me),Me=Xg.offset(Me,(le.V-1)*7),le.y=Me.getUTCFullYear(),le.m=Me.getUTCMonth(),le.d=Me.getUTCDate()+(le.w+6)%7):(Me=_1(Ad(le.y,0,1)),tt=Me.getDay(),Me=tt>4||tt===0?$p.ceil(Me):$p(Me),Me=$h.offset(Me,(le.V-1)*7),le.y=Me.getFullYear(),le.m=Me.getMonth(),le.d=Me.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),tt="Z"in le?N1(Ad(le.y,0,1)).getUTCDay():_1(Ad(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(tt+5)%7:le.w+le.U*7-(tt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,N1(le)):_1(le)}}function U(J,Ne,Le,le){for(var He=0,Me=Ne.length,tt=Le.length,ee,ye;He<Me;){if(le>=tt)return-1;if(ee=Ne.charCodeAt(He++),ee===37){if(ee=Ne.charAt(He++),ye=k[ee in rP?Ne.charAt(He++):ee],!ye||(le=ye(J,Le,le))<0)return-1}else if(ee!=Le.charCodeAt(le++))return-1}return le}function V(J,Ne,Le){var le=d.exec(Ne.slice(Le));return le?(J.p=h.get(le[0].toLowerCase()),Le+le[0].length):-1}function X(J,Ne,Le){var le=b.exec(Ne.slice(Le));return le?(J.w=x.get(le[0].toLowerCase()),Le+le[0].length):-1}function z(J,Ne,Le){var le=p.exec(Ne.slice(Le));return le?(J.w=y.get(le[0].toLowerCase()),Le+le[0].length):-1}function Y(J,Ne,Le){var le=S.exec(Ne.slice(Le));return le?(J.m=C.get(le[0].toLowerCase()),Le+le[0].length):-1}function ne(J,Ne,Le){var le=w.exec(Ne.slice(Le));return le?(J.m=E.get(le[0].toLowerCase()),Le+le[0].length):-1}function K(J,Ne,Le){return U(J,e,Ne,Le)}function se(J,Ne,Le){return U(J,n,Ne,Le)}function L(J,Ne,Le){return U(J,r,Ne,Le)}function H(J){return s[J.getDay()]}function ie(J){return a[J.getDay()]}function ue(J){return c[J.getMonth()]}function M(J){return l[J.getMonth()]}function F(J){return i[+(J.getHours()>=12)]}function Z(J){return 1+~~(J.getMonth()/3)}function R(J){return s[J.getUTCDay()]}function oe(J){return a[J.getUTCDay()]}function $(J){return c[J.getUTCMonth()]}function ae(J){return l[J.getUTCMonth()]}function fe(J){return i[+(J.getUTCHours()>=12)]}function ge(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Ne=P(J+="",N);return Ne.toString=function(){return J},Ne},parse:function(J){var Ne=j(J+="",!1);return Ne.toString=function(){return J},Ne},utcFormat:function(J){var Ne=P(J+="",D);return Ne.toString=function(){return J},Ne},utcParse:function(J){var Ne=j(J+="",!0);return Ne.toString=function(){return J},Ne}}}var rP={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,Xie=/^%/,Kie=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Qie(t){return t.replace(Kie,"\\$&")}function Sd(t){return new RegExp("^(?:"+t.map(Qie).join("|")+")","i")}function Td(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Zie(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Jie(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iP(t,e,n){var r=Xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iae(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function aae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sae(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function oae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lae(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function uae(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cae(t,e,n){var r=Xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dae(t,e,n){var r=Xie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hae(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fae(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lP(t,e){return Pt(t.getDate(),e,2)}function mae(t,e){return Pt(t.getHours(),e,2)}function pae(t,e){return Pt(t.getHours()%12||12,e,2)}function gae(t,e){return Pt(1+$h.count(hs(t),t),e,3)}function jL(t,e){return Pt(t.getMilliseconds(),e,3)}function yae(t,e){return jL(t,e)+"000"}function bae(t,e){return Pt(t.getMonth()+1,e,2)}function xae(t,e){return Pt(t.getMinutes(),e,2)}function vae(t,e){return Pt(t.getSeconds(),e,2)}function wae(t){var e=t.getDay();return e===0?7:e}function Eae(t,e){return Pt(Kg.count(hs(t)-1,t),e,2)}function RL(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function Aae(t,e){return t=RL(t),Pt(Fu.count(hs(t),t)+(hs(t).getDay()===4),e,2)}function Sae(t){return t.getDay()}function Tae(t,e){return Pt($p.count(hs(t)-1,t),e,2)}function _ae(t,e){return Pt(t.getFullYear()%100,e,2)}function Nae(t,e){return t=RL(t),Pt(t.getFullYear()%100,e,2)}function Cae(t,e){return Pt(t.getFullYear()%1e4,e,4)}function Oae(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),Pt(t.getFullYear()%1e4,e,4)}function kae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function uP(t,e){return Pt(t.getUTCDate(),e,2)}function Pae(t,e){return Pt(t.getUTCHours(),e,2)}function Dae(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function jae(t,e){return Pt(1+Xg.count(fs(t),t),e,3)}function IL(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function Rae(t,e){return IL(t,e)+"000"}function Iae(t,e){return Pt(t.getUTCMonth()+1,e,2)}function Lae(t,e){return Pt(t.getUTCMinutes(),e,2)}function Mae(t,e){return Pt(t.getUTCSeconds(),e,2)}function Bae(t){var e=t.getUTCDay();return e===0?7:e}function Fae(t,e){return Pt(Qg.count(fs(t)-1,t),e,2)}function LL(t){var e=t.getUTCDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function Uae(t,e){return t=LL(t),Pt(Uu.count(fs(t),t)+(fs(t).getUTCDay()===4),e,2)}function Hae(t){return t.getUTCDay()}function zae(t,e){return Pt(qp.count(fs(t)-1,t),e,2)}function $ae(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function qae(t,e){return t=LL(t),Pt(t.getUTCFullYear()%100,e,2)}function Yae(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function Vae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uu(t):Uu.ceil(t),Pt(t.getUTCFullYear()%1e4,e,4)}function Gae(){return"+0000"}function cP(){return"%"}function dP(t){return+t}function hP(t){return Math.floor(+t/1e3)}var uu,ML,BL;Wae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wae(t){return uu=Wie(t),ML=uu.format,uu.parse,BL=uu.utcFormat,uu.utcParse,uu}function Xae(t){return new Date(t)}function Kae(t){return t instanceof Date?+t:+new Date(+t)}function c2(t,e,n,r,i,a,s,l,c,d){var h=KE(),p=h.invert,y=h.domain,b=d(".%L"),x=d(":%S"),w=d("%I:%M"),E=d("%I %p"),S=d("%a %d"),C=d("%b %d"),N=d("%B"),D=d("%Y");function k(P){return(c(P)<P?b:l(P)<P?x:s(P)<P?w:a(P)<P?E:r(P)<P?i(P)<P?S:C:n(P)<P?N:D)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?y(Array.from(P,Kae)):y().map(Xae)},h.ticks=function(P){var j=y();return t(j[0],j[j.length-1],P??10)},h.tickFormat=function(P,j){return j==null?k:d(j)},h.nice=function(P){var j=y();return(!P||typeof P.range!="function")&&(P=e(j[0],j[j.length-1],P??10)),P?y(SL(j,P)):h},h.copy=function(){return zh(h,c2(t,e,n,r,i,a,s,l,c,d))},h}function Qae(){return Vi.apply(c2(Vie,Gie,hs,l2,Kg,$h,s2,i2,$o,ML).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zae(){return Vi.apply(c2(qie,Yie,fs,u2,Qg,Xg,o2,a2,$o,BL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zg(){var t=0,e=1,n,r,i,a,s=Sr,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function h(p){return function(y){var b,x;return arguments.length?([b,x]=y,s=p(b,x),d):[s(0),s(1)]}}return d.range=h(ic),d.rangeRound=h(XE),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function mo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FL(){var t=fo(Zg()(Sr));return t.copy=function(){return mo(t,FL())},bs.apply(t,arguments)}function UL(){var t=JE(Zg()).domain([1,10]);return t.copy=function(){return mo(t,UL()).base(t.base())},bs.apply(t,arguments)}function HL(){var t=e2(Zg());return t.copy=function(){return mo(t,HL()).constant(t.constant())},bs.apply(t,arguments)}function d2(){var t=t2(Zg());return t.copy=function(){return mo(t,d2()).exponent(t.exponent())},bs.apply(t,arguments)}function Jae(){return d2.apply(null,arguments).exponent(.5)}function zL(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Uh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Bre(t,a/r))},n.copy=function(){return zL(e).domain(t)},bs.apply(n,arguments)}function Jg(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,d=Sr,h,p=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:c),d(p?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(w){return arguments.length?(p=!!w,b):p},b.interpolator=function(w){return arguments.length?(d=w,b):d};function x(w){return function(E){var S,C,N;return arguments.length?([S,C,N]=E,d=die(w,[S,C,N]),b):[d(0),d(.5),d(1)]}}return b.range=x(ic),b.rangeRound=x(XE),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return h=w,i=w(t),a=w(e),s=w(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function $L(){var t=fo(Jg()(Sr));return t.copy=function(){return mo(t,$L())},bs.apply(t,arguments)}function qL(){var t=JE(Jg()).domain([.1,1,10]);return t.copy=function(){return mo(t,qL()).base(t.base())},bs.apply(t,arguments)}function YL(){var t=e2(Jg());return t.copy=function(){return mo(t,YL()).constant(t.constant())},bs.apply(t,arguments)}function h2(){var t=t2(Jg());return t.copy=function(){return mo(t,h2()).exponent(t.exponent())},bs.apply(t,arguments)}function ese(){return h2.apply(null,arguments).exponent(.5)}const Dd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VE,scaleDiverging:$L,scaleDivergingLog:qL,scaleDivergingPow:h2,scaleDivergingSqrt:ese,scaleDivergingSymlog:YL,scaleIdentity:AL,scaleImplicit:sw,scaleLinear:EL,scaleLog:TL,scaleOrdinal:YE,scalePoint:Hre,scalePow:n2,scaleQuantile:CL,scaleQuantize:OL,scaleRadial:NL,scaleSequential:FL,scaleSequentialLog:UL,scaleSequentialPow:d2,scaleSequentialQuantile:zL,scaleSequentialSqrt:Jae,scaleSequentialSymlog:HL,scaleSqrt:Rie,scaleSymlog:_L,scaleThreshold:kL,scaleTime:Qae,scaleUtc:Zae,tickFormat:wL},Symbol.toStringTag,{value:"Module"}));var po=t=>t.chartData,tse=Ee([po],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),f2=(t,e,n,r)=>r?tse(t):po(t);function ll(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Wn(e)&&Wn(n))return!0}return!1}function fP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function VL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Wn(n))i=n;else if(typeof n=="function")return;if(Wn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ll(s))return s}}function nse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ll(r))return fP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(et(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&G3.test(i)){var c=G3.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(et(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&W3.test(a)){var h=W3.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e?.[1];var y=[s,l];if(ll(y))return e==null?y:fP(y,e,n)}}}var ac=1e9,rse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p2,un=!0,$i="[DecimalError] ",tl=$i+"Invalid argument: ",m2=$i+"Exponent out of range: ",sc=Math.floor,Lo=Math.pow,ise=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Yn=1e7,nn=7,GL=9007199254740991,Yp=sc(GL/nn),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(t){return os(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,n=e.constructor;return Xt(os(e,new n(t),0,1),n.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return Pn(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error($i+"NaN");if(n.s<1)throw Error($i+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(un=!1,e=os(mh(n,a),mh(t,a),a),un=!0,Xt(e,i))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KL(e,t):WL(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($i+"NaN");return n.s?(un=!1,e=os(n,t,0,1).times(t),un=!0,n.minus(e)):Xt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return XL(this)};$e.naturalLogarithm=$e.ln=function(){return mh(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WL(e,t):KL(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tl+t);if(e=Pn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$e.squareRoot=$e.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($i+"NaN")}for(t=Pn(l),un=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wa(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(os(l,a,s+2)).times(.5),wa(a.d).slice(0,s)===(e=wa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Xt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return un=!0,Xt(r,n)};$e.times=$e.mul=function(t){var e,n,r,i,a,s,l,c,d,h=this,p=h.constructor,y=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,d=b.length,c<d&&(a=y,y=b,b=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+b[r]*y[i-r-1]+e,a[i--]=l%Yn|0,e=l/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,un?Xt(t,p.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Oa(t,0,ac),e===void 0?e=r.rounding:Oa(e,0,8),Xt(n,t+Pn(n)+1,e))};$e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ul(r,!0):(Oa(t,0,ac),e===void 0?e=i.rounding:Oa(e,0,8),r=Xt(new i(r),t+1,e),n=ul(r,!0,t+1)),n};$e.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ul(i):(Oa(t,0,ac),e===void 0?e=a.rounding:Oa(e,0,8),r=Xt(new a(i),t+Pn(i)+1,e),n=ul(r.abs(),!1,t+Pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),Pn(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(mi);if(l=new c(l),!l.s){if(t.s<1)throw Error($i+"Infinity");return l}if(l.eq(mi))return l;if(r=c.precision,t.eq(mi))return Xt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=GL){for(i=new c(mi),e=Math.ceil(r/nn+4),un=!1;n%2&&(i=i.times(l),pP(i.d,e)),n=sc(n/2),n!==0;)l=l.times(l),pP(l.d,e);return un=!0,t.s<0?new c(mi).div(i):Xt(i,r)}}else if(a<0)throw Error($i+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,un=!1,i=t.times(mh(l,r+d)),un=!0,i=XL(i),i.s=a,i};$e.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Pn(i),r=ul(i,n<=a.toExpNeg||n>=a.toExpPos)):(Oa(t,1,ac),e===void 0?e=a.rounding:Oa(e,0,8),i=Xt(new a(i),t,e),n=Pn(i),r=ul(i,t<=n||n<=a.toExpNeg,t)),r};$e.toSignificantDigits=$e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Oa(t,1,ac),e===void 0?e=r.rounding:Oa(e,0,8)),Xt(new r(n),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pn(t),n=t.constructor;return ul(t,e<=n.toExpNeg||e>=n.toExpPos)};function WL(t,e){var n,r,i,a,s,l,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),un?Xt(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(p/nn),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Yn|0,c[a]%=Yn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,un?Xt(e,p):e}function Oa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tl+t)}function wa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=nn-r.length,n&&(a+=Js(n)),a+=r;s=t[e],r=s+"",n=nn-r.length,n&&(a+=Js(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var os=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Yn|0,s=a/Yn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,h,p,y,b,x,w,E,S,C,N,D,k,P,j,U,V=r.constructor,X=r.s==i.s?1:-1,z=r.d,Y=i.d;if(!r.s)return new V(r);if(!i.s)throw Error($i+"Division by zero");for(c=r.e-i.e,j=Y.length,k=z.length,b=new V(X),x=b.d=[],d=0;Y[d]==(z[d]||0);)++d;if(Y[d]>(z[d]||0)&&--c,a==null?C=a=V.precision:s?C=a+(Pn(r)-Pn(i))+1:C=a,C<0)return new V(0);if(C=C/nn+2|0,d=0,j==1)for(h=0,Y=Y[0],C++;(d<k||h)&&C--;d++)N=h*Yn+(z[d]||0),x[d]=N/Y|0,h=N%Y|0;else{for(h=Yn/(Y[0]+1)|0,h>1&&(Y=t(Y,h),z=t(z,h),j=Y.length,k=z.length),D=j,w=z.slice(0,j),E=w.length;E<j;)w[E++]=0;U=Y.slice(),U.unshift(0),P=Y[0],Y[1]>=Yn/2&&++P;do h=0,l=e(Y,w,j,E),l<0?(S=w[0],j!=E&&(S=S*Yn+(w[1]||0)),h=S/P|0,h>1?(h>=Yn&&(h=Yn-1),p=t(Y,h),y=p.length,E=w.length,l=e(p,w,y,E),l==1&&(h--,n(p,j<y?U:Y,y))):(h==0&&(l=h=1),p=Y.slice()),y=p.length,y<E&&p.unshift(0),n(w,p,E),l==-1&&(E=w.length,l=e(Y,w,j,E),l<1&&(h++,n(w,j<E?U:Y,E))),E=w.length):l===0&&(h++,w=[0]),x[d++]=h,l&&w[0]?w[E++]=z[D]||0:(w=[z[D]],E=1);while((D++<k||w[0]!==void 0)&&C--)}return x[0]||x.shift(),b.e=c,Xt(b,s?a+Pn(b)+1:a)}})();function XL(t,e){var n,r,i,a,s,l,c=0,d=0,h=t.constructor,p=h.precision;if(Pn(t)>16)throw Error(m2+Pn(t));if(!t.s)return new h(mi);for(un=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Lo(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(mi),h.precision=l;;){if(i=Xt(i.times(t),l),n=n.times(++c),s=a.plus(os(i,n,l)),wa(s.d).slice(0,l)===wa(a.d).slice(0,l)){for(;d--;)a=Xt(a.times(a),l);return h.precision=p,e==null?(un=!0,Xt(a,p)):a}a=s}}function Pn(t){for(var e=t.e*nn,n=t.d[0];n>=10;n/=10)e++;return e}function C1(t,e,n){if(e>t.LN10.sd())throw un=!0,n&&(t.precision=n),Error($i+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function Js(t){for(var e="";t--;)e+="0";return e}function mh(t,e){var n,r,i,a,s,l,c,d,h,p=1,y=10,b=t,x=b.d,w=b.constructor,E=w.precision;if(b.s<1)throw Error($i+(b.s?"NaN":"-Infinity"));if(b.eq(mi))return new w(0);if(e==null?(un=!1,d=E):d=e,b.eq(10))return e==null&&(un=!0),C1(w,d);if(d+=y,w.precision=d,n=wa(x),r=n.charAt(0),a=Pn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=wa(b.d),r=n.charAt(0),p++;a=Pn(b),r>1?(b=new w("0."+n),a++):b=new w(r+"."+n.slice(1))}else return c=C1(w,d+2,E).times(a+""),b=mh(new w(r+"."+n.slice(1)),d-y).plus(c),w.precision=E,e==null?(un=!0,Xt(b,E)):b;for(l=s=b=os(b.minus(mi),b.plus(mi),d),h=Xt(b.times(b),d),i=3;;){if(s=Xt(s.times(h),d),c=l.plus(os(s,new w(i),d)),wa(c.d).slice(0,d)===wa(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(C1(w,d+2,E).times(a+""))),l=os(l,new w(p),d),w.precision=E,e==null?(un=!0,Xt(l,E)):l;l=c,i+=2}}function mP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sc(n/nn),t.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nn;r<i;)t.d.push(+e.slice(r,r+=nn));e=e.slice(r),r=nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),un&&(t.e>Yp||t.e<-Yp))throw Error(m2+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,a,s,l,c,d,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=nn,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/nn),a=p.length,h>=a)return t;for(d=a=p[h],s=1;a>=10;a/=10)s++;r%=nn,i=r-nn+s}if(n!==void 0&&(a=Lo(10,s-i-1),l=d/a%10|0,c=e<0||p[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Lo(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Pn(t),p.length=1,e=e-a-1,p[0]=Lo(10,(nn-e%nn)%nn),t.e=sc(-e/nn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Lo(10,nn-r),p[h]=i>0?(d/Lo(10,s-i)%Lo(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Yn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Yn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(un&&(t.e>Yp||t.e<-Yp))throw Error(m2+Pn(t));return t}function KL(t,e){var n,r,i,a,s,l,c,d,h,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),un?Xt(e,b):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(b/nn),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Yn-1;--c[a],c[i]+=Yn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,un?Xt(e,b):e):new y(0)}function ul(t,e,n){var r,i=Pn(t),a=wa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Js(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Js(-i-1)+a,n&&(r=n-s)>0&&(a+=Js(r))):i>=s?(a+=Js(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Js(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Js(r))),t.s<0?"-"+a:a}function pP(t,e){if(t.length>e)return t.length=e,!0}function QL(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mP(s,a.toString())}else if(typeof a!="string")throw Error(tl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ise.test(a))mP(s,a);else throw Error(tl+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QL,i.config=i.set=ase,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ase(t){if(!t||typeof t!="object")throw Error($i+"Object expected");var e,n,r,i=["precision",1,ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tl+n+": "+r);return this}var p2=QL(rse);mi=new p2(1);const Ht=p2;var sse=t=>t,ZL={},JL=t=>t===ZL,gP=t=>function e(){return arguments.length===0||arguments.length===1&&JL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eM=(t,e)=>t===1?e:gP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==ZL).length;return a>=t?e(...r):eM(t-a,gP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=r.map(h=>JL(h)?l.shift():h);return e(...d,...l)}))}),e0=t=>eM(t.length,t),cw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ose=e0((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),lse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sse;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},dw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tM=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,l)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function nM(t){var e;return t===0?e=1:e=Math.floor(new Ht(t).abs().log(10).toNumber())+1,e}function rM(t,e,n){for(var r=new Ht(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}e0((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});e0((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});e0((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var iM=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},aM=(t,e,n)=>{if(t.lte(0))return new Ht(0);var r=nM(t.toNumber()),i=new Ht(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Ht(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?new Ht(c.toNumber()):new Ht(Math.ceil(c.toNumber()))},use=(t,e,n)=>{var r=new Ht(1),i=new Ht(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ht(10).pow(nM(t)-1),i=new Ht(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ht(Math.floor(t)))}else t===0?i=new Ht(Math.floor((e-1)/2)):n||(i=new Ht(Math.floor(t)));var s=Math.floor((e-1)/2),l=lse(ose(c=>i.add(new Ht(c-s).mul(r)).toNumber()),cw);return l(0,e)},sM=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var s=aM(new Ht(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Ht(0):(l=new Ht(e).add(n).div(2),l=l.sub(new Ht(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Ht(n).sub(l).div(s).toNumber()),h=c+d+1;return h>r?sM(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:l.sub(new Ht(c).mul(s)),tickMax:l.add(new Ht(d).mul(s))})};function cse(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=iM([e,n]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...cw(0,r-1).map(()=>1/0)]:[...cw(0,r-1).map(()=>-1/0),l];return e>n?dw(c):c}if(s===l)return use(s,r,i);var{step:d,tickMin:h,tickMax:p}=sM(s,l,a,i,0),y=rM(h,p.add(new Ht(.1).mul(d)),d);return e>n?dw(y):y}function dse(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=iM([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(e,2),c=aM(new Ht(s).sub(a).div(l-1),i,0),d=[...rM(new Ht(a),new Ht(s),c),s];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?dw(d):d}var hse=tM(cse),fse=tM(dse),mse=t=>t.rootProps.barCategoryGap,t0=t=>t.rootProps.stackOffset,g2=t=>t.options.chartName,y2=t=>t.rootProps.syncId,oM=t=>t.rootProps.syncMethod,b2=t=>t.options.eventEmitter,Tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},n0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},pse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:es.angleAxisId,includeHidden:!1,name:void 0,reversed:es.reversed,scale:es.scale,tick:es.tick,tickCount:void 0,ticks:void 0,type:es.type,unit:void 0},gse={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:fi.type,unit:void 0},yse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bse={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:"category",unit:void 0},x2=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?yse:pse,v2=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?bse:gse,r0=t=>t.polarOptions,w2=Ee([gs,ys,ur],hre),lM=Ee([r0,w2],(t,e)=>{if(t!=null)return uo(t.innerRadius,e,0)}),uM=Ee([r0,w2],(t,e)=>{if(t!=null)return uo(t.outerRadius,e,e*.8)}),xse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},cM=Ee([r0],xse);Ee([x2,cM],n0);var dM=Ee([w2,lM,uM],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ee([v2,dM],n0);var hM=Ee([rn,r0,lM,uM,gs,ys],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:c,endAngle:d}=e;return{cx:uo(s,i,i/2),cy:uo(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Mn=(t,e)=>e,i0=(t,e,n)=>n;function fM(t){return t?.id}function mM(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=fM(l);d.forEach((p,y)=>{var b=a==null||i?y:String(Nr(p,a,null)),x=Nr(p,l.dataKey,0),w;s.has(b)?w=s.get(b):w={},Object.assign(w,{[h]:x}),s.set(b,w)})}}),Array.from(s.values())}function E2(t){return t.stackId!=null&&t.dataKey!=null}var a0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function s0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function vse(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Bn=t=>{var e=rn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},oc=t=>t.tooltip.settings.axisId;function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hw=[0,"auto"],ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pM=(t,e)=>t.cartesianAxis.xAxis[e],xs=(t,e)=>{var n=pM(t,e);return n??ui},ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fh},gM=(t,e)=>t.cartesianAxis.yAxis[e],vs=(t,e)=>{var n=gM(t,e);return n??ci},Sse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},A2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Sse},Or=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return vs(t,n);case"zAxis":return A2(t,n);case"angleAxis":return x2(t,n);case"radiusAxis":return v2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Tse=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return vs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qh=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return vs(t,n);case"angleAxis":return x2(t,n);case"radiusAxis":return v2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function bM(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var xM=t=>t.graphicalItems.cartesianItems,_se=Ee([Mn,i0],bM),vM=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Yh=Ee([xM,Or,_se],vM,{memoizeOptions:{resultEqualityCheck:s0}}),wM=Ee([Yh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(E2)),EM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Nse=Ee([Yh],EM),AM=t=>t.map(e=>e.data).filter(Boolean).flat(1),Cse=Ee([Yh],AM,{memoizeOptions:{resultEqualityCheck:s0}}),SM=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},S2=Ee([Cse,f2],SM),TM=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Nr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Nr(i,r)}))):t.map(r=>({value:r})),o0=Ee([S2,Or,Yh],TM);function _M(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ep(t){if(Na(t)||t instanceof Date){var e=Number(t);if(Wn(e))return e}}function bP(t){if(Array.isArray(t)){var e=[ep(t[0]),ep(t[1])];return ll(e)?e:void 0}var n=ep(t);if(n!=null)return[n,n]}function ms(t){return t.map(ep).filter(LZ)}function Ose(t,e,n){return!n||typeof e!="number"||_a(e)?[]:n.length?ms(n.flatMap(r=>{var i=Nr(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Wn(a)||!Wn(s)))return[e-a,e+s]})):[]}var Fn=t=>{var e=Bn(t),n=oc(t);return qh(t,e,n)},NM=Ee([Fn],t=>t?.dataKey),kse=Ee([wM,f2,Fn],mM),CM=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,c=l.map(fM);return[s,{stackedData:nte(t,c,n),graphicalItems:l}]}))},Pse=Ee([kse,wM,t0],CM),OM=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=ate(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Dse=Ee([Or],t=>t.allowDataOverflow),T2=t=>{var e;if(t==null||!("domain"in t))return hw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ms(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:hw},kM=Ee([Or],T2),PM=Ee([kM,Dse],VL),jse=Ee([Pse,po,Mn,PM],OM,{memoizeOptions:{resultEqualityCheck:a0}}),_2=t=>t.errorBars,Rse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>_M(n,r)),Gp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},DM=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,h,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(S=>_M(i,S)),y=Nr(l,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),b=Ose(l,y,p);if(b.length>=2){var x=Math.min(...b),w=Math.max(...b);(a==null||x<a)&&(a=x),(s==null||w>s)&&(s=w)}var E=bP(y);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=bP(Nr(l,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Wn(a)&&Wn(s))return[a,s]},Ise=Ee([S2,Or,Nse,_2,Mn],DM,{memoizeOptions:{resultEqualityCheck:a0}});function Lse(t){var{value:e}=t;if(Na(e)||e instanceof Date)return e}var Mse=(t,e,n)=>{var r=t.map(Lse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&K4(r))?dL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},jM=t=>t.referenceElements.dots,lc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Bse=Ee([jM,Mn,i0],lc),RM=t=>t.referenceElements.areas,Fse=Ee([RM,Mn,i0],lc),IM=t=>t.referenceElements.lines,Use=Ee([IM,Mn,i0],lc),LM=(t,e)=>{var n=ms(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hse=Ee(Bse,Mn,LM),MM=(t,e)=>{var n=ms(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zse=Ee([Fse,Mn],MM);function $se(t){var e;if(t.x!=null)return ms([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ms(n)}function qse(t){var e;if(t.y!=null)return ms([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ms(n)}var BM=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?$se(r):qse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yse=Ee([Use,Mn],BM),Vse=Ee(Hse,Yse,zse,(t,e,n)=>Gp(t,n,e)),FM=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=c?Gp(r,a,i):Gp(a,i);return nse(e,d,t.allowDataOverflow)},Gse=Ee([Or,kM,PM,jse,Ise,Vse,rn,Mn],FM,{memoizeOptions:{resultEqualityCheck:a0}}),Wse=[0,1],UM=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=t,d=ho(e,a);if(d&&l==null){var h;return dL(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?Mse(r,t,d):i==="expand"?Wse:s}},N2=Ee([Or,rn,S2,o0,t0,Mn,Gse],UM),HM=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Lh(a));return l in Dd?l:"point"}}},Vh=Ee([Or,rn,yM,g2,Mn],HM);function Xse(t){if(t!=null){if(t in Dd)return Dd[t]();var e="scale".concat(Lh(t));if(e in Dd)return Dd[e]()}}function C2(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Xse(e);if(i!=null){var a=i.domain(n).range(r);return Zee(a),a}}}var zM=(t,e,n)=>{var r=T2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ll(t))return hse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ll(t))return fse(t,e.tickCount,e.allowDecimals)}},O2=Ee([N2,qh,Vh],zM),$M=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ll(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},Kse=Ee([Or,N2,O2,Mn],$M),Qse=Ee(o0,Or,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ms(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),qM=Ee(Qse,rn,mse,ur,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Wn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=uo(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Zse=(t,e)=>{var n=xs(t,e);return n==null||typeof n.padding!="string"?0:qM(t,"xAxis",e,n.padding)},Jse=(t,e)=>{var n=vs(t,e);return n==null||typeof n.padding!="string"?0:qM(t,"yAxis",e,n.padding)},eoe=Ee(xs,Zse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),toe=Ee(vs,Jse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),noe=Ee([ur,eoe,qg,$g,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),roe=Ee([ur,rn,toe,qg,$g,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Gh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return noe(t,n,r);case"yAxis":return roe(t,n,r);case"zAxis":return(i=A2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cM(t);case"radiusAxis":return dM(t,n);default:return}},YM=Ee([Or,Gh],n0),uc=Ee([Or,Vh,Kse,YM],C2);Ee([Yh,_2,Mn],Rse);function VM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var l0=(t,e)=>e,u0=(t,e,n)=>n,ioe=Ee(Hg,l0,u0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(VM)),aoe=Ee(zg,l0,u0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(VM)),GM=(t,e)=>({width:t.width,height:e.height}),soe=(t,e)=>{var n=typeof e.width=="number"?e.width:Fh;return{width:n,height:t.height}},ooe=Ee(ur,xs,GM),loe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},uoe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},coe=Ee(ys,ur,ioe,l0,u0,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=GM(e,l);s==null&&(s=loe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),doe=Ee(gs,ur,aoe,l0,u0,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=soe(e,l);s==null&&(s=uoe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),hoe=(t,e)=>{var n=xs(t,e);if(n!=null)return coe(t,n.orientation,n.mirror)},foe=Ee([ur,xs,hoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),moe=(t,e)=>{var n=vs(t,e);if(n!=null)return doe(t,n.orientation,n.mirror)},poe=Ee([ur,vs,moe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),goe=Ee(ur,vs,(t,e)=>{var n=typeof e.width=="number"?e.width:Fh;return{width:n,height:t.height}}),WM=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=ho(t,r),c=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&K4(c))return c}},k2=Ee([rn,o0,Or,Mn],WM),XM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=ho(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},P2=Ee([rn,o0,qh,Mn],XM),xP=Ee([rn,Tse,Vh,uc,k2,P2,Gh,O2,Mn],(t,e,n,r,i,a,s,l,c)=>{if(e!=null){var d=ho(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),yoe=(t,e,n,r,i,a,s,l,c)=>{if(!(e==null||r==null)){var d=ho(t,c),{type:h,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/b:0;x=c==="angleAxis"&&a!=null&&a.length>=2?Bi(a[0]-a[1])*2*x:x;var w=p||i;if(w){var E=w.map((S,C)=>{var N=s?s.indexOf(S):S;return{index:C,coordinate:r(N)+x,value:S,offset:x}});return E.filter(S=>Wn(S.coordinate))}return d&&l?l.map((S,C)=>({coordinate:r(S)+x,value:S,index:C,offset:x})).filter(S=>Wn(S.coordinate)):r.ticks?r.ticks(y).map(S=>({coordinate:r(S)+x,value:S,offset:x})):r.domain().map((S,C)=>({coordinate:r(S)+x,value:s?s[S]:S,index:C,offset:x}))}},KM=Ee([rn,qh,Vh,uc,O2,Gh,k2,P2,Mn],yoe),boe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=ho(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&r?.length>=2?Bi(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},QM=Ee([rn,qh,uc,Gh,k2,P2,Mn],boe),ZM=Ee(Or,uc,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})}),xoe=Ee([Or,Vh,N2,YM],C2);Ee((t,e,n)=>A2(t,n),xoe,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})});var voe=Ee([rn,Hg,zg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JM=t=>t.options.defaultTooltipEventType,e5=t=>t.options.validateTooltipEventTypes;function t5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function D2(t,e){var n=JM(t),r=e5(t);return t5(e,n,r)}function woe(t){return Qe(e=>D2(e,t))}var n5=(t,e)=>{var n,r=Number(e);if(!(_a(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Eoe=t=>t.tooltip.settings,no={active:!1,index:null,dataKey:void 0,coordinate:void 0},Aoe={itemInteraction:{click:no,hover:no},axisInteraction:{click:no,hover:no},keyboardInteraction:no,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r5=Qr({name:"tooltip",initialState:Aoe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:In()},removeTooltipEntrySettings:{reducer(t,e){var n=ss(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:In()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Soe,removeTooltipEntrySettings:Toe,setTooltipSettingsState:_oe,setActiveMouseOverItemIndex:Noe,mouseLeaveItem:Ape,mouseLeaveChart:i5,setActiveClickItemIndex:Spe,setMouseOverAxisIndex:a5,setMouseClickAxisIndex:Coe,setSyncInteraction:fw,setKeyboardInteraction:mw}=r5.actions,Ooe=r5.reducer;function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Roe(t){return t.index!=null}var s5=(t,e,n,r)=>{if(e==null)return no;var i=joe(t,e,n);if(i==null)return no;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Roe(i)){if(a)return Fm(Fm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Fm(Fm({},no),{},{coordinate:i.coordinate})},j2=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Wn(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},o5=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],d=c==null?void 0:l(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},l5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Wh=t=>t.options.tooltipPayloadSearcher,cc=t=>t.tooltip;function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return(e=Loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t,e){return t??e}var u5=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((y,b)=>{var x,{dataDefinedOnItem:w,settings:E}=b,S=Boe(w,l),C=Array.isArray(S)?zI(S,d,h):S,N=(x=E?.dataKey)!==null&&x!==void 0?x:r,D=E?.nameKey,k;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?k=Q4(C,r,i):k=a(C,e,c,D),Array.isArray(k))k.forEach(j=>{var U=EP(EP({},E),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});y.push(X3({tooltipEntrySettings:U,dataKey:j.dataKey,payload:j.payload,value:Nr(j.payload,j.dataKey),name:j.name}))});else{var P;y.push(X3({tooltipEntrySettings:E,dataKey:N,payload:k,value:Nr(k,N),name:(P=Nr(k,D))!==null&&P!==void 0?P:E?.name}))}return y},p)}},R2=Ee([Fn,rn,yM,g2,Bn],HM),Foe=Ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Uoe=Ee([Bn,oc],bM),Xh=Ee([Foe,Fn,Uoe],vM,{memoizeOptions:{resultEqualityCheck:s0}}),Hoe=Ee([Xh],t=>t.filter(E2)),zoe=Ee([Xh],AM,{memoizeOptions:{resultEqualityCheck:s0}}),dc=Ee([zoe,po],SM),$oe=Ee([Hoe,po,Fn],mM),I2=Ee([dc,Fn,Xh],TM),c5=Ee([Fn],T2),qoe=Ee([Fn],t=>t.allowDataOverflow),d5=Ee([c5,qoe],VL),Yoe=Ee([Xh],t=>t.filter(E2)),Voe=Ee([$oe,Yoe,t0],CM),Goe=Ee([Voe,po,Bn,d5],OM),Woe=Ee([Xh],EM),Xoe=Ee([dc,Fn,Woe,_2,Bn],DM,{memoizeOptions:{resultEqualityCheck:a0}}),Koe=Ee([jM,Bn,oc],lc),Qoe=Ee([Koe,Bn],LM),Zoe=Ee([RM,Bn,oc],lc),Joe=Ee([Zoe,Bn],MM),ele=Ee([IM,Bn,oc],lc),tle=Ee([ele,Bn],BM),nle=Ee([Qoe,tle,Joe],Gp),rle=Ee([Fn,c5,d5,Goe,Xoe,nle,rn,Bn],FM),h5=Ee([Fn,rn,dc,I2,t0,Bn,rle],UM),ile=Ee([h5,Fn,R2],zM),ale=Ee([Fn,h5,ile,Bn],$M),f5=t=>{var e=Bn(t),n=oc(t),r=!1;return Gh(t,e,n,r)},m5=Ee([Fn,f5],n0),p5=Ee([Fn,R2,ale,m5],C2),sle=Ee([rn,I2,Fn,Bn],WM),ole=Ee([rn,I2,Fn,Bn],XM),lle=(t,e,n,r,i,a,s,l)=>{if(e){var{type:c}=e,d=ho(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Bi(i[0]-i[1])*2*p:p,d&&s?s.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},ws=Ee([rn,Fn,R2,p5,f5,sle,ole,Bn],lle),L2=Ee([JM,e5,Eoe],(t,e,n)=>t5(n.shared,t,e)),g5=t=>t.tooltip.settings.trigger,M2=t=>t.tooltip.settings.defaultIndex,c0=Ee([cc,L2,g5,M2],s5),ph=Ee([c0,dc],j2),y5=Ee([ws,ph],n5),ule=Ee([c0],t=>{if(t)return t.dataKey}),b5=Ee([cc,L2,g5,M2],l5),cle=Ee([gs,ys,rn,ur,ws,M2,b5,Wh],o5),dle=Ee([c0,cle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),hle=Ee([c0],t=>t.active),fle=Ee([b5,ph,po,NM,y5,Wh,L2],u5),mle=Ee([fle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ple(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ble=()=>Qe(Fn),xle=()=>{var t=ble(),e=Qe(ws),n=Qe(p5);return Op(!t||!n?void 0:SP(SP({},t),{},{scale:n}),e)};function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ale=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Sle=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return cu(cu(cu({},r),or(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=r;return cu(cu(cu({},r),or(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Tle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var x5=(t,e,n,r,i)=>{var a,s=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?n[c-1].coordinate:n[l-1].coordinate,h=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(Bi(h-d)!==Bi(p-h)){var b=[];if(Bi(p-h)===Bi(i[1]-i[0])){y=p;var x=h+i[1]-i[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{y=d;var w=p+i[1]-i[0];b[0]=Math.min(h,(w+h)/2),b[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>E[0]&&t<=E[1]||t>=b[0]&&t<=b[1]){({index:s}=n[c]);break}}else{var S=Math.min(d,p),C=Math.max(d,p);if(t>(S+h)/2&&t<=(C+h)/2){({index:s}=n[c]);break}}}else if(e){for(var N=0;N<l;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:s}=e[N]);break}}return s},_le=()=>Qe(g2),B2=(t,e)=>e,v5=(t,e,n)=>n,F2=(t,e,n,r)=>r,Nle=Ee(ws,t=>Ig(t,e=>e.coordinate)),U2=Ee([cc,B2,v5,F2],s5),w5=Ee([U2,dc],j2),Cle=(t,e,n)=>{if(e!=null){var r=cc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},E5=Ee([cc,B2,v5,F2],l5),Wp=Ee([gs,ys,rn,ur,ws,F2,E5,Wh],o5),Ole=Ee([U2,Wp],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),A5=Ee([ws,w5],n5),kle=Ee([E5,w5,po,NM,A5,Wh,B2],u5),Ple=Ee([U2],t=>({isActive:t.active,activeIndex:t.index})),Dle=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Tle(t,s)){var l=ste(t,e),c=x5(l,a,i,n,r),d=Ale(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},jle=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=yre(t,n);if(l){var c=ote(l,e),d=x5(c,s,a,r,i),h=Sle(e,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},Rle=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Dle(t,e,r,i,a,s,l):jle(t,e,n,r,i,a,s)},Ile=Ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Lle=Ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Tr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vse}});function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ule={},Hle={zIndexMap:Object.values(Tr).reduce((t,e)=>NP(NP({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Ule)},zle=new Set(Object.values(Tr));function $le(t){return zle.has(t)}var S5=Qr({name:"zIndex",initialState:Hle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:In()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!$le(n)&&delete t.zIndexMap[n])},prepare:In()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:In()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:In()}}}),{registerZIndexPortal:qle,unregisterZIndexPortal:Yle,registerZIndexPortalId:Vle,unregisterZIndexPortalId:Gle}=S5.actions,Wle=S5.reducer;function Es(t){var{zIndex:e,children:n}=t,r=Hte(),i=r&&e!==void 0&&e!==0,a=Zr(),s=Dn();T.useLayoutEffect(()=>i?(s(qle({zIndex:e})),()=>{s(Yle({zIndex:e}))}):nc,[s,e,i]);var l=Qe(d=>Ile(d,e,a));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?Rw.createPortal(n,c):null}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xle(t,e,n){return(e=Kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Qle(t,"string");return typeof e=="symbol"?e:e+""}function Qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Jle(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:d,chartName:h}=t,p=n,y=r,b=i;if(!c||!p||h!=="ScatterChart"&&d!=="axis")return null;var x,w,E;if(h==="ScatterChart")x=p,w=Dne,E=Tr.cursorLine;else if(h==="BarChart")x=jne(l,p,a,s),w=oL,E=Tr.cursorRectangle;else if(l==="radial"&&J4(p)){var{cx:S,cy:C,radius:N,startAngle:D,endAngle:k}=lL(p);x={cx:S,cy:C,startAngle:D,endAngle:k,innerRadius:N,outerRadius:N},w=cL,E=Tr.cursorLine}else x={points:wre(l,p,a)},w=nL,E=Tr.cursorLine;var P=typeof c=="object"&&"className"in c?c.className:void 0,j=Um(Um(Um(Um({stroke:"#ccc",pointerEvents:"none"},a),x),kg(c)),{},{payload:y,payloadIndex:b,className:Vt("recharts-tooltip-cursor",P)});return T.createElement(Es,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},T.createElement(Zle,{cursor:c,cursorComp:w,cursorProps:j}))}function eue(t){var e=xle(),n=ZI(),r=Vg(),i=_le();return e==null||n==null||r==null||i==null?null:T.createElement(Jle,pw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var T5=T.createContext(null),tue=()=>T.useContext(T5),O1={exports:{}},OP;function nue(){return OP||(OP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,y),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,y,b,x){var w=n?n+d:d;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,C,N;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,y),!0;case 5:return E.fn.call(E.context,h,p,y,b),!0;case 6:return E.fn.call(E.context,h,p,y,b,x),!0}for(N=1,C=new Array(S-1);N<S;N++)C[N-1]=arguments[N];E.fn.apply(E.context,C)}else{var D=E.length,k;for(N=0;N<D;N++)switch(E[N].once&&this.removeListener(d,E[N].fn,void 0,!0),S){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,p);break;case 4:E[N].fn.call(E[N].context,h,p,y);break;default:if(!C)for(k=1,C=new Array(S-1);k<S;k++)C[k-1]=arguments[k];E[N].fn.apply(E[N].context,C)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!y||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var w=0,E=[],S=x.length;w<S;w++)(x[w].fn!==h||y&&!x[w].once||p&&x[w].context!==p)&&E.push(x[w]);E.length?this._events[b]=E.length===1?E[0]:E:s(this,b)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(O1)),O1.exports}var rue=nue();const iue=Ji(rue);var gh=new iue,gw="recharts.syncEvent.tooltip",kP="recharts.syncEvent.brush";function aue(t,e){if(e){var n=Number.parseInt(e,10);if(!_a(n))return t?.[n]}}var sue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_5=Qr({name:"options",initialState:sue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oue=_5.reducer,{createEventEmitter:lue}=_5.actions;function uue(t){return t.tooltip.syncInteraction}var cue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},N5=Qr({name:"chartData",initialState:cue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:PP,setDataStartEndIndexes:due,setComputedData:Tpe}=N5.actions,hue=N5.reducer,fue=["x","y"];function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return(e=pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=gue(t,"string");return typeof e=="symbol"?e:e+""}function gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t,e){if(t==null)return{};var n,r,i=bue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xue(){var t=Qe(y2),e=Qe(b2),n=Dn(),r=Qe(oM),i=Qe(ws),a=Vg(),s=Yg(),l=Qe(c=>c.rootProps.className);T.useEffect(()=>{if(t==null)return nc;var c=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){var y;if(s&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x,y:w}=b,E=yue(b,fue),{x:S,y:C,width:N,height:D}=h.payload.sourceViewBox,k=du(du({},E),{},{x:s.x+(N?(x-S)/N:0)*s.width,y:s.y+(D?(w-C)/D:0)*s.height});n(du(du({},h),{},{payload:du(du({},h.payload),{},{coordinate:k})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var j={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,j);P=i[U]}else r==="value"&&(P=i.find(L=>String(L.value)===h.payload.label));var{coordinate:V}=h.payload;if(P==null||h.payload.active===!1||V==null||s==null){n(fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:X,y:z}=V,Y=Math.min(X,s.x+s.width),ne=Math.min(z,s.y+s.height),K={x:a==="horizontal"?P.coordinate:Y,y:a==="horizontal"?ne:P.coordinate},se=fw({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(se)}}};return gh.on(gw,c),()=>{gh.off(gw,c)}},[l,n,e,t,r,i,a,s])}function vue(){var t=Qe(y2),e=Qe(b2),n=Dn();T.useEffect(()=>{if(t==null)return nc;var r=(i,a,s)=>{e!==s&&t===i&&n(due(a))};return gh.on(kP,r),()=>{gh.off(kP,r)}},[n,e,t])}function wue(){var t=Dn();T.useEffect(()=>{t(lue())},[t]),xue(),vue()}function Eue(t,e,n,r,i,a){var s=Qe(b=>Cle(b,t,e)),l=Qe(b2),c=Qe(y2),d=Qe(oM),h=Qe(uue),p=h?.active,y=Yg();T.useEffect(()=>{if(!p&&c!=null&&l!=null){var b=fw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});gh.emit(gw,c,b,l)}},[p,n,s,i,r,l,c,d,a,y])}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e,n){return(e=Sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ue(t){return t.dataKey}function Nue(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(cne,e)}var IP=[],Cue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Oue(t){var e,n,r=yr(t,Cue),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:y,position:b,reverseDirection:x,useTranslate3d:w,wrapperStyle:E,cursor:S,shared:C,trigger:N,defaultIndex:D,portal:k,axisId:P}=r,j=Dn(),U=typeof D=="number"?String(D):D;T.useEffect(()=>{j(_oe({shared:C,trigger:N,axisId:P,active:i,defaultIndex:U}))},[j,C,N,P,i,U]);var V=Yg(),X=tL(),z=woe(C),{activeIndex:Y,isActive:ne}=(e=Qe(fe=>Ple(fe,z,N,U)))!==null&&e!==void 0?e:{},K=Qe(fe=>kle(fe,z,N,U)),se=Qe(fe=>A5(fe,z,N,U)),L=Qe(fe=>Ole(fe,z,N,U)),H=K,ie=tue(),ue=(n=i??ne)!==null&&n!==void 0?n:!1,[M,F]=pI([H,ue]),Z=z==="axis"?se:void 0;Eue(z,N,L,Z,Y,ue);var R=k??ie;if(R==null||V==null||z==null)return null;var oe=H??IP;ue||(oe=IP),d&&oe.length&&(oe=cI(oe.filter(fe=>fe.value!=null&&(fe.hide!==!0||r.includeHidden)),y,_ue));var $=oe.length>0,ae=T.createElement(yne,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:ue,coordinate:L,hasPayload:$,offset:p,position:b,reverseDirection:x,useTranslate3d:w,viewBox:V,wrapperStyle:E,lastBoundingBox:M,innerRef:F,hasPortalFromProps:!!k},Nue(c,RP(RP({},r),{},{payload:oe,label:Z,active:ue,activeIndex:Y,coordinate:L,accessibilityLayer:X})));return T.createElement(T.Fragment,null,Rw.createPortal(ae,R),ue&&T.createElement(eue,{cursor:S,tooltipEventType:z,coordinate:L,payload:oe,index:Y}))}function kue(t,e,n){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jue{constructor(e){kue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bue={cacheSize:2e3,enableCache:!0},C5=Rue({},Bue),MP=new jue(C5.cacheSize),Fue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BP="recharts_measurement_span";function Uue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var FP=(t,e)=>{try{var n=document.getElementById(BP);n||(n=document.createElement("span"),n.setAttribute("id",BP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Fue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rc.isSsr)return{width:0,height:0};if(!C5.enableCache)return FP(e,n);var r=Uue(e,n),i=MP.get(r);if(i)return i;var a=FP(e,n);return MP.set(r,a),a},UP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,O5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ue=Object.keys(O5),vu="NaN";function que(t,e){return t*O5[e]}class $r{static parse(e){var n,[,r,i]=(n=zue.exec(e))!==null&&n!==void 0?n:[];return new $r(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,_a(e)&&(this.unit=""),n!==""&&!Hue.test(n)&&(this.num=NaN,this.unit=""),$ue.includes(n)&&(this.num=que(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new $r(NaN,""):new $r(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new $r(NaN,""):new $r(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $r(NaN,""):new $r(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $r(NaN,""):new $r(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _a(this.num)}}function k5(t){if(t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=UP.exec(e))!==null&&n!==void 0?n:[],s=$r.parse(r??""),l=$r.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return vu;e=e.replace(UP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,y]=(d=HP.exec(e))!==null&&d!==void 0?d:[],b=$r.parse(h??""),x=$r.parse(y??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return vu;e=e.replace(HP,w.toString())}return e}var zP=/\(([^()]*)\)/;function Yue(t){for(var e=t,n;(n=zP.exec(e))!=null;){var[,r]=n;e=e.replace(zP,k5(r))}return e}function Vue(t){var e=t.replace(/\s+/g,"");return e=Yue(e),e=k5(e),e}function Gue(t){try{return Vue(t)}catch{return vu}}function k1(t){var e=Gue(t.slice(5,-1));return e===vu?"":e}var Wue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xue=["dx","dy","angle","className","breakAll"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function $P(t,e){if(t==null)return{};var n,r,i=Kue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P5=/[ \f\n\r\t\v\u2028\u2029]+/,D5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gn(e)||(n?i=e.toString().split(""):i=e.toString().split(P5));var a=i.map(l=>({word:l,width:Yd(l,r).width})),s=n?0:Yd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Que(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j5=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(s),c.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),R5=t=>t.reduce((e,n)=>e.width>n.width?e:n),Zue="",qP=(t,e,n,r,i,a,s,l)=>{var c=t.slice(0,e),d=D5({breakAll:n,style:r,children:c+Zue});if(!d)return[!1,[]];var h=j5(d.wordsWithComputedWidth,a,s,l),p=h.length>i||R5(h).width>Number(a);return[p,h]},Jue=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=t,d=et(a),h=String(s),p=j5(e,r,n,i);if(!d||i)return p;var y=p.length>a||R5(p).width>Number(r);if(!y)return p;for(var b=0,x=h.length-1,w=0,E;b<=x&&w<=h.length-1;){var S=Math.floor((b+x)/2),C=S-1,[N,D]=qP(h,C,c,l,a,r,n,i),[k]=qP(h,S,c,l,a,r,n,i);if(!N&&!k&&(b=S+1),N&&k&&(x=S-1),!N&&k){E=D;break}w++}return E||p},YP=t=>{var e=Gn(t)?[]:t.toString().split(P5);return[{words:e,width:void 0}]},ece=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!rc.isSsr){var l,c,d=D5({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,c=p}else return YP(r);return Jue({breakAll:a,children:r,maxLines:s,style:i},l,c,e,!!n)}return YP(r)},I5="#808080",tce={breakAll:!1,capHeight:"0.71em",fill:I5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},H2=T.forwardRef((t,e)=>{var n=yr(t,tce),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,p=$P(n,Wue),y=T.useMemo(()=>ece({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:b,dy:x,angle:w,className:E,breakAll:S}=p,C=$P(p,Xue);if(!Na(r)||!Na(i)||y.length===0)return null;var N=Number(r)+(et(b)?b:0),D=Number(i)+(et(x)?x:0);if(!Wn(N)||!Wn(D))return null;var k;switch(h){case"start":k=k1("calc(".concat(s,")"));break;case"middle":k=k1("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=k1("calc(".concat(y.length-1," * -").concat(a,")"));break}var P=[];if(c){var j=y[0].width,{width:U}=p;P.push("scale(".concat(et(U)&&et(j)?U/j:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(N,", ").concat(D,")")),P.length&&(C.transform=P.join(" ")),T.createElement("text",yw({},Cr(C),{ref:e,x:N,y:D,className:Vt("recharts-text",E),textAnchor:d,fill:l.includes("url")?I5:l}),y.map((V,X)=>{var z=V.words.join(S?"":" ");return T.createElement("tspan",{x:N,dy:X===0?k:a,key:"".concat(z,"-").concat(X)},z)}))});H2.displayName="Text";var nce=["labelRef"];function rce(t,e){if(t==null)return{};var n,r,i=ice(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return(e=sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ts.apply(null,arguments)}var L5=T.createContext(null),lce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,c=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return T.createElement(L5.Provider,{value:c},l)},M5=()=>{var t=T.useContext(L5),e=Yg();return t||QI(e)},uce=T.createContext(null),cce=()=>{var t=T.useContext(uce),e=Qe(hM);return t||e},dce=t=>{var{value:e,formatter:n}=t,r=Gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},z2=t=>t!=null&&typeof t=="function",hce=(t,e)=>{var n=Bi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},fce=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:c,innerRadius:d,outerRadius:h,startAngle:p,endAngle:y,clockWise:b}=i,x=(d+h)/2,w=hce(p,y),E=w>=0?1:-1,S,C;switch(e){case"insideStart":S=p+E*a,C=b;break;case"insideEnd":S=y-E*a,C=!b;break;case"end":S=y+E*a,C=b;break;default:throw new Error("Unsupported position ".concat(e))}C=w<=0?C:!C;var N=or(l,c,x,S),D=or(l,c,x,S+(C?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(D.x,",").concat(D.y),P=Gn(t.id)?ah("recharts-radial-line-"):t.id;return T.createElement("text",ts({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:P,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(P)},n))},mce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:h,y:p}=or(r,i,s+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:x}=or(r,i,y,d);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},bw=t=>"cx"in t&&et(t.cx),pce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!bw(n)&&(a=n);var{x:s,y:l,upperWidth:c,lowerWidth:d,height:h}=e,p=s,y=s+(c-d)/2,b=(p+y)/2,x=(c+d)/2,w=p+c/2,E=h>=0?1:-1,S=E*r,C=E>0?"end":"start",N=E>0?"start":"end",D=c>=0?1:-1,k=D*r,P=D>0?"end":"start",j=D>0?"start":"end";if(i==="top"){var U={x:p+c/2,y:l-S,textAnchor:"middle",verticalAnchor:C};return vn(vn({},U),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var V={x:y+d/2,y:l+h+S,textAnchor:"middle",verticalAnchor:N};return vn(vn({},V),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var X={x:b-k,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return vn(vn({},X),a?{width:Math.max(X.x-a.x,0),height:h}:{})}if(i==="right"){var z={x:b+x+k,y:l+h/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},z),a?{width:Math.max(a.x+a.width-z.x,0),height:h}:{})}var Y=a?{width:x,height:h}:{};return i==="insideLeft"?vn({x:b+k,y:l+h/2,textAnchor:j,verticalAnchor:"middle"},Y):i==="insideRight"?vn({x:b+x-k,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},Y):i==="insideTop"?vn({x:p+c/2,y:l+S,textAnchor:"middle",verticalAnchor:N},Y):i==="insideBottom"?vn({x:y+d/2,y:l+h-S,textAnchor:"middle",verticalAnchor:C},Y):i==="insideTopLeft"?vn({x:p+k,y:l+S,textAnchor:j,verticalAnchor:N},Y):i==="insideTopRight"?vn({x:p+c-k,y:l+S,textAnchor:P,verticalAnchor:N},Y):i==="insideBottomLeft"?vn({x:y+k,y:l+h-S,textAnchor:j,verticalAnchor:C},Y):i==="insideBottomRight"?vn({x:y+d-k,y:l+h-S,textAnchor:P,verticalAnchor:C},Y):i&&typeof i=="object"&&(et(i.x)||us(i.x))&&(et(i.y)||us(i.y))?vn({x:s+uo(i.x,x),y:l+uo(i.y,h),textAnchor:"end",verticalAnchor:"end"},Y):vn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},gce={offset:5,zIndex:Tr.label};function eo(t){var e=yr(t,gce),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:d}=e,h=cce(),p=M5(),y=r==="center"?p:h??p,b,x,w;if(n==null?b=y:bw(n)?b=n:b=QI(n),!b||Gn(i)&&Gn(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var E=vn(vn({},e),{},{viewBox:b});if(T.isValidElement(s)){var{labelRef:S}=E,C=rce(E,nce);return T.cloneElement(s,C)}if(typeof s=="function"){if(x=T.createElement(s,E),T.isValidElement(x))return x}else x=dce(e);var N=Cr(e);if(bw(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fce(e,r,x,N,b);w=mce(b,e.offset,e.position)}else w=pce(e,b);return T.createElement(Es,{zIndex:e.zIndex},T.createElement(H2,ts({ref:d,className:Vt("recharts-label",l)},N,w,{textAnchor:Que(N.textAnchor)?N.textAnchor:w.textAnchor,breakAll:c}),x))}eo.displayName="Label";var yce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(eo,ts({key:"label-implicit"},r)):Na(t)?T.createElement(eo,ts({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===eo?T.cloneElement(t,vn({key:"label-implicit"},r)):T.createElement(eo,ts({key:"label-implicit",content:t},r)):z2(t)?T.createElement(eo,ts({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(eo,ts({},t,{key:"label-implicit"},r)):null};function bce(t){var{label:e,labelRef:n}=t,r=M5();return yce(e,r,n)||null}var P1={},D1={},GP;function xce(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(D1)),D1}var j1={},WP;function vce(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(j1)),j1}var XP;function wce(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xce(),n=vce(),r=DE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(P1)),P1}var R1,KP;function Ece(){return KP||(KP=1,R1=wce().last),R1}var Ace=Ece();const Sce=Ji(Ace);var Tce=["valueAccessor"],_ce=["dataKey","clockWise","id","textBreakAll","zIndex"];function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(null,arguments)}function QP(t,e){if(t==null)return{};var n,r,i=Nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cce=t=>Array.isArray(t.value)?Sce(t.value):t.value,B5=T.createContext(void 0),Oce=B5.Provider,F5=T.createContext(void 0);F5.Provider;function kce(){return T.useContext(B5)}function Pce(){return T.useContext(F5)}function tp(t){var{valueAccessor:e=Cce}=t,n=QP(t,Tce),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,c=QP(n,_ce),d=kce(),h=Pce(),p=d||h;return!p||!p.length?null:T.createElement(Es,{zIndex:l??Tr.label},T.createElement(lo,{className:"recharts-label-list"},p.map((y,b)=>{var x,w=Gn(r)?e(y,b):Nr(y&&y.payload,r),E=Gn(a)?{}:{id:"".concat(a,"-").concat(b)};return T.createElement(eo,Xp({key:"label-".concat(b)},Cr(y),c,E,{fill:(x=n.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}tp.displayName="LabelList";function Dce(t){var{label:e}=t;return e?e===!0?T.createElement(tp,{key:"labelList-implicit"}):T.isValidElement(e)||z2(e)?T.createElement(tp,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(tp,Xp({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(null,arguments)}var U5=t=>{var{cx:e,cy:n,r,className:i}=t,a=Vt("recharts-dot",i);return et(e)&&et(n)&&et(r)?T.createElement("circle",xw({},Ta(t),PE(t),{className:a,cx:e,cy:n,r})):null},jce={radiusAxis:{},angleAxis:{}},H5=Qr({name:"polarAxis",initialState:jce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:_pe,removeRadiusAxis:Npe,addAngleAxis:Cpe,removeAngleAxis:Ope}=H5.actions,Rce=H5.reducer,z5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,I1={},ZP;function Ice(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(I1)),I1}var L1,JP;function Lce(){return JP||(JP=1,L1=Ice().isPlainObject),L1}var Mce=Lce();const Bce=Ji(Mce);function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return(e=Uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(null,arguments)}var nD=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},zce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ce=t=>{var e=yr(t,zce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e,y=T.useRef(null),[b,x]=T.useState(-1),w=T.useRef(i),E=T.useRef(a),S=T.useRef(s),C=T.useRef(n),N=T.useRef(r),D=$E(t,"trapezoid-");if(T.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var K=y.current.getTotalLength();K&&x(K)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=Vt("recharts-trapezoid",l);if(!p)return T.createElement("g",null,T.createElement("path",Kp({},Cr(e),{className:k,d:nD(n,r,i,a,s)})));var P=w.current,j=E.current,U=S.current,V=C.current,X=N.current,z="0px ".concat(b===-1?1:b,"px"),Y="".concat(b,"px 0px"),ne=rL(["strokeDasharray"],d,c);return T.createElement(zE,{animationId:D,key:D,canBegin:b>0,duration:d,easing:c,isActive:p,begin:h},K=>{var se=Yr(P,i,K),L=Yr(j,a,K),H=Yr(U,s,K),ie=Yr(V,n,K),ue=Yr(X,r,K);y.current&&(w.current=se,E.current=L,S.current=H,C.current=ie,N.current=ue);var M=K>0?{transition:ne,strokeDasharray:Y}:{strokeDasharray:z};return T.createElement("path",Kp({},Cr(e),{className:k,d:nD(ie,ue,se,L,H),ref:y,style:tD(tD({},M),e.style)}))})},qce=["option","shapeType","propTransformer","activeClassName","isActive"];function Yce(t,e){if(t==null)return{};var n,r,i=Vce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kce(t,e){return Qp(Qp({},e),t)}function Qce(t,e){return t==="symbols"}function iD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(oL,n);case"trapezoid":return T.createElement($ce,n);case"sector":return T.createElement(cL,n);case"symbols":if(Qce(e))return T.createElement(kE,n);break;case"curve":return T.createElement(nL,n);default:return null}}function Zce(t){return T.isValidElement(t)?t.props:t}function Jce(t){var{option:e,shapeType:n,propTransformer:r=Kce,activeClassName:i="recharts-active-shape",isActive:a}=t,s=Yce(t,qce),l;if(T.isValidElement(e))l=T.cloneElement(e,Qp(Qp({},s),Zce(e)));else if(typeof e=="function")l=e(s);else if(Bce(e)&&typeof e!="boolean"){var c=r(e,s);l=T.createElement(iD,{shapeType:n,elementProps:c})}else{var d=s;l=T.createElement(iD,{shapeType:n,elementProps:d})}return a?T.createElement(lo,{className:i},l):l}function ede(t){var{fn:e,args:n}=t,r=Dn(),i=Zr();return T.useLayoutEffect(()=>{if(!i){var a=e(n);return r(Soe(a)),()=>{r(Toe(a))}}},[e,n,r,i]),null}function tde(t){var{legendPayload:e}=t,n=Dn(),r=Zr();return T.useLayoutEffect(()=>r?nc:(n(qte(e)),()=>{n(Yte(e))}),[n,r,e]),null}var M1,nde=()=>{var[t]=T.useState(()=>ah("uid-"));return t},rde=(M1=jB.useId)!==null&&M1!==void 0?M1:nde;function $5(t,e){var n=rde();return e||(t?"".concat(t,"-").concat(n):n)}var ide=T.createContext(void 0),ade=t=>{var{id:e,type:n,children:r}=t,i=$5("recharts-".concat(n),e);return T.createElement(ide.Provider,{value:i},r(i))},sde={cartesianItems:[],polarItems:[]},q5=Qr({name:"graphicalItems",initialState:sde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:In()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ss(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:In()},removeCartesianGraphicalItem:{reducer(t,e){var n=ss(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:In()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:In()},removePolarGraphicalItem:{reducer(t,e){var n=ss(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:In()}}}),{addCartesianGraphicalItem:ode,replaceCartesianGraphicalItem:lde,removeCartesianGraphicalItem:ude,addPolarGraphicalItem:kpe,removePolarGraphicalItem:Ppe}=q5.actions,cde=q5.reducer;function dde(t){var e=Dn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(ode(t)):n.current!==t&&e(lde({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(ude(n.current)),n.current=null)},[e]),null}var hde=["points"];function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(null,arguments)}function gde(t,e){if(t==null)return{};var n,r,i=yde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bde(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Vt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=gde(a,hde);return T.createElement(U5,Zp({},l,{className:i}))}function xde(t,e){return t==null?!1:e?!0:t.length===1}function vde(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:c,zIndex:d=Tr.scatter}=t;if(!xde(e,n))return null;var h=z5(n),p=qQ(n),y=e.map((x,w)=>{var E,S,C=B1(B1(B1({r:3},s),p),{},{index:w,cx:(E=x.x)!==null&&E!==void 0?E:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:a,value:x.value,payload:x.payload,points:e});return T.createElement(bde,{key:"dot-".concat(w),option:n,dotProps:C,className:i})}),b={};return l&&c!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),T.createElement(Es,{zIndex:d},T.createElement(lo,Zp({className:r},b),y))}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Ade(t,"string");return typeof e=="symbol"?e:e+""}function Ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sde={xAxis:{},yAxis:{},zAxis:{}},Y5=Qr({name:"cartesianAxis",initialState:Sde,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:In()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:In()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:In()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:In()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:In()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:In()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=oD(oD({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Tde,removeXAxis:_de,addYAxis:Nde,removeYAxis:Cde,addZAxis:Dpe,removeZAxis:jpe,updateYAxisWidth:Ode}=Y5.actions,kde=Y5.reducer,Pde=Ee([ur],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Dde=Ee([Pde,gs,ys],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$2=()=>Qe(Dde),jde=()=>Qe(mle);function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=F1(F1(F1({},s),kg(i)),PE(i)),c;return T.isValidElement(i)?c=T.cloneElement(i,l):typeof i=="function"?c=i(l):c=T.createElement(U5,l),T.createElement(lo,{className:"recharts-active-dot"},c)};function Bde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=Tr.activeDot}=t,s=Qe(ph),l=jde();if(e==null||l==null)return null;var c=e.find(d=>l.includes(d.payload));return Gn(c)?null:T.createElement(Es,{zIndex:a},T.createElement(Mde,{point:c,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var Fde={},V5=Qr({name:"errorBars",initialState:Fde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Rpe,replaceErrorBar:Ipe,removeErrorBar:Lpe}=V5.actions,Ude=V5.reducer,Hde=["children"];function zde(t,e){if(t==null)return{};var n,r,i=$de(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yde=T.createContext(qde);function Vde(t){var{children:e}=t,n=zde(t,Hde);return T.createElement(Yde.Provider,{value:n},e)}function G5(t,e){var n,r,i=Qe(d=>xs(d,t)),a=Qe(d=>vs(d,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ui.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ci.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function Gde(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$2(),{needClipX:a,needClipY:s,needClip:l}=G5(e,n);if(!l||!i)return null;var{x:c,y:d,width:h,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?c:c-h/2,y:s?d:d-p/2,width:a?h:h*2,height:s?p:p*2}))}var Wde=t=>{var{chartData:e}=t,n=Dn(),r=Zr();return T.useEffect(()=>r?()=>{}:(n(PP(e)),()=>{n(PP(void 0))}),[e,n,r]),null},uD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W5=Qr({name:"brush",initialState:uD,reducers:{setBrushSettings(t,e){return e.payload==null?uD:e.payload}}}),{setBrushSettings:Mpe}=W5.actions,Xde=W5.reducer;function Kde(t,e,n){return(e=Qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t){var e=Zde(t,"string");return typeof e=="symbol"?e:e+""}function Zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class q2{static create(e){return new q2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Kde(q2,"EPS",1e-4);function Jde(t){return(t%180+180)%180}var ehe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jde(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},the={dots:[],areas:[],lines:[]},X5=Qr({name:"referenceElements",initialState:the,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ss(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ss(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ss(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Bpe,removeDot:Fpe,addArea:Upe,removeArea:Hpe,addLine:zpe,removeLine:$pe}=X5.actions,nhe=X5.reducer,rhe=T.createContext(void 0),ihe=t=>{var{children:e}=t,[n]=T.useState("".concat(ah("recharts"),"-clip")),r=$2();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return T.createElement(rhe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function Hu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function K5(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function ahe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ehe(r,n)}function she(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Jp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ohe(t,e){return K5(t,e+1)}function lhe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,c=0,d=1,h=s,p=function(){var x=r?.[c];if(x===void 0)return{v:K5(r,d)};var w=c,E,S=()=>(E===void 0&&(E=n(x,w)),E),C=x.coordinate,N=c===0||Jp(t,C,S,h,l);N||(c=0,h=s,d+=1),N&&(h=C+t*(S()/2+i),c+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e,n){return(e=che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hhe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:c}=e,d=function(y){var b=a[y],x,w=()=>(x===void 0&&(x=n(b,y)),x);if(y===s-1){var E=t*(b.coordinate+t*w()/2-c);a[y]=b=dr(dr({},b),{},{tickCoord:E>0?b.coordinate-E*t:b.coordinate})}else a[y]=b=dr(dr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var S=Jp(t,b.tickCoord,w,l,c);S&&(c=b.tickCoord-t*(w()/2+i),a[y]=dr(dr({},b),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return a}function fhe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:c,end:d}=e;if(a){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-d);if(s[l-1]=h=dr(dr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var b=Jp(t,h.tickCoord,()=>p,c,d);b&&(d=h.tickCoord-t*(p/2+i),s[l-1]=dr(dr({},h),{},{isShow:!0}))}}for(var x=a?l-1:l,w=function(C){var N=s[C],D,k=()=>(D===void 0&&(D=n(N,C)),D);if(C===0){var P=t*(N.coordinate-t*k()/2-c);s[C]=N=dr(dr({},N),{},{tickCoord:P<0?N.coordinate-P*t:N.coordinate})}else s[C]=N=dr(dr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var j=Jp(t,N.tickCoord,k,c,d);j&&(c=N.tickCoord+t*(k()/2+i),s[C]=dr(dr({},N),{},{isShow:!0}))}},E=0;E<x;E++)w(E);return s}function Y2(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(et(c)||rc.isSsr){var y;return(y=ohe(i,et(c)?c:0))!==null&&y!==void 0?y:[]}var b=[],x=l==="top"||l==="bottom"?"width":"height",w=h&&x==="width"?Yd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(N,D)=>{var k=typeof d=="function"?d(N.value,D):N.value;return x==="width"?ahe(Yd(k,{fontSize:e,letterSpacing:n}),w,p):Yd(k,{fontSize:e,letterSpacing:n})[x]},S=i.length>=2?Bi(i[1].coordinate-i[0].coordinate):1,C=she(a,S,x);return c==="equidistantPreserveStart"?lhe(S,C,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?b=fhe(S,C,E,i,s,c==="preserveStartEnd"):b=hhe(S,C,E,i,s),b.filter(N=>N.isShow))}var mhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+l+(n?r:0);return Math.round(d)}return 0},phe=["axisLine","width","height","className","hide","ticks","axisType"],ghe=["viewBox"],yhe=["viewBox"];function vw(t,e){if(t==null)return{};var n,r,i=bhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(null,arguments)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e,n){return(e=vhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vhe(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Tr.axis};function Ehe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=kn(kn(kn({},c),Ta(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=kn(kn({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=kn(kn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",cl({},d,{className:Vt("recharts-cartesian-axis-line",Rg(l,"className"))}))}function Ahe(t,e,n,r,i,a,s,l,c){var d,h,p,y,b,x,w=l?-1:1,E=t.tickSize||s,S=et(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=h=t.coordinate,y=n+ +!l*i,p=y-w*E,x=p-w*c,b=S;break;case"left":p=y=t.coordinate,h=e+ +!l*r,d=h-w*E,b=d-w*c,x=S;break;case"right":p=y=t.coordinate,h=e+ +l*r,d=h+w*E,b=d+w*c,x=S;break;default:d=h=t.coordinate,y=n+ +l*i,p=y+w*E,x=p+w*c,b=S;break}return{line:{x1:d,y1:p,x2:h,y2:y},tick:{x:b,y:x}}}function She(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function The(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function _he(t){var{option:e,tickProps:n,value:r}=t,i,a=Vt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,kn(kn({},n),{},{className:a}));else if(typeof e=="function")i=e(kn(kn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Vt(s,e?.className)),i=T.createElement(H2,cl({},n,{className:s}),r)}return i}var Nhe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:p,x:y,y:b,width:x,height:w,tickSize:E,tickMargin:S,fontSize:C,letterSpacing:N,getTicksConfig:D,events:k,axisType:P}=t,j=Y2(kn(kn({},D),{},{ticks:n}),C,N),U=She(h,p),V=The(h,p),X=Ta(D),z=kg(r),Y={};typeof i=="object"&&(Y=i);var ne=kn(kn({},X),{},{fill:"none"},Y),K=j.map(H=>kn({entry:H},Ahe(H,y,b,x,w,h,E,p,S))),se=K.map(H=>{var{entry:ie,line:ue}=H;return T.createElement(lo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&T.createElement("line",cl({},ne,ue,{className:Vt("recharts-cartesian-axis-tick-line",Rg(i,"className"))})))}),L=K.map((H,ie)=>{var{entry:ue,tick:M}=H,F=kn(kn(kn(kn({textAnchor:U,verticalAnchor:V},X),{},{stroke:"none",fill:a},z),M),{},{index:ie,payload:ue,visibleTicksCount:j.length,tickFormatter:s,padding:c},d);return T.createElement(lo,cl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},eI(k,ue,ie)),r&&T.createElement(_he,{option:r,tickProps:F,value:"".concat(typeof s=="function"?s(ue.value,ie):ue.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},L.length>0&&T.createElement(Es,{zIndex:Tr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},L)),se.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},se))}),Che=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:c}=t,d=vw(t,phe),[h,p]=T.useState(""),[y,b]=T.useState(""),x=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return mhe({ticks:x.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=T.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var C=S[0];if(C){var N=window.getComputedStyle(C),D=N.fontSize,k=N.letterSpacing;(D!==h||k!==y)&&(p(D),b(k))}}},[h,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Es,{zIndex:t.zIndex},T.createElement(lo,{className:Vt("recharts-cartesian-axis",a)},T.createElement(Ehe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ta(t)}),T.createElement(Nhe,{ref:w,axisType:c,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(lce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(bce,{label:t.label,labelRef:t.labelRef}),t.children)))}),Ohe=T.memo(Che,(t,e)=>{var{viewBox:n}=t,r=vw(t,ghe),{viewBox:i}=e,a=vw(e,yhe);return Hu(n,i)&&Hu(r,a)}),G2=T.forwardRef((t,e)=>{var n=yr(t,V2);return T.createElement(Ohe,cl({},n,{ref:e}))});G2.displayName="CartesianAxis";var khe=["x1","y1","x2","y2","key"],Phe=["offset"],Dhe=["xAxisId","yAxisId"],jhe=["xAxisId","yAxisId"];function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Lhe(t,"string");return typeof e=="symbol"?e:e+""}function Lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(null,arguments)}function eg(t,e){if(t==null)return{};var n,r,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q5(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:c,key:d}=n,h=eg(n,khe),p=(i=Ta(h))!==null&&i!==void 0?i:{},{offset:y}=p,b=eg(p,Phe);r=T.createElement("line",qo({},b,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return r}function Fhe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=eg(t,Dhe),c=i.map((d,h)=>{var p=hr(hr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return T.createElement(Q5,{key:"line-".concat(h),option:r,lineItemProps:p})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Uhe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=eg(t,jhe),c=i.map((d,h)=>{var p=hr(hr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return T.createElement(Q5,{option:r,lineItemProps:p,key:"line-".concat(h)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Hhe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+s-p:d[y+1]-p;if(x<=0)return null;var w=y%e.length;return T.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function zhe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+s-p:d[y+1]-p;if(x<=0)return null;var w=y%n.length;return T.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $he=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return $I(Y2(hr(hr(hr({},V2),n),{},{ticks:qI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},qhe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return $I(Y2(hr(hr(hr({},V2),n),{},{ticks:qI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Yhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Tr.grid};function Z5(t){var e=UE(),n=HE(),r=ZI(),i=hr(hr({},yr(t,Yhe)),{},{x:et(t.x)?t.x:r.left,y:et(t.y)?t.y:r.top,width:et(t.width)?t.width:r.width,height:et(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:d,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=Zr(),w=Qe(V=>xP(V,"xAxis",a,x)),E=Qe(V=>xP(V,"yAxis",s,x));if(!Ca(d)||!Ca(h)||!et(l)||!et(c))return null;var S=i.verticalCoordinatesGenerator||$he,C=i.horizontalCoordinatesGenerator||qhe,{horizontalPoints:N,verticalPoints:D}=i;if((!N||!N.length)&&typeof C=="function"){var k=y&&y.length,P=C({yAxis:E?hr(hr({},E),{},{ticks:k?y:E.ticks}):void 0,width:e??d,height:n??h,offset:r},k?!0:p);kp(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(N=P)}if((!D||!D.length)&&typeof S=="function"){var j=b&&b.length,U=S({xAxis:w?hr(hr({},w),{},{ticks:j?b:w.ticks}):void 0,width:e??d,height:n??h,offset:r},j?!0:p);kp(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(D=U)}return T.createElement(Es,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Bhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(Hhe,qo({},i,{horizontalPoints:N})),T.createElement(zhe,qo({},i,{verticalPoints:D})),T.createElement(Fhe,qo({},i,{offset:r,horizontalPoints:N,xAxis:w,yAxis:E})),T.createElement(Uhe,qo({},i,{offset:r,verticalPoints:D,xAxis:w,yAxis:E}))))}Z5.displayName="CartesianGrid";var J5=(t,e,n,r)=>ZM(t,"xAxis",e,r),e6=(t,e,n,r)=>QM(t,"xAxis",e,r),t6=(t,e,n,r)=>ZM(t,"yAxis",n,r),n6=(t,e,n,r)=>QM(t,"yAxis",n,r),Vhe=Ee([rn,J5,t6,e6,n6],(t,e,n,r,i)=>ho(t,"xAxis")?Op(e,r,!1):Op(n,i,!1)),Ghe=(t,e,n,r,i)=>i;function Whe(t){return t.type==="line"}var Xhe=Ee([xM,Ghe],(t,e)=>t.filter(Whe).find(n=>n.id===e)),Khe=Ee([rn,J5,t6,e6,n6,Xhe,Vhe,f2],(t,e,n,r,i,a,s,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=c?.slice(d,h+1),b!=null)return yfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:b})}});function Qhe(t){var e=kg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var Zhe=["id"],Jhe=["type","layout","connectNulls","needClip","shape"],efe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(null,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var afe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:YI(n,e),payload:t}]};function sfe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:YI(s,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var r6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function ofe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var lfe=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return r6(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){l=[...n.slice(0,c),a-d];break}var h=l.length%2===0?[0,s]:[s];return[...ofe(n,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function ufe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,c=W2(r,Zhe),d=Ta(c);return T.createElement(vde,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function cfe(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r?.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ba(ba({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(Oce,{value:e?i:void 0},n)}function mD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:c,needClip:d,shape:h}=a,p=W2(a,Jhe),y=ba(ba({},Cr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(Jce,yh({shapeType:"curve",option:h},y,{pathRef:n})),T.createElement(ufe,{points:r,clipPathId:e,props:a}))}function dfe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function hfe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:p,animateNewValues:y,width:b,height:x,onAnimationEnd:w,onAnimationStart:E}=n,S=i.current,C=$E(n,"recharts-line-"),[N,D]=T.useState(!1),k=!N,P=T.useCallback(()=>{typeof w=="function"&&w(),D(!1)},[w]),j=T.useCallback(()=>{typeof E=="function"&&E(),D(!0)},[E]),U=dfe(r.current),V=a.current;return T.createElement(cfe,{points:s,showLabels:k},n.children,T.createElement(zE,{animationId:C,begin:d,duration:h,isActive:c,easing:p,onAnimationEnd:P,onAnimationStart:j,key:C},X=>{var z=Yr(V,U+V,X),Y=Math.min(z,U),ne;if(c)if(l){var K="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));ne=lfe(Y,U,K)}else ne=r6(U,Y);else ne=l==null?void 0:String(l);if(S){var se=S.length/s.length,L=X===1?s:s.map((H,ie)=>{var ue=Math.floor(ie*se);if(S[ue]){var M=S[ue];return ba(ba({},H),{},{x:Yr(M.x,H.x,X),y:Yr(M.y,H.y,X)})}return y?ba(ba({},H),{},{x:Yr(b*2,H.x,X),y:Yr(x/2,H.y,X)}):ba(ba({},H),{},{x:H.x,y:H.y})});return i.current=L,T.createElement(mD,{props:n,points:L,clipPathId:e,pathRef:r,strokeDasharray:ne})}return X>0&&U>0&&(i.current=s,a.current=Y),T.createElement(mD,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:ne})}),T.createElement(Dce,{label:n.label}))}function ffe(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(hfe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var mfe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Nr(t.payload,e)}};class pfe extends T.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:c,width:d,height:h,id:p,needClip:y,zIndex:b}=this.props;if(e)return null;var x=Vt("recharts-line",i),w=p,{r:E,strokeWidth:S}=Qhe(n),C=z5(n),N=E*2+S;return T.createElement(Es,{zIndex:b},T.createElement(lo,{className:x},y&&T.createElement("defs",null,T.createElement(Gde,{clipPathId:w,xAxisId:a,yAxisId:s}),!C&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:c-N/2,y:l-N/2,width:d+N,height:h+N}))),T.createElement(Vde,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:mfe,errorBarOffset:0},T.createElement(ffe,{props:this.props,clipPathId:w}))),T.createElement(Bde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var i6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!rc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Tr.line};function gfe(t){var e=yr(t,i6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:d,isAnimationActive:h,label:p,legendType:y,xAxisId:b,yAxisId:x,id:w}=e,E=W2(e,efe),{needClip:S}=G5(b,x),C=$2(),N=Vg(),D=Zr(),k=Qe(X=>Khe(X,b,x,D,w));if(N!=="horizontal"&&N!=="vertical"||k==null||C==null)return null;var{height:P,width:j,x:U,y:V}=C;return T.createElement(pfe,yh({},E,{id:w,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:d,label:p,legendType:y,xAxisId:b,yAxisId:x,points:k,layout:N,height:P,width:j,left:U,top:V,needClip:S}))}function yfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=t;return c.map((d,h)=>{var p=Nr(d,s);if(e==="horizontal"){var y=V3({axis:n,ticks:i,bandSize:l,entry:d,index:h}),b=Gn(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:d}}var x=Gn(p)?null:n.scale(p),w=V3({axis:r,ticks:a,bandSize:l,entry:d,index:h});return x==null||w==null?null:{x,y:w,value:p,payload:d}}).filter(Boolean)}function bfe(t){var e=yr(t,i6),n=Zr();return T.createElement(ade,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(tde,{legendPayload:afe(e)}),T.createElement(ede,{fn:sfe,args:e}),T.createElement(dde,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(gfe,yh({},e,{id:r}))))}var np=T.memo(bfe);np.displayName="Line";var xfe=["dangerouslySetInnerHTML","ticks"],vfe=["id"],wfe=["domain"],Efe=["domain"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function tg(t,e){if(t==null)return{};var n,r,i=Afe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sfe(t){var e=Dn();return T.useLayoutEffect(()=>(e(Tde(t)),()=>{e(_de(t))}),[t,e]),null}var Tfe=t=>{var{xAxisId:e,className:n}=t,r=Qe(GI),i=Zr(),a="xAxis",s=Qe(E=>uc(E,a,e,i)),l=Qe(E=>KM(E,a,e,i)),c=Qe(E=>ooe(E,e)),d=Qe(E=>foe(E,e)),h=Qe(E=>pM(E,e));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,b=tg(t,xfe),{id:x}=h,w=tg(h,vfe);return T.createElement(G2,ww({},b,w,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Vt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},_fe={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,height:ui.height,hide:!1,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tickCount:ui.tickCount,type:ui.type,xAxisId:0},Nfe=t=>{var e,n,r,i,a,s=yr(t,_fe);return T.createElement(T.Fragment,null,T.createElement(Sfe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(Tfe,s))},Cfe=(t,e)=>{var{domain:n}=t,r=tg(t,wfe),{domain:i}=e,a=tg(e,Efe);return Hu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Hu({domain:n},{domain:i}):!1},a6=T.memo(Nfe,Cfe);a6.displayName="XAxis";var Ofe=["dangerouslySetInnerHTML","ticks"],kfe=["id"],Pfe=["domain"],Dfe=["domain"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(null,arguments)}function ng(t,e){if(t==null)return{};var n,r,i=jfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rfe(t){var e=Dn();return T.useLayoutEffect(()=>(e(Nde(t)),()=>{e(Cde(t))}),[t,e]),null}var Ife=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),s=T.useRef(null),l=Qe(GI),c=Zr(),d=Dn(),h="yAxis",p=Qe(k=>uc(k,h,e,c)),y=Qe(k=>goe(k,e)),b=Qe(k=>poe(k,e)),x=Qe(k=>KM(k,h,e,c)),w=Qe(k=>gM(k,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!y||z2(i)||T.isValidElement(i)||w==null)){var k=a.current;if(k){var P=k.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&d(Ode({id:e,width:P}))}}},[x,y,d,i,e,r,w]),y==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=t,C=ng(t,Ofe),{id:N}=w,D=ng(w,kfe);return T.createElement(G2,Ew({},C,D,{ref:a,labelRef:s,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Vt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:x,axisType:h}))},Lfe={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,hide:!1,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tickCount:ci.tickCount,type:ci.type,width:ci.width,yAxisId:0},Mfe=t=>{var e,n,r,i,a,s=yr(t,Lfe);return T.createElement(T.Fragment,null,T.createElement(Rfe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),T.createElement(Ife,s))},Bfe=(t,e)=>{var{domain:n}=t,r=ng(t,Pfe),{domain:i}=e,a=ng(e,Dfe);return Hu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Hu({domain:n},{domain:i}):!1},Aw=T.memo(Mfe,Bfe);Aw.displayName="YAxis";var U1={exports:{}},H1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function Ffe(){if(pD)return H1;pD=1;var t=zu();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return H1.useSyncExternalStoreWithSelector=function(c,d,h,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function E(k){if(!S){if(S=!0,C=k,k=p(k),y!==void 0&&x.hasValue){var P=x.value;if(y(P,k))return N=P}return N=k}if(P=N,n(C,k))return P;var j=p(k);return y!==void 0&&y(P,j)?(C=k,P):(C=k,N=j)}var S=!1,C,N,D=h===void 0?null:h;return[function(){return E(d())},D===null?void 0:function(){return E(D())}]},[d,h,p,y]);var w=r(c,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},H1}var gD;function Ufe(){return gD||(gD=1,U1.exports=Ffe()),U1.exports}Ufe();function Hfe(t){t()}function zfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Hfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var yD={notify(){},get:()=>[]};function $fe(t,e){let n,r=yD,i=0,a=!1;function s(w){h();const E=r.subscribe(w);let S=!1;return()=>{S||(S=!0,E(),p())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(c),r=zfe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=yD)}function y(){a||(a=!0,h())}function b(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var qfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yfe=qfe(),Vfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gfe=Vfe(),Wfe=()=>Yfe||Gfe?T.useLayoutEffect:T.useEffect,Xfe=Wfe(),Kfe=Symbol.for("react-redux-context"),Qfe=typeof globalThis<"u"?globalThis:{};function Zfe(){if(!T.createContext)return{};const t=Qfe[Kfe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Jfe=Zfe();function eme(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const c=$fe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);Xfe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=n||Jfe;return T.createElement(l.Provider,{value:a},e)}var tme=eme,nme=(t,e)=>e,X2=Ee([nme,rn,hM,Bn,m5,ws,Nle,ur],Rle),K2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},s6=zi("mouseClick"),o6=Bh();o6.startListening({actionCreator:s6,effect:(t,e)=>{var n=t.payload,r=X2(e.getState(),K2(n));r?.activeIndex!=null&&e.dispatch(Coe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Sw=zi("mouseMove"),l6=Bh();l6.startListening({actionCreator:Sw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=D2(r,r.tooltip.settings.shared),a=X2(r,K2(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(a5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(i5()))}});var bD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},u6=Qr({name:"rootProps",initialState:bD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:bD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),rme=u6.reducer,{updateOptions:ime}=u6.actions,c6=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:qpe}=c6.actions,ame=c6.reducer,d6=zi("keyDown"),h6=zi("focus"),Q2=Bh();Q2.startListening({actionCreator:d6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(j2(i,dc(n))),l=ws(n);if(a==="Enter"){var c=Wp(n,"axis","hover",String(i.index));e.dispatch(mw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=voe(n),h=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=s+p*h;if(!(l==null||y>=l.length||y<0)){var b=Wp(n,"axis","hover",String(y));e.dispatch(mw({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});Q2.startListening({actionCreator:h6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Wp(n,"axis","hover",String(a));e.dispatch(mw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ji=zi("externalEvent"),f6=Bh();f6.startListening({actionCreator:ji,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:dle(n),activeDataKey:ule(n),activeIndex:ph(n),activeLabel:y5(n),activeTooltipIndex:ph(n),isTooltipActive:hle(n)};t.payload.handler(r,t.payload.reactEvent)}}});var sme=Ee([cc],t=>t.tooltipItemPayloads),ome=Ee([sme,Wh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),m6=zi("touchMove"),p6=Bh();p6.startListening({actionCreator:m6,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=D2(r,r.tooltip.settings.shared);if(i==="axis"){var a=X2(r,K2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(a5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(ute),h=(s=c.getAttribute(cte))!==null&&s!==void 0?s:void 0,p=ome(e.getState(),d,h);e.dispatch(Noe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var lme=yI({brush:Xde,cartesianAxis:kde,chartData:hue,errorBars:Ude,graphicalItems:cde,layout:Gee,legend:Vte,options:oue,polarAxis:Rce,polarOptions:ame,referenceElements:nhe,rootProps:rme,tooltip:Ooe,zIndex:Wle}),ume=function(e){return bee({reducer:lme,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([o6.middleware,l6.middleware,Q2.middleware,f6.middleware,p6.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(OI({type:"raf"}))},devTools:rc.devToolsEnabled})};function cme(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Zr(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=ume(e));var s=jE;return T.createElement(tme,{context:s,store:a.current},n)}function dme(t){var{layout:e,margin:n}=t,r=Dn(),i=Zr();return T.useEffect(()=>{i||(r(qee(e)),r($ee(n)))},[r,i,e,n]),null}function hme(t){var e=Dn();return T.useEffect(()=>{e(ime(t))},[e,t]),null}function xD(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=$5("".concat(r).concat(e)),a=Dn();return T.useLayoutEffect(()=>(a(Vle({zIndex:e,elementId:i,isPanorama:n})),()=>{a(Gle({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{id:i})}function vD(t){var{children:e,isPanorama:n}=t,r=Qe(Lle);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(xD,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>T.createElement(xD,{key:s,zIndex:s,isPanorama:n})))}var fme=["children"];function mme(t,e){if(t==null)return{};var n,r,i=pme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(null,arguments)}var gme={width:"100%",height:"100%",display:"block"},yme=T.forwardRef((t,e)=>{var n=UE(),r=HE(),i=tL();if(!Ca(n)||!Ca(r))return null;var{children:a,otherAttributes:s,title:l,desc:c}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),T.createElement(AE,rg({},s,{title:l,desc:c,role:h,tabIndex:d,width:n,height:r,style:gme,ref:e}),a)}),bme=t=>{var{children:e}=t,n=Qe(qg);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement(AE,{width:r,height:i,x:s,y:a},e)},wD=T.forwardRef((t,e)=>{var{children:n}=t,r=mme(t,fme),i=Zr();return i?T.createElement(bme,null,T.createElement(vD,{isPanorama:!0},n)):T.createElement(yme,rg({ref:e},r),T.createElement(vD,{isPanorama:!1},n))});function xme(){var t=Dn(),[e,n]=T.useState(null),r=Qe(lte);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Wn(a)&&a!==r&&t(Vee(a))}},[e,t,r]),n}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e,n){return(e=Eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=Ame(t,"string");return typeof e=="symbol"?e:e+""}function Ame(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}var Sme=()=>(wue(),null);function ig(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Tme=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:ig((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ig((r=t.style)===null||r===void 0?void 0:r.height)}),l=T.useCallback((d,h)=>{s(p=>{var y=Math.round(d),b=Math.round(h);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var y=x=>{var{width:w,height:E}=x[0].contentRect;l(w,E)},b=new ResizeObserver(y);b.observe(d),i.current=b}},[e,l]);return T.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(Gg,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",dl({ref:c},t)))}),_me=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:ig(n),containerHeight:ig(r)}),s=T.useCallback((c,d)=>{a(h=>{var p=Math.round(c),y=Math.round(d);return h.containerWidth===p&&h.containerHeight===y?h:{containerWidth:p,containerHeight:y}})},[]),l=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[e,s]);return T.createElement(T.Fragment,null,T.createElement(Gg,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",dl({ref:l},t)))}),Nme=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Gg,{width:n,height:r}),T.createElement("div",dl({ref:e},t)))}),Cme=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return us(n)||us(r)?T.createElement(_me,dl({},t,{ref:e})):T.createElement(Nme,dl({},t,{ref:e}))});function Ome(t){return t===!0?Tme:Cme}var kme=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:w,style:E,width:S,responsive:C,dispatchTouchEvents:N=!0}=t,D=T.useRef(null),k=Dn(),[P,j]=T.useState(null),[U,V]=T.useState(null),X=xme(),z=FE(),Y=z?.width>0?z.width:S,ne=z?.height>0?z.height:i,K=T.useCallback(J=>{X(J),typeof e=="function"&&e(J),j(J),V(J),J!=null&&(D.current=J)},[X,e,j,V]),se=T.useCallback(J=>{k(s6(J)),k(ji({handler:a,reactEvent:J}))},[k,a]),L=T.useCallback(J=>{k(Sw(J)),k(ji({handler:d,reactEvent:J}))},[k,d]),H=T.useCallback(J=>{k(i5()),k(ji({handler:h,reactEvent:J}))},[k,h]),ie=T.useCallback(J=>{k(Sw(J)),k(ji({handler:p,reactEvent:J}))},[k,p]),ue=T.useCallback(()=>{k(h6())},[k]),M=T.useCallback(J=>{k(d6(J.key))},[k]),F=T.useCallback(J=>{k(ji({handler:s,reactEvent:J}))},[k,s]),Z=T.useCallback(J=>{k(ji({handler:l,reactEvent:J}))},[k,l]),R=T.useCallback(J=>{k(ji({handler:c,reactEvent:J}))},[k,c]),oe=T.useCallback(J=>{k(ji({handler:y,reactEvent:J}))},[k,y]),$=T.useCallback(J=>{k(ji({handler:w,reactEvent:J}))},[k,w]),ae=T.useCallback(J=>{N&&k(m6(J)),k(ji({handler:x,reactEvent:J}))},[k,N,x]),fe=T.useCallback(J=>{k(ji({handler:b,reactEvent:J}))},[k,b]),ge=Ome(C);return T.createElement(T5.Provider,{value:P},T.createElement(D4.Provider,{value:U},T.createElement(ge,{width:Y??E?.width,height:ne??E?.height,className:Vt("recharts-wrapper",r),style:vme({position:"relative",cursor:"default",width:Y,height:ne},E),onClick:se,onContextMenu:F,onDoubleClick:Z,onFocus:ue,onKeyDown:M,onMouseDown:R,onMouseEnter:L,onMouseLeave:H,onMouseMove:ie,onMouseUp:oe,onTouchEnd:fe,onTouchMove:ae,onTouchStart:$,ref:K},T.createElement(Sme,null),n)))}),Pme=["width","height","responsive","children","className","style","compact","title","desc"];function Dme(t,e){if(t==null)return{};var n,r,i=jme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rme=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:c,title:d,desc:h}=t,p=Dme(t,Pme),y=Ta(p);return c?T.createElement(T.Fragment,null,T.createElement(Gg,{width:n,height:r}),T.createElement(wD,{otherAttributes:y,title:d,desc:h},a)):T.createElement(kme,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(wD,{otherAttributes:y,title:d,desc:h,ref:e},T.createElement(ihe,null,a)))});function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}var Ime={top:5,right:5,bottom:5,left:5},Lme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ime,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Mme=T.forwardRef(function(e,n){var r,i=yr(e.categoricalChartProps,Lme),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return T.createElement(cme,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},T.createElement(Wde,{chartData:d.data}),T.createElement(dme,{layout:i.layout,margin:i.margin}),T.createElement(hme,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(Rme,Tw({},i,{ref:n})))}),Bme=["axis"],Fme=T.forwardRef((t,e)=>T.createElement(Mme,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bme,tooltipPayloadSearcher:aue,categoricalChartProps:t,ref:e}));function Ume(){const{id:t}=DD(),e=qi(),{user:n}=ka(),[r,i]=T.useState(null),[a,s]=T.useState(!0),[l,c]=T.useState(null),[d,h]=T.useState(""),[p,y]=T.useState(""),[b,x]=T.useState(!1),[w,E]=T.useState(""),[S,C]=T.useState([]),[N,D]=T.useState(""),[k,P]=T.useState(null),[j,U]=T.useState(null),[V,X]=T.useState(!0),[z,Y]=T.useState(!1),[ne,K]=T.useState(!0),[se,L]=T.useState(!0),[H,ie]=T.useState(!0),[ue,M]=T.useState(!1),[F,Z]=T.useState(!1),[R,oe]=T.useState(!1),[$,ae]=T.useState(!1),[fe,ge]=T.useState(""),[J,Ne]=T.useState(!0);T.useEffect(()=>{Le()},[t]);const Le=async()=>{s(!0),c(null);try{console.log(" ID:",t);const ee=await fetch(`/api/ocr/documents/${t}/`);if(!ee.ok){console.error(" HTTP:",ee.status,ee.statusText),c(`HTTP ${ee.status}: ${ee.statusText}`),s(!1);return}const ye=await ee.json();if(console.log(" API:",ye),ye.status==="success"){console.log(" "),i(ye.data);const Be=ye.data.content||"";h(Be);const je=ye.data.tablecontent||"";je?(C([{id:1,content:je}]),console.log(" :",je.length)):(C([]),console.log(" "));const Fe=ye.data.tablesummary||"";D(Fe),console.log(" :",Fe.length);const Ge=ye.data.table1||"";if(Ge)try{const Xe=typeof Ge=="string"?JSON.parse(Ge):Ge;Xe?.years&&(Xe.years=Xe.years.map(Ae=>((Ae.total===void 0||Ae.total===null)&&(Ae.total=(Ae.guaranteed||0)+(Ae.non_guaranteed||0)),Ae))),P(Xe),console.log(" table1:",Xe?.years?.length||0)}catch(Xe){console.error(" table1 JSON:",Xe),P(null)}else P(null);const it=ye.data.table2||"";if(it)try{const Xe=typeof it=="string"?JSON.parse(it):it;U(Xe),console.log(" table2:",Xe?.years?.length||0)}catch(Xe){console.error(" table2 JSON:",Xe),U(null)}else U(null);const rt=ye.data.summary||"";ge(rt),console.log(" :",rt.length)}else console.error(" API:",ye.message),c(ye.message||"")}catch(ee){console.error(" :",ee),c("")}finally{s(!1)}},le=async()=>{if(!ue){alert("AI15-30..."),M(!0);try{console.log(" ");const ee=await fetch(`/api/content-editor/${t}/update-tablesummary/`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ee.ok)throw new Error(`HTTP error! status: ${ee.status}`);const ye=await ee.json();console.log(" :",ye),ye.status==="success"?(D(ye.tablesummary),K(!0),console.log(" "),alert("")):(console.error(" :",ye.message),alert(`: ${ye.message||""}`))}catch(ee){console.error(" :",ee),ee.name==="AbortError"?alert("DeepSeek API"):alert("")}finally{M(!1)}}},He=async()=>{if(!F){alert("AI15-30..."),Z(!0);try{console.log(" ");const ye=await(await fetch(`/api/content-editor/${t}/update-surrender-value/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();console.log(" :",ye),ye.status==="success"?(console.log(" "),console.log("   :",ye.table1?.years?.length||0),alert(` ${ye.table1?.years?.length||0} `),Le()):(console.error(" :",ye.message),alert(`: ${ye.message||""}`))}catch(ee){console.error(" :",ee),alert("")}finally{Z(!1)}}},Me=async()=>{if(!R){alert("AI15-30..."),oe(!0);try{const ye=await(await fetch(`/api/content-editor/${t}/update-wellness-table/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();ye.status==="success"?(console.log(" "),ye.table2===""||ye.table2===null?(console.log("   "),alert("")):(console.log("   :",ye.table2?.years?.length||0),alert(` ${ye.table2?.years?.length||0} `)),Le()):alert(ye.message||"")}catch(ee){console.error(" :",ee),alert("")}finally{oe(!1)}}},tt=async()=>{if(!$){alert("AI30-60..."),ae(!0);try{console.log(" ");const ye=await(await fetch(`/api/content-editor/${t}/update-plan-summary/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();console.log(" :",ye),ye.status==="success"?(ge(ye.summary),Ne(!0),console.log(" "),alert("")):(console.error(" :",ye.message),alert(`: ${ye.message||""}`))}catch(ee){console.error(" :",ee),alert("")}finally{ae(!1)}}};return a?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsx(Mt,{className:"w-8 h-8 animate-spin text-blue-500"})}):l?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[m.jsx(Rd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),m.jsx("p",{className:"text-gray-600 text-center mb-4",children:l}),m.jsx("button",{onClick:()=>e(`/document/${t}`),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})}):r?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[m.jsxs("button",{onClick:()=>e(`/document/${t}`),className:"flex items-center space-x-1 sm:space-x-2 text-gray-600 hover:text-gray-800 flex-shrink-0",children:[m.jsx(Xd,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m.jsx("span",{className:"text-sm sm:text-base",children:""})]}),m.jsx("div",{className:"h-4 sm:h-6 w-px bg-gray-300 flex-shrink-0"}),m.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-0",children:[m.jsx(qr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600 flex-shrink-0"}),m.jsx("h1",{className:"text-base sm:text-xl font-bold text-gray-800 truncate",children:""})]})]}),m.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:m.jsx("span",{className:"text-xs sm:text-sm text-gray-500 hidden sm:inline",children:w?" ":""})})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-6 space-y-3 sm:space-y-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:m.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2 sm:gap-3",children:[m.jsx("button",{onClick:le,disabled:ue,className:"px-2 sm:px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:ue?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),m.jsx("span",{children:"..."})]}):m.jsx("span",{className:"truncate",children:""})}),m.jsx("button",{onClick:He,disabled:F,className:"px-2 sm:px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:F?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),m.jsx("span",{children:"..."})]}):m.jsx("span",{className:"truncate",children:""})}),m.jsx("button",{onClick:Me,disabled:R,className:"px-2 sm:px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:R?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),m.jsx("span",{children:"..."})]}):m.jsx("span",{className:"truncate",children:""})}),m.jsx("button",{onClick:tt,disabled:$,className:"px-2 sm:px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:$?m.jsxs(m.Fragment,{children:[m.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),m.jsx("span",{children:"..."})]}):m.jsx("span",{className:"truncate",children:""})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 truncate",children:r.file_name}),m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 mt-2 text-xs sm:text-sm text-gray-600",children:[r.insured_name&&m.jsxs("span",{className:"truncate",children:[": ",r.insured_name]}),r.insurance_product&&m.jsxs("span",{className:"truncate",children:[": ",r.insurance_product]}),m.jsxs("span",{className:"hidden sm:inline",children:[": ",d.length.toLocaleString()," "]})]})]}),m.jsxs("button",{onClick:Le,className:"flex items-center justify-center space-x-1 sm:space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition text-xs sm:text-sm flex-shrink-0",children:[m.jsx(ev,{className:"w-3 h-3 sm:w-4 sm:h-4"}),m.jsx("span",{children:""})]})]})}),!1,m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>Ne(!J),children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(qr,{className:"w-4 h-4 text-orange-600"}),m.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),m.jsx("span",{className:"text-sm text-gray-500",children:fe?`(${fe.length} )`:"()"})]}),J?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),J&&m.jsx("div",{className:"mt-3",children:fe?m.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:m.jsx(Tv,{className:"text-sm text-gray-800 prose prose-sm max-w-none",children:fe})}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),m.jsx("p",{className:"text-sm",children:""}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>L(!se),children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(GN,{className:"w-4 h-4 text-blue-600"}),m.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),m.jsx("span",{className:"text-sm text-gray-500",children:k?.years?.length>0?`(${k.years.length} )`:"()"})]}),se?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),se&&m.jsx("div",{className:"mt-3",children:k?.years?.length>0?m.jsx("div",{className:"bg-blue-50 rounded-lg p-2 sm:p-4 overflow-x-auto border border-blue-200",children:m.jsxs("table",{className:"w-full text-xs sm:text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-blue-300",children:[m.jsx("th",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left font-medium text-blue-900 text-xs sm:text-sm",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:"/"}),m.jsx("span",{children:""})]})}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:""}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:""}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:"%"}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:"IRR%"})]})}),m.jsx("tbody",{children:k.years.map((ee,ye)=>{const Be=r?.annual_premium?parseInt(r.annual_premium):0,je=r?.payment_years?parseInt(r.payment_years):0,Fe=Be*Math.min(ee.policy_year,je),Ge=ee.total||0,it=r?.insured_age?parseInt(r.insured_age):0,rt=it>0?it+parseInt(ee.policy_year):null,Xe=Fe>0&&Ge>0&&ee.policy_year>0?(Ge-Fe)/Fe/ee.policy_year*100:0,Ae=Fe>0&&Ge>0&&ee.policy_year>0?(Math.pow(Ge/Fe,1/ee.policy_year)-1)*100:0;return m.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100",children:[m.jsx("td",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left text-gray-700",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:ee.policy_year}),m.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),m.jsx("span",{children:rt?`${rt}`:"-"})]})}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700",children:ee.guaranteed?ee.guaranteed.toLocaleString():"-"}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 font-medium",children:ee.total?ee.total.toLocaleString():"-"}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-purple-600 font-semibold",children:!isNaN(Xe)&&Xe!==0?Xe.toFixed(2):"-"}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-green-600 font-semibold",children:!isNaN(Ae)&&Ae!==0?Ae.toFixed(2):"-"})]},ye)})})]})}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),m.jsx("p",{className:"text-sm",children:""}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})}),se&&k?.years?.length>0&&r?.annual_premium&&r?.payment_years&&(()=>{const ee=parseInt(r.annual_premium)||0,ye=parseInt(r.payment_years)||0,Be=ee*ye;return m.jsxs("div",{className:"mt-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(xH,{className:"w-5 h-5 text-indigo-600"}),m.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[m.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500",children:""}),m.jsx("p",{className:"text-lg font-bold text-indigo-600",children:Be.toLocaleString()})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500",children:""}),m.jsx("p",{className:"text-lg font-bold text-green-600",children:k.years[k.years.length-1]?.total?.toLocaleString()||"-"})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500",children:""}),m.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[((k.years[k.years.length-1]?.total||0)/Be).toFixed(2),"x"]})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500",children:""}),m.jsx("p",{className:"text-lg font-bold text-orange-600",children:((k.years[k.years.length-1]?.total||0)-Be).toLocaleString()})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500",children:""}),m.jsx("p",{className:"text-lg font-bold text-teal-600",children:(()=>{const je=k.years.find(Fe=>Fe.total>=Be);return je?`${je.policy_year}`:""})()})]})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[m.jsx(H7,{className:"w-5 h-5 text-blue-600"}),m.jsx("h5",{className:"text-sm font-semibold text-gray-700",children:" "})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[5,10,20,30,40,50,60,70].filter(Fe=>k.years.some(Ge=>Ge.policy_year===Fe)).map(Fe=>{const Ge=k.years.find(te=>te.policy_year===Fe);if(!Ge)return null;const it=ee*Math.min(Fe,ye),rt=Ge.total,Xe=(rt-it)/it/Fe*100,Ae=it>0&&rt>0?(Math.pow(rt/it,1/Fe)-1)*100:0;return m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-3 border border-blue-200",children:[m.jsxs("p",{className:"text-xs text-gray-600 font-semibold mb-2",children:[" ",Fe," "]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-xs text-gray-500",children:":"}),m.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Xe.toFixed(2),"%"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"IRR:"}),m.jsxs("span",{className:"text-sm font-bold text-rose-600",children:[Ae.toFixed(2),"%"]})]}),m.jsx("div",{className:"pt-1 border-t border-blue-200",children:m.jsxs("span",{className:"text-xs text-gray-400",children:[": ",rt.toLocaleString()]})})]})]},Fe)})})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(gH,{className:"w-5 h-5 text-amber-600"}),m.jsx("h5",{className:"text-sm font-semibold text-gray-700",children:" "})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-red-300 via-yellow-300 to-green-300"}),m.jsx("div",{className:"space-y-6",children:[{label:"",multiplier:1,color:"bg-red-500",icon:"",desc:""},{label:"1.5",multiplier:1.5,color:"bg-orange-500",icon:"",desc:"50%"},{label:"2",multiplier:2,color:"bg-yellow-500",icon:"",desc:""},{label:"3",multiplier:3,color:"bg-lime-500",icon:"",desc:"3"},{label:"4",multiplier:4,color:"bg-green-500",icon:"",desc:"4"},{label:"5",multiplier:5,color:"bg-emerald-500",icon:"",desc:"5"}].map((Fe,Ge)=>{const it=Be*Fe.multiplier,rt=k.years.find(Xe=>Xe.total>=it);return m.jsxs("div",{className:"relative pl-20 group",children:[m.jsx("div",{className:`absolute left-5 w-6 h-6 rounded-full ${Fe.color} flex items-center justify-center text-white text-xs font-bold shadow-lg z-10 group-hover:scale-125 transition-transform`,children:rt?"":""}),m.jsxs("div",{className:`bg-gradient-to-r ${rt?"from-green-50 to-emerald-50 border-green-200":"from-gray-50 to-gray-100 border-gray-200"} rounded-lg p-3 border-2 transition-all group-hover:shadow-md`,children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"text-2xl",children:Fe.icon}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-gray-800 text-sm",children:Fe.label}),m.jsx("p",{className:"text-xs text-gray-500",children:Fe.desc})]})]}),m.jsx("div",{className:"text-right",children:rt?m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"text-lg font-bold text-green-600",children:[" ",rt.policy_year," "]}),m.jsxs("p",{className:"text-xs text-gray-500",children:[": ",rt.total.toLocaleString()]}),m.jsxs("p",{className:"text-xs font-semibold text-rose-600 mt-1",children:["IRR: ",(()=>{const Xe=ee*Math.min(rt.policy_year,ye);return(Xe>0&&rt.total>0?(Math.pow(rt.total/Xe,1/rt.policy_year)-1)*100:0).toFixed(2)})(),"%"]})]}):m.jsx("p",{className:"text-sm text-gray-400",children:""})})]}),!rt&&m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:m.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all",style:{width:`${Math.min(k.years[k.years.length-1]?.total/it*100,100)}%`}})}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[": ",it.toLocaleString()]})]})]})]},Ge)})})]})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[m.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:" 10"}),m.jsx(Bte,{width:"100%",height:300,children:m.jsxs(Fme,{data:k.years.slice(0,10).map(je=>({...je,investment:ee*Math.min(je.policy_year,ye),roi:(je.total/(ee*Math.min(je.policy_year,ye))*100-100).toFixed(1)})),margin:{top:10,right:30,left:0,bottom:0},children:[m.jsx(Z5,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),m.jsx(a6,{dataKey:"policy_year",label:{value:"",position:"insideBottom",offset:-5},stroke:"#6b7280"}),m.jsx(Aw,{yAxisId:"left",label:{value:"",angle:-90,position:"insideLeft"},stroke:"#6b7280",tickFormatter:je=>`${(je/1e4).toFixed(0)}`}),m.jsx(Aw,{yAxisId:"right",orientation:"right",label:{value:"%",angle:90,position:"insideRight"},stroke:"#8b5cf6"}),m.jsx(Oue,{formatter:(je,Fe)=>Fe===""?`${je}%`:je.toLocaleString(),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),m.jsx(eL,{}),m.jsx(np,{yAxisId:"left",type:"monotone",dataKey:"investment",stroke:"#ef4444",name:"",strokeWidth:2,dot:{r:4}}),m.jsx(np,{yAxisId:"left",type:"monotone",dataKey:"total",stroke:"#10b981",name:"",strokeWidth:3,dot:{r:4}}),m.jsx(np,{yAxisId:"right",type:"monotone",dataKey:"roi",stroke:"#8b5cf6",name:"",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3}})]})}),m.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" = | = | =% | "})]})]})})()]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[m.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>ie(!H),children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(GN,{className:"w-4 h-4 text-purple-600"}),m.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),m.jsx("span",{className:"text-sm text-gray-500",children:j?.years?.length>0?`(${j.years.length} )`:"()"})]}),H?m.jsx(Fo,{className:"w-4 h-4 text-gray-400"}):m.jsx(Bo,{className:"w-4 h-4 text-gray-400"})]}),H&&m.jsx("div",{className:"mt-3",children:j?.years?.length>0?m.jsx("div",{className:"bg-purple-50 rounded-lg p-2 sm:p-4 overflow-x-auto border border-purple-200",children:m.jsxs("table",{className:"w-full text-xs sm:text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-purple-300",children:[m.jsx("th",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left font-medium text-purple-900 text-xs sm:text-sm",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:"/"}),m.jsx("span",{children:""})]})}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm",children:""}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm hidden sm:table-cell",children:""}),m.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm",children:""})]})}),m.jsx("tbody",{children:j.years.map((ee,ye)=>{const Be=r?.insured_age?parseInt(r.insured_age):0,je=Be>0?Be+parseInt(ee.policy_year):null;return m.jsxs("tr",{className:"border-b border-purple-200 hover:bg-purple-100",children:[m.jsx("td",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left text-gray-700",colSpan:"2",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{children:ee.policy_year}),m.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),m.jsx("span",{children:je?`${je}`:"-"})]})}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700",children:ee.withdraw!==void 0?ee.withdraw.toLocaleString():"-"}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 hidden sm:table-cell",children:ee.withdraw_total!==void 0?ee.withdraw_total.toLocaleString():"-"}),m.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 font-medium",children:ee.total!==void 0?ee.total.toLocaleString():"-"})]},ye)})})]})}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),m.jsx("p",{className:"text-sm",children:""}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})})]}),!1,!1,!1]})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[m.jsx(Rd,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),m.jsx("p",{className:"text-gray-600 text-center mb-4",children:""}),m.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})})}function Hme(){const t=hl(),[e,n]=T.useState(""),[r,i]=T.useState(!1),[a,s]=T.useState(""),[l,c]=T.useState(""),d=async()=>{if(!e.trim()){c(" YouTube ");return}if(!e.includes("youtube.com")&&!e.includes("youtu.be")){c(" YouTube ");return}try{i(!0),c(""),s("");const p=localStorage.getItem("access_token"),y=await ot.post(`${Ct}/api/content/extract-subtitle`,{video_url:e},{headers:{Authorization:`Bearer ${p}`}});y.data.code===200?s(y.data.data.subtitle):c(y.data.message||"")}catch(p){console.error(":",p),c(p.response?.data?.message||"")}finally{i(!1)}},h=()=>{navigator.clipboard.writeText(a),alert("")};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:m.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>t("dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[m.jsx(Wu,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"text-sm font-medium",children:""})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:m.jsx(Ar,{className:"w-7 h-7 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"AI "})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[m.jsx(zb,{className:"w-5 h-5 mr-2 text-gray-600"}),"YouTube "]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("input",{type:"text",value:e,onChange:p=>{n(p.target.value),c("")},placeholder:" YouTube : https://www.youtube.com/watch?v=xxxxx  Shorts ",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:r}),m.jsx("button",{onClick:d,disabled:r||!e.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm shadow-md hover:shadow-lg flex items-center space-x-2",children:r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-5 h-5"}),m.jsx("span",{children:""})]})})]}),l&&m.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[m.jsx("svg",{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m.jsx("p",{className:"text-sm text-red-700",children:l})]}),m.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),m.jsxs("div",{className:"text-sm text-blue-700",children:[m.jsx("p",{className:"font-medium",children:""}),m.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[m.jsx("li",{children:" YouTube  Shorts "}),m.jsx("li",{children:"AI "}),m.jsx("li",{children:""})]})]})]})})]}),a&&m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 flex items-center",children:[m.jsx(Xo,{className:"w-5 h-5 mr-2 text-gray-600"}),""]}),m.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center space-x-2",children:[m.jsx(LH,{className:"w-4 h-4"}),m.jsx("span",{children:""})]})]}),m.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:m.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-mono leading-relaxed",children:a})})]}),r&&!a&&m.jsxs("div",{className:"p-12 text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"}),m.jsx("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:" AI ..."}),m.jsx("p",{className:"mt-1 text-gray-500 text-xs",children:""})]}),!r&&!a&&!l&&m.jsxs("div",{className:"p-12 text-center",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full mb-4",children:m.jsx(zb,{className:"w-8 h-8 text-purple-600"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),m.jsx("p",{className:"text-sm text-gray-500",children:" YouTube  AI "})]})]}),m.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:m.jsx(Ar,{className:"w-6 h-6 text-purple-600"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"AI "}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:" Gemini AI "})]})]})}),m.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:m.jsx(zb,{className:"w-6 h-6 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:" YouTube"}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})}),m.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(Xo,{className:"w-6 h-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:""}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})})]})]})})}const zme=async(t,e,n="1:1")=>{try{const r=new FormData;r.append("image",t),r.append("prompt",e),r.append("aspect_ratio",n);const i=localStorage.getItem("access_token");return await(await fetch(`${Ct}/api/ip-image/generate-v2`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:r})).json()}catch(r){throw console.error("IP (V2):",r),r}},$me=zme,qme=async(t,e=1,n={},r="1:1")=>{try{const i=new FormData;i.append("content",t),i.append("image_index",e),i.append("aspect_ratio",r),n.includeIpImage&&n.ipImageUrl&&(i.append("include_ip_image","true"),i.append("ip_image_url",n.ipImageUrl));const a=localStorage.getItem("access_token");return await(await fetch(`${Ct}/api/ip-image/generate-v2`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i})).json()}catch(i){throw console.error(" (V2):",i),i}},Yme=qme,g6=async()=>{try{const t=localStorage.getItem("access_token");return await(await fetch(`${Ct}/api/ip-image/saved`,{headers:{Authorization:`Bearer ${t}`}})).json()}catch(t){throw console.error("IP:",t),t}},Vme=async(t,e)=>{try{const n=localStorage.getItem("access_token");return await(await fetch(`${Ct}/api/ip-image/save`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({generated_image_url:t,prompt:e})})).json()}catch(n){throw console.error("IP:",n),n}},_w=async(t="ip_image")=>{try{const e=localStorage.getItem("access_token");return await(await fetch(`${Ct}/api/gemini/usage-stats?type=${t}`,{headers:{Authorization:`Bearer ${e}`}})).json()}catch(e){throw console.error(":",e),e}};function Gme(){const t=qi(),e=T.useRef(null),n=T.useRef(null),[r,i]=T.useState(null),[a,s]=T.useState(null),[l,c]=T.useState(""),[d,h]=T.useState(!1),[p,y]=T.useState(null),[b,x]=T.useState(""),[w,E]=T.useState(null),[S,C]=T.useState(!1),[N,D]=T.useState(!0),[k,P]=T.useState(null),[j,U]=T.useState(!0),[V,X]=T.useState("1:1"),[z,Y]=T.useState(!1),ne=[{value:"1:1",label:" (1:1)"},{value:"16:9",label:" (16:9)"},{value:"9:16",label:" (9:16)"},{value:"4:3",label:" (4:3)"},{value:"3:4",label:" (3:4)"}];T.useEffect(()=>{se(),L(),K()},[]);const K=()=>{const oe=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u",$=typeof window<"u"&&window.__wxjs_environment==="miniprogram",fe=(navigator.userAgent||"").toLowerCase().indexOf("miniprogram")>-1;Y(oe||$||fe)},se=async()=>{try{D(!0);const oe=await g6();oe.status==="success"&&oe.has_saved&&(E(oe.data),y(oe.data.generated_image_url),c(oe.data.prompt||""))}catch(oe){console.error("IP:",oe)}finally{D(!1)}},L=async()=>{try{U(!0);const oe=await _w("ip_image");console.log(" [IPImageGenerator] :",oe),oe.status==="success"?P(oe.data):(console.error(" [IPImageGenerator] API:",oe),P({quota:{available:0,total_purchased:0},total_count:0}))}catch(oe){console.error(" [IPImageGenerator] :",oe),P({quota:{available:0,total_purchased:0},total_count:0})}finally{U(!1)}},H=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ie=()=>{z&&typeof window<"u"&&window.wx&&window.wx.miniProgram?window.wx.miniProgram.navigateTo({url:"/pages/payment/payment"}):t("/payment")},ue=oe=>{const $=oe.target.files[0];if(!$)return;if(!$.type.startsWith("image/")){x("");return}if($.size>10*1024*1024){x("10MB");return}x(""),i($);const ae=new FileReader;ae.onload=fe=>{s(fe.target.result)},ae.readAsDataURL($)},M=async()=>{if(!r){x("");return}if(!l.trim()){x("");return}try{h(!0),x("");const oe=await $me(r,l,V);oe.status==="success"&&oe.image_url?(y(oe.image_url),L()):x(oe.message||"")}catch(oe){console.error(":",oe),x("")}finally{h(!1)}},F=()=>{i(null),s(null),c(""),y(null),x(""),e.current&&(e.current.value=""),n.current&&(n.current.value="")},Z=()=>{if(!p)return;const oe=document.createElement("a");oe.href=p,oe.download=`ip-image-${Date.now()}.png`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)},R=async()=>{if(!p){x("");return}try{C(!0),x("");const oe=await Vme(p,l);oe.status==="success"?(E(oe.data),alert("IP")):x(oe.message||"")}catch(oe){console.error(":",oe),x("")}finally{C(!1)}};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[m.jsx(Wu,{className:"w-5 h-5 mr-2"}),""]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IP"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"AIIP"})]}),!j&&k&&m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r from-green-50 to-emerald-50 rounded-md border border-green-200",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-lg font-bold text-green-600",children:[k.quota.available,""]})]}),m.jsxs("button",{onClick:ie,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-1 rounded-md shadow-sm hover:shadow-md hover:from-orange-600 hover:to-red-600 transition-all flex items-center gap-1.5",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-sm font-semibold",children:""})]})]})]}),!j&&k&&m.jsxs("div",{className:"md:hidden mt-4 flex items-center justify-end gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-green-50 to-emerald-50 rounded-md border border-green-200",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-base font-bold text-green-600",children:[k.quota.available,""]})]}),m.jsxs("button",{onClick:ie,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-3 py-1 rounded-md shadow-sm active:scale-95 transition-all flex items-center gap-1",children:[m.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-xs font-semibold",children:""})]})]})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),a?m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:a,alt:"",className:"w-full h-64 object-cover rounded-xl border-2 border-gray-200"}),m.jsx("button",{onClick:F,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-500 transition-colors",children:[m.jsx(Ko,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),m.jsx("p",{className:"text-gray-600 mb-4",children:""}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[m.jsxs("button",{onClick:()=>e.current?.click(),className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[m.jsx(Ko,{className:"w-5 h-5 mr-2"}),""]}),H()&&m.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center justify-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[m.jsx(RH,{className:"w-5 h-5 mr-2"}),""]})]})]}),m.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:ue,className:"hidden"}),m.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:ue,className:"hidden"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),m.jsx("textarea",{value:l,onChange:oe=>c(oe.target.value),placeholder:"...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"5",maxLength:"500"}),m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[l.length,"/500 "]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ne.map(oe=>m.jsx("button",{type:"button",onClick:()=>X(oe.value),className:`px-4 py-2 rounded-lg border-2 font-medium transition-all ${V===oe.value?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-400"}`,children:oe.label},oe.value))})]}),b&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsx("p",{className:"text-sm text-red-600",children:b})}),m.jsx("button",{onClick:M,disabled:!r||!l.trim()||d,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl",children:d?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-6 h-6"}),m.jsx("span",{children:"IP"})]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),N?m.jsx("div",{className:"h-full min-h-[400px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),m.jsx("p",{className:"text-gray-400",children:"..."})]})}):p?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:p,alt:"IP",className:"w-full h-auto rounded-xl shadow-lg border-2 border-purple-200"}),w&&p===w.generated_image_url&&m.jsxs("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg flex items-center",children:[m.jsx(XN,{className:"w-4 h-4 mr-1"}),""]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx("button",{onClick:Z,className:"py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium shadow-md",children:""}),m.jsx("button",{onClick:R,disabled:S,className:"py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:S?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),""]}):m.jsxs(m.Fragment,{children:[m.jsx(XN,{className:"w-5 h-5 mr-1"}),""]})}),m.jsx("button",{onClick:F,className:"py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium shadow-md",children:""})]})]}):m.jsx("div",{className:"h-full min-h-[400px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Ar,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),m.jsx("p",{className:"text-gray-400",children:"IP"}),w&&m.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[" ",new Date(w.updated_at).toLocaleString("zh-CN")]})]})})]})]})}),m.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-md p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:""}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:""})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:""})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:"JPGPNG"})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:"10MB"})]})]})]})]})})}function Wme(){const t=qi(),[e,n]=T.useState(""),[r,i]=T.useState(1),[a,s]=T.useState(!1),[l,c]=T.useState([]),[d,h]=T.useState(""),[p,y]=T.useState({current:0,total:0}),[b,x]=T.useState("9:16"),[w,E]=T.useState(null),[S,C]=T.useState(!0),[N,D]=T.useState(!0),[k,P]=T.useState(null),[j,U]=T.useState(!1),[V,X]=T.useState(null),[z,Y]=T.useState(!0),ne=[{value:"1:1",label:" (1:1)"},{value:"16:9",label:" (16:9)"},{value:"9:16",label:" (9:16)"},{value:"4:3",label:" (4:3)"},{value:"3:4",label:" (3:4)"}],K=()=>{j&&typeof window<"u"&&window.wx&&window.wx.miniProgram?window.wx.miniProgram.navigateTo({url:"/pages/payment/payment"}):t("/payment")};T.useEffect(()=>{const ue=M=>{M.key==="Escape"&&k&&P(null)};return window.addEventListener("keydown",ue),()=>window.removeEventListener("keydown",ue)},[k]),T.useEffect(()=>{(()=>{const M=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u",F=typeof window<"u"&&window.__wxjs_environment==="miniprogram",R=(navigator.userAgent||"").toLowerCase().indexOf("miniprogram")>-1;U(M||F||R)})()},[]),T.useEffect(()=>{(async()=>{try{D(!0);const M=await g6();M.status==="success"&&M.has_saved&&E(M.data)}catch(M){console.error("IP:",M)}finally{D(!1)}})()},[]),T.useEffect(()=>{(async()=>{try{Y(!0);const M=await _w("content_image");console.log(" [ContentImageGenerator] :",M),M.status==="success"?X(M.data):(console.error(" [ContentImageGenerator] API:",M),X({quota:{available:0,total_purchased:0},total_count:0}))}catch(M){console.error(" [ContentImageGenerator] :",M),X({quota:{available:0,total_purchased:0},total_count:0})}finally{Y(!1)}})()},[]);const se=async()=>{if(!e.trim()){h("");return}try{s(!0),h(""),c([]),y({current:0,total:r});const ue=[];for(let M=0;M<r;M++){y({current:M+1,total:r});const F={};S&&w&&(F.includeIpImage=!0,F.ipImageUrl=w.generated_image_url);const Z=await Yme(e,M+1,F,b);Z.status==="success"&&Z.image_url?(ue.push({id:M+1,url:Z.image_url}),c([...ue])):console.error(` ${M+1} :`,Z.message)}if(ue.length===0)h("");else{const M=await _w("content_image");M.status==="success"&&X(M.data)}}catch(ue){console.error(":",ue),h("")}finally{s(!1),y({current:0,total:0})}},L=()=>{n(""),c([]),h(""),i(1)},H=(ue,M)=>{const F=document.createElement("a");F.href=ue,F.download=`content-image-${M}-${Date.now()}.png`,document.body.appendChild(F),F.click(),document.body.removeChild(F)},ie=()=>{l.forEach((ue,M)=>{setTimeout(()=>{H(ue.url,M+1)},M*500)})};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[m.jsx(Wu,{className:"w-5 h-5 mr-2"}),""]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:""}),m.jsx("p",{className:"text-gray-600 mt-2",children:"AI"})]}),!z&&V&&m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r from-green-50 to-emerald-50 rounded-md border border-green-200",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-lg font-bold text-green-600",children:[V.quota.available,""]})]}),m.jsxs("button",{onClick:K,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-1 rounded-md shadow-sm hover:shadow-md hover:from-orange-600 hover:to-red-600 transition-all flex items-center gap-1.5",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-sm font-semibold",children:""})]})]})]}),!z&&V&&m.jsxs("div",{className:"md:hidden mt-4 flex items-center justify-end gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-green-50 to-emerald-50 rounded-md border border-green-200",children:[m.jsx("span",{className:"text-xs text-gray-600",children:""}),m.jsxs("span",{className:"text-base font-bold text-green-600",children:[V.quota.available,""]})]}),m.jsxs("button",{onClick:K,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-3 py-1 rounded-md shadow-sm active:scale-95 transition-all flex items-center gap-1",children:[m.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-xs font-semibold",children:""})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-1",children:m.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 sticky top-6",children:m.jsxs("div",{className:"space-y-6",children:[!N&&w&&m.jsxs("div",{className:"border border-purple-200 bg-purple-50 rounded-xl p-4",children:[m.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[m.jsx("img",{src:w.generated_image_url,alt:"IP",className:"w-16 h-16 rounded-lg object-cover shadow-md"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"IP"}),m.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:w.prompt||"IP"})]})]}),m.jsxs("label",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:S,onChange:ue=>C(ue.target.checked),disabled:a,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"}),m.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"IP"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-8",children:"IP"})]}),N&&m.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-gray-400"}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"IP..."})]}),!N&&!w&&m.jsxs("div",{className:"border border-gray-200 bg-gray-50 rounded-xl p-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[m.jsx(ZH,{className:"w-5 h-5"}),m.jsx("span",{className:"text-sm",children:"IP"})]}),m.jsx("button",{onClick:()=>t("/ip-image-generator"),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:" "})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[m.jsx(Xo,{className:"w-5 h-5 inline mr-2"}),""]}),m.jsx("textarea",{value:e,onChange:ue=>n(ue.target.value),placeholder:`...

- 
- 
- `,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"10",maxLength:"1000"}),m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.length,"/1000 "]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ne.map(ue=>m.jsx("button",{type:"button",onClick:()=>x(ue.value),disabled:a,className:`px-4 py-2 rounded-lg border-2 font-medium transition-all ${b===ue.value?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:ue.label},ue.value))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),m.jsxs("select",{value:r,onChange:ue=>i(parseInt(ue.target.value)),disabled:a,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:1,children:"1 "}),m.jsx("option",{value:2,disabled:!0,children:"2  ()"}),m.jsx("option",{value:3,disabled:!0,children:"3  ()"}),m.jsx("option",{value:4,disabled:!0,children:"4  ()"}),m.jsx("option",{value:5,disabled:!0,children:"5  ()"})]})]}),d&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsx("p",{className:"text-sm text-red-600",children:d})}),m.jsx("button",{onClick:se,disabled:!e.trim()||a,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl",children:a?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),m.jsxs("span",{children:[" (",p.current,"/",p.total,")"]})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-6 h-6"}),m.jsx("span",{children:""})]})}),l.length>0&&!a&&m.jsx("button",{onClick:L,className:"w-full py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:""})]})})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[" ",l.length>0&&`(${l.length})`]}),l.length>0&&!j&&m.jsx("button",{onClick:ie,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors font-medium",children:""}),l.length>0&&j&&m.jsx("p",{className:"text-sm text-gray-600",children:""})]}),l.length>0?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.map(ue=>m.jsxs("div",{className:"relative group",children:[m.jsxs("div",{className:"relative overflow-hidden rounded-xl border-2 border-gray-200 hover:border-blue-400 transition-all cursor-pointer",onClick:()=>P(ue),children:[m.jsx("img",{src:ue.url,alt:` ${ue.id}`,className:"w-full h-auto object-cover"}),m.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center gap-3",children:[m.jsxs("button",{onClick:M=>{M.stopPropagation(),P(ue)},className:"opacity-0 group-hover:opacity-100 transition-opacity px-4 py-2 bg-white text-gray-900 rounded-lg font-medium shadow-lg flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),""]}),!j&&m.jsxs("button",{onClick:M=>{M.stopPropagation(),H(ue.url,ue.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity px-4 py-2 bg-green-600 text-white rounded-lg font-medium shadow-lg flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),""]})]})]}),m.jsxs("p",{className:"text-sm text-gray-600 mt-2 text-center",children:[" ",ue.id]})]},ue.id))}):m.jsx("div",{className:"h-[500px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Ko,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),m.jsx("p",{className:"text-gray-400",children:""})]})})]})})]}),m.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-md p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:""}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:""})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:""})]}),m.jsxs("div",{className:"flex items-start space-x-2",children:[m.jsx("span",{className:"text-blue-600 font-bold",children:""}),m.jsx("p",{children:"1-5"})]})]})]}),k&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:()=>P(null),children:m.jsxs("div",{className:"relative max-w-6xl max-h-[95vh] w-full",children:[m.jsxs("button",{onClick:()=>P(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors flex items-center gap-2",children:[m.jsx("span",{className:"text-sm",children:"ESC "}),m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),m.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl",onClick:ue=>ue.stopPropagation(),children:[m.jsx("img",{src:k.url,alt:` ${k.id} `,className:"w-full h-auto object-contain max-h-[75vh]"}),m.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-t border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:[" ",k.id]}),k.prompt&&m.jsx("p",{className:"text-xs text-gray-600",children:k.prompt})]}),!j&&m.jsxs("button",{onClick:()=>H(k.url,k.id),className:"ml-4 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all font-medium shadow-md hover:shadow-lg flex items-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),""]}),j&&m.jsx("p",{className:"ml-4 text-sm text-gray-600",children:""})]})})]}),m.jsx("div",{className:"mt-4 text-center",children:m.jsx("p",{className:"text-white text-sm opacity-75",children:" ESC "})})]})})]})})}function Xme({title:t,titleId:e,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?T.createElement("title",{id:e},t):null,T.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const AD=T.forwardRef(Xme);function Kme(){const t=qi(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,s]=T.useState(null),[l,c]=T.useState(""),[d,h]=T.useState(!1),[p,y]=T.useState(1),[b,x]=T.useState(1),[w,E]=T.useState(new Set),[S,C]=T.useState(null),[N,D]=T.useState(!1),[k,P]=T.useState(null),[j,U]=T.useState(null),[V,X]=T.useState("content_image"),[z,Y]=T.useState(""),[ne,K]=T.useState(!1),[se,L]=T.useState(!1);T.useEffect(()=>{(()=>{const J=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u";L(J)})()},[]),T.useEffect(()=>{H(),ie()},[p,l,d]);const H=async()=>{try{i(!0);const ge=localStorage.getItem("access_token"),J=new URLSearchParams({page:p,page_size:12});l&&J.append("media_type",l),d&&J.append("is_favorite","true");const Le=await(await fetch(`${Ct}/api/media-library/?${J}`,{headers:{Authorization:`Bearer ${ge}`}})).json();Le.status==="success"&&(n(Le.data.items),x(Le.data.total_pages))}catch(ge){console.error(":",ge)}finally{i(!1)}},ie=async()=>{try{const ge=localStorage.getItem("access_token"),Ne=await(await fetch(`${Ct}/api/media-library/stats/`,{headers:{Authorization:`Bearer ${ge}`}})).json();Ne.status==="success"&&s(Ne.data)}catch(ge){console.error(":",ge)}},ue=async ge=>{try{const J=localStorage.getItem("access_token"),Le=await(await fetch(`${Ct}/api/media-library/${ge}/favorite/`,{method:"POST",headers:{Authorization:`Bearer ${J}`}})).json();Le.status==="success"&&(n(le=>le.map(He=>He.id===ge?{...He,is_favorite:Le.is_favorite}:He)),ie())}catch(J){console.error(":",J)}},M=async ge=>{if(confirm(""))try{const J=localStorage.getItem("access_token");(await(await fetch(`${Ct}/api/media-library/${ge}/delete/`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).json()).status==="success"&&(n(le=>le.filter(He=>He.id!==ge)),ie())}catch(J){console.error(":",J)}},F=async()=>{if(w.size===0){alert("");return}if(confirm(` ${w.size} `))try{const ge=localStorage.getItem("access_token"),Ne=await(await fetch(`${Ct}/api/media-library/batch-delete/`,{method:"POST",headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"},body:JSON.stringify({media_ids:Array.from(w)})})).json();Ne.status==="success"&&(E(new Set),H(),ie(),alert(Ne.message))}catch(ge){console.error(":",ge),alert("")}},Z=ge=>{E(J=>{const Ne=new Set(J);return Ne.has(ge)?Ne.delete(ge):Ne.add(ge),Ne})},R=()=>{w.size===e.length?E(new Set):E(new Set(e.map(ge=>ge.id)))},oe=(ge,J)=>{const Ne=document.createElement("a");Ne.href=ge,Ne.download=`media-${J}-${Date.now()}.png`,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},$=ge=>{const J=ge.target.files[0];if(!J)return;if(!J.type.startsWith("image/")){alert("");return}if(J.size>10*1024*1024){alert("10MB");return}P(J);const Ne=new FileReader;Ne.onload=Le=>{U(Le.target.result)},Ne.readAsDataURL(J)},ae=async()=>{if(!k){alert("");return}try{K(!0);const ge=new FormData;ge.append("image",k),ge.append("media_type",V),ge.append("prompt",z);const J=localStorage.getItem("access_token"),Le=await(await fetch(`${Ct}/api/media-library/upload/`,{method:"POST",headers:{Authorization:`Bearer ${J}`},body:ge})).json();Le.status==="success"?(alert(""),D(!1),P(null),U(null),Y(""),X("content_image"),H(),ie()):alert(Le.message||"")}catch(ge){console.error(":",ge),alert("")}finally{K(!1)}},fe=()=>{D(!1),P(null),U(null),Y(""),X("content_image")};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 sm:px-6 lg:px-8 py-3 md:py-6",children:[m.jsxs("div",{className:"mb-4 md:mb-6",children:[m.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-3 md:mb-4",children:[m.jsx(Wu,{className:"w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-2"}),m.jsx("span",{className:"text-sm md:text-base",children:""})]}),m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:""}),m.jsx("p",{className:"text-xs md:text-base text-gray-600 mt-1 md:mt-2",children:""})]})})]}),a&&m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mb-4 md:mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl p-2 md:p-4 shadow-md",children:[m.jsx("div",{className:"text-gray-600 text-xs md:text-sm mb-1",children:""}),m.jsx("div",{className:"text-lg md:text-2xl font-bold text-blue-600",children:a.total_count})]}),m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl p-2 md:p-4 shadow-md",children:[m.jsx("div",{className:"text-gray-600 text-xs md:text-sm mb-1",children:"IP"}),m.jsx("div",{className:"text-lg md:text-2xl font-bold text-purple-600",children:a.ip_image_count})]}),m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl p-2 md:p-4 shadow-md",children:[m.jsx("div",{className:"text-gray-600 text-xs md:text-sm mb-1",children:""}),m.jsx("div",{className:"text-lg md:text-2xl font-bold text-indigo-600",children:a.content_image_count})]}),m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl p-2 md:p-4 shadow-md",children:[m.jsx("div",{className:"text-gray-600 text-xs md:text-sm mb-1",children:""}),m.jsxs("div",{className:"text-lg md:text-2xl font-bold text-green-600",children:[a.total_size_mb," MB"]})]})]}),m.jsx("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md p-2 md:p-4 mb-4 md:mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap items-stretch md:items-center gap-2 md:gap-4",children:[m.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-1 md:flex-initial",children:[m.jsx("button",{onClick:()=>c(""),className:`flex-1 md:flex-initial px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg transition-all ${l===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),m.jsx("button",{onClick:()=>c("ip_image"),className:`flex-1 md:flex-initial px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg transition-all ${l==="ip_image"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"IP"}),m.jsx("button",{onClick:()=>c("content_image"),className:`flex-1 md:flex-initial px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg transition-all ${l==="content_image"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("button",{onClick:()=>h(!d),className:`px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg transition-all flex items-center gap-1 md:gap-2 ${d?"bg-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[m.jsx(Hb,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{className:"hidden md:inline",children:""})]}),m.jsxs("button",{onClick:()=>D(!0),className:"px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all flex items-center gap-1 md:gap-2 shadow-md hover:shadow-lg",children:[m.jsx(Ub,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]}),w.size>0?m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-xs md:text-sm text-gray-600",children:[" ",w.size]}),m.jsxs("button",{onClick:F,className:"px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all flex items-center gap-1 md:gap-2",children:[m.jsx(Id,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]})]}):null,m.jsx("button",{onClick:R,className:"px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-all ml-auto",children:w.size===e.length&&e.length>0?"":""})]})]})}),r?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.length>0?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-4",children:e.map(ge=>m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all relative group",children:[m.jsx("div",{className:"absolute top-1 left-1 md:top-2 md:left-2 z-10",children:m.jsx("input",{type:"checkbox",checked:w.has(ge.id),onChange:()=>Z(ge.id),className:"w-4 h-4 md:w-5 md:h-5 rounded cursor-pointer"})}),m.jsx("div",{className:"absolute top-1 right-1 md:top-2 md:right-2 z-10",children:m.jsx("span",{className:`px-1.5 py-0.5 md:px-2 md:py-1 text-[10px] md:text-xs rounded-full text-white ${ge.media_type==="ip_image"?"bg-purple-600":"bg-indigo-600"}`,children:ge.media_type_display})}),m.jsx("div",{className:"aspect-square cursor-pointer",onClick:()=>C(ge),children:m.jsx("img",{src:ge.url,alt:ge.prompt,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"p-2 md:p-3",children:[m.jsx("p",{className:"text-xs md:text-sm text-gray-600 line-clamp-2 mb-1 md:mb-2",children:ge.prompt||""}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-[10px] md:text-xs text-gray-500",children:ge.created_at}),m.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[m.jsx("button",{onClick:()=>ue(ge.id),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:ge.is_favorite?m.jsx(AD,{className:"w-4 h-4 md:w-5 md:h-5 text-red-600"}):m.jsx(Hb,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})}),m.jsx("button",{onClick:()=>M(ge.id),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:m.jsx(Id,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400 hover:text-red-600"})})]})]})]})]},ge.id))}):m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md p-8 md:p-12 text-center",children:[m.jsx(Ko,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto text-gray-300 mb-3 md:mb-4"}),m.jsx("p",{className:"text-sm md:text-base text-gray-500",children:""})]}),b>1&&m.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4 md:mt-6",children:[m.jsx("button",{onClick:()=>y(ge=>Math.max(1,ge-1)),disabled:p===1,className:"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm bg-white rounded-lg shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:""}),m.jsxs("span",{className:"px-2 md:px-4 py-1.5 md:py-2 text-xs md:text-sm text-gray-600",children:[p," / ",b]}),m.jsx("button",{onClick:()=>y(ge=>Math.min(b,ge+1)),disabled:p===b,className:"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm bg-white rounded-lg shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:""})]}),S&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:()=>C(null),children:m.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[m.jsx("button",{onClick:()=>C(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:m.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden",onClick:ge=>ge.stopPropagation(),children:[m.jsx("img",{src:S.url,alt:S.prompt,className:"w-full h-auto max-h-[70vh] object-contain"}),m.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50",children:m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("span",{className:`px-2 py-1 text-xs rounded-full text-white ${S.media_type==="ip_image"?"bg-purple-600":"bg-indigo-600"}`,children:S.media_type_display}),m.jsx("span",{className:"text-xs text-gray-500",children:S.created_at})]}),m.jsx("p",{className:"text-sm text-gray-700",children:S.prompt||""})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[m.jsx("button",{onClick:()=>{ue(S.id),C(ge=>({...ge,is_favorite:!ge.is_favorite}))},className:"p-2 hover:bg-white rounded-lg transition-colors",children:S.is_favorite?m.jsx(AD,{className:"w-6 h-6 text-red-600"}):m.jsx(Hb,{className:"w-6 h-6 text-gray-400"})}),!se&&m.jsx("button",{onClick:()=>oe(S.url,S.id),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",children:""})]})]})})]})]})}),N&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:fe,children:m.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full p-6",onClick:ge=>ge.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),m.jsx("button",{onClick:fe,className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:j,alt:"",className:"w-full h-64 object-contain rounded-xl bg-gray-100"}),m.jsx("button",{onClick:()=>{P(null),U(null)},className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:m.jsx(Id,{className:"w-5 h-5"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>X("content_image"),className:`flex-1 px-4 py-2 rounded-lg transition-all ${V==="content_image"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),m.jsx("button",{onClick:()=>X("ip_image"),className:`flex-1 px-4 py-2 rounded-lg transition-all ${V==="ip_image"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"IP"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"/"}),m.jsx("textarea",{value:z,onChange:ge=>Y(ge.target.value),placeholder:"...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"3",maxLength:"500"}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[z.length,"/500 "]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:fe,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-semibold",children:""}),m.jsx("button",{onClick:ae,disabled:ne,className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ne?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ub,{className:"w-5 h-5"}),m.jsx("span",{children:""})]})})]})]}):m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:$,className:"hidden",id:"upload-input"}),m.jsxs("label",{htmlFor:"upload-input",className:"cursor-pointer",children:[m.jsx(Ub,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),m.jsx("p",{className:"text-gray-600 mb-2",children:""}),m.jsx("p",{className:"text-sm text-gray-400",children:" JPGPNGWEBPGIF10MB"})]})]})]})})]})})}function Qme(){const t=qi(),[e]=aU(),[n,r]=T.useState(null),[i,a]=T.useState(""),[s,l]=T.useState(""),[c,d]=T.useState("zh-CN-Xiaochen:DragonHDLatestNeural"),[h,p]=T.useState([]),[y,b]=T.useState(!1),[x,w]=T.useState(null),[E,S]=T.useState(!1),[C,N]=T.useState(null),[D,k]=T.useState([]),[P,j]=T.useState(!1),[U,V]=T.useState(null),[X,z]=T.useState([]),[Y,ne]=T.useState(!1),[K,se]=T.useState(null),[L,H]=T.useState(!1);T.useEffect(()=>{const ee=e.get("project");ee?ie(ee):localStorage.getItem("video_draft")&&H(!0)},[e]);const ie=async ee=>{try{const ye=localStorage.getItem("access_token"),je=await(await fetch(`${Ct}/api/video/projects/${ee}/`,{headers:{Authorization:`Bearer ${ye}`}})).json();if(je.status==="success"){const Fe=je.data;r(Fe.id),a(Fe.subtitles||""),l(""),d(Fe.voice||"zh-CN-Xiaochen:DragonHDLatestNeural"),p(Fe.scenes_data||[]),H(!1)}else alert("")}catch(ye){console.error(":",ye),alert("")}},ue=()=>{const ee=localStorage.getItem("video_draft");if(!ee){alert("");return}try{const ye=JSON.parse(ee);a(ye.subtitles||""),l(ye.customSceneCount||""),p(ye.prompts||[]),H(!1),alert("")}catch(ye){console.error(":",ye),alert("")}},M=()=>{confirm("")&&(localStorage.removeItem("video_draft"),H(!1),alert(""))},F=async()=>{try{const ee=localStorage.getItem("access_token"),ye={title:"",subtitles:i,scenes_data:h,duration:3,voice:c,status:"draft"};let Be;n?Be=await fetch(`${Ct}/api/video/projects/${n}/update/`,{method:"PUT",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify(ye)}):Be=await fetch(`${Ct}/api/video/projects/create/`,{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify(ye)});const je=await Be.json();je.status==="success"?(n||(r(je.data.id),t(`/video-generator?project=${je.data.id}`,{replace:!0})),alert("")):alert(": "+(je.message||""))}catch(ee){console.error(":",ee),alert("")}},Z=async()=>{const ee=h.filter(ye=>!ye.image);if(ee.length>0){alert(`
 ${ee.length} `);return}try{S(!0);const ye=localStorage.getItem("access_token"),Be={images:h.map(Ae=>({image_url:Ae.image,text:(Ae.assignedSubtitles||[]).join("")})),duration:3,voice:c};console.log(":",Be);const je=await fetch(`${Ct}/api/video/create/`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify(Be)}),Fe=await je.json();if(!je.ok){console.error(":",Fe),alert(`: ${Fe.message||""}`);return}if(console.log(":",Fe),!Fe.task_id){alert("ID");return}const Ge={title:i.split(`
`)[0].slice(0,50)||"",subtitles:i,scene_count:h.length,scenes_data:h,duration:3,voice:c,status:"processing",taskid:Fe.task_id};let it=n,rt;n?rt=await fetch(`${Ct}/api/video/projects/${n}/update/`,{method:"PUT",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify(Ge)}):rt=await fetch(`${Ct}/api/video/projects/create/`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify(Ge)});const Xe=await rt.json();Xe.status==="success"?(it=Xe.data.id,n||r(it),alert(`ID: ${Fe.task_id}`),t("/video-projects")):alert(`: ${Xe.message||""}`)}catch(ye){console.error(":",ye),alert(`: ${ye.message}`)}finally{S(!1)}},R=async()=>{if(!i.trim()){alert("");return}try{b(!0);const ee=localStorage.getItem("access_token"),Be=await(await fetch(`${Ct}/api/video/generate-prompts/`,{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify({subtitles:i})})).json();Be.status==="success"?p(Be.prompts.map((je,Fe)=>({id:Date.now()+Fe,text:je,image:null,isGenerating:!1,assignedSubtitles:[]}))):alert(Be.message||"")}catch(ee){console.error(":",ee),alert("")}finally{b(!1)}},oe=async ee=>{const ye=h[ee];if(!ye.text.trim()){alert("");return}try{w(ee),p(it=>it.map((rt,Xe)=>Xe===ee?{...rt,isGenerating:!0}:rt));const Be=localStorage.getItem("access_token"),je=new FormData;je.append("content",ye.text),je.append("image_index",1);const Ge=await(await fetch(`${Ct}/api/ip-image/generate-v2`,{method:"POST",headers:{Authorization:`Bearer ${Be}`},body:je})).json();Ge.status==="success"?p(it=>it.map((rt,Xe)=>Xe===ee?{...rt,image:Ge.image_url,isGenerating:!1}:rt)):(alert(Ge.message||""),p(it=>it.map((rt,Xe)=>Xe===ee?{...rt,isGenerating:!1}:rt)))}catch(Be){console.error(":",Be),alert(""),p(je=>je.map((Fe,Ge)=>Ge===ee?{...Fe,isGenerating:!1}:Fe))}finally{w(null)}},$=async ee=>{V(ee),j(!0);try{ne(!0);const ye=localStorage.getItem("access_token"),je=await(await fetch(`${Ct}/api/media-library/?page=1&page_size=50`,{headers:{Authorization:`Bearer ${ye}`}})).json();je.status==="success"&&z(je.data.items)}catch(ye){console.error(":",ye)}finally{ne(!1)}},ae=ee=>{U!==null&&p(ye=>ye.map((Be,je)=>je===U?{...Be,image:ee}:Be)),j(!1),V(null)},fe=ee=>{p(ye=>ye.filter((Be,je)=>je!==ee))},ge=(ee,ye)=>{p(Be=>Be.map((je,Fe)=>Fe===ee?{...je,text:ye}:je))},J=()=>{p(ee=>[...ee,{id:Date.now(),text:"",image:null,isGenerating:!1,assignedSubtitles:[]}])},Ne=ee=>{N(ee)},Le=(ee,ye)=>{if(ee.preventDefault(),C===null||C===ye)return;const Be=[...h],je=Be[C];Be.splice(C,1),Be.splice(ye,0,je),p(Be),N(ye)},le=()=>{N(null)},He=()=>{const ee=i.trim();if(!ee)return[];const Be=ee.split(/[\n]+/).map(je=>je.trim()).filter(je=>je.length>0);return k(Be),Be},Me=()=>{const ee=He();if(console.log(":",ee.length),console.log(":",ee),ee.length===0){alert("");return}const ye=[],Be=s?parseInt(s):null;if(Be&&Be>0){if(Be>ee.length){alert(`(${Be})(${ee.length})`);return}const je=Math.floor(ee.length/Be),Fe=ee.length%Be;let Ge=0;for(let it=0;it<Be;it++){const rt=je+(it<Fe?1:0),Xe=ee.slice(Ge,Ge+rt);console.log(` ${it+1}: groupSize=${rt}, :`,Xe),ye.push({id:Date.now()+Ge+it,text:Xe.join(""),image:null,isGenerating:!1,assignedSubtitles:Xe}),Ge+=rt}}else{let je=0;for(;je<ee.length;){const Fe=ee.length-je;let Ge;if(Fe<=2)Ge=Fe;else if(Fe===3)Ge=3;else if(Fe===4)Ge=4;else if(Fe===5)Ge=je===0?2:3;else if(Fe===6)Ge=3;else if(Fe===7)Ge=je===0?3:4;else{const rt=Math.ceil(Fe/3);Ge=Math.ceil(Fe/rt),Ge=Math.max(2,Math.min(4,Ge))}const it=ee.slice(je,je+Ge);console.log(` ${ye.length+1}: groupSize=${Ge}, :`,it),ye.push({id:Date.now()+je+ye.length,text:it.join(""),image:null,isGenerating:!1,assignedSubtitles:it}),je+=Ge}}console.log(":",ye.length),p(ye)},tt=(ee,ye)=>{p(Be=>Be.map((je,Fe)=>Fe===ee?{...je,assignedSubtitles:ye.split(`
`).filter(Ge=>Ge.trim())}:je))};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 sm:px-6 lg:px-8 py-3 md:py-6",children:[m.jsxs("div",{className:"mb-4 md:mb-6",children:[m.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-3 md:mb-4",children:[m.jsx(Wu,{className:"w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-2"}),m.jsx("span",{className:"text-sm md:text-base",children:""})]}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:""}),m.jsx("p",{className:"text-xs md:text-base text-gray-600 mt-1 md:mt-2",children:"AI"})]})]}),L&&m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg md:rounded-xl p-3 md:p-4 mb-4 md:mb-6 flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-xs md:text-sm text-blue-900",children:""})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:ue,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-xs md:text-sm font-semibold whitespace-nowrap",children:""}),m.jsx("button",{onClick:M,className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all text-xs md:text-sm whitespace-nowrap",children:""})]})]}),m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md p-4 md:p-6 mb-4 md:mb-6",children:[m.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:""}),m.jsx("textarea",{value:i,onChange:ee=>a(ee.target.value),placeholder:`...



`,className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg md:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm md:text-base",rows:"8"}),m.jsxs("div",{className:"mt-4 space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("label",{className:"text-xs md:text-sm text-gray-700 font-medium whitespace-nowrap",children:""}),m.jsx("input",{type:"number",value:s,onChange:ee=>l(ee.target.value),placeholder:"",min:"1",className:"flex-1 max-w-xs px-3 py-1.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs md:text-sm"}),m.jsx("span",{className:"text-xs text-gray-500",children:""})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("label",{className:"text-xs md:text-sm text-gray-700 font-medium whitespace-nowrap",children:""}),m.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),className:"flex-1 max-w-xs px-3 py-1.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs md:text-sm",children:[m.jsx("option",{value:"zh-CN-Xiaochen:DragonHDLatestNeural",children:""}),m.jsx("option",{value:"zh-CN-Yunfan:DragonHDLatestNeural",children:""})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[i.length," "]}),m.jsxs("div",{className:"flex gap-2 md:gap-3",children:[m.jsxs("button",{onClick:Me,disabled:!i.trim(),className:"px-3 md:px-4 py-2 md:py-3 bg-green-600 text-white rounded-lg md:rounded-xl hover:bg-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-xs md:text-sm font-semibold shadow-md hover:shadow-lg",children:[m.jsx(kH,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]}),m.jsx("button",{onClick:R,disabled:y||!i.trim(),className:"px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg md:rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-xs md:text-sm font-semibold shadow-md hover:shadow-lg",children:y?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 md:h-5 md:w-5 border-b-2 border-white"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]})})]})]})]})]}),h.length>0&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3 md:mb-4",children:[m.jsxs("h2",{className:"text-base md:text-lg font-semibold text-gray-900",children:[" (",h.length,")"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:F,className:"px-3 md:px-4 py-1.5 md:py-2 bg-gray-600 text-white rounded-lg md:rounded-xl hover:bg-gray-700 transition-all flex items-center gap-1 md:gap-2 text-xs md:text-sm font-semibold shadow-md hover:shadow-lg whitespace-nowrap",children:[m.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),m.jsx("span",{children:""})]}),m.jsx("button",{onClick:Z,disabled:h.some(ee=>!ee.image)||E,className:"px-3 md:px-6 py-1.5 md:py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg md:rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 md:gap-2 text-xs md:text-base font-semibold shadow-md hover:shadow-lg whitespace-nowrap",children:E?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 md:h-5 md:w-5 border-b-2 border-white"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]})})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:h.map((ee,ye)=>m.jsx("div",{draggable:!0,onDragStart:()=>Ne(ye),onDragOver:Be=>Le(Be,ye),onDragEnd:le,className:`bg-white rounded-lg md:rounded-xl shadow-md p-3 md:p-4 cursor-move transition-all ${C===ye?"opacity-50 scale-95":"opacity-100 scale-100"}`,children:m.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[m.jsxs("div",{className:"flex-shrink-0",children:[m.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xs md:text-sm mb-1",children:ye+1}),m.jsx("div",{className:"text-[10px] md:text-xs text-gray-400 text-center",children:""})]}),m.jsxs("div",{className:"flex-1 space-y-3",children:[m.jsx("div",{className:"flex flex-col gap-3",children:m.jsxs("div",{className:"flex flex-row md:flex-col gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:""}),m.jsx("textarea",{value:ee.text,onChange:Be=>ge(ye,Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-xs md:text-sm",rows:"3"})]}),m.jsxs("div",{className:"w-32 md:w-full flex-shrink-0",children:[m.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:""}),ee.image?m.jsx("img",{src:ee.image,alt:` ${ye+1}`,onClick:()=>se(ee.image),className:"w-full h-24 md:h-40 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity"}):m.jsx("div",{className:"w-full h-24 md:h-40 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:m.jsx(Ko,{className:"w-8 h-8 md:w-12 md:h-12 text-gray-400"})})]})]})}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>oe(ye),disabled:ee.isGenerating||!ee.text.trim(),className:"flex-1 md:flex-initial px-3 md:px-4 py-1.5 md:py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 md:gap-2 text-xs md:text-sm font-semibold",children:ee.isGenerating?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-3 w-3 md:h-4 md:w-4 border-b-2 border-white"}),m.jsx("span",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"w-4 h-4"}),m.jsx("span",{children:""})]})}),m.jsxs("button",{onClick:()=>$(ye),className:"flex-1 md:flex-initial px-3 md:px-4 py-1.5 md:py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center justify-center gap-1 md:gap-2 text-xs md:text-sm font-semibold",children:[m.jsx(Ko,{className:"w-4 h-4"}),m.jsx("span",{children:""})]}),m.jsxs("button",{onClick:()=>fe(ye),className:"px-3 md:px-4 py-1.5 md:py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[m.jsx(Id,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden md:inline",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:""}),m.jsx("textarea",{value:(ee.assignedSubtitles||[]).join(`
`),onChange:Be=>tt(ye,Be.target.value),placeholder:"...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-xs md:text-sm",rows:"2"}),ee.assignedSubtitles&&ee.assignedSubtitles.length>0&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",ee.assignedSubtitles.length," "]})]})]})]})},ee.id))}),m.jsx("div",{className:"flex justify-center pt-2 mt-4",children:m.jsxs("button",{onClick:J,className:"px-4 md:px-6 py-2 md:py-3 bg-green-600 text-white rounded-lg md:rounded-xl hover:bg-green-700 transition-all flex items-center gap-2 text-sm md:text-base font-semibold shadow-md hover:shadow-lg",children:[m.jsx(tv,{className:"w-5 h-5"}),m.jsx("span",{children:""})]})})]}),h.length===0&&!y&&m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md p-8 md:p-12 text-center",children:[m.jsx(Ar,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto text-gray-300 mb-3 md:mb-4"}),m.jsx("p",{className:"text-sm md:text-base text-gray-500",children:""})]}),K&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>se(null),children:m.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[m.jsx("img",{src:K,alt:"",className:"max-w-full max-h-full object-contain rounded-lg",onClick:ee=>ee.stopPropagation()}),m.jsx("button",{onClick:()=>se(null),className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full flex items-center justify-center text-2xl font-bold transition-all",children:""})]})}),P&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:m.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden flex flex-col",onClick:ee=>ee.stopPropagation(),children:[m.jsx("div",{className:"p-4 md:p-6 border-b",children:m.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:""})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:Y?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):X.length>0?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4",children:X.map(ee=>m.jsx("div",{onClick:()=>ae(ee.url),className:"aspect-square cursor-pointer rounded-lg overflow-hidden hover:ring-4 hover:ring-blue-500 transition-all",children:m.jsx("img",{src:ee.url,alt:ee.prompt,className:"w-full h-full object-cover"})},ee.id))}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx(Ko,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),m.jsx("p",{className:"text-gray-500",children:""})]})}),m.jsx("div",{className:"p-4 md:p-6 border-t",children:m.jsx("button",{onClick:()=>j(!1),className:"w-full px-4 py-2 md:py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:""})})]})})]})})}function Zme(){const t=qi(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,s]=T.useState(!1),[l,c]=T.useState(null);T.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const w=localStorage.getItem("access_token"),S=await(await fetch(`${Ct}/api/video/projects/`,{headers:{Authorization:`Bearer ${w}`}})).json();S.status==="success"&&n(S.data)}catch(w){console.error(":",w)}finally{i(!1)}},h=async w=>{if(confirm(""))try{const E=localStorage.getItem("access_token"),C=await(await fetch(`${Ct}/api/video/projects/${w}/delete/`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).json();C.status==="success"?d():alert(C.message||"")}catch(E){console.error(":",E),alert("")}},p=w=>new Date(w).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),y=w=>{c(w),s(!0)},b=()=>{s(!1),c(null)},x=w=>({draft:"bg-gray-100 text-gray-700",processing:"bg-yellow-100 text-yellow-700",completed:"bg-green-100 text-green-700",failed:"bg-red-100 text-red-700"})[w]||"bg-gray-100 text-gray-700";return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 sm:px-6 lg:px-8 py-3 md:py-6",children:[m.jsxs("div",{className:"mb-4 md:mb-6",children:[m.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-3 md:mb-4",children:[m.jsx(Wu,{className:"w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-2"}),m.jsx("span",{className:"text-sm md:text-base",children:""})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:""}),m.jsx("p",{className:"text-xs md:text-base text-gray-600 mt-1 md:mt-2",children:""})]}),m.jsxs("button",{onClick:()=>t("/video-generator"),className:"px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg md:rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all flex items-center gap-2 text-sm md:text-base font-semibold shadow-md hover:shadow-lg",children:[m.jsx(tv,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]})]})]}),r&&m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!r&&e.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e.map(w=>m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md hover:shadow-lg transition-all p-4 md:p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 flex-1 mr-2",children:w.title}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(w.status)}`,children:w.status_display})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-600",children:[m.jsx(Xo,{className:"w-4 h-4 mr-2"}),m.jsxs("span",{children:[w.scene_count," "]})]}),m.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-600",children:[m.jsx(BH,{className:"w-4 h-4 mr-2"}),m.jsx("span",{children:p(w.updated_at)})]})]}),m.jsxs("div",{className:"flex gap-2",children:[w.video_url?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>y(w.video_url),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all flex items-center justify-center gap-2 text-xs md:text-sm font-semibold",children:[m.jsx(QN,{className:"w-4 h-4"}),m.jsx("span",{children:""})]}),m.jsx("button",{onClick:()=>t(`/video-generator?project=${w.id}`),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center text-xs md:text-sm",children:m.jsx(Xo,{className:"w-4 h-4"})})]}):m.jsxs("button",{onClick:()=>t(`/video-generator?project=${w.id}`),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2 text-xs md:text-sm font-semibold",children:[m.jsx(QN,{className:"w-4 h-4"}),m.jsx("span",{children:""})]}),m.jsx("button",{onClick:()=>h(w.id),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all flex items-center justify-center text-xs md:text-sm",children:m.jsx(Id,{className:"w-4 h-4"})})]})]},w.id))}),!r&&e.length===0&&m.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-md p-8 md:p-12 text-center",children:[m.jsx(Xo,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto text-gray-300 mb-3 md:mb-4"}),m.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:""}),m.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-4",children:'""'}),m.jsxs("button",{onClick:()=>t("/video-generator"),className:"px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg md:rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all inline-flex items-center gap-2 text-sm md:text-base font-semibold",children:[m.jsx(tv,{className:"w-4 h-4 md:w-5 md:h-5"}),m.jsx("span",{children:""})]})]})]}),a&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:b,children:m.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-4xl w-full",onClick:w=>w.stopPropagation(),children:[m.jsx("button",{onClick:b,className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:m.jsx(tz,{className:"w-8 h-8"})}),m.jsx("div",{className:"p-4",children:m.jsx("video",{src:l,controls:!0,autoPlay:!0,className:"w-full rounded-lg",style:{maxHeight:"70vh"},children:""})})]})})]})}function Jme(){return m.jsx(z9,{children:m.jsx(eU,{children:m.jsx("div",{className:"min-h-screen",children:m.jsxs(kF,{children:[m.jsx(nr,{path:"/",element:m.jsx(WN,{})}),m.jsx(nr,{path:"/home",element:m.jsx(WN,{})}),m.jsx(nr,{path:"/dashboard",element:m.jsx(si,{children:m.jsx(nz,{})})}),m.jsx(nr,{path:"/policies",element:m.jsx(si,{children:m.jsx(NH,{})})}),m.jsx(nr,{path:"/plan-analyzer",element:m.jsx(si,{children:m.jsx(eq,{})})}),m.jsx(nr,{path:"/plan-analyzer-2",element:m.jsx(si,{children:m.jsx(nq,{})})}),m.jsx(nr,{path:"/plan-management",element:m.jsx(si,{children:m.jsx(rq,{})})}),m.jsx(nr,{path:"/document/:id",element:m.jsx(si,{children:m.jsx(HQ,{})})}),m.jsx(nr,{path:"/document/:id/content-editor",element:m.jsx(si,{children:m.jsx(Ume,{})})}),m.jsx(nr,{path:"/content-creator",element:m.jsx(si,{children:m.jsx(Hme,{})})}),m.jsx(nr,{path:"/ip-image-generator",element:m.jsx(si,{children:m.jsx(Gme,{})})}),m.jsx(nr,{path:"/content-image-generator",element:m.jsx(si,{children:m.jsx(Wme,{})})}),m.jsx(nr,{path:"/media-library",element:m.jsx(si,{children:m.jsx(Kme,{})})}),m.jsx(nr,{path:"/video-projects",element:m.jsx(si,{children:m.jsx(Zme,{})})}),m.jsx(nr,{path:"/video-generator",element:m.jsx(si,{children:m.jsx(Qme,{})})}),m.jsx(nr,{path:"*",element:m.jsx(CF,{to:"/",replace:!0})})]})})})})}FB.createRoot(document.getElementById("root")).render(m.jsx(T.StrictMode,{children:m.jsx(Jme,{})}));
