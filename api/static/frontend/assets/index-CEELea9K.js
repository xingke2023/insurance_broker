var F_=t=>{throw TypeError(t)};var xb=(t,e,n)=>e.has(t)||F_("Cannot "+n);var an=(t,e,n)=>(xb(t,e,"read from private field"),n?n.call(t):e.get(t)),sa=(t,e,n)=>e.has(t)?F_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Lr=(t,e,n,r)=>(xb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),oa=(t,e,n)=>(xb(t,e,"access private method"),n);var U_=(t,e,n,r)=>({set _(i){Lr(t,e,i,n)},get _(){return an(t,e,r)}});function pB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vb={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function gB(){if(H_)return Zc;H_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Zc.Fragment=e,Zc.jsx=n,Zc.jsxs=n,Zc}var z_;function yB(){return z_||(z_=1,vb.exports=gB()),vb.exports}var p=yB(),Eb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function bB(){if($_)return nt;$_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function S(z,J,M){this.props=z,this.context=J,this.refs=w,this.updater=M||x}S.prototype.isReactComponent={},S.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=S.prototype;function C(z,J,M){this.props=z,this.context=J,this.refs=w,this.updater=M||x}var P=C.prototype=new N;P.constructor=C,E(P,S.prototype),P.isPureReactComponent=!0;var k=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function G(z,J,M){var Ee=M.ref;return{$$typeof:t,type:z,key:J,ref:Ee!==void 0?Ee:null,props:M}}function X(z,J){return G(z.type,J,z.props)}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(M){return J[M]})}var Z=/\/+/g;function K(z,J){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):J.toString(36)}function ne(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,J,M,Ee,Y){var re=typeof z;(re==="undefined"||re==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case t:case e:he=!0;break;case h:return he=z._init,L(he(z._payload),J,M,Ee,Y)}}if(he)return Y=Y(z),he=Ee===""?"."+K(z,0):Ee,k(Y)?(M="",he!=null&&(M=he.replace(Z,"$&/")+"/"),L(Y,J,M,"",function(Re){return Re})):Y!=null&&(B(Y)&&(Y=X(Y,M+(Y.key==null||z&&z.key===Y.key?"":(""+Y.key).replace(Z,"$&/")+"/")+he)),J.push(Y)),1;he=0;var Pe=Ee===""?".":Ee+":";if(k(z))for(var ie=0;ie<z.length;ie++)Ee=z[ie],re=Pe+K(Ee,ie),he+=L(Ee,J,M,re,Y);else if(ie=b(z),typeof ie=="function")for(z=ie.call(z),ie=0;!(Ee=z.next()).done;)Ee=Ee.value,re=Pe+K(Ee,ie++),he+=L(Ee,J,M,re,Y);else if(re==="object"){if(typeof z.then=="function")return L(ne(z),J,M,Ee,Y);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return he}function q(z,J,M){if(z==null)return z;var Ee=[],Y=0;return L(z,Ee,"","",function(re){return J.call(M,re,Y++)}),Ee}function oe(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(M){(z._status===0||z._status===-1)&&(z._status=1,z._result=M)},function(M){(z._status===0||z._status===-1)&&(z._status=2,z._result=M)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ve=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},U={map:q,forEach:function(z,J,M){q(z,function(){J.apply(this,arguments)},M)},count:function(z){var J=0;return q(z,function(){J++}),J},toArray:function(z){return q(z,function(J){return J})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return nt.Activity=m,nt.Children=U,nt.Component=S,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=C,nt.StrictMode=r,nt.Suspense=c,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,nt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},nt.cache=function(z){return function(){return z.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(z,J,M){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Ee=E({},z.props),Y=z.key;if(J!=null)for(re in J.key!==void 0&&(Y=""+J.key),J)!H.call(J,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&J.ref===void 0||(Ee[re]=J[re]);var re=arguments.length-2;if(re===1)Ee.children=M;else if(1<re){for(var he=Array(re),Pe=0;Pe<re;Pe++)he[Pe]=arguments[Pe+2];Ee.children=he}return G(z.type,Y,Ee)},nt.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},nt.createElement=function(z,J,M){var Ee,Y={},re=null;if(J!=null)for(Ee in J.key!==void 0&&(re=""+J.key),J)H.call(J,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Y[Ee]=J[Ee]);var he=arguments.length-2;if(he===1)Y.children=M;else if(1<he){for(var Pe=Array(he),ie=0;ie<he;ie++)Pe[ie]=arguments[ie+2];Y.children=Pe}if(z&&z.defaultProps)for(Ee in he=z.defaultProps,he)Y[Ee]===void 0&&(Y[Ee]=he[Ee]);return G(z,re,Y)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(z){return{$$typeof:l,render:z}},nt.isValidElement=B,nt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:oe}},nt.memo=function(z,J){return{$$typeof:d,type:z,compare:J===void 0?null:J}},nt.startTransition=function(z){var J=R.T,M={};R.T=M;try{var Ee=z(),Y=R.S;Y!==null&&Y(M,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(D,ve)}catch(re){ve(re)}finally{J!==null&&M.types!==null&&(J.types=M.types),R.T=J}},nt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},nt.use=function(z){return R.H.use(z)},nt.useActionState=function(z,J,M){return R.H.useActionState(z,J,M)},nt.useCallback=function(z,J){return R.H.useCallback(z,J)},nt.useContext=function(z){return R.H.useContext(z)},nt.useDebugValue=function(){},nt.useDeferredValue=function(z,J){return R.H.useDeferredValue(z,J)},nt.useEffect=function(z,J){return R.H.useEffect(z,J)},nt.useEffectEvent=function(z){return R.H.useEffectEvent(z)},nt.useId=function(){return R.H.useId()},nt.useImperativeHandle=function(z,J,M){return R.H.useImperativeHandle(z,J,M)},nt.useInsertionEffect=function(z,J){return R.H.useInsertionEffect(z,J)},nt.useLayoutEffect=function(z,J){return R.H.useLayoutEffect(z,J)},nt.useMemo=function(z,J){return R.H.useMemo(z,J)},nt.useOptimistic=function(z,J){return R.H.useOptimistic(z,J)},nt.useReducer=function(z,J,M){return R.H.useReducer(z,J,M)},nt.useRef=function(z){return R.H.useRef(z)},nt.useState=function(z){return R.H.useState(z)},nt.useSyncExternalStore=function(z,J,M){return R.H.useSyncExternalStore(z,J,M)},nt.useTransition=function(){return R.H.useTransition()},nt.version="19.2.0",nt}var q_;function Fu(){return q_||(q_=1,Eb.exports=bB()),Eb.exports}var _=Fu();const Ed=Xi(_),xB=pB({__proto__:null,default:Ed},[_]);var wb={exports:{}},Jc={},Ab={exports:{}},Sb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function vB(){return Y_||(Y_=1,(function(t){function e(L,q){var oe=L.length;L.push(q);e:for(;0<oe;){var ve=oe-1>>>1,U=L[ve];if(0<i(U,q))L[ve]=q,L[oe]=U,oe=ve;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],oe=L.pop();if(oe!==q){L[0]=oe;e:for(var ve=0,U=L.length,z=U>>>1;ve<z;){var J=2*(ve+1)-1,M=L[J],Ee=J+1,Y=L[Ee];if(0>i(M,oe))Ee<U&&0>i(Y,M)?(L[ve]=Y,L[Ee]=oe,ve=Ee):(L[ve]=M,L[J]=oe,ve=J);else if(Ee<U&&0>i(Y,oe))L[ve]=Y,L[Ee]=oe,ve=Ee;else break e}}return q}function i(L,q){var oe=L.sortIndex-q.sortIndex;return oe!==0?oe:L.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,m=null,y=3,b=!1,x=!1,E=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(L){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=L)r(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(d)}}function k(L){if(E=!1,P(L),!x)if(n(c)!==null)x=!0,D||(D=!0,F());else{var q=n(d);q!==null&&ne(k,q.startTime-L)}}var D=!1,R=-1,H=5,G=-1;function X(){return w?!0:!(t.unstable_now()-G<H)}function B(){if(w=!1,D){var L=t.unstable_now();G=L;var q=!0;try{e:{x=!1,E&&(E=!1,N(R),R=-1),b=!0;var oe=y;try{t:{for(P(L),m=n(c);m!==null&&!(m.expirationTime>L&&X());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,y=m.priorityLevel;var U=ve(m.expirationTime<=L);if(L=t.unstable_now(),typeof U=="function"){m.callback=U,P(L),q=!0;break t}m===n(c)&&r(c),P(L)}else r(c);m=n(c)}if(m!==null)q=!0;else{var z=n(d);z!==null&&ne(k,z.startTime-L),q=!1}}break e}finally{m=null,y=oe,b=!1}q=void 0}}finally{q?F():D=!1}}}var F;if(typeof C=="function")F=function(){C(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=B,F=function(){K.postMessage(null)}}else F=function(){S(B,0)};function ne(L,q){R=S(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var oe=y;y=q;try{return L()}finally{y=oe}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=y;y=L;try{return q()}finally{y=oe}},t.unstable_scheduleCallback=function(L,q,oe){var ve=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ve+oe:ve):oe=ve,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=oe+U,L={id:h++,callback:q,priorityLevel:L,startTime:oe,expirationTime:U,sortIndex:-1},oe>ve?(L.sortIndex=oe,e(d,L),n(c)===null&&L===n(d)&&(E?(N(R),R=-1):E=!0,ne(k,oe-ve))):(L.sortIndex=U,e(c,L),x||b||(x=!0,D||(D=!0,F()))),L},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(L){var q=y;return function(){var oe=y;y=q;try{return L.apply(this,arguments)}finally{y=oe}}}})(Sb)),Sb}var V_;function EB(){return V_||(V_=1,Ab.exports=vB()),Ab.exports}var Tb={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function wB(){if(G_)return lr;G_=1;var t=Fu();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},lr.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},lr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},lr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},lr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},lr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},lr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},lr.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},lr.requestFormReset=function(c){r.d.r(c)},lr.unstable_batchedUpdates=function(c,d){return c(d)},lr.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},lr.useFormStatus=function(){return s.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var W_;function dP(){if(W_)return Tb.exports;W_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tb.exports=wB(),Tb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function AB(){if(K_)return Jc;K_=1;var t=EB(),e=Fu(),n=dP();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,g=u;;){var v=f.return;if(v===null)break;var A=v.alternate;if(A===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===f)return c(v),o;if(A===g)return c(v),u;A=A.sibling}throw Error(r(188))}if(f.return!==g.return)f=v,g=A;else{for(var O=!1,I=v.child;I;){if(I===f){O=!0,f=v,g=A;break}if(I===g){O=!0,g=v,f=A;break}I=I.sibling}if(!O){for(I=A.child;I;){if(I===f){O=!0,f=A,g=v;break}if(I===g){O=!0,g=A,f=v;break}I=I.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case C:return o.displayName||"Context";case N:return(o._context.displayName||"Context")+".Consumer";case P:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return u=o.displayName||null,u!==null?u:K(o.type)||"Memo";case H:u=o._payload,o=o._init;try{return K(o(u))}catch{}}return null}var ne=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ve=[],U=-1;function z(o){return{current:o}}function J(o){0>U||(o.current=ve[U],ve[U]=null,U--)}function M(o,u){U++,ve[U]=o.current,o.current=u}var Ee=z(null),Y=z(null),re=z(null),he=z(null);function Pe(o,u){switch(M(re,u),M(Y,o),M(Ee,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?l_(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=l_(u),o=u_(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(Ee),M(Ee,o)}function ie(){J(Ee),J(Y),J(re)}function Re(o){o.memoizedState!==null&&M(he,o);var u=Ee.current,f=u_(u,o.type);u!==f&&(M(Y,o),M(Ee,f))}function je(o){Y.current===o&&(J(Ee),J(Y)),he.current===o&&(J(he),Wc._currentValue=oe)}var ae,ze;function Me(o){if(ae===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);ae=u&&u[1]||"",ze=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+o+ze}var Qe=!1;function Te(o,u){if(!o||Qe)return"";Qe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(me){var de=me}Reflect.construct(o,[],Ae)}else{try{Ae.call()}catch(me){de=me}o.call(Ae.prototype)}}else{try{throw Error()}catch(me){de=me}(Ae=o())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),O=A[0],I=A[1];if(O&&I){var W=O.split(`
`),ue=I.split(`
`);for(v=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(g===W.length||v===ue.length)for(g=W.length-1,v=ue.length-1;1<=g&&0<=v&&W[g]!==ue[v];)v--;for(;1<=g&&0<=v;g--,v--)if(W[g]!==ue[v]){if(g!==1||v!==1)do if(g--,v--,0>v||W[g]!==ue[v]){var xe=`
`+W[g].replace(" at new "," at ");return o.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",o.displayName)),xe}while(1<=g&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Me(f):""}function Ie(o,u){switch(o.tag){case 26:case 27:case 5:return Me(o.type);case 16:return Me("Lazy");case 13:return o.child!==u&&u!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Te(o.type,!1);case 11:return Te(o.type.render,!1);case 1:return Te(o.type,!0);case 31:return Me("Activity");default:return""}}function At(o){try{var u="",f=null;do u+=Ie(o,f),f=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ct=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,jt=t.unstable_shouldYield,It=t.unstable_requestPaint,tt=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,pe=t.unstable_UserBlockingPriority,ke=t.unstable_NormalPriority,Ye=t.unstable_LowPriority,it=t.unstable_IdlePriority,Ot=t.log,gi=t.unstable_setDisableYieldValue,ce=null,_e=null;function De(o){if(typeof Ot=="function"&&gi(o),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ce,o)}catch{}}var Le=Math.clz32?Math.clz32:ft,$e=Math.log,xt=Math.LN2;function ft(o){return o>>>=0,o===0?32:31-($e(o)/xt|0)|0}var pn=256,gr=262144,Kn=4194304;function Nr(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function vs(o,u,f){var g=o.pendingLanes;if(g===0)return 0;var v=0,A=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var I=g&134217727;return I!==0?(g=I&~A,g!==0?v=Nr(g):(O&=I,O!==0?v=Nr(O):f||(f=I&~o,f!==0&&(v=Nr(f))))):(I=g&~A,I!==0?v=Nr(I):O!==0?v=Nr(O):f||(f=g&~o,f!==0&&(v=Nr(f)))),v===0?0:u!==0&&u!==v&&(u&A)===0&&(A=v&-v,f=u&-u,A>=f||A===32&&(f&4194048)!==0)?u:v}function Es(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function s0(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $A(){var o=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),o}function o0(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function lc(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function r5(o,u,f,g,v,A){var O=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,W=o.expirationTimes,ue=o.hiddenUpdates;for(f=O&~f;0<f;){var xe=31-Le(f),Ae=1<<xe;I[xe]=0,W[xe]=-1;var de=ue[xe];if(de!==null)for(ue[xe]=null,xe=0;xe<de.length;xe++){var me=de[xe];me!==null&&(me.lane&=-536870913)}f&=~Ae}g!==0&&qA(o,g,0),A!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=A&~(O&~u))}function qA(o,u,f){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-Le(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|f&261930}function YA(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var g=31-Le(f),v=1<<g;v&u|o[g]&u&&(o[g]|=u),f&=~v}}function VA(o,u){var f=u&-u;return f=(f&42)!==0?1:l0(f),(f&(o.suspendedLanes|u))!==0?0:f}function l0(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function u0(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function GA(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:P_(o.type))}function WA(o,u){var f=q.p;try{return q.p=o,u()}finally{q.p=f}}var ws=Math.random().toString(36).slice(2),Xn="__reactFiber$"+ws,Or="__reactProps$"+ws,yl="__reactContainer$"+ws,c0="__reactEvents$"+ws,i5="__reactListeners$"+ws,a5="__reactHandles$"+ws,KA="__reactResources$"+ws,uc="__reactMarker$"+ws;function d0(o){delete o[Xn],delete o[Or],delete o[c0],delete o[i5],delete o[a5]}function bl(o){var u=o[Xn];if(u)return u;for(var f=o.parentNode;f;){if(u=f[yl]||f[Xn]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=g_(o);o!==null;){if(f=o[Xn])return f;o=g_(o)}return u}o=f,f=o.parentNode}return null}function xl(o){if(o=o[Xn]||o[yl]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function cc(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function vl(o){var u=o[KA];return u||(u=o[KA]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Fn(o){o[uc]=!0}var XA=new Set,QA={};function mo(o,u){El(o,u),El(o+"Capture",u)}function El(o,u){for(QA[o]=u,o=0;o<u.length;o++)XA.add(u[o])}var s5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ZA={},JA={};function o5(o){return ct.call(JA,o)?!0:ct.call(ZA,o)?!1:s5.test(o)?JA[o]=!0:(ZA[o]=!0,!1)}function qh(o,u,f){if(o5(u))if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+f)}}function Yh(o,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+f)}}function Oa(o,u,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(u,f,""+g)}}function yi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function e2(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function l5(o,u,f){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,A=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return v.call(this)},set:function(O){f=""+O,A.call(this,O)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function h0(o){if(!o._valueTracker){var u=e2(o)?"checked":"value";o._valueTracker=l5(o,u,""+o[u])}}function t2(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),g="";return o&&(g=e2(o)?o.checked?"true":"false":o.value),o=g,o!==f?(u.setValue(o),!0):!1}function Vh(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var u5=/[\n"\\]/g;function bi(o){return o.replace(u5,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function f0(o,u,f,g,v,A,O,I){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),u!=null?O==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+yi(u)):o.value!==""+yi(u)&&(o.value=""+yi(u)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),u!=null?m0(o,O,yi(u)):f!=null?m0(o,O,yi(f)):g!=null&&o.removeAttribute("value"),v==null&&A!=null&&(o.defaultChecked=!!A),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+yi(I):o.removeAttribute("name")}function n2(o,u,f,g,v,A,O,I){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),u!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||u!=null)){h0(o);return}f=f!=null?""+yi(f):"",u=u!=null?""+yi(u):f,I||u===o.value||(o.value=u),o.defaultValue=u}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=I?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),h0(o)}function m0(o,u,f){u==="number"&&Vh(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function wl(o,u,f,g){if(o=o.options,u){u={};for(var v=0;v<f.length;v++)u["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=u.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&g&&(o[f].defaultSelected=!0)}else{for(f=""+yi(f),u=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}u!==null||o[v].disabled||(u=o[v])}u!==null&&(u.selected=!0)}}function r2(o,u,f){if(u!=null&&(u=""+yi(u),u!==o.value&&(o.value=u),f==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=f!=null?""+yi(f):""}function i2(o,u,f,g){if(u==null){if(g!=null){if(f!=null)throw Error(r(92));if(ne(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),u=f}f=yi(u),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g),h0(o)}function Al(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var c5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a2(o,u,f){var g=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,f):typeof f!="number"||f===0||c5.has(u)?u==="float"?o.cssFloat=f:o[u]=(""+f).trim():o[u]=f+"px"}function s2(o,u,f){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in u)g=u[v],u.hasOwnProperty(v)&&f[v]!==g&&a2(o,v,g)}else for(var A in u)u.hasOwnProperty(A)&&a2(o,A,u[A])}function p0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gh(o){return h5.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ka(){}var g0=null;function y0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Sl=null,Tl=null;function o2(o){var u=xl(o);if(u&&(o=u.stateNode)){var f=o[Or]||null;e:switch(o=u.stateNode,u.type){case"input":if(f0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+bi(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var g=f[u];if(g!==o&&g.form===o.form){var v=g[Or]||null;if(!v)throw Error(r(90));f0(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<f.length;u++)g=f[u],g.form===o.form&&t2(g)}break e;case"textarea":r2(o,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&wl(o,!!f.multiple,u,!1)}}}var b0=!1;function l2(o,u,f){if(b0)return o(u,f);b0=!0;try{var g=o(u);return g}finally{if(b0=!1,(Sl!==null||Tl!==null)&&(Mf(),Sl&&(u=Sl,o=Tl,Tl=Sl=null,o2(u),o)))for(u=0;u<o.length;u++)o2(o[u])}}function dc(o,u){var f=o.stateNode;if(f===null)return null;var g=f[Or]||null;if(g===null)return null;f=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=!1;if(Da)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){x0=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{x0=!1}var As=null,v0=null,Wh=null;function u2(){if(Wh)return Wh;var o,u=v0,f=u.length,g,v="value"in As?As.value:As.textContent,A=v.length;for(o=0;o<f&&u[o]===v[o];o++);var O=f-o;for(g=1;g<=O&&u[f-g]===v[A-g];g++);return Wh=v.slice(o,1<g?1-g:void 0)}function Kh(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Xh(){return!0}function c2(){return!1}function kr(o){function u(f,g,v,A,O){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(A):A[I]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Xh:c2,this.isPropagationStopped=c2,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),u}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=kr(po),fc=m({},po,{view:0,detail:0}),f5=kr(fc),E0,w0,mc,Zh=m({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mc&&(mc&&o.type==="mousemove"?(E0=o.screenX-mc.screenX,w0=o.screenY-mc.screenY):w0=E0=0,mc=o),E0)},movementY:function(o){return"movementY"in o?o.movementY:w0}}),d2=kr(Zh),m5=m({},Zh,{dataTransfer:0}),p5=kr(m5),g5=m({},fc,{relatedTarget:0}),A0=kr(g5),y5=m({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),b5=kr(y5),x5=m({},po,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),v5=kr(x5),E5=m({},po,{data:0}),h2=kr(E5),w5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T5(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=S5[o])?!!u[o]:!1}function S0(){return T5}var _5=m({},fc,{key:function(o){if(o.key){var u=w5[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Kh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?A5[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(o){return o.type==="keypress"?Kh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Kh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),C5=kr(_5),N5=m({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f2=kr(N5),O5=m({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),k5=kr(O5),D5=m({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),P5=kr(D5),R5=m({},Zh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),I5=kr(R5),M5=m({},po,{newState:0,oldState:0}),L5=kr(M5),j5=[9,13,27,32],T0=Da&&"CompositionEvent"in window,pc=null;Da&&"documentMode"in document&&(pc=document.documentMode);var B5=Da&&"TextEvent"in window&&!pc,m2=Da&&(!T0||pc&&8<pc&&11>=pc),p2=" ",g2=!1;function y2(o,u){switch(o){case"keyup":return j5.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _l=!1;function F5(o,u){switch(o){case"compositionend":return b2(u);case"keypress":return u.which!==32?null:(g2=!0,p2);case"textInput":return o=u.data,o===p2&&g2?null:o;default:return null}}function U5(o,u){if(_l)return o==="compositionend"||!T0&&y2(o,u)?(o=u2(),Wh=v0=As=null,_l=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return m2&&u.locale!=="ko"?null:u.data;default:return null}}var H5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!H5[o.type]:u==="textarea"}function v2(o,u,f,g){Sl?Tl?Tl.push(g):Tl=[g]:Sl=g,u=zf(u,"onChange"),0<u.length&&(f=new Qh("onChange","change",null,f,g),o.push({event:f,listeners:u}))}var gc=null,yc=null;function z5(o){n_(o,0)}function Jh(o){var u=cc(o);if(t2(u))return o}function E2(o,u){if(o==="change")return u}var w2=!1;if(Da){var _0;if(Da){var C0="oninput"in document;if(!C0){var A2=document.createElement("div");A2.setAttribute("oninput","return;"),C0=typeof A2.oninput=="function"}_0=C0}else _0=!1;w2=_0&&(!document.documentMode||9<document.documentMode)}function S2(){gc&&(gc.detachEvent("onpropertychange",T2),yc=gc=null)}function T2(o){if(o.propertyName==="value"&&Jh(yc)){var u=[];v2(u,yc,o,y0(o)),l2(z5,u)}}function $5(o,u,f){o==="focusin"?(S2(),gc=u,yc=f,gc.attachEvent("onpropertychange",T2)):o==="focusout"&&S2()}function q5(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jh(yc)}function Y5(o,u){if(o==="click")return Jh(u)}function V5(o,u){if(o==="input"||o==="change")return Jh(u)}function G5(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Zr=typeof Object.is=="function"?Object.is:G5;function bc(o,u){if(Zr(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),g=Object.keys(u);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!ct.call(u,v)||!Zr(o[v],u[v]))return!1}return!0}function _2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function C2(o,u){var f=_2(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=u&&g>=u)return{node:f,offset:u-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=_2(f)}}function N2(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?N2(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function O2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Vh(o.document);u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=Vh(o.document)}return u}function N0(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var W5=Da&&"documentMode"in document&&11>=document.documentMode,Cl=null,O0=null,xc=null,k0=!1;function k2(o,u,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;k0||Cl==null||Cl!==Vh(g)||(g=Cl,"selectionStart"in g&&N0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xc&&bc(xc,g)||(xc=g,g=zf(O0,"onSelect"),0<g.length&&(u=new Qh("onSelect","select",null,u,f),o.push({event:u,listeners:g}),u.target=Cl)))}function go(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Nl={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},D0={},D2={};Da&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function yo(o){if(D0[o])return D0[o];if(!Nl[o])return o;var u=Nl[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in D2)return D0[o]=u[f];return o}var P2=yo("animationend"),R2=yo("animationiteration"),I2=yo("animationstart"),K5=yo("transitionrun"),X5=yo("transitionstart"),Q5=yo("transitioncancel"),M2=yo("transitionend"),L2=new Map,P0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");P0.push("scrollEnd");function $i(o,u){L2.set(o,u),mo(u,[o])}var ef=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},xi=[],Ol=0,R0=0;function tf(){for(var o=Ol,u=R0=Ol=0;u<o;){var f=xi[u];xi[u++]=null;var g=xi[u];xi[u++]=null;var v=xi[u];xi[u++]=null;var A=xi[u];if(xi[u++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}A!==0&&j2(f,v,A)}}function nf(o,u,f,g){xi[Ol++]=o,xi[Ol++]=u,xi[Ol++]=f,xi[Ol++]=g,R0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function I0(o,u,f,g){return nf(o,u,f,g),rf(o)}function bo(o,u){return nf(o,null,null,u),rf(o)}function j2(o,u,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var v=!1,A=o.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(v=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,v&&u!==null&&(v=31-Le(f),o=A.hiddenUpdates,g=o[v],g===null?o[v]=[u]:g.push(u),u.lane=f|536870912),A):null}function rf(o){if(50<Hc)throw Hc=0,$y=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var kl={};function Z5(o,u,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(o,u,f,g){return new Z5(o,u,f,g)}function M0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Pa(o,u){var f=o.alternate;return f===null?(f=Jr(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function B2(o,u){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,u=f.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function af(o,u,f,g,v,A){var O=0;if(g=o,typeof o=="function")M0(o)&&(O=1);else if(typeof o=="string")O=rB(o,f,Ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=Jr(31,f,u,v),o.elementType=G,o.lanes=A,o;case E:return xo(f.children,v,A,u);case w:O=8,v|=24;break;case S:return o=Jr(12,f,u,v|2),o.elementType=S,o.lanes=A,o;case k:return o=Jr(13,f,u,v),o.elementType=k,o.lanes=A,o;case D:return o=Jr(19,f,u,v),o.elementType=D,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:O=10;break e;case N:O=9;break e;case P:O=11;break e;case R:O=14;break e;case H:O=16,g=null;break e}O=29,f=Error(r(130,o===null?"null":typeof o,"")),g=null}return u=Jr(O,f,u,v),u.elementType=o,u.type=g,u.lanes=A,u}function xo(o,u,f,g){return o=Jr(7,o,g,u),o.lanes=f,o}function L0(o,u,f){return o=Jr(6,o,null,u),o.lanes=f,o}function F2(o){var u=Jr(18,null,null,0);return u.stateNode=o,u}function j0(o,u,f){return u=Jr(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var U2=new WeakMap;function vi(o,u){if(typeof o=="object"&&o!==null){var f=U2.get(o);return f!==void 0?f:(u={value:o,source:u,stack:At(u)},U2.set(o,u),u)}return{value:o,source:u,stack:At(u)}}var Dl=[],Pl=0,sf=null,vc=0,Ei=[],wi=0,Ss=null,na=1,ra="";function Ra(o,u){Dl[Pl++]=vc,Dl[Pl++]=sf,sf=o,vc=u}function H2(o,u,f){Ei[wi++]=na,Ei[wi++]=ra,Ei[wi++]=Ss,Ss=o;var g=na;o=ra;var v=32-Le(g)-1;g&=~(1<<v),f+=1;var A=32-Le(u)+v;if(30<A){var O=v-v%5;A=(g&(1<<O)-1).toString(32),g>>=O,v-=O,na=1<<32-Le(u)+v|f<<v|g,ra=A+o}else na=1<<A|f<<v|g,ra=o}function B0(o){o.return!==null&&(Ra(o,1),H2(o,1,0))}function F0(o){for(;o===sf;)sf=Dl[--Pl],Dl[Pl]=null,vc=Dl[--Pl],Dl[Pl]=null;for(;o===Ss;)Ss=Ei[--wi],Ei[wi]=null,ra=Ei[--wi],Ei[wi]=null,na=Ei[--wi],Ei[wi]=null}function z2(o,u){Ei[wi++]=na,Ei[wi++]=ra,Ei[wi++]=Ss,na=u.id,ra=u.overflow,Ss=o}var Qn=null,Jt=null,vt=!1,Ts=null,Ai=!1,U0=Error(r(519));function _s(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ec(vi(u,o)),U0}function $2(o){var u=o.stateNode,f=o.type,g=o.memoizedProps;switch(u[Xn]=o,u[Or]=g,f){case"dialog":gt("cancel",u),gt("close",u);break;case"iframe":case"object":case"embed":gt("load",u);break;case"video":case"audio":for(f=0;f<$c.length;f++)gt($c[f],u);break;case"source":gt("error",u);break;case"img":case"image":case"link":gt("error",u),gt("load",u);break;case"details":gt("toggle",u);break;case"input":gt("invalid",u),n2(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":gt("invalid",u);break;case"textarea":gt("invalid",u),i2(u,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||g.suppressHydrationWarning===!0||s_(u.textContent,f)?(g.popover!=null&&(gt("beforetoggle",u),gt("toggle",u)),g.onScroll!=null&&gt("scroll",u),g.onScrollEnd!=null&&gt("scrollend",u),g.onClick!=null&&(u.onclick=ka),u=!0):u=!1,u||_s(o,!0)}function q2(o){for(Qn=o.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Qn=Qn.return}}function Rl(o){if(o!==Qn)return!1;if(!vt)return q2(o),vt=!0,!1;var u=o.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||ib(o.type,o.memoizedProps)),f=!f),f&&Jt&&_s(o),q2(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=p_(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=p_(o)}else u===27?(u=Jt,Us(o.type)?(o=ub,ub=null,Jt=o):Jt=u):Jt=Qn?Ti(o.stateNode.nextSibling):null;return!0}function vo(){Jt=Qn=null,vt=!1}function H0(){var o=Ts;return o!==null&&(Ir===null?Ir=o:Ir.push.apply(Ir,o),Ts=null),o}function Ec(o){Ts===null?Ts=[o]:Ts.push(o)}var z0=z(null),Eo=null,Ia=null;function Cs(o,u,f){M(z0,u._currentValue),u._currentValue=f}function Ma(o){o._currentValue=z0.current,J(z0)}function $0(o,u,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===f)break;o=o.return}}function q0(o,u,f,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var A=v.dependencies;if(A!==null){var O=v.child;A=A.firstContext;e:for(;A!==null;){var I=A;A=v;for(var W=0;W<u.length;W++)if(I.context===u[W]){A.lanes|=f,I=A.alternate,I!==null&&(I.lanes|=f),$0(A.return,f,o),g||(O=null);break e}A=I.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=f,A=O.alternate,A!==null&&(A.lanes|=f),$0(O,f,o),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===o){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Il(o,u,f,g){o=null;for(var v=u,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var I=v.type;Zr(v.pendingProps.value,O.value)||(o!==null?o.push(I):o=[I])}}else if(v===he.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Wc):o=[Wc])}v=v.return}o!==null&&q0(u,o,f,g),u.flags|=262144}function of(o){for(o=o.firstContext;o!==null;){if(!Zr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wo(o){Eo=o,Ia=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Zn(o){return Y2(Eo,o)}function lf(o,u){return Eo===null&&wo(o),Y2(o,u)}function Y2(o,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},Ia===null){if(o===null)throw Error(r(308));Ia=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Ia=Ia.next=u;return f}var J5=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(f){return f()})}},e8=t.unstable_scheduleCallback,t8=t.unstable_NormalPriority,En={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y0(){return{controller:new J5,data:new Map,refCount:0}}function wc(o){o.refCount--,o.refCount===0&&e8(t8,function(){o.controller.abort()})}var Ac=null,V0=0,Ml=0,Ll=null;function n8(o,u){if(Ac===null){var f=Ac=[];V0=0,Ml=Ky(),Ll={status:"pending",value:void 0,then:function(g){f.push(g)}}}return V0++,u.then(V2,V2),u}function V2(){if(--V0===0&&Ac!==null){Ll!==null&&(Ll.status="fulfilled");var o=Ac;Ac=null,Ml=0,Ll=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function r8(o,u){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var v=0;v<f.length;v++)(0,f[v])(u)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var G2=L.S;L.S=function(o,u){kT=tt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&n8(o,u),G2!==null&&G2(o,u)};var Ao=z(null);function G0(){var o=Ao.current;return o!==null?o:Vt.pooledCache}function uf(o,u){u===null?M(Ao,Ao.current):M(Ao,u.pool)}function W2(){var o=G0();return o===null?null:{parent:En._currentValue,pool:o}}var jl=Error(r(460)),W0=Error(r(474)),cf=Error(r(542)),df={then:function(){}};function K2(o){return o=o.status,o==="fulfilled"||o==="rejected"}function X2(o,u,f){switch(f=o[f],f===void 0?o.push(u):f!==u&&(u.then(ka,ka),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Z2(o),o;default:if(typeof u.status=="string")u.then(ka,ka);else{if(o=Vt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=g}},function(g){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Z2(o),o}throw To=u,jl}}function So(o){try{var u=o._init;return u(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(To=f,jl):f}}var To=null;function Q2(){if(To===null)throw Error(r(459));var o=To;return To=null,o}function Z2(o){if(o===jl||o===cf)throw Error(r(483))}var Bl=null,Sc=0;function hf(o){var u=Sc;return Sc+=1,Bl===null&&(Bl=[]),X2(Bl,o,u)}function Tc(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ff(o,u){throw u.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function J2(o){function u(te,Q){if(o){var le=te.deletions;le===null?(te.deletions=[Q],te.flags|=16):le.push(Q)}}function f(te,Q){if(!o)return null;for(;Q!==null;)u(te,Q),Q=Q.sibling;return null}function g(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function v(te,Q){return te=Pa(te,Q),te.index=0,te.sibling=null,te}function A(te,Q,le){return te.index=le,o?(le=te.alternate,le!==null?(le=le.index,le<Q?(te.flags|=67108866,Q):le):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function O(te){return o&&te.alternate===null&&(te.flags|=67108866),te}function I(te,Q,le,we){return Q===null||Q.tag!==6?(Q=L0(le,te.mode,we),Q.return=te,Q):(Q=v(Q,le),Q.return=te,Q)}function W(te,Q,le,we){var Ge=le.type;return Ge===E?xe(te,Q,le.props.children,we,le.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===H&&So(Ge)===Q.type)?(Q=v(Q,le.props),Tc(Q,le),Q.return=te,Q):(Q=af(le.type,le.key,le.props,null,te.mode,we),Tc(Q,le),Q.return=te,Q)}function ue(te,Q,le,we){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==le.containerInfo||Q.stateNode.implementation!==le.implementation?(Q=j0(le,te.mode,we),Q.return=te,Q):(Q=v(Q,le.children||[]),Q.return=te,Q)}function xe(te,Q,le,we,Ge){return Q===null||Q.tag!==7?(Q=xo(le,te.mode,we,Ge),Q.return=te,Q):(Q=v(Q,le),Q.return=te,Q)}function Ae(te,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=L0(""+Q,te.mode,le),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return le=af(Q.type,Q.key,Q.props,null,te.mode,le),Tc(le,Q),le.return=te,le;case x:return Q=j0(Q,te.mode,le),Q.return=te,Q;case H:return Q=So(Q),Ae(te,Q,le)}if(ne(Q)||F(Q))return Q=xo(Q,te.mode,le,null),Q.return=te,Q;if(typeof Q.then=="function")return Ae(te,hf(Q),le);if(Q.$$typeof===C)return Ae(te,lf(te,Q),le);ff(te,Q)}return null}function de(te,Q,le,we){var Ge=Q!==null?Q.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ge!==null?null:I(te,Q,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===Ge?W(te,Q,le,we):null;case x:return le.key===Ge?ue(te,Q,le,we):null;case H:return le=So(le),de(te,Q,le,we)}if(ne(le)||F(le))return Ge!==null?null:xe(te,Q,le,we,null);if(typeof le.then=="function")return de(te,Q,hf(le),we);if(le.$$typeof===C)return de(te,Q,lf(te,le),we);ff(te,le)}return null}function me(te,Q,le,we,Ge){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return te=te.get(le)||null,I(Q,te,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return te=te.get(we.key===null?le:we.key)||null,W(Q,te,we,Ge);case x:return te=te.get(we.key===null?le:we.key)||null,ue(Q,te,we,Ge);case H:return we=So(we),me(te,Q,le,we,Ge)}if(ne(we)||F(we))return te=te.get(le)||null,xe(Q,te,we,Ge,null);if(typeof we.then=="function")return me(te,Q,le,hf(we),Ge);if(we.$$typeof===C)return me(te,Q,le,lf(Q,we),Ge);ff(Q,we)}return null}function Ue(te,Q,le,we){for(var Ge=null,_t=null,qe=Q,dt=Q=0,bt=null;qe!==null&&dt<le.length;dt++){qe.index>dt?(bt=qe,qe=null):bt=qe.sibling;var Ct=de(te,qe,le[dt],we);if(Ct===null){qe===null&&(qe=bt);break}o&&qe&&Ct.alternate===null&&u(te,qe),Q=A(Ct,Q,dt),_t===null?Ge=Ct:_t.sibling=Ct,_t=Ct,qe=bt}if(dt===le.length)return f(te,qe),vt&&Ra(te,dt),Ge;if(qe===null){for(;dt<le.length;dt++)qe=Ae(te,le[dt],we),qe!==null&&(Q=A(qe,Q,dt),_t===null?Ge=qe:_t.sibling=qe,_t=qe);return vt&&Ra(te,dt),Ge}for(qe=g(qe);dt<le.length;dt++)bt=me(qe,te,dt,le[dt],we),bt!==null&&(o&&bt.alternate!==null&&qe.delete(bt.key===null?dt:bt.key),Q=A(bt,Q,dt),_t===null?Ge=bt:_t.sibling=bt,_t=bt);return o&&qe.forEach(function(Ys){return u(te,Ys)}),vt&&Ra(te,dt),Ge}function Xe(te,Q,le,we){if(le==null)throw Error(r(151));for(var Ge=null,_t=null,qe=Q,dt=Q=0,bt=null,Ct=le.next();qe!==null&&!Ct.done;dt++,Ct=le.next()){qe.index>dt?(bt=qe,qe=null):bt=qe.sibling;var Ys=de(te,qe,Ct.value,we);if(Ys===null){qe===null&&(qe=bt);break}o&&qe&&Ys.alternate===null&&u(te,qe),Q=A(Ys,Q,dt),_t===null?Ge=Ys:_t.sibling=Ys,_t=Ys,qe=bt}if(Ct.done)return f(te,qe),vt&&Ra(te,dt),Ge;if(qe===null){for(;!Ct.done;dt++,Ct=le.next())Ct=Ae(te,Ct.value,we),Ct!==null&&(Q=A(Ct,Q,dt),_t===null?Ge=Ct:_t.sibling=Ct,_t=Ct);return vt&&Ra(te,dt),Ge}for(qe=g(qe);!Ct.done;dt++,Ct=le.next())Ct=me(qe,te,dt,Ct.value,we),Ct!==null&&(o&&Ct.alternate!==null&&qe.delete(Ct.key===null?dt:Ct.key),Q=A(Ct,Q,dt),_t===null?Ge=Ct:_t.sibling=Ct,_t=Ct);return o&&qe.forEach(function(mB){return u(te,mB)}),vt&&Ra(te,dt),Ge}function $t(te,Q,le,we){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var Ge=le.key;Q!==null;){if(Q.key===Ge){if(Ge=le.type,Ge===E){if(Q.tag===7){f(te,Q.sibling),we=v(Q,le.props.children),we.return=te,te=we;break e}}else if(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===H&&So(Ge)===Q.type){f(te,Q.sibling),we=v(Q,le.props),Tc(we,le),we.return=te,te=we;break e}f(te,Q);break}else u(te,Q);Q=Q.sibling}le.type===E?(we=xo(le.props.children,te.mode,we,le.key),we.return=te,te=we):(we=af(le.type,le.key,le.props,null,te.mode,we),Tc(we,le),we.return=te,te=we)}return O(te);case x:e:{for(Ge=le.key;Q!==null;){if(Q.key===Ge)if(Q.tag===4&&Q.stateNode.containerInfo===le.containerInfo&&Q.stateNode.implementation===le.implementation){f(te,Q.sibling),we=v(Q,le.children||[]),we.return=te,te=we;break e}else{f(te,Q);break}else u(te,Q);Q=Q.sibling}we=j0(le,te.mode,we),we.return=te,te=we}return O(te);case H:return le=So(le),$t(te,Q,le,we)}if(ne(le))return Ue(te,Q,le,we);if(F(le)){if(Ge=F(le),typeof Ge!="function")throw Error(r(150));return le=Ge.call(le),Xe(te,Q,le,we)}if(typeof le.then=="function")return $t(te,Q,hf(le),we);if(le.$$typeof===C)return $t(te,Q,lf(te,le),we);ff(te,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,Q!==null&&Q.tag===6?(f(te,Q.sibling),we=v(Q,le),we.return=te,te=we):(f(te,Q),we=L0(le,te.mode,we),we.return=te,te=we),O(te)):f(te,Q)}return function(te,Q,le,we){try{Sc=0;var Ge=$t(te,Q,le,we);return Bl=null,Ge}catch(qe){if(qe===jl||qe===cf)throw qe;var _t=Jr(29,qe,null,te.mode);return _t.lanes=we,_t.return=te,_t}finally{}}}var _o=J2(!0),eS=J2(!1),Ns=!1;function K0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function X0(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Os(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ks(o,u,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(kt&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,u=rf(o),j2(o,null,f),u}return nf(o,g,u,f),rf(o)}function _c(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,f|=g,u.lanes=f,YA(o,f)}}function Q0(o,u){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?v=A=O:A=A.next=O,f=f.next}while(f!==null);A===null?v=A=u:A=A.next=u}else v=A=u;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}var Z0=!1;function Cc(){if(Z0){var o=Ll;if(o!==null)throw o}}function Nc(o,u,f,g){Z0=!1;var v=o.updateQueue;Ns=!1;var A=v.firstBaseUpdate,O=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var W=I,ue=W.next;W.next=null,O===null?A=ue:O.next=ue,O=W;var xe=o.alternate;xe!==null&&(xe=xe.updateQueue,I=xe.lastBaseUpdate,I!==O&&(I===null?xe.firstBaseUpdate=ue:I.next=ue,xe.lastBaseUpdate=W))}if(A!==null){var Ae=v.baseState;O=0,xe=ue=W=null,I=A;do{var de=I.lane&-536870913,me=de!==I.lane;if(me?(yt&de)===de:(g&de)===de){de!==0&&de===Ml&&(Z0=!0),xe!==null&&(xe=xe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ue=o,Xe=I;de=u;var $t=f;switch(Xe.tag){case 1:if(Ue=Xe.payload,typeof Ue=="function"){Ae=Ue.call($t,Ae,de);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Xe.payload,de=typeof Ue=="function"?Ue.call($t,Ae,de):Ue,de==null)break e;Ae=m({},Ae,de);break e;case 2:Ns=!0}}de=I.callback,de!==null&&(o.flags|=64,me&&(o.flags|=8192),me=v.callbacks,me===null?v.callbacks=[de]:me.push(de))}else me={lane:de,tag:I.tag,payload:I.payload,callback:I.callback,next:null},xe===null?(ue=xe=me,W=Ae):xe=xe.next=me,O|=de;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;me=I,I=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);xe===null&&(W=Ae),v.baseState=W,v.firstBaseUpdate=ue,v.lastBaseUpdate=xe,A===null&&(v.shared.lanes=0),Ms|=O,o.lanes=O,o.memoizedState=Ae}}function tS(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function nS(o,u){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)tS(f[o],u)}var Fl=z(null),mf=z(0);function rS(o,u){o=qa,M(mf,o),M(Fl,u),qa=o|u.baseLanes}function J0(){M(mf,qa),M(Fl,Fl.current)}function ey(){qa=mf.current,J(Fl),J(mf)}var ei=z(null),Si=null;function Ds(o){var u=o.alternate;M(gn,gn.current&1),M(ei,o),Si===null&&(u===null||Fl.current!==null||u.memoizedState!==null)&&(Si=o)}function ty(o){M(gn,gn.current),M(ei,o),Si===null&&(Si=o)}function iS(o){o.tag===22?(M(gn,gn.current),M(ei,o),Si===null&&(Si=o)):Ps()}function Ps(){M(gn,gn.current),M(ei,ei.current)}function ti(o){J(ei),Si===o&&(Si=null),J(gn)}var gn=z(0);function pf(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||ob(f)||lb(f)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var La=0,st=null,Ht=null,wn=null,gf=!1,Ul=!1,Co=!1,yf=0,Oc=0,Hl=null,i8=0;function hn(){throw Error(r(321))}function ny(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Zr(o[f],u[f]))return!1;return!0}function ry(o,u,f,g,v,A){return La=A,st=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,L.H=o===null||o.memoizedState===null?HS:by,Co=!1,A=f(g,v),Co=!1,Ul&&(A=sS(u,f,g,v)),aS(o),A}function aS(o){L.H=Pc;var u=Ht!==null&&Ht.next!==null;if(La=0,wn=Ht=st=null,gf=!1,Oc=0,Hl=null,u)throw Error(r(300));o===null||An||(o=o.dependencies,o!==null&&of(o)&&(An=!0))}function sS(o,u,f,g){st=o;var v=0;do{if(Ul&&(Hl=null),Oc=0,Ul=!1,25<=v)throw Error(r(301));if(v+=1,wn=Ht=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}L.H=zS,A=u(f,g)}while(Ul);return A}function a8(){var o=L.H,u=o.useState()[0];return u=typeof u.then=="function"?kc(u):u,o=o.useState()[0],(Ht!==null?Ht.memoizedState:null)!==o&&(st.flags|=1024),u}function iy(){var o=yf!==0;return yf=0,o}function ay(o,u,f){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~f}function sy(o){if(gf){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}gf=!1}La=0,wn=Ht=st=null,Ul=!1,Oc=yf=0,Hl=null}function yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?st.memoizedState=wn=o:wn=wn.next=o,wn}function yn(){if(Ht===null){var o=st.alternate;o=o!==null?o.memoizedState:null}else o=Ht.next;var u=wn===null?st.memoizedState:wn.next;if(u!==null)wn=u,Ht=o;else{if(o===null)throw st.alternate===null?Error(r(467)):Error(r(310));Ht=o,o={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},wn===null?st.memoizedState=wn=o:wn=wn.next=o}return wn}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(o){var u=Oc;return Oc+=1,Hl===null&&(Hl=[]),o=X2(Hl,o,u),u=st,(wn===null?u.memoizedState:wn.next)===null&&(u=u.alternate,L.H=u===null||u.memoizedState===null?HS:by),o}function xf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kc(o);if(o.$$typeof===C)return Zn(o)}throw Error(r(438,String(o)))}function oy(o){var u=null,f=st.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var g=st.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=bf(),st.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(o),g=0;g<o;g++)f[g]=X;return u.index++,f}function ja(o,u){return typeof u=="function"?u(o):u}function vf(o){var u=yn();return ly(u,Ht,o)}function ly(o,u,f){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var v=o.baseQueue,A=g.pending;if(A!==null){if(v!==null){var O=v.next;v.next=A.next,A.next=O}u.baseQueue=v=A,g.pending=null}if(A=o.baseState,v===null)o.memoizedState=A;else{u=v.next;var I=O=null,W=null,ue=u,xe=!1;do{var Ae=ue.lane&-536870913;if(Ae!==ue.lane?(yt&Ae)===Ae:(La&Ae)===Ae){var de=ue.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ae===Ml&&(xe=!0);else if((La&de)===de){ue=ue.next,de===Ml&&(xe=!0);continue}else Ae={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(I=W=Ae,O=A):W=W.next=Ae,st.lanes|=de,Ms|=de;Ae=ue.action,Co&&f(A,Ae),A=ue.hasEagerState?ue.eagerState:f(A,Ae)}else de={lane:Ae,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(I=W=de,O=A):W=W.next=de,st.lanes|=Ae,Ms|=Ae;ue=ue.next}while(ue!==null&&ue!==u);if(W===null?O=A:W.next=I,!Zr(A,o.memoizedState)&&(An=!0,xe&&(f=Ll,f!==null)))throw f;o.memoizedState=A,o.baseState=O,o.baseQueue=W,g.lastRenderedState=A}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function uy(o){var u=yn(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var g=f.dispatch,v=f.pending,A=u.memoizedState;if(v!==null){f.pending=null;var O=v=v.next;do A=o(A,O.action),O=O.next;while(O!==v);Zr(A,u.memoizedState)||(An=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),f.lastRenderedState=A}return[A,g]}function oS(o,u,f){var g=st,v=yn(),A=vt;if(A){if(f===void 0)throw Error(r(407));f=f()}else f=u();var O=!Zr((Ht||v).memoizedState,f);if(O&&(v.memoizedState=f,An=!0),v=v.queue,hy(cS.bind(null,g,v,o),[o]),v.getSnapshot!==u||O||wn!==null&&wn.memoizedState.tag&1){if(g.flags|=2048,zl(9,{destroy:void 0},uS.bind(null,g,v,f,u),null),Vt===null)throw Error(r(349));A||(La&127)!==0||lS(g,u,f)}return f}function lS(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=st.updateQueue,u===null?(u=bf(),st.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function uS(o,u,f,g){u.value=f,u.getSnapshot=g,dS(u)&&hS(o)}function cS(o,u,f){return f(function(){dS(u)&&hS(o)})}function dS(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Zr(o,f)}catch{return!0}}function hS(o){var u=bo(o,2);u!==null&&Mr(u,o,2)}function cy(o){var u=yr();if(typeof o=="function"){var f=o;if(o=f(),Co){De(!0);try{f()}finally{De(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:o},u}function fS(o,u,f,g){return o.baseState=f,ly(o,Ht,typeof g=="function"?g:ja)}function s8(o,u,f,g,v){if(Af(o))throw Error(r(485));if(o=u.action,o!==null){var A={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};L.T!==null?f(!0):A.isTransition=!1,g(A),f=u.pending,f===null?(A.next=u.pending=A,mS(u,A)):(A.next=f.next,u.pending=f.next=A)}}function mS(o,u){var f=u.action,g=u.payload,v=o.state;if(u.isTransition){var A=L.T,O={};L.T=O;try{var I=f(v,g),W=L.S;W!==null&&W(O,I),pS(o,u,I)}catch(ue){dy(o,u,ue)}finally{A!==null&&O.types!==null&&(A.types=O.types),L.T=A}}else try{A=f(v,g),pS(o,u,A)}catch(ue){dy(o,u,ue)}}function pS(o,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){gS(o,u,g)},function(g){return dy(o,u,g)}):gS(o,u,f)}function gS(o,u,f){u.status="fulfilled",u.value=f,yS(u),o.state=f,u=o.pending,u!==null&&(f=u.next,f===u?o.pending=null:(f=f.next,u.next=f,mS(o,f)))}function dy(o,u,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=f,yS(u),u=u.next;while(u!==g)}o.action=null}function yS(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function bS(o,u){return u}function xS(o,u){if(vt){var f=Vt.formState;if(f!==null){e:{var g=st;if(vt){if(Jt){t:{for(var v=Jt,A=Ai;v.nodeType!==8;){if(!A){v=null;break t}if(v=Ti(v.nextSibling),v===null){v=null;break t}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){Jt=Ti(v.nextSibling),g=v.data==="F!";break e}}_s(g)}g=!1}g&&(u=f[0])}}return f=yr(),f.memoizedState=f.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bS,lastRenderedState:u},f.queue=g,f=BS.bind(null,st,g),g.dispatch=f,g=cy(!1),A=yy.bind(null,st,!1,g.queue),g=yr(),v={state:u,dispatch:null,action:o,pending:null},g.queue=v,f=s8.bind(null,st,v,A,f),v.dispatch=f,g.memoizedState=o,[u,f,!1]}function vS(o){var u=yn();return ES(u,Ht,o)}function ES(o,u,f){if(u=ly(o,u,bS)[0],o=vf(ja)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=kc(u)}catch(O){throw O===jl?cf:O}else g=u;u=yn();var v=u.queue,A=v.dispatch;return f!==u.memoizedState&&(st.flags|=2048,zl(9,{destroy:void 0},o8.bind(null,v,f),null)),[g,A,o]}function o8(o,u){o.action=u}function wS(o){var u=yn(),f=Ht;if(f!==null)return ES(u,f,o);yn(),u=u.memoizedState,f=yn();var g=f.queue.dispatch;return f.memoizedState=o,[u,g,!1]}function zl(o,u,f,g){return o={tag:o,create:f,deps:g,inst:u,next:null},u=st.updateQueue,u===null&&(u=bf(),st.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,u.lastEffect=o),o}function AS(){return yn().memoizedState}function Ef(o,u,f,g){var v=yr();st.flags|=o,v.memoizedState=zl(1|u,{destroy:void 0},f,g===void 0?null:g)}function wf(o,u,f,g){var v=yn();g=g===void 0?null:g;var A=v.memoizedState.inst;Ht!==null&&g!==null&&ny(g,Ht.memoizedState.deps)?v.memoizedState=zl(u,A,f,g):(st.flags|=o,v.memoizedState=zl(1|u,A,f,g))}function SS(o,u){Ef(8390656,8,o,u)}function hy(o,u){wf(2048,8,o,u)}function l8(o){st.flags|=4;var u=st.updateQueue;if(u===null)u=bf(),st.updateQueue=u,u.events=[o];else{var f=u.events;f===null?u.events=[o]:f.push(o)}}function TS(o){var u=yn().memoizedState;return l8({ref:u,nextImpl:o}),function(){if((kt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function _S(o,u){return wf(4,2,o,u)}function CS(o,u){return wf(4,4,o,u)}function NS(o,u){if(typeof u=="function"){o=o();var f=u(o);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function OS(o,u,f){f=f!=null?f.concat([o]):null,wf(4,4,NS.bind(null,u,o),f)}function fy(){}function kS(o,u){var f=yn();u=u===void 0?null:u;var g=f.memoizedState;return u!==null&&ny(u,g[1])?g[0]:(f.memoizedState=[o,u],o)}function DS(o,u){var f=yn();u=u===void 0?null:u;var g=f.memoizedState;if(u!==null&&ny(u,g[1]))return g[0];if(g=o(),Co){De(!0);try{o()}finally{De(!1)}}return f.memoizedState=[g,u],g}function my(o,u,f){return f===void 0||(La&1073741824)!==0&&(yt&261930)===0?o.memoizedState=u:(o.memoizedState=f,o=PT(),st.lanes|=o,Ms|=o,f)}function PS(o,u,f,g){return Zr(f,u)?f:Fl.current!==null?(o=my(o,f,g),Zr(o,u)||(An=!0),o):(La&42)===0||(La&1073741824)!==0&&(yt&261930)===0?(An=!0,o.memoizedState=f):(o=PT(),st.lanes|=o,Ms|=o,u)}function RS(o,u,f,g,v){var A=q.p;q.p=A!==0&&8>A?A:8;var O=L.T,I={};L.T=I,yy(o,!1,u,f);try{var W=v(),ue=L.S;if(ue!==null&&ue(I,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var xe=r8(W,g);Dc(o,u,xe,ii(o))}else Dc(o,u,g,ii(o))}catch(Ae){Dc(o,u,{then:function(){},status:"rejected",reason:Ae},ii())}finally{q.p=A,O!==null&&I.types!==null&&(O.types=I.types),L.T=O}}function u8(){}function py(o,u,f,g){if(o.tag!==5)throw Error(r(476));var v=IS(o).queue;RS(o,v,u,oe,f===null?u8:function(){return MS(o),f(g)})}function IS(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:oe},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:f},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function MS(o){var u=IS(o);u.next===null&&(u=o.alternate.memoizedState),Dc(o,u.next.queue,{},ii())}function gy(){return Zn(Wc)}function LS(){return yn().memoizedState}function jS(){return yn().memoizedState}function c8(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var f=ii();o=Os(f);var g=ks(u,o,f);g!==null&&(Mr(g,u,f),_c(g,u,f)),u={cache:Y0()},o.payload=u;return}u=u.return}}function d8(o,u,f){var g=ii();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Af(o)?FS(u,f):(f=I0(o,u,f,g),f!==null&&(Mr(f,o,g),US(f,u,g)))}function BS(o,u,f){var g=ii();Dc(o,u,f,g)}function Dc(o,u,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Af(o))FS(u,v);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var O=u.lastRenderedState,I=A(O,f);if(v.hasEagerState=!0,v.eagerState=I,Zr(I,O))return nf(o,u,v,0),Vt===null&&tf(),!1}catch{}finally{}if(f=I0(o,u,v,g),f!==null)return Mr(f,o,g),US(f,u,g),!0}return!1}function yy(o,u,f,g){if(g={lane:2,revertLane:Ky(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Af(o)){if(u)throw Error(r(479))}else u=I0(o,f,g,2),u!==null&&Mr(u,o,2)}function Af(o){var u=o.alternate;return o===st||u!==null&&u===st}function FS(o,u){Ul=gf=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function US(o,u,f){if((f&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,f|=g,u.lanes=f,YA(o,f)}}var Pc={readContext:Zn,use:xf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};Pc.useEffectEvent=hn;var HS={readContext:Zn,use:xf,useCallback:function(o,u){return yr().memoizedState=[o,u===void 0?null:u],o},useContext:Zn,useEffect:SS,useImperativeHandle:function(o,u,f){f=f!=null?f.concat([o]):null,Ef(4194308,4,NS.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Ef(4194308,4,o,u)},useInsertionEffect:function(o,u){Ef(4,2,o,u)},useMemo:function(o,u){var f=yr();u=u===void 0?null:u;var g=o();if(Co){De(!0);try{o()}finally{De(!1)}}return f.memoizedState=[g,u],g},useReducer:function(o,u,f){var g=yr();if(f!==void 0){var v=f(u);if(Co){De(!0);try{f(u)}finally{De(!1)}}}else v=u;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=d8.bind(null,st,o),[g.memoizedState,o]},useRef:function(o){var u=yr();return o={current:o},u.memoizedState=o},useState:function(o){o=cy(o);var u=o.queue,f=BS.bind(null,st,u);return u.dispatch=f,[o.memoizedState,f]},useDebugValue:fy,useDeferredValue:function(o,u){var f=yr();return my(f,o,u)},useTransition:function(){var o=cy(!1);return o=RS.bind(null,st,o.queue,!0,!1),yr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,f){var g=st,v=yr();if(vt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Vt===null)throw Error(r(349));(yt&127)!==0||lS(g,u,f)}v.memoizedState=f;var A={value:f,getSnapshot:u};return v.queue=A,SS(cS.bind(null,g,A,o),[o]),g.flags|=2048,zl(9,{destroy:void 0},uS.bind(null,g,A,f,u),null),f},useId:function(){var o=yr(),u=Vt.identifierPrefix;if(vt){var f=ra,g=na;f=(g&~(1<<32-Le(g)-1)).toString(32)+f,u="_"+u+"R_"+f,f=yf++,0<f&&(u+="H"+f.toString(32)),u+="_"}else f=i8++,u="_"+u+"r_"+f.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:gy,useFormState:xS,useActionState:xS,useOptimistic:function(o){var u=yr();u.memoizedState=u.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=yy.bind(null,st,!0,f),f.dispatch=u,[o,u]},useMemoCache:oy,useCacheRefresh:function(){return yr().memoizedState=c8.bind(null,st)},useEffectEvent:function(o){var u=yr(),f={impl:o};return u.memoizedState=f,function(){if((kt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},by={readContext:Zn,use:xf,useCallback:kS,useContext:Zn,useEffect:hy,useImperativeHandle:OS,useInsertionEffect:_S,useLayoutEffect:CS,useMemo:DS,useReducer:vf,useRef:AS,useState:function(){return vf(ja)},useDebugValue:fy,useDeferredValue:function(o,u){var f=yn();return PS(f,Ht.memoizedState,o,u)},useTransition:function(){var o=vf(ja)[0],u=yn().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:oS,useId:LS,useHostTransitionStatus:gy,useFormState:vS,useActionState:vS,useOptimistic:function(o,u){var f=yn();return fS(f,Ht,o,u)},useMemoCache:oy,useCacheRefresh:jS};by.useEffectEvent=TS;var zS={readContext:Zn,use:xf,useCallback:kS,useContext:Zn,useEffect:hy,useImperativeHandle:OS,useInsertionEffect:_S,useLayoutEffect:CS,useMemo:DS,useReducer:uy,useRef:AS,useState:function(){return uy(ja)},useDebugValue:fy,useDeferredValue:function(o,u){var f=yn();return Ht===null?my(f,o,u):PS(f,Ht.memoizedState,o,u)},useTransition:function(){var o=uy(ja)[0],u=yn().memoizedState;return[typeof o=="boolean"?o:kc(o),u]},useSyncExternalStore:oS,useId:LS,useHostTransitionStatus:gy,useFormState:wS,useActionState:wS,useOptimistic:function(o,u){var f=yn();return Ht!==null?fS(f,Ht,o,u):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:oy,useCacheRefresh:jS};zS.useEffectEvent=TS;function xy(o,u,f,g){u=o.memoizedState,f=f(g,u),f=f==null?u:m({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var vy={enqueueSetState:function(o,u,f){o=o._reactInternals;var g=ii(),v=Os(g);v.payload=u,f!=null&&(v.callback=f),u=ks(o,v,g),u!==null&&(Mr(u,o,g),_c(u,o,g))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var g=ii(),v=Os(g);v.tag=1,v.payload=u,f!=null&&(v.callback=f),u=ks(o,v,g),u!==null&&(Mr(u,o,g),_c(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=ii(),g=Os(f);g.tag=2,u!=null&&(g.callback=u),u=ks(o,g,f),u!==null&&(Mr(u,o,f),_c(u,o,f))}};function $S(o,u,f,g,v,A,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,O):u.prototype&&u.prototype.isPureReactComponent?!bc(f,g)||!bc(v,A):!0}function qS(o,u,f,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,g),u.state!==o&&vy.enqueueReplaceState(u,u.state,null)}function No(o,u){var f=u;if("ref"in u){f={};for(var g in u)g!=="ref"&&(f[g]=u[g])}if(o=o.defaultProps){f===u&&(f=m({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}function YS(o){ef(o)}function VS(o){console.error(o)}function GS(o){ef(o)}function Sf(o,u){try{var f=o.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function WS(o,u,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ey(o,u,f){return f=Os(f),f.tag=3,f.payload={element:null},f.callback=function(){Sf(o,u)},f}function KS(o){return o=Os(o),o.tag=3,o}function XS(o,u,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var A=g.value;o.payload=function(){return v(A)},o.callback=function(){WS(u,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){WS(u,f,g),typeof v!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var I=g.stack;this.componentDidCatch(g.value,{componentStack:I!==null?I:""})})}function h8(o,u,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=f.alternate,u!==null&&Il(u,f,v,!0),f=ei.current,f!==null){switch(f.tag){case 31:case 13:return Si===null?Lf():f.alternate===null&&fn===0&&(fn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===df?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([g]):u.add(g),Vy(o,g,v)),!1;case 22:return f.flags|=65536,g===df?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([g]):f.add(g)),Vy(o,g,v)),!1}throw Error(r(435,f.tag))}return Vy(o,g,v),Lf(),!1}if(vt)return u=ei.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,g!==U0&&(o=Error(r(422),{cause:g}),Ec(vi(o,f)))):(g!==U0&&(u=Error(r(423),{cause:g}),Ec(vi(u,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=vi(g,f),v=Ey(o.stateNode,g,v),Q0(o,v),fn!==4&&(fn=2)),!1;var A=Error(r(520),{cause:g});if(A=vi(A,f),Uc===null?Uc=[A]:Uc.push(A),fn!==4&&(fn=2),u===null)return!0;g=vi(g,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=Ey(f.stateNode,g,o),Q0(f,o),!1;case 1:if(u=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ls===null||!Ls.has(A))))return f.flags|=65536,v&=-v,f.lanes|=v,v=KS(v),XS(v,o,f,g),Q0(f,v),!1}f=f.return}while(f!==null);return!1}var wy=Error(r(461)),An=!1;function Jn(o,u,f,g){u.child=o===null?eS(u,null,f,g):_o(u,o.child,f,g)}function QS(o,u,f,g,v){f=f.render;var A=u.ref;if("ref"in g){var O={};for(var I in g)I!=="ref"&&(O[I]=g[I])}else O=g;return wo(u),g=ry(o,u,f,O,A,v),I=iy(),o!==null&&!An?(ay(o,u,v),Ba(o,u,v)):(vt&&I&&B0(u),u.flags|=1,Jn(o,u,g,v),u.child)}function ZS(o,u,f,g,v){if(o===null){var A=f.type;return typeof A=="function"&&!M0(A)&&A.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=A,JS(o,u,A,g,v)):(o=af(f.type,null,g,u,u.mode,v),o.ref=u.ref,o.return=u,u.child=o)}if(A=o.child,!ky(o,v)){var O=A.memoizedProps;if(f=f.compare,f=f!==null?f:bc,f(O,g)&&o.ref===u.ref)return Ba(o,u,v)}return u.flags|=1,o=Pa(A,g),o.ref=u.ref,o.return=u,u.child=o}function JS(o,u,f,g,v){if(o!==null){var A=o.memoizedProps;if(bc(A,g)&&o.ref===u.ref)if(An=!1,u.pendingProps=g=A,ky(o,v))(o.flags&131072)!==0&&(An=!0);else return u.lanes=o.lanes,Ba(o,u,v)}return Ay(o,u,f,g,v)}function eT(o,u,f,g){var v=g.children,A=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,o!==null){for(g=u.child=o.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~A}else g=0,u.child=null;return tT(o,u,A,f,g)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&uf(u,A!==null?A.cachePool:null),A!==null?rS(u,A):J0(),iS(u);else return g=u.lanes=536870912,tT(o,u,A!==null?A.baseLanes|f:f,f,g)}else A!==null?(uf(u,A.cachePool),rS(u,A),Ps(),u.memoizedState=null):(o!==null&&uf(u,null),J0(),Ps());return Jn(o,u,v,f),u.child}function Rc(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function tT(o,u,f,g,v){var A=G0();return A=A===null?null:{parent:En._currentValue,pool:A},u.memoizedState={baseLanes:f,cachePool:A},o!==null&&uf(u,null),J0(),iS(u),o!==null&&Il(o,u,g,!0),u.childLanes=v,null}function Tf(o,u){return u=Cf({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function nT(o,u,f){return _o(u,o.child,null,f),o=Tf(u,u.pendingProps),o.flags|=2,ti(u),u.memoizedState=null,o}function f8(o,u,f){var g=u.pendingProps,v=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(vt){if(g.mode==="hidden")return o=Tf(u,g),u.lanes=536870912,Rc(null,o);if(ty(u),(o=Jt)?(o=m_(o,Ai),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ss!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},f=F2(o),f.return=u,u.child=f,Qn=u,Jt=null)):o=null,o===null)throw _s(u);return u.lanes=536870912,null}return Tf(u,g)}var A=o.memoizedState;if(A!==null){var O=A.dehydrated;if(ty(u),v)if(u.flags&256)u.flags&=-257,u=nT(o,u,f);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(An||Il(o,u,f,!1),v=(f&o.childLanes)!==0,An||v){if(g=Vt,g!==null&&(O=VA(g,f),O!==0&&O!==A.retryLane))throw A.retryLane=O,bo(o,O),Mr(g,o,O),wy;Lf(),u=nT(o,u,f)}else o=A.treeContext,Jt=Ti(O.nextSibling),Qn=u,vt=!0,Ts=null,Ai=!1,o!==null&&z2(u,o),u=Tf(u,g),u.flags|=4096;return u}return o=Pa(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function _f(o,u){var f=u.ref;if(f===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(u.flags|=4194816)}}function Ay(o,u,f,g,v){return wo(u),f=ry(o,u,f,g,void 0,v),g=iy(),o!==null&&!An?(ay(o,u,v),Ba(o,u,v)):(vt&&g&&B0(u),u.flags|=1,Jn(o,u,f,v),u.child)}function rT(o,u,f,g,v,A){return wo(u),u.updateQueue=null,f=sS(u,g,f,v),aS(o),g=iy(),o!==null&&!An?(ay(o,u,A),Ba(o,u,A)):(vt&&g&&B0(u),u.flags|=1,Jn(o,u,f,A),u.child)}function iT(o,u,f,g,v){if(wo(u),u.stateNode===null){var A=kl,O=f.contextType;typeof O=="object"&&O!==null&&(A=Zn(O)),A=new f(g,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=vy,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=g,A.state=u.memoizedState,A.refs={},K0(u),O=f.contextType,A.context=typeof O=="object"&&O!==null?Zn(O):kl,A.state=u.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(xy(u,f,O,g),A.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&vy.enqueueReplaceState(A,A.state,null),Nc(u,g,A,v),Cc(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){A=u.stateNode;var I=u.memoizedProps,W=No(f,I);A.props=W;var ue=A.context,xe=f.contextType;O=kl,typeof xe=="object"&&xe!==null&&(O=Zn(xe));var Ae=f.getDerivedStateFromProps;xe=typeof Ae=="function"||typeof A.getSnapshotBeforeUpdate=="function",I=u.pendingProps!==I,xe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I||ue!==O)&&qS(u,A,g,O),Ns=!1;var de=u.memoizedState;A.state=de,Nc(u,g,A,v),Cc(),ue=u.memoizedState,I||de!==ue||Ns?(typeof Ae=="function"&&(xy(u,f,Ae,g),ue=u.memoizedState),(W=Ns||$S(u,f,W,g,de,ue,O))?(xe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=ue),A.props=g,A.state=ue,A.context=O,g=W):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{A=u.stateNode,X0(o,u),O=u.memoizedProps,xe=No(f,O),A.props=xe,Ae=u.pendingProps,de=A.context,ue=f.contextType,W=kl,typeof ue=="object"&&ue!==null&&(W=Zn(ue)),I=f.getDerivedStateFromProps,(ue=typeof I=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==Ae||de!==W)&&qS(u,A,g,W),Ns=!1,de=u.memoizedState,A.state=de,Nc(u,g,A,v),Cc();var me=u.memoizedState;O!==Ae||de!==me||Ns||o!==null&&o.dependencies!==null&&of(o.dependencies)?(typeof I=="function"&&(xy(u,f,I,g),me=u.memoizedState),(xe=Ns||$S(u,f,xe,g,de,me,W)||o!==null&&o.dependencies!==null&&of(o.dependencies))?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,me,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,me,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===o.memoizedProps&&de===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&de===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=me),A.props=g,A.state=me,A.context=W,g=xe):(typeof A.componentDidUpdate!="function"||O===o.memoizedProps&&de===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&de===o.memoizedState||(u.flags|=1024),g=!1)}return A=g,_f(o,u),g=(u.flags&128)!==0,A||g?(A=u.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,o!==null&&g?(u.child=_o(u,o.child,null,v),u.child=_o(u,null,f,v)):Jn(o,u,f,v),u.memoizedState=A.state,o=u.child):o=Ba(o,u,v),o}function aT(o,u,f,g){return vo(),u.flags|=256,Jn(o,u,f,g),u.child}var Sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ty(o){return{baseLanes:o,cachePool:W2()}}function _y(o,u,f){return o=o!==null?o.childLanes&~f:0,u&&(o|=ri),o}function sT(o,u,f){var g=u.pendingProps,v=!1,A=(u.flags&128)!==0,O;if((O=A)||(O=o!==null&&o.memoizedState===null?!1:(gn.current&2)!==0),O&&(v=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,o===null){if(vt){if(v?Ds(u):Ps(),(o=Jt)?(o=m_(o,Ai),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Ss!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},f=F2(o),f.return=u,u.child=f,Qn=u,Jt=null)):o=null,o===null)throw _s(u);return lb(o)?u.lanes=32:u.lanes=536870912,null}var I=g.children;return g=g.fallback,v?(Ps(),v=u.mode,I=Cf({mode:"hidden",children:I},v),g=xo(g,v,f,null),I.return=u,g.return=u,I.sibling=g,u.child=I,g=u.child,g.memoizedState=Ty(f),g.childLanes=_y(o,O,f),u.memoizedState=Sy,Rc(null,g)):(Ds(u),Cy(u,I))}var W=o.memoizedState;if(W!==null&&(I=W.dehydrated,I!==null)){if(A)u.flags&256?(Ds(u),u.flags&=-257,u=Ny(o,u,f)):u.memoizedState!==null?(Ps(),u.child=o.child,u.flags|=128,u=null):(Ps(),I=g.fallback,v=u.mode,g=Cf({mode:"visible",children:g.children},v),I=xo(I,v,f,null),I.flags|=2,g.return=u,I.return=u,g.sibling=I,u.child=g,_o(u,o.child,null,f),g=u.child,g.memoizedState=Ty(f),g.childLanes=_y(o,O,f),u.memoizedState=Sy,u=Rc(null,g));else if(Ds(u),lb(I)){if(O=I.nextSibling&&I.nextSibling.dataset,O)var ue=O.dgst;O=ue,g=Error(r(419)),g.stack="",g.digest=O,Ec({value:g,source:null,stack:null}),u=Ny(o,u,f)}else if(An||Il(o,u,f,!1),O=(f&o.childLanes)!==0,An||O){if(O=Vt,O!==null&&(g=VA(O,f),g!==0&&g!==W.retryLane))throw W.retryLane=g,bo(o,g),Mr(O,o,g),wy;ob(I)||Lf(),u=Ny(o,u,f)}else ob(I)?(u.flags|=192,u.child=o.child,u=null):(o=W.treeContext,Jt=Ti(I.nextSibling),Qn=u,vt=!0,Ts=null,Ai=!1,o!==null&&z2(u,o),u=Cy(u,g.children),u.flags|=4096);return u}return v?(Ps(),I=g.fallback,v=u.mode,W=o.child,ue=W.sibling,g=Pa(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,ue!==null?I=Pa(ue,I):(I=xo(I,v,f,null),I.flags|=2),I.return=u,g.return=u,g.sibling=I,u.child=g,Rc(null,g),g=u.child,I=o.child.memoizedState,I===null?I=Ty(f):(v=I.cachePool,v!==null?(W=En._currentValue,v=v.parent!==W?{parent:W,pool:W}:v):v=W2(),I={baseLanes:I.baseLanes|f,cachePool:v}),g.memoizedState=I,g.childLanes=_y(o,O,f),u.memoizedState=Sy,Rc(o.child,g)):(Ds(u),f=o.child,o=f.sibling,f=Pa(f,{mode:"visible",children:g.children}),f.return=u,f.sibling=null,o!==null&&(O=u.deletions,O===null?(u.deletions=[o],u.flags|=16):O.push(o)),u.child=f,u.memoizedState=null,f)}function Cy(o,u){return u=Cf({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Cf(o,u){return o=Jr(22,o,null,u),o.lanes=0,o}function Ny(o,u,f){return _o(u,o.child,null,f),o=Cy(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function oT(o,u,f){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),$0(o.return,u,f)}function Oy(o,u,f,g,v,A){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:A}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=f,O.tailMode=v,O.treeForkCount=A)}function lT(o,u,f){var g=u.pendingProps,v=g.revealOrder,A=g.tail;g=g.children;var O=gn.current,I=(O&2)!==0;if(I?(O=O&1|2,u.flags|=128):O&=1,M(gn,O),Jn(o,u,g,f),g=vt?vc:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&oT(o,f,u);else if(o.tag===19)oT(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(f=u.child,v=null;f!==null;)o=f.alternate,o!==null&&pf(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=u.child,u.child=null):(v=f.sibling,f.sibling=null),Oy(u,!1,v,f,A,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=u.child,u.child=null;v!==null;){if(o=v.alternate,o!==null&&pf(o)===null){u.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}Oy(u,!0,f,null,A,g);break;case"together":Oy(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Ba(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Ms|=u.lanes,(f&u.childLanes)===0)if(o!==null){if(Il(o,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Pa(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Pa(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function ky(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&of(o)))}function m8(o,u,f){switch(u.tag){case 3:Pe(u,u.stateNode.containerInfo),Cs(u,En,o.memoizedState.cache),vo();break;case 27:case 5:Re(u);break;case 4:Pe(u,u.stateNode.containerInfo);break;case 10:Cs(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,ty(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Ds(u),u.flags|=128,null):(f&u.child.childLanes)!==0?sT(o,u,f):(Ds(u),o=Ba(o,u,f),o!==null?o.sibling:null);Ds(u);break;case 19:var v=(o.flags&128)!==0;if(g=(f&u.childLanes)!==0,g||(Il(o,u,f,!1),g=(f&u.childLanes)!==0),v){if(g)return lT(o,u,f);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),M(gn,gn.current),g)break;return null;case 22:return u.lanes=0,eT(o,u,f,u.pendingProps);case 24:Cs(u,En,o.memoizedState.cache)}return Ba(o,u,f)}function uT(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps)An=!0;else{if(!ky(o,f)&&(u.flags&128)===0)return An=!1,m8(o,u,f);An=(o.flags&131072)!==0}else An=!1,vt&&(u.flags&1048576)!==0&&H2(u,vc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=So(u.elementType),u.type=o,typeof o=="function")M0(o)?(g=No(o,g),u.tag=1,u=iT(null,u,o,g,f)):(u.tag=0,u=Ay(null,u,o,g,f));else{if(o!=null){var v=o.$$typeof;if(v===P){u.tag=11,u=QS(null,u,o,g,f);break e}else if(v===R){u.tag=14,u=ZS(null,u,o,g,f);break e}}throw u=K(o)||o,Error(r(306,u,""))}}return u;case 0:return Ay(o,u,u.type,u.pendingProps,f);case 1:return g=u.type,v=No(g,u.pendingProps),iT(o,u,g,v,f);case 3:e:{if(Pe(u,u.stateNode.containerInfo),o===null)throw Error(r(387));g=u.pendingProps;var A=u.memoizedState;v=A.element,X0(o,u),Nc(u,g,null,f);var O=u.memoizedState;if(g=O.cache,Cs(u,En,g),g!==A.cache&&q0(u,[En],f,!0),Cc(),g=O.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=aT(o,u,g,f);break e}else if(g!==v){v=vi(Error(r(424)),u),Ec(v),u=aT(o,u,g,f);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Jt=Ti(o.firstChild),Qn=u,vt=!0,Ts=null,Ai=!0,f=eS(u,null,g,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(vo(),g===v){u=Ba(o,u,f);break e}Jn(o,u,g,f)}u=u.child}return u;case 26:return _f(o,u),o===null?(f=v_(u.type,null,u.pendingProps,null))?u.memoizedState=f:vt||(f=u.type,o=u.pendingProps,g=$f(re.current).createElement(f),g[Xn]=u,g[Or]=o,er(g,f,o),Fn(g),u.stateNode=g):u.memoizedState=v_(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Re(u),o===null&&vt&&(g=u.stateNode=y_(u.type,u.pendingProps,re.current),Qn=u,Ai=!0,v=Jt,Us(u.type)?(ub=v,Jt=Ti(g.firstChild)):Jt=v),Jn(o,u,u.pendingProps.children,f),_f(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&vt&&((v=g=Jt)&&(g=q8(g,u.type,u.pendingProps,Ai),g!==null?(u.stateNode=g,Qn=u,Jt=Ti(g.firstChild),Ai=!1,v=!0):v=!1),v||_s(u)),Re(u),v=u.type,A=u.pendingProps,O=o!==null?o.memoizedProps:null,g=A.children,ib(v,A)?g=null:O!==null&&ib(v,O)&&(u.flags|=32),u.memoizedState!==null&&(v=ry(o,u,a8,null,null,f),Wc._currentValue=v),_f(o,u),Jn(o,u,g,f),u.child;case 6:return o===null&&vt&&((o=f=Jt)&&(f=Y8(f,u.pendingProps,Ai),f!==null?(u.stateNode=f,Qn=u,Jt=null,o=!0):o=!1),o||_s(u)),null;case 13:return sT(o,u,f);case 4:return Pe(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=_o(u,null,g,f):Jn(o,u,g,f),u.child;case 11:return QS(o,u,u.type,u.pendingProps,f);case 7:return Jn(o,u,u.pendingProps,f),u.child;case 8:return Jn(o,u,u.pendingProps.children,f),u.child;case 12:return Jn(o,u,u.pendingProps.children,f),u.child;case 10:return g=u.pendingProps,Cs(u,u.type,g.value),Jn(o,u,g.children,f),u.child;case 9:return v=u.type._context,g=u.pendingProps.children,wo(u),v=Zn(v),g=g(v),u.flags|=1,Jn(o,u,g,f),u.child;case 14:return ZS(o,u,u.type,u.pendingProps,f);case 15:return JS(o,u,u.type,u.pendingProps,f);case 19:return lT(o,u,f);case 31:return f8(o,u,f);case 22:return eT(o,u,f,u.pendingProps);case 24:return wo(u),g=Zn(En),o===null?(v=G0(),v===null&&(v=Vt,A=Y0(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=f),v=A),u.memoizedState={parent:g,cache:v},K0(u),Cs(u,En,v)):((o.lanes&f)!==0&&(X0(o,u),Nc(u,null,null,f),Cc()),v=o.memoizedState,A=u.memoizedState,v.parent!==g?(v={parent:g,cache:g},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),Cs(u,En,g)):(g=A.cache,Cs(u,En,g),g!==v.cache&&q0(u,[En],f,!0))),Jn(o,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Fa(o){o.flags|=4}function Dy(o,u,f,g,v){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(LT())o.flags|=8192;else throw To=df,W0}else o.flags&=-16777217}function cT(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!T_(u))if(LT())o.flags|=8192;else throw To=df,W0}function Nf(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?$A():536870912,o.lanes|=u,Vl|=u)}function Ic(o,u){if(!vt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function en(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(u)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=f,u}function p8(o,u,f){var g=u.pendingProps;switch(F0(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(u),null;case 1:return en(u),null;case 3:return f=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Ma(En),ie(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Rl(u)?Fa(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,H0())),en(u),null;case 26:var v=u.type,A=u.memoizedState;return o===null?(Fa(u),A!==null?(en(u),cT(u,A)):(en(u),Dy(u,v,null,g,f))):A?A!==o.memoizedState?(Fa(u),en(u),cT(u,A)):(en(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&Fa(u),en(u),Dy(u,v,o,g,f)),null;case 27:if(je(u),f=re.current,v=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Fa(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return en(u),null}o=Ee.current,Rl(u)?$2(u):(o=y_(v,g,f),u.stateNode=o,Fa(u))}return en(u),null;case 5:if(je(u),v=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Fa(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return en(u),null}if(A=Ee.current,Rl(u))$2(u);else{var O=$f(re.current);switch(A){case 1:A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":A=O.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}A[Xn]=u,A[Or]=g;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)A.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=A;e:switch(er(A,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Fa(u)}}return en(u),Dy(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,f),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&Fa(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(o=re.current,Rl(u)){if(o=u.stateNode,f=u.memoizedProps,g=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[Xn]=u,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||s_(o.nodeValue,f)),o||_s(u,!0)}else o=$f(o).createTextNode(g),o[Xn]=u,u.stateNode=o}return en(u),null;case 31:if(f=u.memoizedState,o===null||o.memoizedState!==null){if(g=Rl(u),f!==null){if(o===null){if(!g)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Xn]=u}else vo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;en(u),o=!1}else f=H0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return u.flags&256?(ti(u),u):(ti(u),null);if((u.flags&128)!==0)throw Error(r(558))}return en(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Rl(u),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Xn]=u}else vo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;en(u),v=!1}else v=H0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(ti(u),u):(ti(u),null)}return ti(u),(u.flags&128)!==0?(u.lanes=f,u):(f=g!==null,o=o!==null&&o.memoizedState!==null,f&&(g=u.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==v&&(g.flags|=2048)),f!==o&&f&&(u.child.flags|=8192),Nf(u,u.updateQueue),en(u),null);case 4:return ie(),o===null&&Jy(u.stateNode.containerInfo),en(u),null;case 10:return Ma(u.type),en(u),null;case 19:if(J(gn),g=u.memoizedState,g===null)return en(u),null;if(v=(u.flags&128)!==0,A=g.rendering,A===null)if(v)Ic(g,!1);else{if(fn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(A=pf(o),A!==null){for(u.flags|=128,Ic(g,!1),o=A.updateQueue,u.updateQueue=o,Nf(u,o),u.subtreeFlags=0,o=f,f=u.child;f!==null;)B2(f,o),f=f.sibling;return M(gn,gn.current&1|2),vt&&Ra(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&tt()>Rf&&(u.flags|=128,v=!0,Ic(g,!1),u.lanes=4194304)}else{if(!v)if(o=pf(A),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,Nf(u,o),Ic(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!vt)return en(u),null}else 2*tt()-g.renderingStartTime>Rf&&f!==536870912&&(u.flags|=128,v=!0,Ic(g,!1),u.lanes=4194304);g.isBackwards?(A.sibling=u.child,u.child=A):(o=g.last,o!==null?o.sibling=A:u.child=A,g.last=A)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=tt(),o.sibling=null,f=gn.current,M(gn,v?f&1|2:f&1),vt&&Ra(u,g.treeForkCount),o):(en(u),null);case 22:case 23:return ti(u),ey(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(f&536870912)!==0&&(u.flags&128)===0&&(en(u),u.subtreeFlags&6&&(u.flags|=8192)):en(u),f=u.updateQueue,f!==null&&Nf(u,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048),o!==null&&J(Ao),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),Ma(En),en(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function g8(o,u){switch(F0(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ma(En),ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return je(u),null;case 31:if(u.memoizedState!==null){if(ti(u),u.alternate===null)throw Error(r(340));vo()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(ti(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));vo()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return J(gn),null;case 4:return ie(),null;case 10:return Ma(u.type),null;case 22:case 23:return ti(u),ey(),o!==null&&J(Ao),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ma(En),null;case 25:return null;default:return null}}function dT(o,u){switch(F0(u),u.tag){case 3:Ma(En),ie();break;case 26:case 27:case 5:je(u);break;case 4:ie();break;case 31:u.memoizedState!==null&&ti(u);break;case 13:ti(u);break;case 19:J(gn);break;case 10:Ma(u.type);break;case 22:case 23:ti(u),ey(),o!==null&&J(Ao);break;case 24:Ma(En)}}function Mc(o,u){try{var f=u.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&o)===o){g=void 0;var A=f.create,O=f.inst;g=A(),O.destroy=g}f=f.next}while(f!==v)}}catch(I){Ft(u,u.return,I)}}function Rs(o,u,f){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var A=v.next;g=A;do{if((g.tag&o)===o){var O=g.inst,I=O.destroy;if(I!==void 0){O.destroy=void 0,v=u;var W=f,ue=I;try{ue()}catch(xe){Ft(v,W,xe)}}}g=g.next}while(g!==A)}}catch(xe){Ft(u,u.return,xe)}}function hT(o){var u=o.updateQueue;if(u!==null){var f=o.stateNode;try{nS(u,f)}catch(g){Ft(o,o.return,g)}}}function fT(o,u,f){f.props=No(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){Ft(o,u,g)}}function Lc(o,u){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(v){Ft(o,u,v)}}function ia(o,u){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Ft(o,u,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Ft(o,u,v)}else f.current=null}function mT(o){var u=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Ft(o,o.return,v)}}function Py(o,u,f){try{var g=o.stateNode;B8(g,o.type,f,u),g[Or]=u}catch(v){Ft(o,o.return,v)}}function pT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Us(o.type)||o.tag===4}function Ry(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Us(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Iy(o,u,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(o),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=ka));else if(g!==4&&(g===27&&Us(o.type)&&(f=o.stateNode,u=null),o=o.child,o!==null))for(Iy(o,u,f),o=o.sibling;o!==null;)Iy(o,u,f),o=o.sibling}function Of(o,u,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(g!==4&&(g===27&&Us(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Of(o,u,f),o=o.sibling;o!==null;)Of(o,u,f),o=o.sibling}function gT(o){var u=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);er(u,g,f),u[Xn]=o,u[Or]=f}catch(A){Ft(o,o.return,A)}}var Ua=!1,Sn=!1,My=!1,yT=typeof WeakSet=="function"?WeakSet:Set,Un=null;function y8(o,u){if(o=o.containerInfo,nb=Xf,o=O2(o),N0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var O=0,I=-1,W=-1,ue=0,xe=0,Ae=o,de=null;t:for(;;){for(var me;Ae!==f||v!==0&&Ae.nodeType!==3||(I=O+v),Ae!==A||g!==0&&Ae.nodeType!==3||(W=O+g),Ae.nodeType===3&&(O+=Ae.nodeValue.length),(me=Ae.firstChild)!==null;)de=Ae,Ae=me;for(;;){if(Ae===o)break t;if(de===f&&++ue===v&&(I=O),de===A&&++xe===g&&(W=O),(me=Ae.nextSibling)!==null)break;Ae=de,de=Ae.parentNode}Ae=me}f=I===-1||W===-1?null:{start:I,end:W}}else f=null}f=f||{start:0,end:0}}else f=null;for(rb={focusedElem:o,selectionRange:f},Xf=!1,Un=u;Un!==null;)if(u=Un,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Un=o;else for(;Un!==null;){switch(u=Un,A=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)v=o[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,f=u,v=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var Ue=No(f.type,v);o=g.getSnapshotBeforeUpdate(Ue,A),g.__reactInternalSnapshotBeforeUpdate=o}catch(Xe){Ft(f,f.return,Xe)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,f=o.nodeType,f===9)sb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":sb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Un=o;break}Un=u.return}}function bT(o,u,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:za(o,f),g&4&&Mc(5,f);break;case 1:if(za(o,f),g&4)if(o=f.stateNode,u===null)try{o.componentDidMount()}catch(O){Ft(f,f.return,O)}else{var v=No(f.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(v,u,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ft(f,f.return,O)}}g&64&&hT(f),g&512&&Lc(f,f.return);break;case 3:if(za(o,f),g&64&&(o=f.updateQueue,o!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{nS(o,u)}catch(O){Ft(f,f.return,O)}}break;case 27:u===null&&g&4&&gT(f);case 26:case 5:za(o,f),u===null&&g&4&&mT(f),g&512&&Lc(f,f.return);break;case 12:za(o,f);break;case 31:za(o,f),g&4&&ET(o,f);break;case 13:za(o,f),g&4&&wT(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=_8.bind(null,f),V8(o,f))));break;case 22:if(g=f.memoizedState!==null||Ua,!g){u=u!==null&&u.memoizedState!==null||Sn,v=Ua;var A=Sn;Ua=g,(Sn=u)&&!A?$a(o,f,(f.subtreeFlags&8772)!==0):za(o,f),Ua=v,Sn=A}break;case 30:break;default:za(o,f)}}function xT(o){var u=o.alternate;u!==null&&(o.alternate=null,xT(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&d0(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rn=null,Dr=!1;function Ha(o,u,f){for(f=f.child;f!==null;)vT(o,u,f),f=f.sibling}function vT(o,u,f){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ce,f)}catch{}switch(f.tag){case 26:Sn||ia(f,u),Ha(o,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Sn||ia(f,u);var g=rn,v=Dr;Us(f.type)&&(rn=f.stateNode,Dr=!1),Ha(o,u,f),Yc(f.stateNode),rn=g,Dr=v;break;case 5:Sn||ia(f,u);case 6:if(g=rn,v=Dr,rn=null,Ha(o,u,f),rn=g,Dr=v,rn!==null)if(Dr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(f.stateNode)}catch(A){Ft(f,u,A)}else try{rn.removeChild(f.stateNode)}catch(A){Ft(f,u,A)}break;case 18:rn!==null&&(Dr?(o=rn,h_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),eu(o)):h_(rn,f.stateNode));break;case 4:g=rn,v=Dr,rn=f.stateNode.containerInfo,Dr=!0,Ha(o,u,f),rn=g,Dr=v;break;case 0:case 11:case 14:case 15:Rs(2,f,u),Sn||Rs(4,f,u),Ha(o,u,f);break;case 1:Sn||(ia(f,u),g=f.stateNode,typeof g.componentWillUnmount=="function"&&fT(f,u,g)),Ha(o,u,f);break;case 21:Ha(o,u,f);break;case 22:Sn=(g=Sn)||f.memoizedState!==null,Ha(o,u,f),Sn=g;break;default:Ha(o,u,f)}}function ET(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{eu(o)}catch(f){Ft(u,u.return,f)}}}function wT(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{eu(o)}catch(f){Ft(u,u.return,f)}}function b8(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new yT),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new yT),u;default:throw Error(r(435,o.tag))}}function kf(o,u){var f=b8(o);u.forEach(function(g){if(!f.has(g)){f.add(g);var v=C8.bind(null,o,g);g.then(v,v)}})}function Pr(o,u){var f=u.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],A=o,O=u,I=O;e:for(;I!==null;){switch(I.tag){case 27:if(Us(I.type)){rn=I.stateNode,Dr=!1;break e}break;case 5:rn=I.stateNode,Dr=!1;break e;case 3:case 4:rn=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(rn===null)throw Error(r(160));vT(A,O,v),rn=null,Dr=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)AT(u,o),u=u.sibling}var qi=null;function AT(o,u){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Pr(u,o),Rr(o),g&4&&(Rs(3,o,o.return),Mc(3,o),Rs(5,o,o.return));break;case 1:Pr(u,o),Rr(o),g&512&&(Sn||f===null||ia(f,f.return)),g&64&&Ua&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=qi;if(Pr(u,o),Rr(o),g&512&&(Sn||f===null||ia(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":A=v.getElementsByTagName("title")[0],(!A||A[uc]||A[Xn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(g),v.head.insertBefore(A,v.querySelector("head > title"))),er(A,g,f),A[Xn]=o,Fn(A),g=A;break e;case"link":var O=A_("link","href",v).get(g+(f.href||""));if(O){for(var I=0;I<O.length;I++)if(A=O[I],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(I,1);break t}}A=v.createElement(g),er(A,g,f),v.head.appendChild(A);break;case"meta":if(O=A_("meta","content",v).get(g+(f.content||""))){for(I=0;I<O.length;I++)if(A=O[I],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(I,1);break t}}A=v.createElement(g),er(A,g,f),v.head.appendChild(A);break;default:throw Error(r(468,g))}A[Xn]=o,Fn(A),g=A}o.stateNode=g}else S_(v,o.type,o.stateNode);else o.stateNode=w_(v,g,o.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?S_(v,o.type,o.stateNode):w_(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Py(o,o.memoizedProps,f.memoizedProps)}break;case 27:Pr(u,o),Rr(o),g&512&&(Sn||f===null||ia(f,f.return)),f!==null&&g&4&&Py(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Pr(u,o),Rr(o),g&512&&(Sn||f===null||ia(f,f.return)),o.flags&32){v=o.stateNode;try{Al(v,"")}catch(Ue){Ft(o,o.return,Ue)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,Py(o,v,f!==null?f.memoizedProps:v)),g&1024&&(My=!0);break;case 6:if(Pr(u,o),Rr(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(Ue){Ft(o,o.return,Ue)}}break;case 3:if(Vf=null,v=qi,qi=qf(u.containerInfo),Pr(u,o),qi=v,Rr(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{eu(u.containerInfo)}catch(Ue){Ft(o,o.return,Ue)}My&&(My=!1,ST(o));break;case 4:g=qi,qi=qf(o.stateNode.containerInfo),Pr(u,o),Rr(o),qi=g;break;case 12:Pr(u,o),Rr(o);break;case 31:Pr(u,o),Rr(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kf(o,g)));break;case 13:Pr(u,o),Rr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Pf=tt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kf(o,g)));break;case 22:v=o.memoizedState!==null;var W=f!==null&&f.memoizedState!==null,ue=Ua,xe=Sn;if(Ua=ue||v,Sn=xe||W,Pr(u,o),Sn=xe,Ua=ue,Rr(o),g&8192)e:for(u=o.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(f===null||W||Ua||Sn||Oo(o)),f=null,u=o;;){if(u.tag===5||u.tag===26){if(f===null){W=f=u;try{if(A=W.stateNode,v)O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{I=W.stateNode;var Ae=W.memoizedProps.style,de=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;I.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ue){Ft(W,W.return,Ue)}}}else if(u.tag===6){if(f===null){W=u;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(Ue){Ft(W,W.return,Ue)}}}else if(u.tag===18){if(f===null){W=u;try{var me=W.stateNode;v?f_(me,!0):f_(W.stateNode,!1)}catch(Ue){Ft(W,W.return,Ue)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,kf(o,f))));break;case 19:Pr(u,o),Rr(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kf(o,g)));break;case 30:break;case 21:break;default:Pr(u,o),Rr(o)}}function Rr(o){var u=o.flags;if(u&2){try{for(var f,g=o.return;g!==null;){if(pT(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,A=Ry(o);Of(o,A,v);break;case 5:var O=f.stateNode;f.flags&32&&(Al(O,""),f.flags&=-33);var I=Ry(o);Of(o,I,O);break;case 3:case 4:var W=f.stateNode.containerInfo,ue=Ry(o);Iy(o,ue,W);break;default:throw Error(r(161))}}catch(xe){Ft(o,o.return,xe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function ST(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;ST(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function za(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)bT(o,u.alternate,u),u=u.sibling}function Oo(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Rs(4,u,u.return),Oo(u);break;case 1:ia(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&fT(u,u.return,f),Oo(u);break;case 27:Yc(u.stateNode);case 26:case 5:ia(u,u.return),Oo(u);break;case 22:u.memoizedState===null&&Oo(u);break;case 30:Oo(u);break;default:Oo(u)}o=o.sibling}}function $a(o,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,v=o,A=u,O=A.flags;switch(A.tag){case 0:case 11:case 15:$a(v,A,f),Mc(4,A);break;case 1:if($a(v,A,f),g=A,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Ft(g,g.return,ue)}if(g=A,v=g.updateQueue,v!==null){var I=g.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)tS(W[v],I)}catch(ue){Ft(g,g.return,ue)}}f&&O&64&&hT(A),Lc(A,A.return);break;case 27:gT(A);case 26:case 5:$a(v,A,f),f&&g===null&&O&4&&mT(A),Lc(A,A.return);break;case 12:$a(v,A,f);break;case 31:$a(v,A,f),f&&O&4&&ET(v,A);break;case 13:$a(v,A,f),f&&O&4&&wT(v,A);break;case 22:A.memoizedState===null&&$a(v,A,f),Lc(A,A.return);break;case 30:break;default:$a(v,A,f)}u=u.sibling}}function Ly(o,u){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&wc(f))}function jy(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&wc(o))}function Yi(o,u,f,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)TT(o,u,f,g),u=u.sibling}function TT(o,u,f,g){var v=u.flags;switch(u.tag){case 0:case 11:case 15:Yi(o,u,f,g),v&2048&&Mc(9,u);break;case 1:Yi(o,u,f,g);break;case 3:Yi(o,u,f,g),v&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&wc(o)));break;case 12:if(v&2048){Yi(o,u,f,g),o=u.stateNode;try{var A=u.memoizedProps,O=A.id,I=A.onPostCommit;typeof I=="function"&&I(O,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(W){Ft(u,u.return,W)}}else Yi(o,u,f,g);break;case 31:Yi(o,u,f,g);break;case 13:Yi(o,u,f,g);break;case 23:break;case 22:A=u.stateNode,O=u.alternate,u.memoizedState!==null?A._visibility&2?Yi(o,u,f,g):jc(o,u):A._visibility&2?Yi(o,u,f,g):(A._visibility|=2,$l(o,u,f,g,(u.subtreeFlags&10256)!==0||!1)),v&2048&&Ly(O,u);break;case 24:Yi(o,u,f,g),v&2048&&jy(u.alternate,u);break;default:Yi(o,u,f,g)}}function $l(o,u,f,g,v){for(v=v&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var A=o,O=u,I=f,W=g,ue=O.flags;switch(O.tag){case 0:case 11:case 15:$l(A,O,I,W,v),Mc(8,O);break;case 23:break;case 22:var xe=O.stateNode;O.memoizedState!==null?xe._visibility&2?$l(A,O,I,W,v):jc(A,O):(xe._visibility|=2,$l(A,O,I,W,v)),v&&ue&2048&&Ly(O.alternate,O);break;case 24:$l(A,O,I,W,v),v&&ue&2048&&jy(O.alternate,O);break;default:$l(A,O,I,W,v)}u=u.sibling}}function jc(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=o,g=u,v=g.flags;switch(g.tag){case 22:jc(f,g),v&2048&&Ly(g.alternate,g);break;case 24:jc(f,g),v&2048&&jy(g.alternate,g);break;default:jc(f,g)}u=u.sibling}}var Bc=8192;function ql(o,u,f){if(o.subtreeFlags&Bc)for(o=o.child;o!==null;)_T(o,u,f),o=o.sibling}function _T(o,u,f){switch(o.tag){case 26:ql(o,u,f),o.flags&Bc&&o.memoizedState!==null&&iB(f,qi,o.memoizedState,o.memoizedProps);break;case 5:ql(o,u,f);break;case 3:case 4:var g=qi;qi=qf(o.stateNode.containerInfo),ql(o,u,f),qi=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Bc,Bc=16777216,ql(o,u,f),Bc=g):ql(o,u,f));break;default:ql(o,u,f)}}function CT(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Fc(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];Un=g,OT(g,o)}CT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)NT(o),o=o.sibling}function NT(o){switch(o.tag){case 0:case 11:case 15:Fc(o),o.flags&2048&&Rs(9,o,o.return);break;case 3:Fc(o);break;case 12:Fc(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Df(o)):Fc(o);break;default:Fc(o)}}function Df(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];Un=g,OT(g,o)}CT(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Rs(8,u,u.return),Df(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,Df(u));break;default:Df(u)}o=o.sibling}}function OT(o,u){for(;Un!==null;){var f=Un;switch(f.tag){case 0:case 11:case 15:Rs(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:wc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Un=g;else e:for(f=o;Un!==null;){g=Un;var v=g.sibling,A=g.return;if(xT(g),g===f){Un=null;break e}if(v!==null){v.return=A,Un=v;break e}Un=A}}}var x8={getCacheForType:function(o){var u=Zn(En),f=u.data.get(o);return f===void 0&&(f=o(),u.data.set(o,f)),f},cacheSignal:function(){return Zn(En).controller.signal}},v8=typeof WeakMap=="function"?WeakMap:Map,kt=0,Vt=null,pt=null,yt=0,Bt=0,ni=null,Is=!1,Yl=!1,By=!1,qa=0,fn=0,Ms=0,ko=0,Fy=0,ri=0,Vl=0,Uc=null,Ir=null,Uy=!1,Pf=0,kT=0,Rf=1/0,If=null,Ls=null,Pn=0,js=null,Gl=null,Ya=0,Hy=0,zy=null,DT=null,Hc=0,$y=null;function ii(){return(kt&2)!==0&&yt!==0?yt&-yt:L.T!==null?Ky():GA()}function PT(){if(ri===0)if((yt&536870912)===0||vt){var o=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),ri=o}else ri=536870912;return o=ei.current,o!==null&&(o.flags|=32),ri}function Mr(o,u,f){(o===Vt&&(Bt===2||Bt===9)||o.cancelPendingCommit!==null)&&(Wl(o,0),Bs(o,yt,ri,!1)),lc(o,f),((kt&2)===0||o!==Vt)&&(o===Vt&&((kt&2)===0&&(ko|=f),fn===4&&Bs(o,yt,ri,!1)),aa(o))}function RT(o,u,f){if((kt&6)!==0)throw Error(r(327));var g=!f&&(u&127)===0&&(u&o.expiredLanes)===0||Es(o,u),v=g?A8(o,u):Yy(o,u,!0),A=g;do{if(v===0){Yl&&!g&&Bs(o,u,0,!1);break}else{if(f=o.current.alternate,A&&!E8(f)){v=Yy(o,u,!1),A=!1;continue}if(v===2){if(A=u,o.errorRecoveryDisabledLanes&A)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var I=o;v=Uc;var W=I.current.memoizedState.isDehydrated;if(W&&(Wl(I,O).flags|=256),O=Yy(I,O,!1),O!==2){if(By&&!W){I.errorRecoveryDisabledLanes|=A,ko|=A,v=4;break e}A=Ir,Ir=v,A!==null&&(Ir===null?Ir=A:Ir.push.apply(Ir,A))}v=O}if(A=!1,v!==2)continue}}if(v===1){Wl(o,0),Bs(o,u,0,!0);break}e:{switch(g=o,A=v,A){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Bs(g,u,ri,!Is);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(v=Pf+300-tt(),10<v)){if(Bs(g,u,ri,!Is),vs(g,0,!0)!==0)break e;Ya=u,g.timeoutHandle=c_(IT.bind(null,g,f,Ir,If,Uy,u,ri,ko,Vl,Is,A,"Throttled",-0,0),v);break e}IT(g,f,Ir,If,Uy,u,ri,ko,Vl,Is,A,null,-0,0)}}break}while(!0);aa(o)}function IT(o,u,f,g,v,A,O,I,W,ue,xe,Ae,de,me){if(o.timeoutHandle=-1,Ae=u.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ka},_T(u,A,Ae);var Ue=(A&62914560)===A?Pf-tt():(A&4194048)===A?kT-tt():0;if(Ue=aB(Ae,Ue),Ue!==null){Ya=A,o.cancelPendingCommit=Ue(zT.bind(null,o,u,A,f,g,v,O,I,W,xe,Ae,null,de,me)),Bs(o,A,O,!ue);return}}zT(o,u,A,f,g,v,O,I,W)}function E8(o){for(var u=o;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],A=v.getSnapshot;v=v.value;try{if(!Zr(A(),v))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Bs(o,u,f,g){u&=~Fy,u&=~ko,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var v=u;0<v;){var A=31-Le(v),O=1<<A;g[A]=-1,v&=~O}f!==0&&qA(o,f,u)}function Mf(){return(kt&6)===0?(zc(0),!1):!0}function qy(){if(pt!==null){if(Bt===0)var o=pt.return;else o=pt,Ia=Eo=null,sy(o),Bl=null,Sc=0,o=pt;for(;o!==null;)dT(o.alternate,o),o=o.return;pt=null}}function Wl(o,u){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,H8(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Ya=0,qy(),Vt=o,pt=f=Pa(o.current,null),yt=u,Bt=0,ni=null,Is=!1,Yl=Es(o,u),By=!1,Vl=ri=Fy=ko=Ms=fn=0,Ir=Uc=null,Uy=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var v=31-Le(g),A=1<<v;u|=o[v],g&=~A}return qa=u,tf(),f}function MT(o,u){st=null,L.H=Pc,u===jl||u===cf?(u=Q2(),Bt=3):u===W0?(u=Q2(),Bt=4):Bt=u===wy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ni=u,pt===null&&(fn=1,Sf(o,vi(u,o.current)))}function LT(){var o=ei.current;return o===null?!0:(yt&4194048)===yt?Si===null:(yt&62914560)===yt||(yt&536870912)!==0?o===Si:!1}function jT(){var o=L.H;return L.H=Pc,o===null?Pc:o}function BT(){var o=L.A;return L.A=x8,o}function Lf(){fn=4,Is||(yt&4194048)!==yt&&ei.current!==null||(Yl=!0),(Ms&134217727)===0&&(ko&134217727)===0||Vt===null||Bs(Vt,yt,ri,!1)}function Yy(o,u,f){var g=kt;kt|=2;var v=jT(),A=BT();(Vt!==o||yt!==u)&&(If=null,Wl(o,u)),u=!1;var O=fn;e:do try{if(Bt!==0&&pt!==null){var I=pt,W=ni;switch(Bt){case 8:qy(),O=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(u=!0);var ue=Bt;if(Bt=0,ni=null,Kl(o,I,W,ue),f&&Yl){O=0;break e}break;default:ue=Bt,Bt=0,ni=null,Kl(o,I,W,ue)}}w8(),O=fn;break}catch(xe){MT(o,xe)}while(!0);return u&&o.shellSuspendCounter++,Ia=Eo=null,kt=g,L.H=v,L.A=A,pt===null&&(Vt=null,yt=0,tf()),O}function w8(){for(;pt!==null;)FT(pt)}function A8(o,u){var f=kt;kt|=2;var g=jT(),v=BT();Vt!==o||yt!==u?(If=null,Rf=tt()+500,Wl(o,u)):Yl=Es(o,u);e:do try{if(Bt!==0&&pt!==null){u=pt;var A=ni;t:switch(Bt){case 1:Bt=0,ni=null,Kl(o,u,A,1);break;case 2:case 9:if(K2(A)){Bt=0,ni=null,UT(u);break}u=function(){Bt!==2&&Bt!==9||Vt!==o||(Bt=7),aa(o)},A.then(u,u);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:K2(A)?(Bt=0,ni=null,UT(u)):(Bt=0,ni=null,Kl(o,u,A,7));break;case 5:var O=null;switch(pt.tag){case 26:O=pt.memoizedState;case 5:case 27:var I=pt;if(O?T_(O):I.stateNode.complete){Bt=0,ni=null;var W=I.sibling;if(W!==null)pt=W;else{var ue=I.return;ue!==null?(pt=ue,jf(ue)):pt=null}break t}}Bt=0,ni=null,Kl(o,u,A,5);break;case 6:Bt=0,ni=null,Kl(o,u,A,6);break;case 8:qy(),fn=6;break e;default:throw Error(r(462))}}S8();break}catch(xe){MT(o,xe)}while(!0);return Ia=Eo=null,L.H=g,L.A=v,kt=f,pt!==null?0:(Vt=null,yt=0,tf(),fn)}function S8(){for(;pt!==null&&!jt();)FT(pt)}function FT(o){var u=uT(o.alternate,o,qa);o.memoizedProps=o.pendingProps,u===null?jf(o):pt=u}function UT(o){var u=o,f=u.alternate;switch(u.tag){case 15:case 0:u=rT(f,u,u.pendingProps,u.type,void 0,yt);break;case 11:u=rT(f,u,u.pendingProps,u.type.render,u.ref,yt);break;case 5:sy(u);default:dT(f,u),u=pt=B2(u,qa),u=uT(f,u,qa)}o.memoizedProps=o.pendingProps,u===null?jf(o):pt=u}function Kl(o,u,f,g){Ia=Eo=null,sy(u),Bl=null,Sc=0;var v=u.return;try{if(h8(o,v,u,f,yt)){fn=1,Sf(o,vi(f,o.current)),pt=null;return}}catch(A){if(v!==null)throw pt=v,A;fn=1,Sf(o,vi(f,o.current)),pt=null;return}u.flags&32768?(vt||g===1?o=!0:Yl||(yt&536870912)!==0?o=!1:(Is=o=!0,(g===2||g===9||g===3||g===6)&&(g=ei.current,g!==null&&g.tag===13&&(g.flags|=16384))),HT(u,o)):jf(u)}function jf(o){var u=o;do{if((u.flags&32768)!==0){HT(u,Is);return}o=u.return;var f=p8(u.alternate,u,qa);if(f!==null){pt=f;return}if(u=u.sibling,u!==null){pt=u;return}pt=u=o}while(u!==null);fn===0&&(fn=5)}function HT(o,u){do{var f=g8(o.alternate,o);if(f!==null){f.flags&=32767,pt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(o=o.sibling,o!==null)){pt=o;return}pt=o=f}while(o!==null);fn=6,pt=null}function zT(o,u,f,g,v,A,O,I,W){o.cancelPendingCommit=null;do Bf();while(Pn!==0);if((kt&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(A=u.lanes|u.childLanes,A|=R0,r5(o,f,A,O,I,W),o===Vt&&(pt=Vt=null,yt=0),Gl=u,js=o,Ya=f,Hy=A,zy=v,DT=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,N8(ke,function(){return GT(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=L.T,L.T=null,v=q.p,q.p=2,O=kt,kt|=4;try{y8(o,u,f)}finally{kt=O,q.p=v,L.T=g}}Pn=1,$T(),qT(),YT()}}function $T(){if(Pn===1){Pn=0;var o=js,u=Gl,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=L.T,L.T=null;var g=q.p;q.p=2;var v=kt;kt|=4;try{AT(u,o);var A=rb,O=O2(o.containerInfo),I=A.focusedElem,W=A.selectionRange;if(O!==I&&I&&I.ownerDocument&&N2(I.ownerDocument.documentElement,I)){if(W!==null&&N0(I)){var ue=W.start,xe=W.end;if(xe===void 0&&(xe=ue),"selectionStart"in I)I.selectionStart=ue,I.selectionEnd=Math.min(xe,I.value.length);else{var Ae=I.ownerDocument||document,de=Ae&&Ae.defaultView||window;if(de.getSelection){var me=de.getSelection(),Ue=I.textContent.length,Xe=Math.min(W.start,Ue),$t=W.end===void 0?Xe:Math.min(W.end,Ue);!me.extend&&Xe>$t&&(O=$t,$t=Xe,Xe=O);var te=C2(I,Xe),Q=C2(I,$t);if(te&&Q&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var le=Ae.createRange();le.setStart(te.node,te.offset),me.removeAllRanges(),Xe>$t?(me.addRange(le),me.extend(Q.node,Q.offset)):(le.setEnd(Q.node,Q.offset),me.addRange(le))}}}}for(Ae=[],me=I;me=me.parentNode;)me.nodeType===1&&Ae.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Ae.length;I++){var we=Ae[I];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Xf=!!nb,rb=nb=null}finally{kt=v,q.p=g,L.T=f}}o.current=u,Pn=2}}function qT(){if(Pn===2){Pn=0;var o=js,u=Gl,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=L.T,L.T=null;var g=q.p;q.p=2;var v=kt;kt|=4;try{bT(o,u.alternate,u)}finally{kt=v,q.p=g,L.T=f}}Pn=3}}function YT(){if(Pn===4||Pn===3){Pn=0,It();var o=js,u=Gl,f=Ya,g=DT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Pn=5:(Pn=0,Gl=js=null,VT(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Ls=null),u0(f),u=u.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ce,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=L.T,v=q.p,q.p=2,L.T=null;try{for(var A=o.onRecoverableError,O=0;O<g.length;O++){var I=g[O];A(I.value,{componentStack:I.stack})}}finally{L.T=u,q.p=v}}(Ya&3)!==0&&Bf(),aa(o),v=o.pendingLanes,(f&261930)!==0&&(v&42)!==0?o===$y?Hc++:(Hc=0,$y=o):Hc=0,zc(0)}}function VT(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,wc(u)))}function Bf(){return $T(),qT(),YT(),GT()}function GT(){if(Pn!==5)return!1;var o=js,u=Hy;Hy=0;var f=u0(Ya),g=L.T,v=q.p;try{q.p=32>f?32:f,L.T=null,f=zy,zy=null;var A=js,O=Ya;if(Pn=0,Gl=js=null,Ya=0,(kt&6)!==0)throw Error(r(331));var I=kt;if(kt|=4,NT(A.current),TT(A,A.current,O,f),kt=I,zc(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ce,A)}catch{}return!0}finally{q.p=v,L.T=g,VT(o,u)}}function WT(o,u,f){u=vi(f,u),u=Ey(o.stateNode,u,2),o=ks(o,u,2),o!==null&&(lc(o,2),aa(o))}function Ft(o,u,f){if(o.tag===3)WT(o,o,f);else for(;u!==null;){if(u.tag===3){WT(u,o,f);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))){o=vi(f,o),f=KS(2),g=ks(u,f,2),g!==null&&(XS(f,g,u,o),lc(g,2),aa(g));break}}u=u.return}}function Vy(o,u,f){var g=o.pingCache;if(g===null){g=o.pingCache=new v8;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(f)||(By=!0,v.add(f),o=T8.bind(null,o,u,f),u.then(o,o))}function T8(o,u,f){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Vt===o&&(yt&f)===f&&(fn===4||fn===3&&(yt&62914560)===yt&&300>tt()-Pf?(kt&2)===0&&Wl(o,0):Fy|=f,Vl===yt&&(Vl=0)),aa(o)}function KT(o,u){u===0&&(u=$A()),o=bo(o,u),o!==null&&(lc(o,u),aa(o))}function _8(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),KT(o,f)}function C8(o,u){var f=0;switch(o.tag){case 31:case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),KT(o,f)}function N8(o,u){return Je(o,u)}var Ff=null,Xl=null,Gy=!1,Uf=!1,Wy=!1,Fs=0;function aa(o){o!==Xl&&o.next===null&&(Xl===null?Ff=Xl=o:Xl=Xl.next=o),Uf=!0,Gy||(Gy=!0,k8())}function zc(o,u){if(!Wy&&Uf){Wy=!0;do for(var f=!1,g=Ff;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var A=0;else{var O=g.suspendedLanes,I=g.pingedLanes;A=(1<<31-Le(42|o)+1)-1,A&=v&~(O&~I),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,JT(g,A))}else A=yt,A=vs(g,g===Vt?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Es(g,A)||(f=!0,JT(g,A));g=g.next}while(f);Wy=!1}}function O8(){XT()}function XT(){Uf=Gy=!1;var o=0;Fs!==0&&U8()&&(o=Fs);for(var u=tt(),f=null,g=Ff;g!==null;){var v=g.next,A=QT(g,u);A===0?(g.next=null,f===null?Ff=v:f.next=v,v===null&&(Xl=f)):(f=g,(o!==0||(A&3)!==0)&&(Uf=!0)),g=v}Pn!==0&&Pn!==5||zc(o),Fs!==0&&(Fs=0)}function QT(o,u){for(var f=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var O=31-Le(A),I=1<<O,W=v[O];W===-1?((I&f)===0||(I&g)!==0)&&(v[O]=s0(I,u)):W<=u&&(o.expiredLanes|=I),A&=~I}if(u=Vt,f=yt,f=vs(o,o===u?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===u&&(Bt===2||Bt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Tt(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Es(o,f)){if(u=f&-f,u===o.callbackPriority)return u;switch(g!==null&&Tt(g),u0(f)){case 2:case 8:f=pe;break;case 32:f=ke;break;case 268435456:f=it;break;default:f=ke}return g=ZT.bind(null,o),f=Je(f,g),o.callbackPriority=u,o.callbackNode=f,u}return g!==null&&g!==null&&Tt(g),o.callbackPriority=2,o.callbackNode=null,2}function ZT(o,u){if(Pn!==0&&Pn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Bf()&&o.callbackNode!==f)return null;var g=yt;return g=vs(o,o===Vt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(RT(o,g,u),QT(o,tt()),o.callbackNode!=null&&o.callbackNode===f?ZT.bind(null,o):null)}function JT(o,u){if(Bf())return null;RT(o,u,!0)}function k8(){z8(function(){(kt&6)!==0?Je(ee,O8):XT()})}function Ky(){if(Fs===0){var o=Ml;o===0&&(o=pn,pn<<=1,(pn&261888)===0&&(pn=256)),Fs=o}return Fs}function e_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gh(""+o)}function t_(o,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,o.id&&f.setAttribute("form",o.id),u.parentNode.insertBefore(f,u),o=new FormData(o),f.parentNode.removeChild(f),o}function D8(o,u,f,g,v){if(u==="submit"&&f&&f.stateNode===v){var A=e_((v[Or]||null).action),O=g.submitter;O&&(u=(u=O[Or]||null)?e_(u.formAction):O.getAttribute("formAction"),u!==null&&(A=u,O=null));var I=new Qh("action","action",null,g,v);o.push({event:I,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Fs!==0){var W=O?t_(v,O):new FormData(v);py(f,{pending:!0,data:W,method:v.method,action:A},null,W)}}else typeof A=="function"&&(I.preventDefault(),W=O?t_(v,O):new FormData(v),py(f,{pending:!0,data:W,method:v.method,action:A},A,W))},currentTarget:v}]})}}for(var Xy=0;Xy<P0.length;Xy++){var Qy=P0[Xy],P8=Qy.toLowerCase(),R8=Qy[0].toUpperCase()+Qy.slice(1);$i(P8,"on"+R8)}$i(P2,"onAnimationEnd"),$i(R2,"onAnimationIteration"),$i(I2,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(K5,"onTransitionRun"),$i(X5,"onTransitionStart"),$i(Q5,"onTransitionCancel"),$i(M2,"onTransitionEnd"),El("onMouseEnter",["mouseout","mouseover"]),El("onMouseLeave",["mouseout","mouseover"]),El("onPointerEnter",["pointerout","pointerover"]),El("onPointerLeave",["pointerout","pointerover"]),mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function n_(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],v=g.event;g=g.listeners;e:{var A=void 0;if(u)for(var O=g.length-1;0<=O;O--){var I=g[O],W=I.instance,ue=I.currentTarget;if(I=I.listener,W!==A&&v.isPropagationStopped())break e;A=I,v.currentTarget=ue;try{A(v)}catch(xe){ef(xe)}v.currentTarget=null,A=W}else for(O=0;O<g.length;O++){if(I=g[O],W=I.instance,ue=I.currentTarget,I=I.listener,W!==A&&v.isPropagationStopped())break e;A=I,v.currentTarget=ue;try{A(v)}catch(xe){ef(xe)}v.currentTarget=null,A=W}}}}function gt(o,u){var f=u[c0];f===void 0&&(f=u[c0]=new Set);var g=o+"__bubble";f.has(g)||(r_(u,o,2,!1),f.add(g))}function Zy(o,u,f){var g=0;u&&(g|=4),r_(f,o,g,u)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function Jy(o){if(!o[Hf]){o[Hf]=!0,XA.forEach(function(f){f!=="selectionchange"&&(I8.has(f)||Zy(f,!1,o),Zy(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Hf]||(u[Hf]=!0,Zy("selectionchange",!1,u))}}function r_(o,u,f,g){switch(P_(u)){case 2:var v=lB;break;case 8:v=uB;break;default:v=mb}f=v.bind(null,u,f,o),v=void 0,!x0||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(u,f,{capture:!0,passive:v}):o.addEventListener(u,f,!0):v!==void 0?o.addEventListener(u,f,{passive:v}):o.addEventListener(u,f,!1)}function eb(o,u,f,g,v){var A=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var I=g.stateNode.containerInfo;if(I===v)break;if(O===4)for(O=g.return;O!==null;){var W=O.tag;if((W===3||W===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;I!==null;){if(O=bl(I),O===null)return;if(W=O.tag,W===5||W===6||W===26||W===27){g=A=O;continue e}I=I.parentNode}}g=g.return}l2(function(){var ue=A,xe=y0(f),Ae=[];e:{var de=L2.get(o);if(de!==void 0){var me=Qh,Ue=o;switch(o){case"keypress":if(Kh(f)===0)break e;case"keydown":case"keyup":me=C5;break;case"focusin":Ue="focus",me=A0;break;case"focusout":Ue="blur",me=A0;break;case"beforeblur":case"afterblur":me=A0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=d2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=p5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=k5;break;case P2:case R2:case I2:me=b5;break;case M2:me=P5;break;case"scroll":case"scrollend":me=f5;break;case"wheel":me=I5;break;case"copy":case"cut":case"paste":me=v5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=f2;break;case"toggle":case"beforetoggle":me=L5}var Xe=(u&4)!==0,$t=!Xe&&(o==="scroll"||o==="scrollend"),te=Xe?de!==null?de+"Capture":null:de;Xe=[];for(var Q=ue,le;Q!==null;){var we=Q;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||te===null||(we=dc(Q,te),we!=null&&Xe.push(qc(Q,we,le))),$t)break;Q=Q.return}0<Xe.length&&(de=new me(de,Ue,null,f,xe),Ae.push({event:de,listeners:Xe}))}}if((u&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",de&&f!==g0&&(Ue=f.relatedTarget||f.fromElement)&&(bl(Ue)||Ue[yl]))break e;if((me||de)&&(de=xe.window===xe?xe:(de=xe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Ue=f.relatedTarget||f.toElement,me=ue,Ue=Ue?bl(Ue):null,Ue!==null&&($t=a(Ue),Xe=Ue.tag,Ue!==$t||Xe!==5&&Xe!==27&&Xe!==6)&&(Ue=null)):(me=null,Ue=ue),me!==Ue)){if(Xe=d2,we="onMouseLeave",te="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(Xe=f2,we="onPointerLeave",te="onPointerEnter",Q="pointer"),$t=me==null?de:cc(me),le=Ue==null?de:cc(Ue),de=new Xe(we,Q+"leave",me,f,xe),de.target=$t,de.relatedTarget=le,we=null,bl(xe)===ue&&(Xe=new Xe(te,Q+"enter",Ue,f,xe),Xe.target=le,Xe.relatedTarget=$t,we=Xe),$t=we,me&&Ue)t:{for(Xe=M8,te=me,Q=Ue,le=0,we=te;we;we=Xe(we))le++;we=0;for(var Ge=Q;Ge;Ge=Xe(Ge))we++;for(;0<le-we;)te=Xe(te),le--;for(;0<we-le;)Q=Xe(Q),we--;for(;le--;){if(te===Q||Q!==null&&te===Q.alternate){Xe=te;break t}te=Xe(te),Q=Xe(Q)}Xe=null}else Xe=null;me!==null&&i_(Ae,de,me,Xe,!1),Ue!==null&&$t!==null&&i_(Ae,$t,Ue,Xe,!0)}}e:{if(de=ue?cc(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var _t=E2;else if(x2(de))if(w2)_t=V5;else{_t=q5;var qe=$5}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&p0(ue.elementType)&&(_t=E2):_t=Y5;if(_t&&(_t=_t(o,ue))){v2(Ae,_t,f,xe);break e}qe&&qe(o,de,ue),o==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&m0(de,"number",de.value)}switch(qe=ue?cc(ue):window,o){case"focusin":(x2(qe)||qe.contentEditable==="true")&&(Cl=qe,O0=ue,xc=null);break;case"focusout":xc=O0=Cl=null;break;case"mousedown":k0=!0;break;case"contextmenu":case"mouseup":case"dragend":k0=!1,k2(Ae,f,xe);break;case"selectionchange":if(W5)break;case"keydown":case"keyup":k2(Ae,f,xe)}var dt;if(T0)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else _l?y2(o,f)&&(bt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(bt="onCompositionStart");bt&&(m2&&f.locale!=="ko"&&(_l||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&_l&&(dt=u2()):(As=xe,v0="value"in As?As.value:As.textContent,_l=!0)),qe=zf(ue,bt),0<qe.length&&(bt=new h2(bt,o,null,f,xe),Ae.push({event:bt,listeners:qe}),dt?bt.data=dt:(dt=b2(f),dt!==null&&(bt.data=dt)))),(dt=B5?F5(o,f):U5(o,f))&&(bt=zf(ue,"onBeforeInput"),0<bt.length&&(qe=new h2("onBeforeInput","beforeinput",null,f,xe),Ae.push({event:qe,listeners:bt}),qe.data=dt)),D8(Ae,o,ue,f,xe)}n_(Ae,u)})}function qc(o,u,f){return{instance:o,listener:u,currentTarget:f}}function zf(o,u){for(var f=u+"Capture",g=[];o!==null;){var v=o,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=dc(o,f),v!=null&&g.unshift(qc(o,v,A)),v=dc(o,u),v!=null&&g.push(qc(o,v,A))),o.tag===3)return g;o=o.return}return[]}function M8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function i_(o,u,f,g,v){for(var A=u._reactName,O=[];f!==null&&f!==g;){var I=f,W=I.alternate,ue=I.stateNode;if(I=I.tag,W!==null&&W===g)break;I!==5&&I!==26&&I!==27||ue===null||(W=ue,v?(ue=dc(f,A),ue!=null&&O.unshift(qc(f,ue,W))):v||(ue=dc(f,A),ue!=null&&O.push(qc(f,ue,W)))),f=f.return}O.length!==0&&o.push({event:u,listeners:O})}var L8=/\r\n?/g,j8=/\u0000|\uFFFD/g;function a_(o){return(typeof o=="string"?o:""+o).replace(L8,`
`).replace(j8,"")}function s_(o,u){return u=a_(u),a_(o)===u}function zt(o,u,f,g,v,A){switch(f){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Al(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Al(o,""+g);break;case"className":Yh(o,"class",g);break;case"tabIndex":Yh(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Yh(o,f,g);break;case"style":s2(o,g,A);break;case"data":if(u!=="object"){Yh(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Gh(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(u!=="input"&&zt(o,u,"name",v.name,v,null),zt(o,u,"formEncType",v.formEncType,v,null),zt(o,u,"formMethod",v.formMethod,v,null),zt(o,u,"formTarget",v.formTarget,v,null)):(zt(o,u,"encType",v.encType,v,null),zt(o,u,"method",v.method,v,null),zt(o,u,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Gh(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=ka);break;case"onScroll":g!=null&&gt("scroll",o);break;case"onScrollEnd":g!=null&&gt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=Gh(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":gt("beforetoggle",o),gt("toggle",o),qh(o,"popover",g);break;case"xlinkActuate":Oa(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Oa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Oa(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Oa(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Oa(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Oa(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":qh(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=d5.get(f)||f,qh(o,f,g))}}function tb(o,u,f,g,v,A){switch(f){case"style":s2(o,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof g=="string"?Al(o,g):(typeof g=="number"||typeof g=="bigint")&&Al(o,""+g);break;case"onScroll":g!=null&&gt("scroll",o);break;case"onScrollEnd":g!=null&&gt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!QA.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),u=f.slice(2,v?f.length-7:void 0),A=o[Or]||null,A=A!=null?A[f]:null,typeof A=="function"&&o.removeEventListener(u,A,v),typeof g=="function")){typeof A!="function"&&A!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(u,g,v);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):qh(o,f,g)}}}function er(o,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",o),gt("load",o);var g=!1,v=!1,A;for(A in f)if(f.hasOwnProperty(A)){var O=f[A];if(O!=null)switch(A){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:zt(o,u,A,O,f,null)}}v&&zt(o,u,"srcSet",f.srcSet,f,null),g&&zt(o,u,"src",f.src,f,null);return;case"input":gt("invalid",o);var I=A=O=v=null,W=null,ue=null;for(g in f)if(f.hasOwnProperty(g)){var xe=f[g];if(xe!=null)switch(g){case"name":v=xe;break;case"type":O=xe;break;case"checked":W=xe;break;case"defaultChecked":ue=xe;break;case"value":A=xe;break;case"defaultValue":I=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,u));break;default:zt(o,u,g,xe,f,null)}}n2(o,A,I,W,ue,O,v,!1);return;case"select":gt("invalid",o),g=O=A=null;for(v in f)if(f.hasOwnProperty(v)&&(I=f[v],I!=null))switch(v){case"value":A=I;break;case"defaultValue":O=I;break;case"multiple":g=I;default:zt(o,u,v,I,f,null)}u=A,f=O,o.multiple=!!g,u!=null?wl(o,!!g,u,!1):f!=null&&wl(o,!!g,f,!0);return;case"textarea":gt("invalid",o),A=v=g=null;for(O in f)if(f.hasOwnProperty(O)&&(I=f[O],I!=null))switch(O){case"value":g=I;break;case"defaultValue":v=I;break;case"children":A=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:zt(o,u,O,I,f,null)}i2(o,g,v,A);return;case"option":for(W in f)if(f.hasOwnProperty(W)&&(g=f[W],g!=null))switch(W){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:zt(o,u,W,g,f,null)}return;case"dialog":gt("beforetoggle",o),gt("toggle",o),gt("cancel",o),gt("close",o);break;case"iframe":case"object":gt("load",o);break;case"video":case"audio":for(g=0;g<$c.length;g++)gt($c[g],o);break;case"image":gt("error",o),gt("load",o);break;case"details":gt("toggle",o);break;case"embed":case"source":case"link":gt("error",o),gt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in f)if(f.hasOwnProperty(ue)&&(g=f[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:zt(o,u,ue,g,f,null)}return;default:if(p0(u)){for(xe in f)f.hasOwnProperty(xe)&&(g=f[xe],g!==void 0&&tb(o,u,xe,g,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(g=f[I],g!=null&&zt(o,u,I,g,f,null))}function B8(o,u,f,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,O=null,I=null,W=null,ue=null,xe=null;for(me in f){var Ae=f[me];if(f.hasOwnProperty(me)&&Ae!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":W=Ae;default:g.hasOwnProperty(me)||zt(o,u,me,null,g,Ae)}}for(var de in g){var me=g[de];if(Ae=f[de],g.hasOwnProperty(de)&&(me!=null||Ae!=null))switch(de){case"type":A=me;break;case"name":v=me;break;case"checked":ue=me;break;case"defaultChecked":xe=me;break;case"value":O=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,u));break;default:me!==Ae&&zt(o,u,de,me,g,Ae)}}f0(o,O,I,W,ue,xe,A,v);return;case"select":me=O=I=de=null;for(A in f)if(W=f[A],f.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":me=W;default:g.hasOwnProperty(A)||zt(o,u,A,null,g,W)}for(v in g)if(A=g[v],W=f[v],g.hasOwnProperty(v)&&(A!=null||W!=null))switch(v){case"value":de=A;break;case"defaultValue":I=A;break;case"multiple":O=A;default:A!==W&&zt(o,u,v,A,g,W)}u=I,f=O,g=me,de!=null?wl(o,!!f,de,!1):!!g!=!!f&&(u!=null?wl(o,!!f,u,!0):wl(o,!!f,f?[]:"",!1));return;case"textarea":me=de=null;for(I in f)if(v=f[I],f.hasOwnProperty(I)&&v!=null&&!g.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:zt(o,u,I,null,g,v)}for(O in g)if(v=g[O],A=f[O],g.hasOwnProperty(O)&&(v!=null||A!=null))switch(O){case"value":de=v;break;case"defaultValue":me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==A&&zt(o,u,O,v,g,A)}r2(o,de,me);return;case"option":for(var Ue in f)if(de=f[Ue],f.hasOwnProperty(Ue)&&de!=null&&!g.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:zt(o,u,Ue,null,g,de)}for(W in g)if(de=g[W],me=f[W],g.hasOwnProperty(W)&&de!==me&&(de!=null||me!=null))switch(W){case"selected":o.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:zt(o,u,W,de,g,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in f)de=f[Xe],f.hasOwnProperty(Xe)&&de!=null&&!g.hasOwnProperty(Xe)&&zt(o,u,Xe,null,g,de);for(ue in g)if(de=g[ue],me=f[ue],g.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,u));break;default:zt(o,u,ue,de,g,me)}return;default:if(p0(u)){for(var $t in f)de=f[$t],f.hasOwnProperty($t)&&de!==void 0&&!g.hasOwnProperty($t)&&tb(o,u,$t,void 0,g,de);for(xe in g)de=g[xe],me=f[xe],!g.hasOwnProperty(xe)||de===me||de===void 0&&me===void 0||tb(o,u,xe,de,g,me);return}}for(var te in f)de=f[te],f.hasOwnProperty(te)&&de!=null&&!g.hasOwnProperty(te)&&zt(o,u,te,null,g,de);for(Ae in g)de=g[Ae],me=f[Ae],!g.hasOwnProperty(Ae)||de===me||de==null&&me==null||zt(o,u,Ae,de,g,me)}function o_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],A=v.transferSize,O=v.initiatorType,I=v.duration;if(A&&I&&o_(O)){for(O=0,I=v.responseEnd,g+=1;g<f.length;g++){var W=f[g],ue=W.startTime;if(ue>I)break;var xe=W.transferSize,Ae=W.initiatorType;xe&&o_(Ae)&&(W=W.responseEnd,O+=xe*(W<I?1:(I-ue)/(W-ue)))}if(--g,u+=8*(A+O)/(v.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var nb=null,rb=null;function $f(o){return o.nodeType===9?o:o.ownerDocument}function l_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function ib(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ab=null;function U8(){var o=window.event;return o&&o.type==="popstate"?o===ab?!1:(ab=o,!0):(ab=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,H8=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,z8=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(o){return d_.resolve(null).then(o).catch($8)}:c_;function $8(o){setTimeout(function(){throw o})}function Us(o){return o==="head"}function h_(o,u){var f=u,g=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){o.removeChild(v),eu(u);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")Yc(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Yc(f);for(var A=f.firstChild;A;){var O=A.nextSibling,I=A.nodeName;A[uc]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=O}}else f==="body"&&Yc(o.ownerDocument.body);f=v}while(f);eu(u)}function f_(o,u){var f=o;o=0;do{var g=f.nextSibling;if(f.nodeType===1?u?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(u?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=g}while(f)}function sb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":sb(f),d0(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function q8(o,u,f,g){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[uc])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=Ti(o.nextSibling),o===null)break}return null}function Y8(o,u,f){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Ti(o.nextSibling),o===null))return null;return o}function m_(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Ti(o.nextSibling),o===null))return null;return o}function ob(o){return o.data==="$?"||o.data==="$~"}function lb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function V8(o,u){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||f.readyState!=="loading")u();else{var g=function(){u(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Ti(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var ub=null;function p_(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(u===0)return Ti(o.nextSibling);u--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||u++}o=o.nextSibling}return null}function g_(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(u===0)return o;u--}else f!=="/$"&&f!=="/&"||u++}o=o.previousSibling}return null}function y_(o,u,f){switch(u=$f(f),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Yc(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);d0(o)}var _i=new Map,b_=new Set;function qf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Va=q.d;q.d={f:G8,r:W8,D:K8,C:X8,L:Q8,m:Z8,X:eB,S:J8,M:tB};function G8(){var o=Va.f(),u=Mf();return o||u}function W8(o){var u=xl(o);u!==null&&u.tag===5&&u.type==="form"?MS(u):Va.r(o)}var Ql=typeof document>"u"?null:document;function x_(o,u,f){var g=Ql;if(g&&typeof u=="string"&&u){var v=bi(u);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),b_.has(v)||(b_.add(v),o={rel:o,crossOrigin:f,href:u},g.querySelector(v)===null&&(u=g.createElement("link"),er(u,"link",o),Fn(u),g.head.appendChild(u)))}}function K8(o){Va.D(o),x_("dns-prefetch",o,null)}function X8(o,u){Va.C(o,u),x_("preconnect",o,u)}function Q8(o,u,f){Va.L(o,u,f);var g=Ql;if(g&&o&&u){var v='link[rel="preload"][as="'+bi(u)+'"]';u==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+bi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+bi(f.imageSizes)+'"]')):v+='[href="'+bi(o)+'"]';var A=v;switch(u){case"style":A=Zl(o);break;case"script":A=Jl(o)}_i.has(A)||(o=m({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:o,as:u},f),_i.set(A,o),g.querySelector(v)!==null||u==="style"&&g.querySelector(Vc(A))||u==="script"&&g.querySelector(Gc(A))||(u=g.createElement("link"),er(u,"link",o),Fn(u),g.head.appendChild(u)))}}function Z8(o,u){Va.m(o,u);var f=Ql;if(f&&o){var g=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+bi(g)+'"][href="'+bi(o)+'"]',A=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Jl(o)}if(!_i.has(A)&&(o=m({rel:"modulepreload",href:o},u),_i.set(A,o),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Gc(A)))return}g=f.createElement("link"),er(g,"link",o),Fn(g),f.head.appendChild(g)}}}function J8(o,u,f){Va.S(o,u,f);var g=Ql;if(g&&o){var v=vl(g).hoistableStyles,A=Zl(o);u=u||"default";var O=v.get(A);if(!O){var I={loading:0,preload:null};if(O=g.querySelector(Vc(A)))I.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":u},f),(f=_i.get(A))&&cb(o,f);var W=O=g.createElement("link");Fn(W),er(W,"link",o),W._p=new Promise(function(ue,xe){W.onload=ue,W.onerror=xe}),W.addEventListener("load",function(){I.loading|=1}),W.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Yf(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:I},v.set(A,O)}}}function eB(o,u){Va.X(o,u);var f=Ql;if(f&&o){var g=vl(f).hoistableScripts,v=Jl(o),A=g.get(v);A||(A=f.querySelector(Gc(v)),A||(o=m({src:o,async:!0},u),(u=_i.get(v))&&db(o,u),A=f.createElement("script"),Fn(A),er(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function tB(o,u){Va.M(o,u);var f=Ql;if(f&&o){var g=vl(f).hoistableScripts,v=Jl(o),A=g.get(v);A||(A=f.querySelector(Gc(v)),A||(o=m({src:o,async:!0,type:"module"},u),(u=_i.get(v))&&db(o,u),A=f.createElement("script"),Fn(A),er(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function v_(o,u,f,g){var v=(v=re.current)?qf(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=Zl(f.href),f=vl(v).hoistableStyles,g=f.get(u),g||(g={type:"style",instance:null,count:0,state:null},f.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Zl(f.href);var A=vl(v).hoistableStyles,O=A.get(o);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,O),(A=v.querySelector(Vc(o)))&&!A._p&&(O.instance=A,O.state.loading=5),_i.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},_i.set(o,f),A||nB(v,o,f,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Jl(f),f=vl(v).hoistableScripts,g=f.get(u),g||(g={type:"script",instance:null,count:0,state:null},f.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Zl(o){return'href="'+bi(o)+'"'}function Vc(o){return'link[rel="stylesheet"]['+o+"]"}function E_(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function nB(o,u,f,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),er(u,"link",f),Fn(u),o.head.appendChild(u))}function Jl(o){return'[src="'+bi(o)+'"]'}function Gc(o){return"script[async]"+o}function w_(o,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+bi(f.href)+'"]');if(g)return u.instance=g,Fn(g),g;var v=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Fn(g),er(g,"style",v),Yf(g,f.precedence,o),u.instance=g;case"stylesheet":v=Zl(f.href);var A=o.querySelector(Vc(v));if(A)return u.state.loading|=4,u.instance=A,Fn(A),A;g=E_(f),(v=_i.get(v))&&cb(g,v),A=(o.ownerDocument||o).createElement("link"),Fn(A);var O=A;return O._p=new Promise(function(I,W){O.onload=I,O.onerror=W}),er(A,"link",g),u.state.loading|=4,Yf(A,f.precedence,o),u.instance=A;case"script":return A=Jl(f.src),(v=o.querySelector(Gc(A)))?(u.instance=v,Fn(v),v):(g=f,(v=_i.get(A))&&(g=m({},f),db(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),Fn(v),er(v,"link",g),o.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Yf(g,f.precedence,o));return u.instance}function Yf(o,u,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,A=v,O=0;O<g.length;O++){var I=g[O];if(I.dataset.precedence===u)A=I;else if(A!==v)break}A?A.parentNode.insertBefore(o,A.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(o,u.firstChild))}function cb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function db(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Vf=null;function A_(o,u,f){if(Vf===null){var g=new Map,v=Vf=new Map;v.set(f,g)}else v=Vf,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var A=f[v];if(!(A[uc]||A[Xn]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(u)||"";O=o+O;var I=g.get(O);I?I.push(A):g.set(O,[A])}}return g}function S_(o,u,f){o=o.ownerDocument||o,o.head.insertBefore(f,u==="title"?o.querySelector("head > title"):null)}function rB(o,u,f){if(f===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function T_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function iB(o,u,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=Zl(g.href),A=u.querySelector(Vc(v));if(A){u=A._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=Gf.bind(o),u.then(o,o)),f.state.loading|=4,f.instance=A,Fn(A);return}A=u.ownerDocument||u,g=E_(g),(v=_i.get(v))&&cb(g,v),A=A.createElement("link"),Fn(A);var O=A;O._p=new Promise(function(I,W){O.onload=I,O.onerror=W}),er(A,"link",g),f.instance=A}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Gf.bind(o),u.addEventListener("load",f),u.addEventListener("error",f))}}var hb=0;function aB(o,u){return o.stylesheets&&o.count===0&&Kf(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var g=setTimeout(function(){if(o.stylesheets&&Kf(o,o.stylesheets),o.unsuspend){var A=o.unsuspend;o.unsuspend=null,A()}},6e4+u);0<o.imgBytes&&hb===0&&(hb=62500*F8());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Kf(o,o.stylesheets),o.unsuspend)){var A=o.unsuspend;o.unsuspend=null,A()}},(o.imgBytes>hb?50:800)+u);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wf=null;function Kf(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wf=new Map,u.forEach(sB,o),Wf=null,Gf.call(o))}function sB(o,u){if(!(u.state.loading&4)){var f=Wf.get(o);if(f)var g=f.get(null);else{f=new Map,Wf.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var O=v[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}v=u.instance,O=v.getAttribute("data-precedence"),A=f.get(O)||g,A===g&&f.set(null,v),f.set(O,v),this.count++,g=Gf.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),A?A.parentNode.insertBefore(v,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),u.state.loading|=4}}var Wc={$$typeof:C,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function oB(o,u,f,g,v,A,O,I,W){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=o0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o0(0),this.hiddenUpdates=o0(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function __(o,u,f,g,v,A,O,I,W,ue,xe,Ae){return o=new oB(o,u,f,O,W,ue,xe,Ae,I),u=1,A===!0&&(u|=24),A=Jr(3,null,null,u),o.current=A,A.stateNode=o,u=Y0(),u.refCount++,o.pooledCache=u,u.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:u},K0(A),o}function C_(o){return o?(o=kl,o):kl}function N_(o,u,f,g,v,A){v=C_(v),g.context===null?g.context=v:g.pendingContext=v,g=Os(u),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=ks(o,g,u),f!==null&&(Mr(f,o,u),_c(f,o,u))}function O_(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function fb(o,u){O_(o,u),(o=o.alternate)&&O_(o,u)}function k_(o){if(o.tag===13||o.tag===31){var u=bo(o,67108864);u!==null&&Mr(u,o,67108864),fb(o,67108864)}}function D_(o){if(o.tag===13||o.tag===31){var u=ii();u=l0(u);var f=bo(o,u);f!==null&&Mr(f,o,u),fb(o,u)}}var Xf=!0;function lB(o,u,f,g){var v=L.T;L.T=null;var A=q.p;try{q.p=2,mb(o,u,f,g)}finally{q.p=A,L.T=v}}function uB(o,u,f,g){var v=L.T;L.T=null;var A=q.p;try{q.p=8,mb(o,u,f,g)}finally{q.p=A,L.T=v}}function mb(o,u,f,g){if(Xf){var v=pb(g);if(v===null)eb(o,u,g,Qf,f),R_(o,g);else if(dB(v,o,u,f,g))g.stopPropagation();else if(R_(o,g),u&4&&-1<cB.indexOf(o)){for(;v!==null;){var A=xl(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=Nr(A.pendingLanes);if(O!==0){var I=A;for(I.pendingLanes|=2,I.entangledLanes|=2;O;){var W=1<<31-Le(O);I.entanglements[1]|=W,O&=~W}aa(A),(kt&6)===0&&(Rf=tt()+500,zc(0))}}break;case 31:case 13:I=bo(A,2),I!==null&&Mr(I,A,2),Mf(),fb(A,2)}if(A=pb(g),A===null&&eb(o,u,g,Qf,f),A===v)break;v=A}v!==null&&g.stopPropagation()}else eb(o,u,g,null,f)}}function pb(o){return o=y0(o),gb(o)}var Qf=null;function gb(o){if(Qf=null,o=bl(o),o!==null){var u=a(o);if(u===null)o=null;else{var f=u.tag;if(f===13){if(o=s(u),o!==null)return o;o=null}else if(f===31){if(o=l(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Qf=o,null}function P_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case ee:return 2;case pe:return 8;case ke:case Ye:return 32;case it:return 268435456;default:return 32}default:return 32}}var yb=!1,Hs=null,zs=null,$s=null,Kc=new Map,Xc=new Map,qs=[],cB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(o,u){switch(o){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Kc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(u.pointerId)}}function Qc(o,u,f,g,v,A){return o===null||o.nativeEvent!==A?(o={blockedOn:u,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[v]},u!==null&&(u=xl(u),u!==null&&k_(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),o)}function dB(o,u,f,g,v){switch(u){case"focusin":return Hs=Qc(Hs,o,u,f,g,v),!0;case"dragenter":return zs=Qc(zs,o,u,f,g,v),!0;case"mouseover":return $s=Qc($s,o,u,f,g,v),!0;case"pointerover":var A=v.pointerId;return Kc.set(A,Qc(Kc.get(A)||null,o,u,f,g,v)),!0;case"gotpointercapture":return A=v.pointerId,Xc.set(A,Qc(Xc.get(A)||null,o,u,f,g,v)),!0}return!1}function I_(o){var u=bl(o.target);if(u!==null){var f=a(u);if(f!==null){if(u=f.tag,u===13){if(u=s(f),u!==null){o.blockedOn=u,WA(o.priority,function(){D_(f)});return}}else if(u===31){if(u=l(f),u!==null){o.blockedOn=u,WA(o.priority,function(){D_(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zf(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=pb(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);g0=g,f.target.dispatchEvent(g),g0=null}else return u=xl(f),u!==null&&k_(u),o.blockedOn=f,!1;u.shift()}return!0}function M_(o,u,f){Zf(o)&&f.delete(u)}function hB(){yb=!1,Hs!==null&&Zf(Hs)&&(Hs=null),zs!==null&&Zf(zs)&&(zs=null),$s!==null&&Zf($s)&&($s=null),Kc.forEach(M_),Xc.forEach(M_)}function Jf(o,u){o.blockedOn===u&&(o.blockedOn=null,yb||(yb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hB)))}var em=null;function L_(o){em!==o&&(em=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){em===o&&(em=null);for(var u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],v=o[u+2];if(typeof g!="function"){if(gb(g||f)===null)continue;break}var A=xl(f);A!==null&&(o.splice(u,3),u-=3,py(A,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function eu(o){function u(W){return Jf(W,o)}Hs!==null&&Jf(Hs,o),zs!==null&&Jf(zs,o),$s!==null&&Jf($s,o),Kc.forEach(u),Xc.forEach(u);for(var f=0;f<qs.length;f++){var g=qs[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<qs.length&&(f=qs[0],f.blockedOn===null);)I_(f),f.blockedOn===null&&qs.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],A=f[g+1],O=v[Or]||null;if(typeof A=="function")O||L_(f);else if(O){var I=null;if(A&&A.hasAttribute("formAction")){if(v=A,O=A[Or]||null)I=O.formAction;else if(gb(v)!==null)continue}else I=O.action;typeof I=="function"?f[g+1]=I:(f.splice(g,3),g-=3),L_(f)}}}function j_(){function o(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function u(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),v!==null&&(v(),v=null)}}}function bb(o){this._internalRoot=o}tm.prototype.render=bb.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var f=u.current,g=ii();N_(f,g,o,u,null,null)},tm.prototype.unmount=bb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;N_(o.current,2,null,o,null,null),Mf(),u[yl]=null}};function tm(o){this._internalRoot=o}tm.prototype.unstable_scheduleHydration=function(o){if(o){var u=GA();o={blockedOn:null,target:o,priority:u};for(var f=0;f<qs.length&&u!==0&&u<qs[f].priority;f++);qs.splice(f,0,o),f===0&&I_(o)}};var B_=e.version;if(B_!=="19.2.0")throw Error(r(527,B_,"19.2.0"));q.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var fB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{ce=nm.inject(fB),_e=nm}catch{}}return Jc.createRoot=function(o,u){if(!i(o))throw Error(r(299));var f=!1,g="",v=YS,A=VS,O=GS;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=__(o,1,!1,null,null,f,g,null,v,A,O,j_),o[yl]=u.current,Jy(o),new bb(u)},Jc.hydrateRoot=function(o,u,f){if(!i(o))throw Error(r(299));var g=!1,v="",A=YS,O=VS,I=GS,W=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(W=f.formState)),u=__(o,1,!0,u,f??null,g,v,W,A,O,I,j_),u.context=C_(null),f=u.current,g=ii(),g=l0(g),v=Os(g),v.callback=null,ks(f,v,g),f=g,u.current.lanes=f,lc(u,f),aa(u),o[yl]=u.current,Jy(o),new tm(u)},Jc.version="19.2.0",Jc}var X_;function SB(){if(X_)return wb.exports;X_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wb.exports=AB(),wb.exports}var TB=SB();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q_="popstate";function _B(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return M1("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ud(i)}return NB(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CB(){return Math.random().toString(36).substring(2,10)}function Z_(t,e){return{usr:t.state,key:t.key,idx:e}}function M1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Uu(e):e,state:n,key:e&&e.key||r||CB()}}function Ud({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function m(){l="POP";let w=h(),S=w==null?null:w-d;d=w,c&&c({action:l,location:E.location,delta:S})}function y(w,S){l="PUSH";let N=M1(E.location,w,S);d=h()+1;let C=Z_(N,d),P=E.createHref(N);try{s.pushState(C,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}a&&c&&c({action:l,location:E.location,delta:1})}function b(w,S){l="REPLACE";let N=M1(E.location,w,S);d=h();let C=Z_(N,d),P=E.createHref(N);s.replaceState(C,"",P),a&&c&&c({action:l,location:E.location,delta:0})}function x(w){return OB(w)}let E={get action(){return l},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Q_,m),c=w,()=>{i.removeEventListener(Q_,m),c=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let S=x(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:b,go(w){return s.go(w)}};return E}function OB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),un(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ud(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function hP(t,e,n="/"){return kB(t,e,n,!1)}function kB(t,e,n,r){let i=typeof e=="string"?Uu(e):e,a=as(i.pathname||"/",n);if(a==null)return null;let s=fP(t);DB(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=zB(a);l=UB(s[c],d,r)}return l}function fP(t,e=[],n=[],r="",i=!1){let a=(s,l,c=i,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;un(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=ns([r,h.relativePath]),y=n.concat(h);s.children&&s.children.length>0&&(un(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),fP(s.children,e,y,m,c)),!(s.path==null&&!s.index)&&e.push({path:m,score:BB(m,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of mP(s.path))a(s,l,!0,c)}),e}function mP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=mP(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function DB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PB=/^:[\w-]+$/,RB=3,IB=2,MB=1,LB=10,jB=-2,J_=t=>t==="*";function BB(t,e){let n=t.split("/"),r=n.length;return n.some(J_)&&(r+=jB),e&&(r+=IB),n.filter(i=>!J_(i)).reduce((i,a)=>i+(PB.test(a)?RB:a===""?MB:LB),r)}function FB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UB(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Qm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Qm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:ns([a,m.pathname]),pathnameBase:VB(ns([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=ns([a,m.pathnameBase]))}return s}function Qm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},y)=>{if(h==="*"){let x=l[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[y];return m&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function HB(t,e=!1,n=!0){Ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function as(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $B(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uu(t):t;return{pathname:n?n.startsWith("/")?n:qB(n,e):e,search:GB(r),hash:WB(i)}}function qB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _b(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(t){let e=YB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bE(t,e,n,r=!1){let i;typeof t=="string"?i=Uu(t):(i={...t},un(!i.pathname||!i.pathname.includes("?"),_b("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),_b("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),_b("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=$B(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ns=t=>t.join("/").replace(/\/\/+/g,"/"),VB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pP=["POST","PUT","PATCH","DELETE"];new Set(pP);var XB=["GET",...pP];new Set(XB);var Hu=_.createContext(null);Hu.displayName="DataRouter";var tg=_.createContext(null);tg.displayName="DataRouterState";_.createContext(!1);var gP=_.createContext({isTransitioning:!1});gP.displayName="ViewTransition";var QB=_.createContext(new Map);QB.displayName="Fetchers";var ZB=_.createContext(null);ZB.displayName="Await";var Qi=_.createContext(null);Qi.displayName="Navigation";var hh=_.createContext(null);hh.displayName="Location";var Zi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var xE=_.createContext(null);xE.displayName="RouteError";function JB(t,{relative:e}={}){un(zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Qi),{hash:i,pathname:a,search:s}=fh(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:ns([n,a])),r.createHref({pathname:l,search:s,hash:i})}function zu(){return _.useContext(hh)!=null}function oo(){return un(zu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(hh).location}var yP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bP(t){_.useContext(Qi).static||_.useLayoutEffect(t)}function ll(){let{isDataRoute:t}=_.useContext(Zi);return t?hF():eF()}function eF(){un(zu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Hu),{basename:e,navigator:n}=_.useContext(Qi),{matches:r}=_.useContext(Zi),{pathname:i}=oo(),a=JSON.stringify(yE(r)),s=_.useRef(!1);return bP(()=>{s.current=!0}),_.useCallback((c,d={})=>{if(Ki(s.current,yP),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=bE(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ns([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}_.createContext(null);function xP(){let{matches:t}=_.useContext(Zi),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=_.useContext(Zi),{pathname:r}=oo(),i=JSON.stringify(yE(n));return _.useMemo(()=>bE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tF(t,e){return vP(t,e)}function vP(t,e,n,r,i){un(zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Qi),{matches:s}=_.useContext(Zi),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let N=m&&m.path||"";EP(d,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=oo(),b;if(e){let N=typeof e=="string"?Uu(e):e;un(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=y;let x=b.pathname||"/",E=x;if(h!=="/"){let N=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=hP(t,{pathname:E});Ki(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ki(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=sF(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:ns([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ns([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),s,n,r,i);return e&&S?_.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function nF(){let t=dF(),e=KB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,s)}var rF=_.createElement(nF,null),iF=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Zi.Provider,{value:this.props.routeContext},_.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aF({routeContext:t,match:e,children:n}){let r=_.useContext(Hu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Zi.Provider,{value:t},n)}function sF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);un(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let y,b=!1,x=null,E=null;n&&(y=s&&h.route.id?s[h.route.id]:void 0,x=h.route.errorElement||rF,l&&(c<0&&m===0?(EP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):c===m&&(b=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),S=()=>{let N;return y?N=x:b?N=E:h.route.Component?N=_.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,_.createElement(aF,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(iF,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):S()},null)}function vE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oF(t){let e=_.useContext(Hu);return un(e,vE(t)),e}function lF(t){let e=_.useContext(tg);return un(e,vE(t)),e}function uF(t){let e=_.useContext(Zi);return un(e,vE(t)),e}function EE(t){let e=uF(t),n=e.matches[e.matches.length-1];return un(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cF(){return EE("useRouteId")}function dF(){let t=_.useContext(xE),e=lF("useRouteError"),n=EE("useRouteError");return t!==void 0?t:e.errors?.[n]}function hF(){let{router:t}=oF("useNavigate"),e=EE("useNavigate"),n=_.useRef(!1);return bP(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Ki(n.current,yP),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var eC={};function EP(t,e,n){!e&&!eC[t]&&(eC[t]=!0,Ki(!1,n))}_.memo(fF);function fF({routes:t,future:e,state:n,unstable_onError:r}){return vP(t,void 0,n,r,e)}function mF({to:t,replace:e,state:n,relative:r}){un(zu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Qi);Ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Zi),{pathname:s}=oo(),l=ll(),c=bE(t,yE(a),s,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function Br(t){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){un(!zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Uu(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=n,b=_.useMemo(()=>{let x=as(c,s);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:y},navigationType:r}},[s,c,d,h,m,y,r]);return Ki(b!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(Qi.Provider,{value:l},_.createElement(hh.Provider,{children:e,value:b}))}function gF({children:t,location:e}){return tF(L1(t),e)}function L1(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,L1(r.props.children,a));return}un(r.type===Br,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=L1(r.props.children,a)),n.push(s)}),n}var Mm="get",Lm="application/x-www-form-urlencoded";function ng(t){return t!=null&&typeof t.tagName=="string"}function yF(t){return ng(t)&&t.tagName.toLowerCase()==="button"}function bF(t){return ng(t)&&t.tagName.toLowerCase()==="form"}function xF(t){return ng(t)&&t.tagName.toLowerCase()==="input"}function vF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EF(t,e){return t.button===0&&(!e||e==="_self")&&!vF(t)}var rm=null;function wF(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var AF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cb(t){return t!=null&&!AF.has(t)?(Ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lm}"`),null):t}function SF(t,e){let n,r,i,a,s;if(bF(t)){let l=t.getAttribute("action");r=l?as(l,e):null,n=t.getAttribute("method")||Mm,i=Cb(t.getAttribute("enctype"))||Lm,a=new FormData(t)}else if(yF(t)||xF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?as(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Mm,i=Cb(t.getAttribute("formenctype"))||Cb(l.getAttribute("enctype"))||Lm,a=new FormData(l,t),!wF()){let{name:d,type:h,value:m}=t;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,m)}}else{if(ng(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mm,r=null,i=Lm,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&as(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _F(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await _F(a,n);return s.links?s.links():[]}return[]}));return PF(r.flat(1).filter(CF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tC(t,e,n,r,i,a){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?e.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function OF(t,e,{includeHydrateFallback:n}={}){return kF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function kF(t){return[...new Set(t)]}function DF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(DF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function wP(){let t=_.useContext(Hu);return wE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RF(){let t=_.useContext(tg);return wE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var AE=_.createContext(void 0);AE.displayName="FrameworkContext";function AP(){let t=_.useContext(AE);return wE(t,"You must render this element inside a <HydratedRouter> element"),t}function IF(t,e){let n=_.useContext(AE),[r,i]=_.useState(!1),[a,s]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,y=_.useRef(null);_.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=S=>{S.forEach(N=>{s(N.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),_.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:ed(l,b),onBlur:ed(c,x),onMouseEnter:ed(d,b),onMouseLeave:ed(h,x),onTouchStart:ed(m,b)}]:[!1,y,{}]}function ed(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MF({page:t,...e}){let{router:n}=wP(),r=_.useMemo(()=>hP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(jF,{page:t,matches:r,...e}):null}function LF(t){let{manifest:e,routeModules:n}=AP(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return NF(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function jF({page:t,matches:e,...n}){let r=oo(),{manifest:i,routeModules:a}=AP(),{basename:s}=wP(),{loaderData:l,matches:c}=RF(),d=_.useMemo(()=>tC(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>tC(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(S=>{let N=i.routes[S.route.id];!N||!N.hasLoader||(!d.some(C=>C.route.id===S.route.id)&&S.route.id in l&&a[S.route.id]?.shouldRevalidate||N.hasClientLoader?E=!0:x.add(S.route.id))}),x.size===0)return[];let w=TF(t,s,"data");return E&&x.size>0&&w.searchParams.set("_routes",e.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[s,l,r,i,d,e,t,a]),y=_.useMemo(()=>OF(h,i),[h,i]),b=LF(h);return _.createElement(_.Fragment,null,m.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>_.createElement("link",{key:x,nonce:n.nonce,...E})))}function BF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SP&&(window.__reactRouterVersion="7.9.5")}catch{}function FF({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=_B({window:n,v5Compat:!0}));let i=r.current,[a,s]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>s(c))},[s]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(pF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var TP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_P=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...y},b){let{basename:x}=_.useContext(Qi),E=typeof d=="string"&&TP.test(d),w,S=!1;if(typeof d=="string"&&E&&(w=d,SP))try{let G=new URL(window.location.href),X=d.startsWith("//")?new URL(G.protocol+d):new URL(d),B=as(X.pathname,x);X.origin===G.origin&&B!=null?d=B+X.search+X.hash:S=!0}catch{Ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=JB(d,{relative:i}),[C,P,k]=IF(r,y),D=$F(d,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function R(G){e&&e(G),G.defaultPrevented||D(G)}let H=_.createElement("a",{...y,...k,href:w||N,onClick:S||a?e:R,ref:BF(b,P),target:c,"data-discover":!E&&n==="render"?"true":void 0});return C&&!E?_.createElement(_.Fragment,null,H,_.createElement(MF,{page:N})):H});_P.displayName="Link";var UF=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},h){let m=fh(s,{relative:d.relative}),y=oo(),b=_.useContext(tg),{navigator:x,basename:E}=_.useContext(Qi),w=b!=null&&WF(m)&&l===!0,S=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,N=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&E&&(C=as(C,E)||C);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=N===S||!i&&N.startsWith(S)&&N.charAt(P)==="/",D=C!=null&&(C===S||!i&&C.startsWith(S)&&C.charAt(S.length)==="/"),R={isActive:k,isPending:D,isTransitioning:w},H=k?e:void 0,G;typeof r=="function"?G=r(R):G=[r,k?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(R):a;return _.createElement(_P,{...d,"aria-current":H,className:G,ref:h,style:X,to:s,viewTransition:l},typeof c=="function"?c(R):c)});UF.displayName="NavLink";var HF=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Mm,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...y},b)=>{let x=VF(),E=GF(l,{relative:d}),w=s.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&TP.test(l),N=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,k=P?.getAttribute("formmethod")||s;x(P||C.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return _.createElement("form",{ref:b,method:w,action:E,onSubmit:r?c:N,...y,"data-discover":!S&&t==="render"?"true":void 0})});HF.displayName="Form";function zF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CP(t){let e=_.useContext(Hu);return un(e,zF(t)),e}function $F(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=ll(),c=oo(),d=fh(t,{relative:a});return _.useCallback(h=>{if(EF(h,e)){h.preventDefault();let m=n!==void 0?n:Ud(c)===Ud(d);l(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,d,n,r,e,t,i,a,s])}var qF=0,YF=()=>`__${String(++qF)}__`;function VF(){let{router:t}=CP("useSubmit"),{basename:e}=_.useContext(Qi),n=cF();return _.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:d}=SF(r,e);if(i.navigate===!1){let h=i.fetcherKey||YF();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function GF(t,{relative:e}={}){let{basename:n}=_.useContext(Qi),r=_.useContext(Zi);un(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fh(t||".",{relative:e})},s=oo();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ns([n,a.pathname])),Ud(a)}function WF(t,{relative:e}={}){let n=_.useContext(gP);un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CP("useViewTransitionState"),i=fh(t,{relative:e});if(!n.isTransitioning)return!1;let a=as(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=as(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qm(i.pathname,s)!=null||Qm(i.pathname,a)!=null}var SE=dP();function NP(t,e){return function(){return t.apply(e,arguments)}}const{toString:KF}=Object.prototype,{getPrototypeOf:TE}=Object,{iterator:rg,toStringTag:OP}=Symbol,ig=(t=>e=>{const n=KF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ji=t=>(t=t.toLowerCase(),e=>ig(e)===t),ag=t=>e=>typeof e===t,{isArray:$u}=Array,Nu=ag("undefined");function mh(t){return t!==null&&!Nu(t)&&t.constructor!==null&&!Nu(t.constructor)&&Vr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kP=Ji("ArrayBuffer");function XF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kP(t.buffer),e}const QF=ag("string"),Vr=ag("function"),DP=ag("number"),ph=t=>t!==null&&typeof t=="object",ZF=t=>t===!0||t===!1,jm=t=>{if(ig(t)!=="object")return!1;const e=TE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(OP in t)&&!(rg in t)},JF=t=>{if(!ph(t)||mh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},eU=Ji("Date"),tU=Ji("File"),nU=Ji("Blob"),rU=Ji("FileList"),iU=t=>ph(t)&&Vr(t.pipe),aU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vr(t.append)&&((e=ig(t))==="formdata"||e==="object"&&Vr(t.toString)&&t.toString()==="[object FormData]"))},sU=Ji("URLSearchParams"),[oU,lU,uU,cU]=["ReadableStream","Request","Response","Headers"].map(Ji),dU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),$u(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(mh(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let l;for(r=0;r<s;r++)l=a[r],e.call(null,t[l],l,t)}}function PP(t,e){if(mh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RP=t=>!Nu(t)&&t!==Mo;function j1(){const{caseless:t,skipUndefined:e}=RP(this)&&this||{},n={},r=(i,a)=>{const s=t&&PP(n,a)||a;jm(n[s])&&jm(i)?n[s]=j1(n[s],i):jm(i)?n[s]=j1({},i):$u(i)?n[s]=i.slice():(!e||!Nu(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&gh(arguments[i],r);return n}const hU=(t,e,n,{allOwnKeys:r}={})=>(gh(e,(i,a)=>{n&&Vr(i)?t[a]=NP(i,n):t[a]=i},{allOwnKeys:r}),t),fU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pU=(t,e,n,r)=>{let i,a,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&TE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},gU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},yU=t=>{if(!t)return null;if($u(t))return t;let e=t.length;if(!DP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&TE(Uint8Array)),xU=(t,e)=>{const r=(t&&t[rg]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},vU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},EU=Ji("HTMLFormElement"),wU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AU=Ji("RegExp"),IP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gh(n,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(r[a]=s||i)}),Object.defineProperties(t,r)},SU=t=>{IP(t,(e,n)=>{if(Vr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Vr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TU=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return $u(t)?r(t):r(String(t).split(e)),n},_U=()=>{},CU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function NU(t){return!!(t&&Vr(t.append)&&t[OP]==="FormData"&&t[rg])}const OU=t=>{const e=new Array(10),n=(r,i)=>{if(ph(r)){if(e.indexOf(r)>=0)return;if(mh(r))return r;if(!("toJSON"in r)){e[i]=r;const a=$u(r)?[]:{};return gh(r,(s,l)=>{const c=n(s,i+1);!Nu(c)&&(a[l]=c)}),e[i]=void 0,a}}return r};return n(t,0)},kU=Ji("AsyncFunction"),DU=t=>t&&(ph(t)||Vr(t))&&Vr(t.then)&&Vr(t.catch),MP=((t,e)=>t?setImmediate:e?((n,r)=>(Mo.addEventListener("message",({source:i,data:a})=>{i===Mo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vr(Mo.postMessage)),PU=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||MP,RU=t=>t!=null&&Vr(t[rg]),fe={isArray:$u,isArrayBuffer:kP,isBuffer:mh,isFormData:aU,isArrayBufferView:XF,isString:QF,isNumber:DP,isBoolean:ZF,isObject:ph,isPlainObject:jm,isEmptyObject:JF,isReadableStream:oU,isRequest:lU,isResponse:uU,isHeaders:cU,isUndefined:Nu,isDate:eU,isFile:tU,isBlob:nU,isRegExp:AU,isFunction:Vr,isStream:iU,isURLSearchParams:sU,isTypedArray:bU,isFileList:rU,forEach:gh,merge:j1,extend:hU,trim:dU,stripBOM:fU,inherits:mU,toFlatObject:pU,kindOf:ig,kindOfTest:Ji,endsWith:gU,toArray:yU,forEachEntry:xU,matchAll:vU,isHTMLForm:EU,hasOwnProperty:nC,hasOwnProp:nC,reduceDescriptors:IP,freezeMethods:SU,toObjectSet:TU,toCamelCase:wU,noop:_U,toFiniteNumber:CU,findKey:PP,global:Mo,isContextDefined:RP,isSpecCompliantForm:NU,toJSONObject:OU,isAsyncFn:kU,isThenable:DU,setImmediate:MP,asap:PU,isIterable:RU};function lt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}fe.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const LP=lt.prototype,jP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jP[t]={value:t}});Object.defineProperties(lt,jP);Object.defineProperty(LP,"isAxiosError",{value:!0});lt.from=(t,e,n,r,i,a)=>{const s=Object.create(LP);fe.toFlatObject(t,s,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return lt.call(s,l,c,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const IU=null;function B1(t){return fe.isPlainObject(t)||fe.isArray(t)}function BP(t){return fe.endsWith(t,"[]")?t.slice(0,-2):t}function rC(t,e,n){return t?t.concat(e).map(function(i,a){return i=BP(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function MU(t){return fe.isArray(t)&&!t.some(B1)}const LU=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function sg(t,e,n){if(!fe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,w){return!fe.isUndefined(w[E])});const r=n.metaTokens,i=n.visitor||h,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(fe.isDate(x))return x.toISOString();if(fe.isBoolean(x))return x.toString();if(!c&&fe.isBlob(x))throw new lt("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(x)||fe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,E,w){let S=x;if(x&&!w&&typeof x=="object"){if(fe.endsWith(E,"{}"))E=r?E:E.slice(0,-2),x=JSON.stringify(x);else if(fe.isArray(x)&&MU(x)||(fe.isFileList(x)||fe.endsWith(E,"[]"))&&(S=fe.toArray(x)))return E=BP(E),S.forEach(function(C,P){!(fe.isUndefined(C)||C===null)&&e.append(s===!0?rC([E],P,a):s===null?E:E+"[]",d(C))}),!1}return B1(x)?!0:(e.append(rC(w,E,a),d(x)),!1)}const m=[],y=Object.assign(LU,{defaultVisitor:h,convertValue:d,isVisitable:B1});function b(x,E){if(!fe.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(x),fe.forEach(x,function(S,N){(!(fe.isUndefined(S)||S===null)&&i.call(e,S,fe.isString(N)?N.trim():N,E,y))===!0&&b(S,E?E.concat(N):[N])}),m.pop()}}if(!fe.isObject(t))throw new TypeError("data must be an object");return b(t),e}function iC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _E(t,e){this._pairs=[],t&&sg(t,this,e)}const FP=_E.prototype;FP.append=function(e,n){this._pairs.push([e,n])};FP.toString=function(e){const n=e?function(r){return e.call(this,r,iC)}:iC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UP(t,e,n){if(!e)return t;const r=n&&n.encode||jU;fe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=fe.isURLSearchParams(e)?e.toString():new _E(e,n).toString(r),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class aC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const HP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BU=typeof URLSearchParams<"u"?URLSearchParams:_E,FU=typeof FormData<"u"?FormData:null,UU=typeof Blob<"u"?Blob:null,HU={isBrowser:!0,classes:{URLSearchParams:BU,FormData:FU,Blob:UU},protocols:["http","https","file","blob","url","data"]},CE=typeof window<"u"&&typeof document<"u",F1=typeof navigator=="object"&&navigator||void 0,zU=CE&&(!F1||["ReactNative","NativeScript","NS"].indexOf(F1.product)<0),$U=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qU=CE&&window.location.href||"http://localhost",YU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CE,hasStandardBrowserEnv:zU,hasStandardBrowserWebWorkerEnv:$U,navigator:F1,origin:qU},Symbol.toStringTag,{value:"Module"})),dr={...YU,...HU};function VU(t,e){return sg(t,new dr.classes.URLSearchParams,{visitor:function(n,r,i,a){return dr.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function GU(t){return fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WU(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function zP(t){function e(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=n.length;return s=!s&&fe.isArray(i)?i.length:s,c?(fe.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!fe.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],a)&&fe.isArray(i[s])&&(i[s]=WU(i[s])),!l)}if(fe.isFormData(t)&&fe.isFunction(t.entries)){const n={};return fe.forEachEntry(t,(r,i)=>{e(GU(r),i,n,0)}),n}return null}function KU(t,e,n){if(fe.isString(t))try{return(e||JSON.parse)(t),fe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const yh={transitional:HP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=fe.isObject(e);if(a&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return i?JSON.stringify(zP(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return VU(e,this.formSerializer).toString();if((l=fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return sg(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),KU(e)):e}],transformResponse:[function(e){const n=this.transitional||yh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?lt.from(l,lt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],t=>{yh.headers[t]={}});const XU=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&XU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sC=Symbol("internals");function td(t){return t&&String(t).trim().toLowerCase()}function Bm(t){return t===!1||t==null?t:fe.isArray(t)?t.map(Bm):String(t)}function ZU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const JU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nb(t,e,n,r,i){if(fe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!fe.isString(e)){if(fe.isString(r))return e.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(e)}}function e9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function t9(t,e){const n=fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let Gr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(l,c,d){const h=td(c);if(!h)throw new Error("header name must be a non-empty string");const m=fe.findKey(i,h);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||c]=Bm(l))}const s=(l,c)=>fe.forEach(l,(d,h)=>a(d,h,c));if(fe.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(fe.isString(e)&&(e=e.trim())&&!JU(e))s(QU(e),n);else if(fe.isObject(e)&&fe.isIterable(e)){let l={},c,d;for(const h of e){if(!fe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?fe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(l,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=td(e),e){const r=fe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ZU(i);if(fe.isFunction(n))return n.call(this,i,r);if(fe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=td(e),e){const r=fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Nb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(s){if(s=td(s),s){const l=fe.findKey(r,s);l&&(!n||Nb(r,r[l],l,n))&&(delete r[l],i=!0)}}return fe.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Nb(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return fe.forEach(this,(i,a)=>{const s=fe.findKey(r,a);if(s){n[s]=Bm(i),delete n[a];return}const l=e?e9(a):String(a).trim();l!==a&&delete n[a],n[l]=Bm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return fe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sC]=this[sC]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=td(s);r[l]||(t9(i,s),r[l]=!0)}return fe.isArray(e)?e.forEach(a):a(e),this}};Gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Gr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});fe.freezeMethods(Gr);function Ob(t,e){const n=this||yh,r=e||n,i=Gr.from(r.headers);let a=r.data;return fe.forEach(t,function(l){a=l.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function $P(t){return!!(t&&t.__CANCEL__)}function qu(t,e,n){lt.call(this,t??"canceled",lt.ERR_CANCELED,e,n),this.name="CanceledError"}fe.inherits(qu,lt,{__CANCEL__:!0});function qP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function n9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function r9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[a];s||(s=d),n[i]=c,r[i]=d;let m=a,y=0;for(;m!==i;)y+=n[m++],m=m%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-s<e)return;const b=h&&d-h;return b?Math.round(y*1e3/b):void 0}}function i9(t,e){let n=0,r=1e3/e,i,a;const s=(d,h=Date.now())=>{n=h,i=null,a&&(clearTimeout(a),a=null),t(...d)};return[(...d)=>{const h=Date.now(),m=h-n;m>=r?s(d,h):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const Zm=(t,e,n=3)=>{let r=0;const i=r9(50,250);return i9(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const m={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},oC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},lC=t=>(...e)=>fe.asap(()=>t(...e)),a9=dr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,dr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,s9=dr.hasStandardBrowserEnv?{write(t,e,n,r,i,a,s){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];fe.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),fe.isString(r)&&l.push(`path=${r}`),fe.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),fe.isString(s)&&l.push(`SameSite=${s}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function l9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YP(t,e,n){let r=!o9(e);return t&&(r||n==!1)?l9(t,e):e}const uC=t=>t instanceof Gr?{...t}:t;function Zo(t,e){e=e||{};const n={};function r(d,h,m,y){return fe.isPlainObject(d)&&fe.isPlainObject(h)?fe.merge.call({caseless:y},d,h):fe.isPlainObject(h)?fe.merge({},h):fe.isArray(h)?h.slice():h}function i(d,h,m,y){if(fe.isUndefined(h)){if(!fe.isUndefined(d))return r(void 0,d,m,y)}else return r(d,h,m,y)}function a(d,h){if(!fe.isUndefined(h))return r(void 0,h)}function s(d,h){if(fe.isUndefined(h)){if(!fe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,m){if(m in e)return r(d,h);if(m in t)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,m)=>i(uC(d),uC(h),m,!0)};return fe.forEach(Object.keys({...t,...e}),function(h){const m=c[h]||i,y=m(t[h],e[h],h);fe.isUndefined(y)&&m!==l||(n[h]=y)}),n}const VP=t=>{const e=Zo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=e;if(e.headers=s=Gr.from(s),e.url=UP(YP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),fe.isFormData(n)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(fe.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{d.includes(h.toLowerCase())&&s.set(h,m)})}}if(dr.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(e)),r||r!==!1&&a9(e.url))){const c=i&&a&&s9.read(a);c&&s.set(i,c)}return e},u9=typeof XMLHttpRequest<"u",c9=u9&&function(t){return new Promise(function(n,r){const i=VP(t);let a=i.data;const s=Gr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,m,y,b,x;function E(){b&&b(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function S(){if(!w)return;const C=Gr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:t,request:w};qP(function(R){n(R),E()},function(R){r(R),E()},k),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(r(new lt("Request aborted",lt.ECONNABORTED,t,w)),w=null)},w.onerror=function(P){const k=P&&P.message?P.message:"Network Error",D=new lt(k,lt.ERR_NETWORK,t,w);D.event=P||null,r(D),w=null},w.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||HP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new lt(P,k.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,w)),w=null},a===void 0&&s.setContentType(null),"setRequestHeader"in w&&fe.forEach(s.toJSON(),function(P,k){w.setRequestHeader(k,P)}),fe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),d&&([y,x]=Zm(d,!0),w.addEventListener("progress",y)),c&&w.upload&&([m,b]=Zm(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(h=C=>{w&&(r(!C||C.type?new qu(null,t,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const N=n9(i.url);if(N&&dr.protocols.indexOf(N)===-1){r(new lt("Unsupported protocol "+N+":",lt.ERR_BAD_REQUEST,t));return}w.send(a||null)})},d9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof lt?h:new qu(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,a(new lt(`timeout ${e} of ms exceeded`,lt.ETIMEDOUT))},e);const l=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>fe.asap(l),c}},h9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},f9=async function*(t,e){for await(const n of m9(t))yield*h9(n,e)},m9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},cC=(t,e,n,r)=>{const i=f9(t,e);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let m=h.byteLength;if(n){let y=a+=m;n(y)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},dC=64*1024,{isFunction:im}=fe,p9=(({Request:t,Response:e})=>({Request:t,Response:e}))(fe.global),{ReadableStream:hC,TextEncoder:fC}=fe.global,mC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},g9=t=>{t=fe.merge.call({skipUndefined:!0},p9,t);const{fetch:e,Request:n,Response:r}=t,i=e?im(e):typeof fetch=="function",a=im(n),s=im(r);if(!i)return!1;const l=i&&im(hC),c=i&&(typeof fC=="function"?(x=>E=>x.encode(E))(new fC):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=a&&l&&mC(()=>{let x=!1;const E=new n(dr.origin,{body:new hC,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!E}),h=s&&l&&mC(()=>fe.isReadableStream(new r("").body)),m={stream:h&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(E,w)=>{let S=E&&E[x];if(S)return S.call(E);throw new lt(`Response type '${x}' is not supported`,lt.ERR_NOT_SUPPORT,w)})});const y=async x=>{if(x==null)return 0;if(fe.isBlob(x))return x.size;if(fe.isSpecCompliantForm(x))return(await new n(dr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(x)||fe.isArrayBuffer(x))return x.byteLength;if(fe.isURLSearchParams(x)&&(x=x+""),fe.isString(x))return(await c(x)).byteLength},b=async(x,E)=>{const w=fe.toFiniteNumber(x.getContentLength());return w??y(E)};return async x=>{let{url:E,method:w,data:S,signal:N,cancelToken:C,timeout:P,onDownloadProgress:k,onUploadProgress:D,responseType:R,headers:H,withCredentials:G="same-origin",fetchOptions:X}=VP(x),B=e||fetch;R=R?(R+"").toLowerCase():"text";let F=d9([N,C&&C.toAbortSignal()],P),Z=null;const K=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let ne;try{if(D&&d&&w!=="get"&&w!=="head"&&(ne=await b(H,S))!==0){let z=new n(E,{method:"POST",body:S,duplex:"half"}),J;if(fe.isFormData(S)&&(J=z.headers.get("content-type"))&&H.setContentType(J),z.body){const[M,Ee]=oC(ne,Zm(lC(D)));S=cC(z.body,dC,M,Ee)}}fe.isString(G)||(G=G?"include":"omit");const L=a&&"credentials"in n.prototype,q={...X,signal:F,method:w.toUpperCase(),headers:H.normalize().toJSON(),body:S,duplex:"half",credentials:L?G:void 0};Z=a&&new n(E,q);let oe=await(a?B(Z,X):B(E,q));const ve=h&&(R==="stream"||R==="response");if(h&&(k||ve&&K)){const z={};["status","statusText","headers"].forEach(Y=>{z[Y]=oe[Y]});const J=fe.toFiniteNumber(oe.headers.get("content-length")),[M,Ee]=k&&oC(J,Zm(lC(k),!0))||[];oe=new r(cC(oe.body,dC,M,()=>{Ee&&Ee(),K&&K()}),z)}R=R||"text";let U=await m[fe.findKey(m,R)||"text"](oe,x);return!ve&&K&&K(),await new Promise((z,J)=>{qP(z,J,{data:U,headers:Gr.from(oe.headers),status:oe.status,statusText:oe.statusText,config:x,request:Z})})}catch(L){throw K&&K(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,x,Z),{cause:L.cause||L}):lt.from(L,L&&L.code,x,Z)}}},y9=new Map,GP=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let s=a.length,l=s,c,d,h=y9;for(;l--;)c=a[l],d=h.get(c),d===void 0&&h.set(c,d=l?new Map:g9(e)),h=d;return d};GP();const NE={http:IU,xhr:c9,fetch:{get:GP}};fe.forEach(NE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pC=t=>`- ${t}`,b9=t=>fe.isFunction(t)||t===null||t===!1;function x9(t,e){t=fe.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let s=0;s<n;s++){r=t[s];let l;if(i=r,!b9(r)&&(i=NE[(l=String(r)).toLowerCase()],i===void 0))throw new lt(`Unknown adapter '${l}'`);if(i&&(fe.isFunction(i)||(i=i.get(e))))break;a[l||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?s.length>1?`since :
`+s.map(pC).join(`
`):" "+pC(s[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const WP={getAdapter:x9,adapters:NE};function kb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qu(null,t)}function gC(t){return kb(t),t.headers=Gr.from(t.headers),t.data=Ob.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WP.getAdapter(t.adapter||yh.adapter,t)(t).then(function(r){return kb(t),r.data=Ob.call(t,t.transformResponse,r),r.headers=Gr.from(r.headers),r},function(r){return $P(r)||(kb(t),r&&r.response&&(r.response.data=Ob.call(t,t.transformResponse,r.response),r.response.headers=Gr.from(r.response.headers))),Promise.reject(r)})}const KP="1.13.1",og={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{og[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const yC={};og.transitional=function(e,n,r){function i(a,s){return"[Axios v"+KP+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(e===!1)throw new lt(i(s," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!yC[s]&&(yC[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,l):!0}};og.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function v9(t,e,n){if(typeof t!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const l=t[a],c=l===void 0||s(l,a,t);if(c!==!0)throw new lt("option "+a+" must be "+c,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+a,lt.ERR_BAD_OPTION)}}const Fm={assertOptions:v9,validators:og},la=Fm.validators;let Vo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new aC,response:new aC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Fm.assertOptions(r,{silentJSONParsing:la.transitional(la.boolean),forcedJSONParsing:la.transitional(la.boolean),clarifyTimeoutError:la.transitional(la.boolean)},!1),i!=null&&(fe.isFunction(i)?n.paramsSerializer={serialize:i}:Fm.assertOptions(i,{encode:la.function,serialize:la.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fm.assertOptions(n,{baseUrl:la.spelling("baseURL"),withXsrfToken:la.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&fe.merge(a.common,a[n.method]);a&&fe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),n.headers=Gr.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(c=c&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let h,m=0,y;if(!c){const x=[gC.bind(this),void 0];for(x.unshift(...l),x.push(...d),y=x.length,h=Promise.resolve(n);m<y;)h=h.then(x[m++],x[m++]);return h}y=l.length;let b=n;for(;m<y;){const x=l[m++],E=l[m++];try{b=x(b)}catch(w){E.call(this,w);break}}try{h=gC.call(this,b)}catch(x){return Promise.reject(x)}for(m=0,y=d.length;m<y;)h=h.then(d[m++],d[m++]);return h}getUri(e){e=Zo(this.defaults,e);const n=YP(e.baseURL,e.url,e.allowAbsoluteUrls);return UP(n,e.params,e.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(e){Vo.prototype[e]=function(n,r){return this.request(Zo(r||{},{method:e,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function n(r){return function(a,s,l){return this.request(Zo(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Vo.prototype[e]=n(),Vo.prototype[e+"Form"]=n(!0)});let E9=class XP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,l){r.reason||(r.reason=new qu(a,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new XP(function(i){e=i}),cancel:e}}};function w9(t){return function(n){return t.apply(null,n)}}function A9(t){return fe.isObject(t)&&t.isAxiosError===!0}const U1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(U1).forEach(([t,e])=>{U1[e]=t});function QP(t){const e=new Vo(t),n=NP(Vo.prototype.request,e);return fe.extend(n,Vo.prototype,e,{allOwnKeys:!0}),fe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QP(Zo(t,i))},n}const St=QP(yh);St.Axios=Vo;St.CanceledError=qu;St.CancelToken=E9;St.isCancel=$P;St.VERSION=KP;St.toFormData=sg;St.AxiosError=lt;St.Cancel=St.CanceledError;St.all=function(e){return Promise.all(e)};St.spread=w9;St.isAxiosError=A9;St.mergeConfig=Zo;St.AxiosHeaders=Gr;St.formToJSON=t=>zP(fe.isHTMLForm(t)?new FormData(t):t);St.getAdapter=WP.getAdapter;St.HttpStatusCode=U1;St.default=St;const{Axios:Eme,AxiosError:wme,CanceledError:Ame,isCancel:Sme,CancelToken:Tme,VERSION:_me,all:Cme,Cancel:Nme,isAxiosError:Ome,spread:kme,toFormData:Dme,AxiosHeaders:Pme,HttpStatusCode:Rme,formToJSON:Ime,getAdapter:Mme,mergeConfig:Lme}=St,S9=()=>{const t=window.location.hostname;if(console.log(":",t),t==="localhost"||t==="127.0.0.1")return console.log("localhost API"),"http://localhost:8007";const e=window.location.origin;return console.log("Nginx API:",e),e},Er=S9(),ZP=`${Er}/api`;console.log("API:",{API_BASE_URL:Er,API_URL:ZP});const JP=_.createContext(null),hs=()=>{const t=_.useContext(JP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},T9=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),[a,s]=_.useState(localStorage.getItem("access_token"));_.useEffect(()=>{(async()=>{console.log(" [AuthContext] ..."),console.log(" [AuthContext] URL:",window.location.href),console.log(" [AuthContext] WebView:",window.__wxjs_environment==="miniprogram");const x=new URLSearchParams(window.location.search).get("miniapp_token");if(x){console.log(" [AuthContext] token:",x.substring(0,20)+"...");const E=await d(x);E.success?console.log(" [AuthContext] ID:",E.userData?.id):console.error(" [AuthContext] :",E.error);const w=new URL(window.location);w.searchParams.delete("miniapp_token"),window.history.replaceState({},"",w)}else{console.log(" [AuthContext] token");const E=localStorage.getItem("access_token"),w=localStorage.getItem("user");E&&w?(s(E),n(JSON.parse(w)),St.defaults.headers.common.Authorization=`Bearer ${E}`,console.log(" [AuthContext] ID:",JSON.parse(w)?.id)):console.log(" [AuthContext] ")}console.log(" [AuthContext] loading=false"),i(!1)})()},[]);const l=async(y,b)=>{try{const x=await St.post(`${Er}/api/auth/login/`,{username:y,password:b}),{user:E,tokens:w}=x.data;return localStorage.setItem("access_token",w.access),localStorage.setItem("refresh_token",w.refresh),localStorage.setItem("user",JSON.stringify(E)),s(w.access),n(E),St.defaults.headers.common.Authorization=`Bearer ${w.access}`,{success:!0}}catch(x){return{success:!1,error:x.response?.data?.error||""}}},c=async(y,b,x,E)=>{try{const w=await St.post(`${Er}/api/auth/register/`,{username:y,email:b,password:x,full_name:E}),{user:S,tokens:N}=w.data;return localStorage.setItem("access_token",N.access),localStorage.setItem("refresh_token",N.refresh),localStorage.setItem("user",JSON.stringify(S)),s(N.access),n(S),St.defaults.headers.common.Authorization=`Bearer ${N.access}`,{success:!0}}catch(w){return{success:!1,error:w.response?.data?.error||""}}},d=async y=>{try{console.log(" [loginWithToken] token..."),St.defaults.headers.common.Authorization=`Bearer ${y}`;const x=(await St.get(`${Er}/api/auth/profile/`)).data;return console.log(" [loginWithToken] :",x),localStorage.setItem("access_token",y),localStorage.setItem("user",JSON.stringify(x)),s(y),n(x),console.log(" [loginWithToken] "),{success:!0,userData:x}}catch(b){return console.error(" [loginWithToken] Token:",b),{success:!1,error:b.response?.data?.error||"Token"}}},m={user:e,token:a,loading:r,login:l,loginWithToken:d,register:c,logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),delete St.defaults.headers.common.Authorization,s(null),n(null)},isAuthenticated:!!e};return p.jsx(JP.Provider,{value:m,children:t})},et=t=>typeof t=="string",nd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},bC=t=>t==null?"":""+t,_9=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},C9=/###/g,xC=t=>t&&t.indexOf("###")>-1?t.replace(C9,"."):t,vC=t=>!t||et(t),Nd=(t,e,n)=>{const r=et(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(vC(t))return{};const a=xC(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return vC(t)?{}:{obj:t,k:xC(r[i])}},EC=(t,e,n)=>{const{obj:r,k:i}=Nd(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=Nd(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=Nd(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},N9=(t,e,n,r)=>{const{obj:i,k:a}=Nd(t,e,Object);i[a]=i[a]||[],i[a].push(n)},Jm=(t,e)=>{const{obj:n,k:r}=Nd(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},O9=(t,e,n)=>{const r=Jm(t,n);return r!==void 0?r:Jm(e,n)},eR=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?et(t[r])||t[r]instanceof String||et(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):eR(t[r],e[r],n):t[r]=e[r]);return t},tu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var k9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const D9=t=>et(t)?t.replace(/[&<>"'\/]/g,e=>k9[e]):t;class P9{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const R9=[" ",",","?","!",";"],I9=new P9(20),M9=(t,e,n)=>{e=e||"",n=n||"";const r=R9.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=I9.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},H1=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<r.length;++c)if(c!==a&&(l+=n),l+=r[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;a+=c-a+1;break}i=s}return i},Hd=t=>t?.replace("_","-"),L9={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class ep{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||L9,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(et(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ep(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ep(this.logger,e)}}var ya=new ep;let lg=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class wC extends lg{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):et(r)&&a?l.push(...r.split(a)):l.push(r)));const c=Jm(this.data,l);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),c||!s||!et(r)?c:H1(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),EC(this.data,l,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(et(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=Jm(this.data,l)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?eR(c,r,a):c={...c,...r},EC(this.data,l,c),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var tR={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}};const nR=Symbol("i18next/PATH_KEY");function j9(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>(n?.revoke?.(),i===nR?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function z1(t,e){const{[nR]:n}=t(j9());return n.join(e?.keySeparator??".")}const AC={},Db=t=>!et(t)&&typeof t!="boolean"&&typeof t!="number";class tp extends lg{constructor(e,n={}){super(),_9(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ya.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if(i?.res===void 0)return!1;const a=Db(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!M9(e,r,i);if(s&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:et(a)?[a]:a};const d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(i)}return{key:e,namespaces:et(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=z1(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),d=c[c.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return y?a?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${h}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;const b=this.resolve(e,i);let x=b?.res;const E=b?.usedKey||l,w=b?.exactUsedKey||l,S=["[object Number]","[object Function]","[object RegExp]"],N=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,P=i.count!==void 0&&!et(i.count),k=tp.hasDefaultValue(i),D=P?this.pluralResolver.getSuffix(m,i.count,i):"",R=i.ordinal&&P?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",H=P&&!i.ordinal&&i.count===0,G=H&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${D}`]||i[`defaultValue${R}`]||i.defaultValue;let X=x;C&&!x&&k&&(X=G);const B=Db(X),F=Object.prototype.toString.apply(X);if(C&&X&&B&&S.indexOf(F)<0&&!(et(N)&&Array.isArray(X))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,X,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(b.res=Z,b.usedParams=this.getUsedParamsDetails(i),b):Z}if(s){const Z=Array.isArray(X),K=Z?[]:{},ne=Z?w:E;for(const L in X)if(Object.prototype.hasOwnProperty.call(X,L)){const q=`${ne}${s}${L}`;k&&!x?K[L]=this.translate(q,{...i,defaultValue:Db(G)?G[L]:void 0,joinArrays:!1,ns:c}):K[L]=this.translate(q,{...i,joinArrays:!1,ns:c}),K[L]===q&&(K[L]=X[L])}x=K}}else if(C&&et(N)&&Array.isArray(x))x=x.join(N),x&&(x=this.extendTranslation(x,e,i,r));else{let Z=!1,K=!1;!this.isValidLookup(x)&&k&&(Z=!0,x=G),this.isValidLookup(x)||(K=!0,x=l);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:x,q=k&&G!==x&&this.options.updateMissing;if(K||Z||q){if(this.logger.log(q?"updateKey":"missingKey",m,d,l,q?G:x),s){const z=this.resolve(l,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const ve=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ve&&ve[0])for(let z=0;z<ve.length;z++)oe.push(ve[z]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(i.lng||this.language):oe.push(i.lng||this.language);const U=(z,J,M)=>{const Ee=k&&M!==x?M:L;this.options.missingKeyHandler?this.options.missingKeyHandler(z,d,J,Ee,q,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,d,J,Ee,q,i),this.emit("missingKey",z,d,J,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?oe.forEach(z=>{const J=this.pluralResolver.getSuffixes(z,i);H&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(M=>{U([z],l+M,i[`defaultValue${M}`]||G)})}):U(oe,l,G))}x=this.extendTranslation(x,e,i,b,r),K&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${d}${h}${l}`),(K||Z)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,Z?x:void 0,i))}return a?(b.res=x,b.usedParams=this.getUsedParamsDetails(i),b):x}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=et(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let h=r.replace&&!et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const m=e.match(this.interpolator.nestingRegexp),y=m&&m.length;d<y&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>a?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=et(s)?[s]:s;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=tR.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,l;return et(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,n),h=d.key;i=h;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const y=n.count!==void 0&&!et(n.count),b=y&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(et(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(r)||(l=w,!AC[`${E[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(AC[`${E[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${E.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(S=>{if(this.isValidLookup(r))return;s=S;const N=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,h,S,w,n);else{let P;y&&(P=this.pluralResolver.getSuffix(S,n.count,n));const k=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&P.indexOf(D)===0&&N.push(h+P.replace(D,this.options.pluralSeparator)),N.push(h+P),b&&N.push(h+k)),x){const R=`${h}${this.options.contextSeparator||"_"}${n.context}`;N.push(R),y&&(n.ordinal&&P.indexOf(D)===0&&N.push(R+P.replace(D,this.options.pluralSeparator)),N.push(R+P),b&&N.push(R+k))}}let C;for(;C=N.pop();)this.isValidLookup(r)||(a=C,r=this.getResource(S,w,C,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!et(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class SC{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ya.create("languageUtils")}getScriptPartFromCode(e){if(e=Hd(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Hd(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(et(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),et(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return et(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):et(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const TC={zero:0,one:1,two:2,few:3,many:4,other:5},_C={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class B9{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ya.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Hd(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_C;if(!e.match(/-|_/))return _C;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>TC[i]-TC[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const CC=(t,e,n,r=".",i=!0)=>{let a=O9(t,e,n);return!a&&i&&et(n)&&(a=H1(t,n,r),a===void 0&&(a=H1(e,n,r))),a},Pb=t=>t.replace(/\$/g,"$$$$");class F9{constructor(e={}){this.logger=ya.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:E,nestingOptionsSeparator:w,maxReplaces:S,alwaysFormat:N}=e.interpolation;this.escape=n!==void 0?n:D9,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?tu(a):s||"{{",this.suffix=l?tu(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?tu(y):b||tu("$t("),this.nestingSuffix=x?tu(x):E||tu(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=S||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const S=CC(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...i,...n,interpolationkey:b}):S}const x=b.split(this.formatSeparator),E=x.shift().trim(),w=x.join(this.formatSeparator).trim();return this.format(CC(n,c,E,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:E})};this.resetRegExp();const h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Pb(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Pb(this.escape(b)):Pb(b)}].forEach(b=>{for(l=0;a=b.regex.exec(e);){const x=a[1].trim();if(s=d(x),s===void 0)if(typeof h=="function"){const w=h(e,a,i);s=et(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(m){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!et(s)&&!this.useRawValueToEscape&&(s=bC(s));const E=b.safeValue(s);if(e=e.replace(a[0],E),m?(b.regex.lastIndex+=s.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const l=(c,d)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const m=c.split(new RegExp(`${h}[ ]*{`));let y=`{${m[1]}`;c=m[0],y=this.interpolate(y,s);const b=y.match(/'/g),x=y.match(/"/g);((b?.length??0)%2===0&&!x||x.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),d&&(s={...d,...s})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,E),`${c}${h}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...r},s=s.replace&&!et(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const d=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(d!==-1&&(c=i[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,d)),a=n(l.call(this,i[1].trim(),s),s),a&&i[0]===e&&!et(a))return a;et(a)||(a=bC(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const U9=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();n[h]||(n[h]=d),d==="false"&&(n[h]=!1),d==="true"&&(n[h]=!0),isNaN(d)||(n[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},NC=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let l=e[s];return l||(l=t(Hd(r),i),e[s]=l),l(n)}},H9=t=>(e,n,r)=>t(Hd(n),r)(e);class z9{constructor(e={}){this.logger=ya.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?NC:H9;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=NC(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:d,formatOptions:h}=U9(c);if(this.formats[d]){let m=l;try{const y=i?.formatParams?.[i.interpolationkey]||{},b=y.locale||y.lng||i.locale||i.lng||r;m=this.formats[d](l,b,{...h,...i,...y})}catch(y){this.logger.warn(y)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const $9=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class q9 extends lg{constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ya.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},l={},c={};return e.forEach(d=>{let h=!0;n.forEach(m=>{const y=`${d}|${m}`;!r.reload&&this.store.hasResourceBundle(d,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,h=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),c[m]===void 0&&(c[m]=!0)))}),h||(l[d]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{N9(c.loaded,[a],s),$9(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const h=c.loaded[d];h.length&&h.forEach(m=>{l[d][m]===void 0&&(l[d][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(d,h)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,n);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();et(e)&&(e=this.languageUtils.toResolveHierarchy(e)),et(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,n,r,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...s,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(e,n,r,i,c):h=d(e,n,r,i),h&&typeof h.then=="function"?h.then(m=>l(null,m)).catch(l):l(null,h)}catch(h){l(h)}else d(e,n,r,i,l,c)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const OC=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),et(t[1])&&(e.defaultValue=t[1]),et(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),kC=t=>(et(t.ns)&&(t.ns=[t.ns]),et(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),et(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),am=()=>{},Y9=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class zd extends lg{constructor(e={},n){if(super(),this.options=kC(e),this.services={},this.logger=ya,this.modules={external:[]},Y9(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(et(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=OC();this.options={...r,...this.options,...kC(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ya.init(i(this.modules.logger),this.options):ya.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=z9;const h=new SC(this.options);this.store=new wC(this.options.resources,this.options);const m=this.services;m.logger=ya,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new B9(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(d),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new F9(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new q9(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new tp(this.services,this.options),this.translator.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=am),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=nd(),c=()=>{const d=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(h,m)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,n=am){let r=n;const i=et(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const i=nd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=am),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=nd();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=et(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(et(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{a(h,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(m=>(typeof m=="function"&&(m=z1(m,{...this.options,...s})),`${c.keyPrefix}${d}${m}`)):(typeof a=="function"&&(a=z1(a,{...this.options,...s})),h=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a),this.t(h,c)};return et(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=nd();return this.options.ns?(et(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=nd();et(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new SC(OC());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new zd(e,n)}cloneInstance(e={},n=am){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new zd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((h,m)=>(h[m]={...c[d][m]},h),c[d]),c),{});a.store=new wC(l,i),a.services.resourceStore=a.store}return a.translator=new tp(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const hr=zd.createInstance();hr.createInstance=zd.createInstance;hr.createInstance;hr.dir;hr.init;hr.loadResources;hr.reloadResources;hr.use;hr.changeLanguage;hr.getFixedT;hr.t;hr.exists;hr.setDefaultNamespace;hr.hasLoadedNamespace;hr.loadNamespaces;hr.loadLanguages;const V9=(t,e,n,r)=>{const i=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Jo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},DC={},rR=(t,e,n,r)=>{Jo(n)&&DC[n]||(Jo(n)&&(DC[n]=new Date),V9(t,e,n,r))},iR=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},$1=(t,e,n)=>{t.loadNamespaces(e,iR(t,n))},PC=(t,e,n,r)=>{if(Jo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return $1(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,iR(t,r))},G9=(t,e,n={})=>!e.languages||!e.languages.length?(rR(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Jo=t=>typeof t=="string",W9=t=>typeof t=="object"&&t!==null,K9=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,X9={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Q9=t=>X9[t],Z9=t=>t.replace(K9,Q9);let q1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Z9};const J9=(t={})=>{q1={...q1,...t}},e7=()=>q1;let aR;const t7=t=>{aR=t},n7=()=>aR,r7={type:"3rdParty",init(t){J9(t.options.react),t7(t)}},i7=_.createContext();class a7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Rb={exports:{}},Ib={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function s7(){if(RC)return Ib;RC=1;var t=Fu();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(m,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),E=x[0].inst,w=x[1];return a(function(){E.value=b,E.getSnapshot=y,c(E)&&w({inst:E})},[m,b,y]),i(function(){return c(E)&&w({inst:E}),m(function(){c(E)&&w({inst:E})})},[m]),s(b),b}function c(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function d(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ib.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ib}var IC;function sR(){return IC||(IC=1,Rb.exports=s7()),Rb.exports}var o7=sR();const l7=(t,e)=>Jo(e)?e:W9(e)&&Jo(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,u7={t:l7,ready:!1},c7=()=>()=>{},d7=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:i}=_.useContext(i7)||{},a=n||r||n7();a&&!a.reportNamespaces&&(a.reportNamespaces=new a7),a||rR(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=_.useMemo(()=>({...e7(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:c}=s,d=_.useMemo(()=>{const P=i||a?.options?.defaultNS;return Jo(P)?[P]:P||["translation"]},[t,i,a]);a?.reportNamespaces?.addUsedNamespaces?.(d);const h=_.useRef(0),m=_.useCallback(P=>{if(!a)return c7;const{bindI18n:k,bindI18nStore:D}=s,R=()=>{h.current+=1,P()};return k&&a.on(k,R),D&&a.store.on(D,R),()=>{k&&k.split(" ").forEach(H=>a.off(H,R)),D&&D.split(" ").forEach(H=>a.store.off(H,R))}},[a,s]),y=_.useRef(),b=_.useCallback(()=>{if(!a)return u7;const P=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(X=>G9(X,a,s)),k=e.lng||a.language,D=h.current,R=y.current;if(R&&R.ready===P&&R.lng===k&&R.keyPrefix===c&&R.revision===D)return R;const G={t:a.getFixedT(k,s.nsMode==="fallback"?d:d[0],c),ready:P,lng:k,keyPrefix:c,revision:D};return y.current=G,G},[a,d,c,s,e.lng]),[x,E]=_.useState(0),{t:w,ready:S}=o7.useSyncExternalStore(m,b,b);_.useEffect(()=>{if(a&&!S&&!l){const P=()=>E(k=>k+1);e.lng?PC(a,e.lng,d,P):$1(a,d,P)}},[a,e.lng,d,S,l,x]);const N=a||{},C=_.useMemo(()=>{const P=[w,N,S];return P.t=w,P.i18n=N,P.ready=S,P},[w,N,S]);if(a&&l&&!S)throw new Promise(P=>{const k=()=>P();e.lng?PC(a,e.lng,d,k):$1(a,d,k)});return C};function ul(){const t=ll();return n=>{if(n.startsWith("/")){t(n);return}const i={home:"/",dashboard:"/dashboard",policies:"/policies","plan-analyzer":"/plan-analyzer","plan-analyzer-2":"/plan-analyzer-2","plan-management":"/plan-management"}[n]||`/${n}`;t(i)}}function h7({onSwitchToRegister:t,onClose:e}){const[n,r]=_.useState({username:"",password:""}),[i,a]=_.useState(""),[s,l]=_.useState(!1),{login:c}=hs(),d=m=>{r({...n,[m.target.name]:m.target.value}),a("")},h=async m=>{m.preventDefault(),l(!0),a("");const y=await c(n.username,n.password);y.success?e():a(y.error),l(!1)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("h2",{className:"text-3xl font-bold text-navy-800 mb-2",children:""}),p.jsx("p",{className:"text-gray-700 mb-6",children:""}),i&&p.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:i}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"text",name:"username",value:n.username,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"password",name:"password",value:n.password,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:s?"...":""})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-700",children:[""," ",p.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-semibold",children:""})]})})]})})}function f7({onSwitchToLogin:t,onClose:e}){const[n,r]=_.useState({username:"",email:"",full_name:"",password:"",confirmPassword:""}),[i,a]=_.useState(""),[s,l]=_.useState(!1),{register:c}=hs(),d=m=>{r({...n,[m.target.name]:m.target.value}),a("")},h=async m=>{if(m.preventDefault(),l(!0),a(""),n.password!==n.confirmPassword){a(""),l(!1);return}if(n.password.length<6){a("6"),l(!1);return}const y=await c(n.username,n.email,n.password,n.full_name);y.success?e():a(y.error),l(!1)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative max-h-screen overflow-y-auto",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),p.jsx("p",{className:"text-gray-600 mb-6",children:""}),i&&p.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:i}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),p.jsx("input",{type:"text",name:"username",value:n.username,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),p.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"text",name:"full_name",value:n.full_name,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),p.jsx("input",{type:"password",name:"password",value:n.password,onChange:d,required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"6"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),p.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-primary-700 hover:to-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:s?"...":""})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-gray-700",children:[""," ",p.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-semibold",children:""})]})})]})})}const m7={"zh-CN":{translation:{"header.title":"AI","header.subtitle":"AI",login:"",register:"",welcome:"",dashboard:"","home.badge":"AI","home.hero.title":"","home.hero.titleHighlight":"","home.hero.description":"AI","feature.planAssistant.title":"","feature.planAssistant.subtitle":"AI","feature.planAssistant.description":"AI","feature.planAssistant.button":"","feature.planAssistant.feat1":"","feature.planAssistant.feat2":"","feature.planAssistant.feat3":"","feature.planAssistant.feat4":"","feature.planAssistant.feat5":"","feature.planAssistant.feat6":"AI","feature.aiWriting.title":"","feature.aiWriting.subtitle":"AI","feature.aiWriting.description":"AI","feature.aiWriting.button":"","feature.aiWriting.feat1":"AI","feature.aiWriting.feat2":"","feature.aiWriting.feat3":"","feature.aiWriting.feat4":"SEO","feature.aiWriting.feat5":"","feature.aiWriting.feat6":"","highlight.title":"","highlight.subtitle":"","highlight.speed.title":"","highlight.speed.desc":"AI","highlight.analysis.title":"","highlight.analysis.desc":"95%","highlight.ai.title":"AI","highlight.ai.desc":"AI","stats.users":"","stats.docs":"","stats.accuracy":"","stats.service":"","cta.title":"","cta.subtitle":"AI","cta.start":"","cta.register":"","cta.login":"","footer.title":"","footer.desc":"AI","footer.products":"","footer.planTool":"","footer.writingTool":"","footer.dataAnalysis":"","footer.support":"","footer.helpCenter":"","footer.tutorials":"","footer.contact":"","footer.about":"","footer.aboutUs":"","footer.privacy":"","footer.terms":"","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI","search.placeholder":"...","category.all":"","category.analysis":"","category.management":"","category.marketing":"","category.calculation":"","category.training":"","category.finance":"","category.service":"","category.storage":"","category.compliance":"","category.underwriting":"","category.claims":"","tools.discover":"","tools.subtitle":"","tools.use":"","tools.noResults":"","tools.tryOther":"","tool.underwriting":"","tool.underwriting.desc":"AI","tool.calculator":"","tool.calculator.desc":"","tool.crm":"CRM","tool.crm.desc":"","tool.policy":"","tool.policy.desc":"","tool.analytics":"","tool.analytics.desc":"","tool.claims":"","tool.claims.desc":"","tool.compliance":"","tool.compliance.desc":"","tool.renewal":"","tool.renewal.desc":"","tool.aiwriting":"","tool.aiwriting.desc":"AI","tool.training":"","tool.training.desc":"","tool.commission":"","tool.commission.desc":"","tool.customer":"","tool.customer.desc":"AI","tool.storage":"","tool.storage.desc":"","tool.plananalyzer":"","tool.plananalyzer.desc":"AI","tool.planmanage":"","tool.planmanage.desc":"","stats.tools":"","stats.users":"","stats.efficiency":"","stats.satisfaction":"","footer.about":"","footer.about.desc":"","footer.products":"","footer.underwriting":"","footer.claims":"","footer.analytics":"","footer.customer":"","footer.help":"","footer.docs":"","footer.videos":"","footer.faq":"","footer.contact":"","footer.contactInfo":"","footer.phone":"852 62645180","footer.email":"client@xingke888.com","footer.hours":" 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}},"zh-TW":{translation:{"header.title":"AI","header.subtitle":"AI",login:"",register:"",welcome:"",dashboard:"","home.badge":"AI","home.hero.title":"","home.hero.titleHighlight":"","home.hero.description":"AI","feature.planAssistant.title":"","feature.planAssistant.subtitle":"AI","feature.planAssistant.description":"AI","feature.planAssistant.button":"","feature.planAssistant.feat1":"","feature.planAssistant.feat2":"","feature.planAssistant.feat3":"","feature.planAssistant.feat4":"","feature.planAssistant.feat5":"","feature.planAssistant.feat6":"AI","feature.aiWriting.title":"","feature.aiWriting.subtitle":"AI","feature.aiWriting.description":"AI","feature.aiWriting.button":"","feature.aiWriting.feat1":"AI","feature.aiWriting.feat2":"","feature.aiWriting.feat3":"","feature.aiWriting.feat4":"SEO","feature.aiWriting.feat5":"","feature.aiWriting.feat6":"","highlight.title":"","highlight.subtitle":"","highlight.speed.title":"","highlight.speed.desc":"AI","highlight.analysis.title":"","highlight.analysis.desc":"95%","highlight.ai.title":"AI","highlight.ai.desc":"AI","stats.users":"","stats.docs":"","stats.accuracy":"","stats.service":"","cta.title":"","cta.subtitle":"AI","cta.start":"","cta.register":"","cta.login":"","footer.title":"","footer.desc":"AI","footer.products":"","footer.planTool":"","footer.writingTool":"","footer.dataAnalysis":"","footer.support":"","footer.helpCenter":"","footer.tutorials":"","footer.contact":"","footer.about":"","footer.aboutUs":"","footer.privacy":"","footer.terms":"","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI","search.placeholder":"...","category.all":"","category.analysis":"","category.management":"","category.marketing":"","category.calculation":"","category.training":"","category.finance":"","category.service":"","category.storage":"","category.compliance":"","category.underwriting":"","category.claims":"","tools.discover":"","tools.subtitle":"","tools.use":"","tools.noResults":"","tools.tryOther":"","tool.underwriting":"","tool.underwriting.desc":"AI","tool.calculator":"","tool.calculator.desc":"","tool.crm":"CRM","tool.crm.desc":"","tool.policy":"","tool.policy.desc":"","tool.analytics":"","tool.analytics.desc":"","tool.claims":"","tool.claims.desc":"","tool.compliance":"","tool.compliance.desc":"","tool.renewal":"","tool.renewal.desc":"","tool.aiwriting":"","tool.aiwriting.desc":"AI","tool.training":"","tool.training.desc":"","tool.commission":"","tool.commission.desc":"","tool.customer":"","tool.customer.desc":"AI","tool.storage":"","tool.storage.desc":"","tool.plananalyzer":"","tool.plananalyzer.desc":"AI","tool.planmanage":"","tool.planmanage.desc":"","stats.tools":"","stats.users":"","stats.efficiency":"","stats.satisfaction":"","footer.about":"","footer.about.desc":"","footer.products":"","footer.underwriting":"","footer.claims":"","footer.analytics":"","footer.customer":"","footer.help":"","footer.docs":"","footer.videos":"","footer.faq":"","footer.contact":"","footer.contactInfo":"","footer.phone":"852 62645180","footer.email":"client@xingke888.com","footer.hours":" 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}},en:{translation:{"header.title":"AI-Powered Toolkit for Hong Kong Insurance Broker","header.subtitle":"AI-Driven Solutions for the Insurance Industry",login:"Login",register:"Register",welcome:"Welcome, ",dashboard:"Dashboard","home.badge":"AI-Driven Insurance Tool Platform","home.hero.title":"Make Insurance Business","home.hero.titleHighlight":"Smarter and More Efficient","home.hero.description":"An AI-powered tool platform built for insurance professionals, providing core features such as plan analysis and content creation to help you improve efficiency and focus on customer service.","feature.planAssistant.title":"Insurance Plan Assistant","feature.planAssistant.subtitle":"AI-Powered Insurance Plan Analysis Expert","feature.planAssistant.description":"Upload insurance plans, AI automatically recognizes and extracts key information, supports multi-plan comparison analysis, provides multi-round conversational Q&A, helps you quickly understand complex insurance terms and benefit calculations, and provides optimal recommendations for clients.","feature.planAssistant.button":"Get Started","feature.planAssistant.feat1":"High-precision intelligent recognition of plan content","feature.planAssistant.feat2":"Intelligent extraction of insured information and premium data","feature.planAssistant.feat3":"Policy year benefit statistics and analysis","feature.planAssistant.feat4":"Multi-plan comparison and analysis reports","feature.planAssistant.feat5":"Automatic calculation and comparison of return rates","feature.planAssistant.feat6":"AI assistant to query and explain plan terms","feature.aiWriting.title":"Insurance Content AI Writing & Publishing Tool","feature.aiWriting.subtitle":"AI-Powered Content Creation and Multi-Platform Publishing","feature.aiWriting.description":"One-stop insurance marketing content creation platform, AI intelligently generates professional content, supports one-click publishing to multiple platforms, enhancing your marketing efficiency.","feature.aiWriting.button":"Try Now","feature.aiWriting.feat1":"AI-powered insurance content generation","feature.aiWriting.feat2":"Multiple style template options","feature.aiWriting.feat3":"One-click publishing to multiple platforms","feature.aiWriting.feat4":"SEO optimization suggestions","feature.aiWriting.feat5":"Content scheduling management","feature.aiWriting.feat6":"Data analysis and insights","highlight.title":"Why Choose Us?","highlight.subtitle":"Professional, Efficient, Intelligent Insurance Tool Platform","highlight.speed.title":"Lightning Fast","highlight.speed.desc":"AI streaming output, real-time feedback, no waiting, boost productivity","highlight.analysis.title":"Smart Analysis","highlight.analysis.desc":"Automatic document recognition, extract key information with up to 95% accuracy","highlight.ai.title":"AI Empowered","highlight.ai.desc":"Using latest AI technology, continuous optimization and upgrades, always staying ahead","stats.users":"Active Users","stats.docs":"Documents Analyzed","stats.accuracy":"Accuracy","stats.service":"Online Service","cta.title":"Ready to Get Started?","cta.subtitle":"Register now for free to experience our AI-driven insurance tool platform","cta.start":"Get Started","cta.register":"Free Sign Up","cta.login":"Login Now","footer.title":"Insurance Tool Platform","footer.desc":"AI-Driven Professional Insurance Tools","footer.products":"Products","footer.planTool":"Plan Assistant","footer.writingTool":"Content Tools","footer.dataAnalysis":"Data Analytics","footer.support":"Support","footer.helpCenter":"Help Center","footer.tutorials":"Tutorials","footer.contact":"Contact Us","footer.about":"About","footer.aboutUs":"About Us","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved.","hero.title":"AI-Powered Tools to Significantly Boost Productivity","search.placeholder":"Search for tools or features...","category.all":"All","category.analysis":"Analytics","category.management":"Management","category.marketing":"Marketing","category.calculation":"Calculation","category.training":"Training","category.finance":"Finance","category.service":"Service","category.storage":"Storage","category.compliance":"Compliance","category.underwriting":"Underwriting","category.claims":"Claims","tools.discover":"Discover Tools","tools.subtitle":"Choose professional tools that fit your business needs","tools.use":"Use Now","tools.noResults":"No matching tools found","tools.tryOther":"Try searching with different keywords","tool.underwriting":"Smart Underwriting Assistant","tool.underwriting.desc":"AI-based intelligent underwriting system for quick risk assessment and improved efficiency","tool.calculator":"Premium Calculator","tool.calculator.desc":"Accurate premium calculation tool supporting multiple insurance products and rate models","tool.crm":"Customer Relationship Management CRM","tool.crm.desc":"Comprehensive customer relationship management to enhance service quality","tool.policy":"Policy Management","tool.policy.desc":"Efficient full lifecycle policy management system","tool.analytics":"Data Analytics Dashboard","tool.analytics.desc":"Visual data analysis for business trends and opportunities insights","tool.claims":"Claims Review System","tool.claims.desc":"Intelligent claims review for improved processing efficiency and accuracy","tool.compliance":"Compliance Checker","tool.compliance.desc":"Automated compliance checks to ensure regulatory adherence","tool.renewal":"Renewal Reminder System","tool.renewal.desc":"Smart renewal reminders to improve retention rates and customer satisfaction","tool.aiwriting":"Insurance Content AI Writing & Publishing System","tool.aiwriting.desc":"AI-driven insurance marketing content creation with one-click multi-platform publishing","tool.training":"Training & Learning Platform","tool.training.desc":"Professional insurance knowledge training and examination system","tool.commission":"Commission Calculation System","tool.commission.desc":"Precise commission calculation and settlement management system","tool.customer":"Online Customer Service System","tool.customer.desc":"AI-assisted intelligent customer service system for enhanced customer experience with accurate responses","tool.storage":"Document Cloud Storage","tool.storage.desc":"Secure cloud storage and management system for insurance documents","tool.plananalyzer":"Plan Analysis Tool","tool.plananalyzer.desc":"AI-powered intelligent parsing of policy documents with automatic key information extraction and analysis reports","tool.planmanage":"Plan Management","tool.planmanage.desc":"View and manage all saved insurance plan documents","stats.tools":"Professional Tools","stats.users":"Active Users","stats.efficiency":"Efficiency Boost","stats.satisfaction":"Satisfaction","footer.about":"About Us","footer.about.desc":"Dedicated to providing professional digital tools and solutions for insurance professionals","footer.products":"Products & Services","footer.underwriting":"Underwriting Tools","footer.claims":"Claims System","footer.analytics":"Data Analytics","footer.customer":"Customer Management","footer.help":"Help Center","footer.docs":"Documentation","footer.videos":"Video Tutorials","footer.faq":"FAQ","footer.contact":"Contact Us","footer.contactInfo":"Contact Information","footer.phone":"Phone: 852 62645180","footer.email":"Email: client@xingke888.com","footer.hours":"Hours: Monday - Friday 9:00-18:00","footer.copyright":" 2025 HONGKONG MACRODATA TECHNOLOGY LIMITED. All rights reserved."}}};hr.use(r7).init({resources:m7,lng:"zh-TW",fallbackLng:"zh-TW",interpolation:{escapeValue:!1}});/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),MC=t=>{const e=g7(t);return e.charAt(0).toUpperCase()+e.slice(1)},oR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),y7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>_.createElement("svg",{ref:c,...b7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oR("lucide",i),...!a&&!y7(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(t,e)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(x7,{ref:a,iconNode:e,className:oR(`lucide-${p7(MC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=MC(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$d=Lt("arrow-left",v7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],w7=Lt("arrow-right",E7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],S7=Lt("award",A7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lo=Lt("chevron-down",T7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jo=Lt("chevron-up",_7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Od=Lt("circle-alert",C7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qd=Lt("circle-check-big",N7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k7=Lt("circle-check",O7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ja=Lt("clock",D7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],R7=Lt("dollar-sign",P7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LC=Lt("eye",I7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$r=Lt("file-text",M7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],j7=Lt("git-compare",L7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],lR=Lt("list",B7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mt=Lt("loader-circle",F7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Um=Lt("message-square",U7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],z7=Lt("pen-tool",H7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Y1=Lt("refresh-cw",$7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Y7=Lt("save",q7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],G7=Lt("search",V7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],K7=Lt("send",W7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sm=Lt("sparkles",X7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],jC=Lt("table",Q7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],J7=Lt("target",Z7);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OE=Lt("trash-2",eH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nH=Lt("trending-up",tH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],np=Lt("upload",rH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aH=Lt("user",iH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ou=Lt("x",sH);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lH=Lt("zap",oH);function BC(){const t=ul(),{t:e,i18n:n}=d7(),[r,i]=_.useState(!1),[a,s]=_.useState(!1),{user:l,isAuthenticated:c}=hs(),d=m=>{n.changeLanguage(m)},h=[{id:"plan-assistant",title:e("feature.planAssistant.title"),subtitle:e("feature.planAssistant.subtitle"),description:e("feature.planAssistant.description"),icon:Um,color:"from-blue-600 to-cyan-600",features:[e("feature.planAssistant.feat1"),e("feature.planAssistant.feat2"),e("feature.planAssistant.feat3"),e("feature.planAssistant.feat4"),e("feature.planAssistant.feat5"),e("feature.planAssistant.feat6")],action:()=>{c?t("plan-management"):i(!0)},buttonText:e("feature.planAssistant.button"),image:"/plan-assistant.svg"},{id:"ai-writing",title:e("feature.aiWriting.title"),subtitle:e("feature.aiWriting.subtitle"),description:e("feature.aiWriting.description"),icon:z7,color:"from-purple-600 to-pink-600",features:[e("feature.aiWriting.feat1"),e("feature.aiWriting.feat2"),e("feature.aiWriting.feat3"),e("feature.aiWriting.feat4"),e("feature.aiWriting.feat5"),e("feature.aiWriting.feat6")],action:()=>window.open("https://ai.hongkong-insurance.com/","_blank"),buttonText:e("feature.aiWriting.button"),image:"/ai-writing.svg"}];return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[p.jsx("header",{className:"bg-gradient-to-r from-navy-700 to-primary-700 shadow-lg sticky top-0 z-50 border-b border-primary-800",children:p.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-3 sm:py-4",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 sm:gap-0",children:[p.jsxs("div",{className:"flex items-center justify-end sm:order-2 gap-1 sm:gap-2 md:gap-3",children:[p.jsxs("select",{value:n.language,onChange:m=>d(m.target.value),className:"px-2 py-1 sm:px-3 sm:py-2 bg-white border border-primary-300 rounded-lg text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-primary-400 text-navy-700",children:[p.jsx("option",{value:"zh-TW",children:""}),p.jsx("option",{value:"zh-CN",children:""}),p.jsx("option",{value:"en",children:"EN"})]}),c?p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:"text-xs sm:text-sm text-white hidden md:inline",children:[e("welcome"),l?.full_name]}),p.jsx("button",{onClick:()=>t("dashboard"),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 bg-white text-primary-700 rounded-lg hover:bg-blue-50 transition-all text-xs sm:text-sm font-semibold whitespace-nowrap",children:e("dashboard")})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>i(!0),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 text-white hover:text-blue-100 transition-all text-xs sm:text-sm font-medium whitespace-nowrap",children:e("login")}),p.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 sm:px-3 sm:py-2 md:px-4 bg-white text-primary-700 rounded-lg hover:bg-blue-50 transition-all text-xs sm:text-sm font-semibold whitespace-nowrap",children:e("register")})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 sm:order-1",children:[p.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 md:w-16 md:h-16 lg:w-18 lg:h-18 bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg flex items-center justify-center flex-shrink-0 shadow-lg",children:p.jsx(sm,{className:"w-5 h-5 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-9 lg:h-9 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl md:text-3xl lg:text-4xl xl:text-4xl font-bold text-white leading-tight",children:e("header.title")}),p.jsx("p",{className:"text-xs sm:text-sm text-blue-100 hidden sm:block",children:e("header.subtitle")})]})]})]})})}),p.jsxs("section",{className:"relative py-10 sm:py-16 md:py-20 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/15 via-blue-600/15 to-navy-500/15"}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:p.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 bg-primary-100 text-primary-700 rounded-full text-xs sm:text-sm font-semibold mb-4 sm:mb-6 border border-primary-200",children:[p.jsx(sm,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e("home.badge")]}),p.jsxs("h1",{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-navy-800 mb-4 sm:mb-6 px-2 ${n.language==="en"?"":"whitespace-nowrap"}`,children:[e("home.hero.title")," ",p.jsx("span",{className:"bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 bg-clip-text text-transparent",children:e("home.hero.titleHighlight")})]}),p.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-700 leading-relaxed px-4",children:e("home.hero.description")})]})})]}),p.jsx("section",{className:"py-8 sm:py-10 bg-gradient-to-b from-white to-slate-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:h.map(m=>p.jsxs("div",{className:"bg-white border-2 border-primary-200 rounded-2xl p-4 sm:p-6 md:p-8 hover:border-primary-400 hover:shadow-xl transition-all",children:[p.jsxs("div",{className:`inline-flex items-center gap-1.5 sm:gap-2 px-3 py-1.5 sm:px-4 sm:py-2 bg-gradient-to-r ${m.color} text-white rounded-full text-xs sm:text-sm font-semibold mb-3 sm:mb-4 shadow-md`,children:[p.jsx(m.icon,{className:"w-3 h-3 sm:w-4 sm:h-4"}),p.jsx("span",{className:"hidden sm:inline",children:m.subtitle})]}),p.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-navy-800 mb-2 sm:mb-3",children:m.title}),p.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 sm:mb-6 leading-relaxed",children:m.description}),p.jsx("div",{className:"space-y-1.5 sm:space-y-2 mb-4 sm:mb-6",children:m.features.map((y,b)=>p.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-2",children:[p.jsx(k7,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500 flex-shrink-0 mt-0.5"}),p.jsx("span",{className:"text-xs sm:text-sm text-gray-700",children:y})]},b))}),p.jsxs("button",{onClick:m.action,className:`group w-full px-4 py-2.5 sm:px-6 sm:py-3 bg-gradient-to-r ${m.color} text-white rounded-xl hover:shadow-lg transition-all text-sm sm:text-base font-semibold flex items-center justify-center gap-2`,children:[m.buttonText,p.jsx(w7,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})]},m.id))})})}),p.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-r from-navy-700 via-primary-600 to-navy-700 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 sm:mb-4",children:e("highlight.title")}),p.jsx("p",{className:"text-sm sm:text-base md:text-xl text-blue-100",children:e("highlight.subtitle")})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all border border-white/20",children:[p.jsx(lH,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),p.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.speed.title")}),p.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.speed.desc")})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all border border-white/20",children:[p.jsx($r,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),p.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.analysis.title")}),p.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.analysis.desc")})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 hover:bg-white/20 transition-all sm:col-span-2 md:col-span-1 border border-white/20",children:[p.jsx(sm,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mb-3 sm:mb-4"}),p.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 sm:mb-3",children:e("highlight.ai.title")}),p.jsx("p",{className:"text-sm sm:text-base text-blue-100",children:e("highlight.ai.desc")})]})]})]})}),p.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-white",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 md:gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 to-blue-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"10K+"}),p.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.users")})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-navy-600 to-primary-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"50K+"}),p.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.docs")})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-primary-500 bg-clip-text text-transparent mb-1 sm:mb-2",children:"95%"}),p.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.accuracy")})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 to-navy-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"24/7"}),p.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-700",children:e("stats.service")})]})]})})}),p.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-br from-navy-800 to-navy-900 text-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6",children:e("cta.title")}),p.jsx("p",{className:"text-sm sm:text-base md:text-xl text-blue-100 mb-6 sm:mb-8 px-4",children:e("cta.subtitle")}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:c?p.jsx("button",{onClick:()=>t("plan-management"),className:"px-6 py-3 sm:px-8 sm:py-4 bg-white text-primary-700 rounded-xl hover:bg-blue-50 transition-all text-base sm:text-lg font-bold shadow-lg",children:e("cta.start")}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>s(!0),className:"px-6 py-3 sm:px-8 sm:py-4 bg-gradient-to-r from-primary-500 to-blue-600 text-white rounded-xl hover:from-primary-600 hover:to-blue-700 transition-all text-base sm:text-lg font-bold shadow-lg",children:e("cta.register")}),p.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 sm:px-8 sm:py-4 bg-white/10 backdrop-blur-lg text-white rounded-xl hover:bg-white/20 transition-all text-base sm:text-lg font-semibold border-2 border-white/30",children:e("cta.login")})]})})]})}),p.jsx("footer",{className:"bg-navy-900 text-gray-300 py-8 sm:py-12 border-t border-navy-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[p.jsxs("div",{className:"col-span-2 sm:col-span-2 md:col-span-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[p.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-primary-600 to-blue-700 rounded-lg flex items-center justify-center shadow-md",children:p.jsx(sm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),p.jsx("span",{className:"text-white text-sm sm:text-base font-bold",children:e("footer.title")})]}),p.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:e("footer.desc")})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.products")}),p.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.planTool")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.writingTool")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.dataAnalysis")})})]})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.support")}),p.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.helpCenter")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.tutorials")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.contact")})})]})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"text-white font-semibold mb-3 sm:mb-4 text-sm sm:text-base",children:e("footer.about")}),p.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.aboutUs")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.privacy")})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.terms")})})]})]})]}),p.jsx("div",{className:"border-t border-navy-800 pt-6 sm:pt-8 text-center text-xs sm:text-sm",children:p.jsx("p",{className:"text-gray-400",children:e("footer.copyright")})})]})}),r&&p.jsx(h7,{onClose:()=>i(!1),onSwitchToRegister:()=>{i(!1),s(!0)}}),a&&p.jsx(f7,{onClose:()=>s(!1),onSwitchToLogin:()=>{s(!1),i(!0)}})]})}const uH=ZP,Do=St.create({baseURL:uH,headers:{"Content-Type":"application/json"}}),om={getAllPolicies:()=>Do.get("/policies/"),getPolicy:t=>Do.get(`/policies/${t}/`),createPolicy:t=>Do.post("/policies/",t),updatePolicy:(t,e)=>Do.put(`/policies/${t}/`,e),deletePolicy:t=>Do.delete(`/policies/${t}/`),getActivePolicies:()=>Do.get("/policies/active_policies/"),cancelPolicy:t=>Do.post(`/policies/${t}/cancel_policy/`)};function cH(){const t=ul(),[e,n]=_.useState([]),[r,i]=_.useState(!0),[a,s]=_.useState(null),[l,c]=_.useState(!1),[d,h]=_.useState({policy_number:"",customer_name:"",policy_type:"",premium:"",start_date:"",end_date:"",status:"active"});_.useEffect(()=>{m()},[]);const m=async()=>{try{i(!0);const S=await om.getAllPolicies();n(S.data.results||S.data),s(null)}catch(S){s(": "+S.message)}finally{i(!1)}},y=S=>{const{name:N,value:C}=S.target;h(P=>({...P,[N]:C}))},b=async S=>{S.preventDefault();try{await om.createPolicy(d),c(!1),h({policy_number:"",customer_name:"",policy_type:"",premium:"",start_date:"",end_date:"",status:"active"}),m()}catch(N){s(": "+N.message)}},x=async S=>{if(window.confirm("?"))try{await om.cancelPolicy(S),m()}catch(N){s(": "+N.message)}},E=async S=>{if(window.confirm("?"))try{await om.deletePolicy(S),m()}catch(N){s(": "+N.message)}},w=S=>{const N={active:"bg-green-100 text-green-800",expired:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},C={active:"",expired:"",cancelled:""};return p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${N[S]}`,children:C[S]})};return r?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"text-xl text-gray-600",children:"..."})}):p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[t&&p.jsxs("button",{onClick:()=>t("home"),className:"text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),p.jsx("span",{children:""})]}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:""})]}),p.jsx("button",{onClick:()=>c(!l),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:l?"":""})]}),a&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),l&&p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),p.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"text",name:"policy_number",value:d.policy_number,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"text",name:"customer_name",value:d.customer_name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"text",name:"policy_type",value:d.policy_type,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"number",name:"premium",value:d.premium,onChange:y,required:!0,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"date",name:"start_date",value:d.start_date,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsx("input",{type:"date",name:"end_date",value:d.end_date,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsx("div",{className:"md:col-span-2",children:p.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:""})})]})]}),p.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:""})}):e.map(S=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.policy_number}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.customer_name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.policy_type}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",parseFloat(S.premium).toFixed(2)]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.start_date}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:w(S.status)}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[S.status==="active"&&p.jsx("button",{onClick:()=>x(S.id),className:"text-yellow-600 hover:text-yellow-900 mr-3",children:""}),p.jsx("button",{onClick:()=>E(S.id),className:"text-red-600 hover:text-red-900",children:""})]})]},S.id))})]})})]})}function dH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const kE=_.forwardRef(dH);function hH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const FC=_.forwardRef(hH);function fH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const mH=_.forwardRef(fH);function pH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const gH=_.forwardRef(pH);function yH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const bH=_.forwardRef(yH);function xH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const rp=_.forwardRef(xH);function vH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const EH=_.forwardRef(vH);function wH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const AH=_.forwardRef(wH);function SH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const V1=_.forwardRef(SH);function TH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const ba=_.forwardRef(TH);function _H({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const CH=_.forwardRef(_H);function NH({title:t,titleId:e,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?_.createElement("title",{id:e},t):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Mb=_.forwardRef(NH);function OH(){const t=ul(),{user:e,logout:n}=hs(),[r,i]=_.useState(!1),[a,s]=_.useState({full_name:"",email:"",nickname:""}),[l,c]=_.useState(!1),[d,h]=_.useState(!1),[m,y]=_.useState(1),[b,x]=_.useState(!1),[E,w]=_.useState(!0),[S,N]=_.useState(null),[C,P]=_.useState(!1);_.useEffect(()=>{const F=setTimeout(()=>{w(!1)},800);return()=>clearTimeout(F)},[]),_.useEffect(()=>{(async()=>{try{const Z=localStorage.getItem("access_token");if(!Z)return;const K=await St.get(`${Er}/api/ip-image/saved`,{headers:{Authorization:`Bearer ${Z}`}});K.data.status==="success"&&K.data.has_saved&&N(K.data.data)}catch(Z){console.error("IP:",Z)}})()},[]),_.useEffect(()=>{if(console.log(" [Dashboard]  JS-SDK"),console.log(" [Dashboard] window.wx :",typeof window.wx),console.log(" [Dashboard] window.wx.miniProgram :",typeof window.wx?.miniProgram),typeof window<"u"){const F=()=>{typeof window.wx<"u"&&window.wx.miniProgram?(console.log(" [Dashboard]  JS-SDK "),console.log(" [Dashboard] wx.miniProgram :",Object.keys(window.wx.miniProgram))):(console.log(" [Dashboard]  JS-SDK ..."),setTimeout(F,100))};setTimeout(F,100)}},[]);const k=()=>{typeof wx<"u"&&wx.miniProgram?wx.miniProgram.navigateTo({url:"/pages/payment/payment?amount=1"}):alert(`

""`)},D=()=>{const F=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u",Z=typeof window<"u"&&window.__wxjs_environment==="miniprogram",K=navigator.userAgent||"",ne=K.toLowerCase().indexOf("miniprogram")>-1;return console.log(" [Dashboard] :"),console.log("  - window.wx :",typeof window.wx<"u"),console.log("  - window.wx.miniProgram :",F),console.log("  - __wxjs_environment:",window.__wxjs_environment),console.log("  - UserAgent:",K),console.log("  - UserAgentminiprogram:",ne),F||Z||ne},R=[{name:"",icon:EH,action:()=>t("plan-management"),color:"from-primary-600 to-blue-600",show:!0},{name:"IP",icon:ba,action:()=>t("ip-image-generator"),color:"from-pink-600 to-purple-600",show:!0},{name:"IP",icon:rp,action:()=>t("content-image-generator"),color:"from-indigo-600 to-blue-600",show:!0},{name:"",icon:AH,action:()=>window.open("https://write.xingke888.com/editor","_blank"),color:"from-navy-600 to-primary-600",show:!0},{name:"",icon:bH,action:k,color:"from-purple-600 to-pink-600",show:!1}].filter(F=>F.show),H=()=>{console.log(" [Dashboard] "),console.log(" [Dashboard] :",e),console.log(" [Dashboard] :",e?.wechat),console.log(" [Dashboard] :",e?.wechat?.nickname),s({full_name:e?.full_name||"",email:e?.email||"",nickname:e?.wechat?.nickname||""}),i(!0)},G=async()=>{try{c(!0);const F=localStorage.getItem("access_token");if(!F){alert("");return}const Z=await St.put(`${Er}/api/auth/profile/`,{full_name:a.full_name,email:a.email},{headers:{Authorization:`Bearer ${F}`}});e?.wechat&&a.nickname&&a.nickname!==e.wechat.nickname&&await St.post(`${Er}/api/wechat/update-profile`,{nickname:a.nickname},{headers:{Authorization:`Bearer ${F}`}});const K={...e,email:Z.data.user.email,full_name:Z.data.user.full_name,first_name:Z.data.user.first_name,last_name:Z.data.user.last_name};e?.wechat&&a.nickname&&(K.wechat={...e.wechat,nickname:a.nickname}),localStorage.setItem("user",JSON.stringify(K)),i(!1),alert(""),window.location.reload()}catch(F){console.error(":",F);const Z=F.response?.data?.error||F.response?.data?.message||"";alert(Z)}finally{c(!1)}},X=()=>{console.log(" [Dashboard] ");const F=D();if(console.log(" [Dashboard] :",F),F)if(console.log(" [Dashboard] "),typeof window.wx<"u"&&window.wx.miniProgram)try{console.log(" [Dashboard] "),window.wx.miniProgram.navigateTo({url:"/pages/webview/webview?action=logout",success:()=>{console.log(" [Dashboard] ")},fail:Z=>{console.error(" [Dashboard] :",Z),window.wx.miniProgram.redirectTo({url:"/pages/webview/webview?action=logout"})}})}catch(Z){console.error(" [Dashboard] :",Z),alert("")}else console.error(" [Dashboard] window.wx.miniProgram "),alert("");else console.log(" [Dashboard] "),n(),t("home")},B=async()=>{try{x(!0);const F=await St.post(`${Er}/api/payment/create-jsapi`,{amount:m,description:""});if(F.data.code===200){const Z=F.data.data.payment;if(typeof WeixinJSBridge>"u"){alert("JS-SDK");return}WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:Z.appId,timeStamp:Z.timeStamp,nonceStr:Z.nonceStr,package:Z.package,signType:Z.signType,paySign:Z.paySign},function(K){K.err_msg==="get_brand_wcpay_request:ok"?(alert(""),h(!1)):K.err_msg==="get_brand_wcpay_request:cancel"?alert(""):alert(""+K.err_msg)})}else alert(F.data.message||"")}catch(F){console.error(":",F),alert(F.response?.data?.message||"")}finally{x(!1)}};return E?p.jsx("div",{className:"min-h-screen bg-blue-100 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),p.jsx("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:"..."})]})}):p.jsxs("div",{className:"min-h-screen bg-blue-100",children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-5",children:[p.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-0.5",children:["",e?.wechat?.nickname||e?.full_name]}),p.jsx("p",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),p.jsx("div",{className:"mb-5",children:p.jsx("div",{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all",children:p.jsxs("div",{className:"flex items-center gap-4",children:[S?p.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>P(!0),children:[p.jsx("img",{src:S.generated_image_url,alt:"IP",className:"w-24 h-24 sm:w-28 sm:h-28 rounded-2xl object-cover shadow-lg ring-4 ring-white transition-all group-hover:ring-purple-400 group-hover:shadow-xl"}),p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded-2xl transition-all flex items-center justify-center",children:p.jsx("svg",{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}):p.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-2xl bg-gradient-to-br from-purple-400 to-pink-400 shadow-lg ring-4 ring-white flex items-center justify-center",children:p.jsx(ba,{className:"w-12 h-12 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"flex items-center gap-2 mb-2",children:p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"IP"})}),p.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:S?S.prompt||"IP":"IP"}),p.jsx("div",{className:"flex gap-2 flex-wrap",children:S?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>P(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border-2 border-purple-300 text-purple-700 rounded-lg hover:bg-purple-50 transition-all text-sm font-medium shadow-sm",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),""]}),p.jsxs("button",{onClick:()=>t("ip-image-generator"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all text-sm font-medium shadow-sm hover:shadow-md",children:[p.jsx(ba,{className:"w-4 h-4"}),""]})]}):p.jsxs("button",{onClick:()=>t("ip-image-generator"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all text-sm font-medium shadow-sm hover:shadow-md",children:[p.jsx(ba,{className:"w-4 h-4"}),""]})})]})]})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:""}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map((F,Z)=>p.jsxs("button",{onClick:F.action,className:"bg-white border border-blue-100 rounded-lg p-6 hover:border-blue-400 hover:shadow-md transition-all flex items-center gap-4 text-left group relative overflow-hidden min-h-[120px]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm group-hover:shadow-md group-hover:scale-105 transition-all relative z-10",children:p.jsx(F.icon,{className:"w-7 h-7 text-white"})}),p.jsxs("div",{className:"flex-1 relative z-10",children:[p.jsx("h4",{className:"text-base font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:F.name}),p.jsx("p",{className:"text-sm text-gray-500 mt-1 font-medium",children:""})]}),p.jsx("div",{className:"text-gray-400 group-hover:text-blue-500 transition-colors relative z-10",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},Z))})]})}),p.jsxs("div",{className:"mt-5 bg-white border border-gray-200 rounded-lg shadow-sm",children:[p.jsx("div",{className:"px-5 py-3 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:p.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:""})}),p.jsxs("div",{className:"p-4",children:[e?.wechat&&p.jsx("div",{className:"mb-3 pb-3 border-b border-gray-100",children:p.jsxs("div",{className:"flex items-center space-x-2.5",children:[e.wechat.avatar?p.jsx("img",{src:e.wechat.avatar,alt:"",className:"h-10 w-10 rounded-full object-cover ring-2 ring-blue-100",onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}):null,p.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-sm font-semibold ring-2 ring-blue-100 shadow-sm",style:{display:e.wechat.avatar?"none":"flex"},children:e.wechat.nickname?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-1.5",children:[p.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.wechat.nickname}),p.jsx("span",{className:"px-1.5 py-0.5 bg-green-50 text-green-600 text-xs rounded font-medium border border-green-200",children:""})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),p.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e?.full_name})]}),p.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),p.jsx("p",{className:"text-sm text-gray-900 flex-1 break-all",children:e?.email})]}),e?.wechat&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),p.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e.wechat.nickname})]}),e.wechat.phone&&p.jsxs("div",{className:"flex items-center py-1.5 border-b border-gray-100",children:[p.jsx("label",{className:"text-xs font-medium text-gray-500 w-20",children:""}),p.jsx("p",{className:"text-sm text-gray-900 flex-1",children:e.wechat.phone})]})]})]}),p.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:p.jsx("button",{onClick:H,className:"w-full px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm hover:shadow",children:""})})]})]}),p.jsx("div",{className:"mt-4 flex justify-center",children:p.jsx("button",{onClick:X,className:"px-6 py-2 text-sm bg-white text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-red-600 hover:border-red-300 transition-colors font-medium",children:""})})]}),d&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-auto border border-gray-200",children:[p.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),p.jsx("input",{type:"number",min:"0.01",step:"0.01",value:m,onChange:F=>y(parseFloat(F.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xl font-semibold text-center"})]}),p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-blue-900",children:""}),p.jsx("p",{className:"text-xs text-blue-700 mt-0.5",children:""})]})]})}),p.jsxs("div",{className:"text-xs text-gray-500 space-y-1.5 bg-gray-50 rounded-lg p-3",children:[p.jsx("p",{children:" "}),p.jsx("p",{children:" "}),p.jsx("p",{children:" "})]})]}),p.jsxs("div",{className:"flex space-x-3 mt-6",children:[p.jsx("button",{onClick:()=>h(!1),disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium text-sm",children:""}),p.jsx("button",{onClick:B,disabled:b||m<=0,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-medium text-sm",children:b?p.jsx("span",{children:"..."}):p.jsxs(p.Fragment,{children:[p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M8.5 2A5.5 5.5 0 003 7.5v9A5.5 5.5 0 008.5 22h7a5.5 5.5 0 005.5-5.5v-9A5.5 5.5 0 0015.5 2h-7zm0 2h7A3.5 3.5 0 0119 7.5v9a3.5 3.5 0 01-3.5 3.5h-7A3.5 3.5 0 015 16.5v-9A3.5 3.5 0 018.5 4z"})}),p.jsx("span",{children:""})]})})]})]})]})}),r&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-auto border border-gray-200",children:[p.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"space-y-5",children:[e?.wechat&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),p.jsx("input",{type:"text",value:a.nickname,onChange:F=>s({...a,nickname:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"",maxLength:100}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center",children:[p.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),""]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),p.jsx("input",{type:"text",value:a.full_name,onChange:F=>s({...a,full_name:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:""}),p.jsx("input",{type:"email",value:a.email,onChange:F=>s({...a,email:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:""})]})]}),p.jsxs("div",{className:"flex space-x-3 mt-6",children:[p.jsx("button",{onClick:()=>i(!1),disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium text-sm",children:""}),p.jsx("button",{onClick:G,disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:l?"...":""})]})]})]})}),C&&S&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>P(!1),children:p.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[p.jsx("button",{onClick:()=>P(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:p.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl",onClick:F=>F.stopPropagation(),children:[p.jsx("img",{src:S.generated_image_url,alt:"IP",className:"w-full h-auto object-contain max-h-[80vh]"}),S.prompt&&p.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-t border-gray-200",children:p.jsx("p",{className:"text-sm text-gray-700 text-center",children:S.prompt})})]}),p.jsx("p",{className:"text-white text-center mt-4 text-sm",children:""})]})})]})}const xr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),G1=[.001,0,0,.001,0,0],Lb=1.35,ui={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yd="pdfjs_internal_editor_",at={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},kH={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},W1={TRIANGLES:1,LATTICE:2},tr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Hm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_n={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},uu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ug={ERRORS:0,WARNINGS:1,INFOS:5},Vd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},rd={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},DH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cg=ug.WARNINGS;function PH(t){Number.isInteger(t)&&(cg=t)}function RH(){return cg}function dg(t){cg>=ug.INFOS&&console.info(`Info: ${t}`)}function rt(t){cg>=ug.WARNINGS&&console.warn(`Warning: ${t}`)}function Gt(t){throw new Error(t)}function wt(t,e){t||Gt(e)}function IH(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uR(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=FH(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return IH(r)?r:null}function cR(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&uR(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ut(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const cl=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class UC extends cl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class jb extends cl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class K1 extends cl{constructor(e){super(e,"InvalidPDFException")}}class ip extends cl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class MH extends cl{constructor(e){super(e,"FormatError")}}class ro extends cl{constructor(e){super(e,"AbortException")}}function dR(t){(typeof t!="object"||t?.length===void 0)&&Gt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function bh(t){typeof t!="string"&&Gt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function LH(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function jH(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function BH(){try{return new Function(""),!0}catch{return!1}}class sr{static get isLittleEndian(){return ut(this,"isLittleEndian",jH())}static get isEvalSupported(){return ut(this,"isEvalSupported",BH())}static get isOffscreenCanvasSupported(){return ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ut(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return ut(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return ut(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return ut(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return ut(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Bb=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class He{static makeHexColor(e,n,r){return`#${Bb[e]}${Bb[n]}${Bb[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],s=n[2],l=n[3],c=n[4],d=n[5];for(let h=0;h<6;h+=2){const m=e[r+h],y=e[r+h+1];e[r+h]=m*i+y*s+c,e[r+h+1]=m*a+y*l+d}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],s=n[2],l=n[3],c=n[4],d=n[5],h=e[0],m=e[1],y=e[2],b=e[3];let x=i*h+c,E=x,w=i*y+c,S=w,N=l*m+d,C=N,P=l*b+d,k=P;if(a!==0||s!==0){const D=a*h,R=a*y,H=s*m,G=s*b;x+=H,S+=H,w+=G,E+=G,N+=D,k+=D,P+=R,C+=R}r[0]=Math.min(r[0],x,w,E,S),r[1]=Math.min(r[1],N,P,C,k),r[2]=Math.max(r[2],x,w,E,S),r[3]=Math.max(r[3],N,P,C,k)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],s=e[3],l=r**2+i**2,c=r*a+i*s,d=a**2+s**2,h=(l+d)/2,m=Math.sqrt(h**2-(l*d-c**2));n[0]=Math.sqrt(h+m||1),n[1]=Math.sqrt(h-m||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static#e(e,n,r,i,a,s,l,c,d,h){if(d<=0||d>=1)return;const m=1-d,y=d*d,b=y*d,x=m*(m*(m*e+3*d*n)+3*y*r)+b*i,E=m*(m*(m*a+3*d*s)+3*y*l)+b*c;h[0]=Math.min(h[0],x),h[1]=Math.min(h[1],E),h[2]=Math.max(h[2],x),h[3]=Math.max(h[3],E)}static#t(e,n,r,i,a,s,l,c,d,h,m,y){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,n,r,i,a,s,l,c,-m/h,y);return}const b=h**2-4*m*d;if(b<0)return;const x=Math.sqrt(b),E=2*d;this.#e(e,n,r,i,a,s,l,c,(-h+x)/E,y),this.#e(e,n,r,i,a,s,l,c,(-h-x)/E,y)}static bezierBoundingBox(e,n,r,i,a,s,l,c,d){d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],n,c),this.#t(e,r,a,l,n,i,s,c,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),d),this.#t(e,r,a,l,n,i,s,c,3*(-n+3*(i-s)+c),6*(n-2*i+s),3*(i-n),d)}}function FH(t){return decodeURIComponent(escape(t))}let Fb=null,HC=null;function UH(t){return Fb||(Fb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,HC=new Map([["","t"]])),t.replaceAll(Fb,(e,n,r)=>n?n.normalize("NFKC"):HC.get(r))}function hR(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),dR(t)}const hu="pdfjs_internal_id_";function HH(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const s=a.length;let l=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;l=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function vr(t,e,n){return Math.min(Math.max(t,e),n)}function fR(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(dR(t))}function zH(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):bh(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Gd{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let s=null;const l=a.name;if(l==="#text")s=a.value;else if(Gd.shouldBuildText(l))a?.attributes?.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class mR{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(n,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",l=>{i.setValue(n,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(n,{value:l.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const l of r.children)l.attributes.value===s.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,l=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[c,d]of Object.entries(s))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const l=a!=="richText",c=e.div;if(c.append(s),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);s.append(m),l&&Gd.shouldBuildText(i.name)&&d.push(m)}return{textDivs:d}}const h=[[i,-1,s]];for(;h.length>0;){const[m,y,b]=h.at(-1);if(y+1===m.children.length){h.pop();continue}const x=m.children[++h.at(-1)[1]];if(x===null)continue;const{name:E}=x;if(E==="#text"){const S=document.createTextNode(x.value);d.push(S),b.append(S);continue}const w=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,E):document.createElement(E);if(b.append(w),x.attributes&&this.setAttributes({html:w,element:x,storage:n,intent:a,linkService:r}),x.children?.length>0)h.push([x,-1,w]);else if(x.value){const S=document.createTextNode(x.value);l&&Gd.shouldBuildText(E)&&d.push(S),w.append(S)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ga="http://www.w3.org/2000/svg";class ku{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function xh(t,e="text"){if(wd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class vh{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,m,y,b;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,m=0,y=0,b=1;break;case 90:h=0,m=1,y=1,b=0;break;case 270:h=0,m=-1,y=-1,b=0;break;case 0:h=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,b=-b);let x,E,w,S;h===0?(x=Math.abs(d-e[1])*r+a,E=Math.abs(c-e[0])*r+s,w=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(x=Math.abs(c-e[0])*r+a,E=Math.abs(d-e[1])*r+s,w=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[h*r,m*r,y*r,b*r,x-h*r*c-y*r*d,E-m*r*c-b*r*d],this.width=w,this.height=S}get rawDims(){const e=this.viewBox;return ut(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new vh({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return He.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];He.applyTransform(n,this.transform);const r=[e[2],e[3]];return He.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return He.applyInverseTransform(r,this.transform),r}}class DE extends cl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function hg(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function PE(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function $H(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function qH(t,e="document.pdf"){if(typeof t!="string")return e;if(hg(t))return rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},a=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(a.test(s))return i(s);if(r.searchParams.size>0){const l=Array.from(r.searchParams.values()).reverse();for(const d of l)if(a.test(d))return i(d);const c=Array.from(r.searchParams.keys()).reverse();for(const d of c)if(a.test(d))return i(d)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return e}class zC{started=Object.create(null);times=[];time(e){e in this.started&&rt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||rt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function wd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Bi(t){t.preventDefault()}function mn(t){t.preventDefault(),t.stopPropagation()}function YH(t){console.log("Deprecated API usage: "+t)}class X1{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let l=parseInt(n[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let m=parseInt(n[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(s+=h,l+=m):d==="+"&&(s-=h,l-=m),new Date(Date.UTC(r,i,a,s,l,c))}}function VH(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new vh({viewBox:a,userUnit:1,scale:e,rotation:n})}function Eh(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(rt(`Not a valid color format: "${t}"`),[0,0,0])}function GH(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Eh(r))}e.remove()}function cn(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function ua(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function el(t,e,n=!1,r=!0){if(e instanceof vh){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,l=sr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,h=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,m=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||e.rotation%180===0?(s.width=h,s.height=m):(s.width=m,s.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ea{constructor(){const{pixelRatio:e}=Ea;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let s=1/0,l=1/0,c=1/0;r=Ea.capPixels(r,a),r>0&&(s=Math.sqrt(r/(e*n))),i!==-1&&(l=i/e,c=i/n);const d=Math.min(s,l,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const Q1=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class WH{static get isDarkMode(){return ut(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class KH{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),ut(this,"commentForegroundColor",Eh(r))}}function XH(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function $C(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const c=a-s;switch(e[1]=l<.5?c/(a+s):c/(2-a-s),a){case n:e[0]=((r-i)/c+(r<i?6:0))*60;break;case r:e[0]=((i-n)/c+2)*60;break;case i:e[0]=((n-r)/c+4)*60;break}}e[2]=l}function Z1(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,s=a*(1-Math.abs(n/60%2-1)),l=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+l,e[1]=s+l,e[2]=l;break;case 1:e[0]=s+l,e[1]=a+l,e[2]=l;break;case 2:e[0]=l,e[1]=a+l,e[2]=s+l;break;case 3:e[0]=l,e[1]=s+l,e[2]=a+l;break;case 4:e[0]=s+l,e[1]=l,e[2]=a+l;break;case 5:case 6:e[0]=a+l,e[1]=l,e[2]=s+l;break}}function qC(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function YC(t,e,n){Z1(t,n),n.map(qC);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];Z1(e,n),n.map(qC);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const VC=new Map;function QH(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=VC.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);$C(t,s);const l=i.subarray(6,9);$C(e,l);const c=l[2]<.5,d=c?12:4.5;if(s[2]=c?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),YC(s,l,a)<d){let h,m;c?(h=s[2],m=1):(h=0,m=s[2]);const y=.005;for(;m-h>y;){const b=s[2]=(h+m)/2;c===YC(s,l,a)<d?h=b:m=b}s[2]=c?m:h}return Z1(s,a),r=He.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),VC.set(n,r),r}function pR({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let l=0,c=s.length;l<c;++l){const d=s[l];a.append(document.createTextNode(d)),l<c-1&&a.append(document.createElement("br"))}i.append(a)}else mR.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function gR(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case rd.moveTo:e.moveTo(t[n++],t[n++]);break;case rd.lineTo:e.lineTo(t[n++],t[n++]);break;case rd.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case rd.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case rd.closePath:e.closePath();break;default:rt(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class kd{#e=null;#t=null;#r;#n=null;#s=null;#a=null;#i=null;#o=null;static#u=null;constructor(e){this.#r=e,kd.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Bi,{signal:n}),e.addEventListener("pointerdown",kd.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=e,s=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,mn(e)}#d(e){this.#r._focusEventsAllowed=!0,mn(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Bi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",kd.#u[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#g),this.#s=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#g)}removeButton(e){switch(e){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class ZH{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Bi,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#s(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const l=a.x+(n?a.width:0);if(s>r){i=l,r=s;continue}n?l>i&&(i=l):l<i&&(i=l)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#s(n,r),{style:s}=this.#t||=this.#n();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const l=this.#r._signal;l instanceof AbortSignal&&!l.aborted&&(a.addEventListener("contextmenu",Bi,{signal:l}),a.addEventListener("click",i,{signal:l})),this.#e.append(a)}}function yR(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class Pt{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(Pt.#t||=new Set).add(e)}static setPointer(e,n){Pt.#e||=n,Pt.#n??=e}static setTimeStamp(e){Pt.#r=e}static isSamePointerId(e){return Pt.#e===e}static isSamePointerIdOrRemove(e){return Pt.#e===e?!0:(Pt.#t?.delete(e),!1)}static isSamePointerType(e){return Pt.#n===e}static isInitializedAndDifferentPointerType(e){return Pt.#n!==null&&!Pt.isSamePointerType(e)}static isSameTimeStamp(e){return Pt.#r===e}static isUsingMultiplePointers(){return Pt.#t?.size>=1}static clearPointerType(){Pt.#n=null}static clearPointerIds(){Pt.#e=NaN,Pt.#t=null}static clearTimeStamp(){Pt.#r=NaN}}class JH{#e=0;get id(){return`${Yd}${this.#e++}`}}class RE{#e=hR();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ut(this,"_isSVGFittingCanvas",a)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await xh(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=RE._isSVGFittingCanvas,s=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,d()},s.onload=async()=>{const m=r.svgUrl=s.result;l.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},l.onerror=s.onerror=h});s.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){rt(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#n(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class ez{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:l=!1}){if(i&&e(),this.#t)return;const c={cmd:e,undo:n,post:r,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(s&&this.#e[this.#n].type===a){l&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class wh{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=sr.platform;for(const[r,i,a={}]of e)for(const s of r){const l=s.startsWith("mac+");n&&l?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!l&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:l=null}}=r;l&&!l(e,n)||(i.bind(e,...s,n)(),a||mn(n))}}class IE{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return GH(e),ut(this,"_colors",e)}convert(e){const n=Eh(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return IE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?He.makeHexColor(...n):e}}class io{#e=new AbortController;#t=null;#r=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#u=new ez;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#c=null;#m=new Set;_editorUndoBar=null;#y=!1;#x=!1;#b=!1;#T=null;#A=null;#E=null;#C=null;#v=!1;#S=null;#k=new JH;#N=!1;#O=!1;#j=!1;#P=null;#I=null;#B=null;#M=null;#q=null;#_=at.NONE;#w=new Set;#R=null;#F=null;#H=null;#G=null;#V=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#L=null;#Y=null;#Z=null;#J=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=io.prototype,n=s=>s.#Y.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ut(this,"_keyboardManager",new wh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#Y.contains(l)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#Y.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,s,l,c,d,h,m,y,b,x,E,w){const S=this._signal=this.#e.signal;this.#Y=e,this.#Z=n,this.#J=r,this.#a=i,this.#l=a,this.#F=s,this.#V=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:S}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:S}),this.#se(),this.#he(),this.#te(),this.#i=c.annotationStorage,this.#T=c.filterFactory,this.#H=d,this.#C=h||null,this.#y=m,this.#x=y,this.#b=b,this.#q=x||null,this.viewParameters={realScale:ku.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=E||null,this._supportsPinchToZoom=w!==!1,a?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#m.clear(),this.#M?.clear(),this.#t=null,this.#w.clear(),this.#u.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#S?.hide(),this.#S=null,this.#B?.destroy(),this.#B=null,this.#r=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#x}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return ut(this,"hcmFilter",this.#H?this.#T.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return ut(this,"direction",getComputedStyle(this.#Y).direction)}get _highlightColors(){return ut(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ut(this,"highlightColors",null);const n=new Map,r=!!this.#H;for(const[i,a]of e){const s=i.endsWith("_HCM");if(r&&s){n.set(i.replace("_HCM",""),a);continue}!r&&!s&&n.set(i,a)}return ut(this,"highlightColors",n)}get highlightColorNames(){return ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#s.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#F?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#F}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=n;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#Y.focus()}findParent(e,n){for(const r of this.#s.values()){const{x:i,y:a,width:s,height:l}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+l)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ku.PDF_TO_CSS_UNITS;for(const n of this.#m)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#s.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:l}=r,c=r.toString(),h=this.#Q(r).closest(".textLayer"),m=this.getSelectionBoxes(h);if(!m)return;r.empty();const y=this.#ee(h),b=this.#_===at.NONE,x=()=>{const E=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:l,text:c});b&&this.showAllEditors("highlight",!0,!0),n&&E?.editComment()};if(b){this.switchToMode(at.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#S||=new ZH(this),this.#S.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Yd}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#R&&(this.#S?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#R)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#R&&(this.#S?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#R=n,this.#D({hasSelectedText:!0}),!(this.#_!==at.HIGHLIGHT&&this.#_!==at.NONE)&&(this.#_===at.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#v=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#_===at.HIGHLIGHT?this.#ee(i):null;if(a?.toggleDrawing(),this.#O){const s=new AbortController,l=this.combinedSignal(s),c=d=>{d.type==="pointerup"&&d.button!==0||(s.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else a?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(e=""){this.#_===at.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ie()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#E)return;this.#E=new AbortController;const e=this.combinedSignal(this.#E);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#E?.abort(),this.#E=null}blur(){if(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#w)if(n.div.contains(e)){this.#I=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#I)return;const[e,n]=this.#I;this.#I=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#P)return;this.#P=new AbortController;const e=this.combinedSignal(this.#P);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ue(){this.#P?.abort(),this.#P=null}#ce(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ue(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#w){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of this.#c)if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){rt(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const d=await i.deserialize(c);if(!d)return;a.push(d)}const s=()=>{for(const c of a)this.#ne(c);this.#re(a)},l=()=>{for(const c of a)c.remove()};this.addCommands({cmd:s,undo:l,mustExec:!0})}catch(a){rt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==at.NONE&&!this.isEditorHandlingKeyboard&&io._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#K("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([r,i])=>this.#W[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#_===at.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[Et.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ce(),this.#D({isEditing:this.#_!==at.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#c){this.#c=e;for(const n of this.#c)this.#$(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#N?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1){if(this.#_!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#_===at.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#_=e,e===at.NONE){this.setEditingState(!1),this.#me();for(const s of this.#n.values())s.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const s of this.#n.values())s.addStandaloneCommentButton();e===at.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const s of this.#s.values())s.updateMode(e);if(e===at.POPUP){this.#r||=await this.#V.getAnnotationsByType(new Set(this.#c.map(c=>c._editorType)));const s=new Set,l=[];for(const c of this.#n.values()){const{annotationElementId:d,hasComment:h,deleted:m}=c;d&&s.add(d),h&&!m&&l.push(c.getData())}for(const c of this.#r){const{id:d,popupRef:h,contentsObj:m}=c;h&&m?.str&&!s.has(d)&&!this.#g.has(d)&&l.push(c)}this.#l?.showSidebar(l)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const s of this.#n.values())s.uid===n?(this.setSelected(s),a?s.editComment():i?s.enterInEditMode():s.focus()):s.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#c){switch(e){case Et.CREATE:this.currentLayer.addNewEditor(n);return;case Et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#w)r.updateParams(e,n);else for(const r of this.#c)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#G?.get(Et.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#$([[Et.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#j!==e){this.#j=e;for(const n of this.#s.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#N){this.#N=!0;const e=[];for(const n of this.#s.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#me(){if(this.unselectAll(),this.#N){this.#N=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#M?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#s.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#pe(){let e=null;for(e of this.#w);return e}updateUI(e){this.#pe===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#w)n!==e&&n.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#D({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#u.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#u.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#w],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#ne(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#w)n.unselect();this.#w.clear();for(const n of e)n.isEmpty()||(this.#w.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#_!==at.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=n;const[i,a]=this.#z,s=[...this.#w],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(i,a),c.translationDone())},undo:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(-i,-a),c.translationDone())},mustExec:!1})},l);for(const c of s)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#w)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let n=!1;for(const[{x:i,y:a,pageIndex:s},l]of e)l.newX=i,l.newY=a,l.newPageIndex=s,n||=i!==l.savedX||a!==l.savedY||s!==l.savedPageIndex;if(!n)return!1;const r=(i,a,s,l)=>{if(this.#n.has(i.id)){const c=this.#s.get(l);c?i._setParentAndPosition(c,a,s):(i.pageIndex=l,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:l}]of e)r(i,a,s,l)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:l}]of e)r(i,a,s,l)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#p)for(const r of this.#p.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#_}isEditingMode(){return this.#_!==at.NONE}get imageManager(){return ut(this,"imageManager",new RE)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,h=n.rangeCount;d<h;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,m,y)=>({x:(h-i)/s,y:1-(d+m-r)/a,width:y/s,height:m/a});break;case"180":l=(d,h,m,y)=>({x:1-(d+m-r)/a,y:1-(h+y-i)/s,width:m/a,height:y/s});break;case"270":l=(d,h,m,y)=>({x:1-(h+y-i)/s,y:(d-r)/a,width:y/s,height:m/a});break;default:l=(d,h,m,y)=>({x:(d-r)/a,y:(h-i)/s,width:m/a,height:y/s});break}const c=[];for(let d=0,h=n.rangeCount;d<h;d++){const m=n.getRangeAt(d);if(!m.collapsed)for(const{x:y,y:b,width:x,height:E}of m.getClientRects())x===0||E===0||c.push(l(y,b,x,E))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#_===at.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#M?.get(e);i&&(i.setCanvas(n,r),this.#M.delete(e))}addMissingCanvas(e,n){(this.#M||=new Map).set(e,n)}}class fa{#e=null;#t=!1;#r=null;#n=null;#s=null;#a=null;#i=!1;#o=null;#u=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#u=e,this.#d=e._uiManager.useNewAltTextFlow,fa.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){fa._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",fa.#f.missing),n.setAttribute("data-l10n-id",fa.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#u._uiManager._signal;e.addEventListener("contextmenu",Bi,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#d&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await fa._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#u.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",fa.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",fa.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#u.id}`;const i=100,a=this.#u._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#u.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class lm{#e=null;#t=null;#r=!1;#n=null;#s=null;#a=null;#i=null;#o=null;#u=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:a,width:s,height:l}=this.#n.parent.boundingClientRect;return[(e-i)/s,(n+r-a)/l]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Bi,{signal:r}),n&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,mn(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,mn(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:h,height:m,x:y,y:b}=this.#n;r=y+r*h,i=b+i*m}const a=this.#n.parent.boundingClientRect,{x:s,y:l,width:c,height:d}=a;this.#n._uiManager.editComment(this.#n,s+r*c,l+i*d,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#u||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#s}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#a=null),e===null){this.#i="",this.#u=!0;return}this.#i=e,this.#o=new Date,this.#u=!1}setInitialText(e,n=null){this.#s=e,this.data=e,this.#o=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#a=null,this.#o=null,this.#n=null,this.#r=!1,this.#u=!1}}class fg{#e;#t=!1;#r=null;#n;#s;#a;#i;#o=null;#u;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:l}){this.#e=e,this.#r=r,this.#n=n,this.#s=i,this.#a=a,this.#i=s,this.#h=new AbortController,this.#u=AbortSignal.any([l,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ea.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,a=AbortSignal.any([this.#u,i.signal]),s=this.#e,l={capture:!0,signal:a,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};s.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(mn(d),c(d))},l),s.addEventListener("pointerup",c,l),s.addEventListener("pointercancel",c,l);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#u,this.#d.signal]),a=this.#e,s={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),s);const l=this.#p.bind(this);a.addEventListener("touchend",l,s),a.addEventListener("touchcancel",l,s),s.capture=!0,a.addEventListener("pointerdown",mn,s),a.addEventListener("pointermove",mn,s),a.addEventListener("pointercancel",mn,s),a.addEventListener("pointerup",mn,s),this.#s?.()}if(mn(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;mn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:l}=r,c=this.#l,{touch0X:d,touch0Y:h,touch1X:m,touch1Y:y}=c,b=m-d,x=y-h,E=s-i,w=l-a,S=Math.hypot(E,w)||1,N=Math.hypot(b,x)||1;if(!this.#t&&Math.abs(N-S)<=fg.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=s,c.touch1Y=l,!this.#t){this.#t=!0;return}const C=[(i+s)/2,(a+l)/2];this.#a?.(C,N,S)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(mn(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class We{#e=null;#t=null;#r=null;#n=null;#s=null;#a=!1;#i=null;#o="";#u=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#c=null;#m=!1;#y=!1;#x=!1;#b=null;#T=0;#A=0;#E=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#S=We._zIndex++;static _borderLineWidth=-1;static _colorManager=new IE;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=We.prototype._resizeWithKeyboard,n=io.TRANSLATE_SMALL,r=io.TRANSLATE_BIG;return ut(this,"_resizerKeyboardManager",new wh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],We.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new tz({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(We._l10n??=e,We._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),We._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);We._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Gt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(e){this.#v=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#c||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#c||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:l}=this;const[c,d]=this.getBaseTranslation();s+=c,l+=d;const{style:h}=r;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(s,l),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=We,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:l,height:c}=this;if(l*=r,c*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=vr(a,0,r-l),s=vr(s,0,i-c);break;case 90:a=vr(a,0,r-c),s=vr(s,l,i);break;case 180:a=vr(a,l,r),s=vr(s,c,i);break;case 270:a=vr(a,c,r),s=vr(s,0,i-l);break}this.x=a/=r,this.y=s/=i;const[d,h]=this.getBaseTranslation();a+=d,s+=h,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#N(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return We.#N(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return We.#N(e,n,360-this.parentRotation)}#O(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#j(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#u.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#P.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Bi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#u)}#P(e,n){n.preventDefault();const{isMac:r}=sr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#M.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",mn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Bi,{signal:s}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#B()};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}#I(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const a=this.x,s=this.y,l=this.width,c=this.height;a===e&&s===n&&l===r&&c===i||this.addCommands({cmd:this.#I.bind(this,a,s,l,c),undo:this.#I.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#M(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,l=this.width,c=this.height,d=We.MIN_SIZE/r,h=We.MIN_SIZE/i,m=this.#O(this.rotation),y=(L,q)=>[m[0]*L+m[2]*q,m[1]*L+m[3]*q],b=this.#O(360-this.rotation),x=(L,q)=>[b[0]*L+b[2]*q,b[1]*L+b[3]*q];let E,w,S=!1,N=!1;switch(e){case"topLeft":S=!0,E=(L,q)=>[0,0],w=(L,q)=>[L,q];break;case"topMiddle":E=(L,q)=>[L/2,0],w=(L,q)=>[L/2,q];break;case"topRight":S=!0,E=(L,q)=>[L,0],w=(L,q)=>[0,q];break;case"middleRight":N=!0,E=(L,q)=>[L,q/2],w=(L,q)=>[0,q/2];break;case"bottomRight":S=!0,E=(L,q)=>[L,q],w=(L,q)=>[0,0];break;case"bottomMiddle":E=(L,q)=>[L/2,q],w=(L,q)=>[L/2,0];break;case"bottomLeft":S=!0,E=(L,q)=>[0,q],w=(L,q)=>[L,0];break;case"middleLeft":N=!0,E=(L,q)=>[0,q/2],w=(L,q)=>[L,q/2];break}const C=E(l,c),P=w(l,c);let k=y(...P);const D=We._round(a+k[0]),R=We._round(s+k[1]);let H=1,G=1,X,B;if(n.fromKeyboard)({deltaX:X,deltaY:B}=n);else{const{screenX:L,screenY:q}=n,[oe,ve]=this.#l;[X,B]=this.screenToPageTranslation(L-oe,q-ve),this.#l[0]=L,this.#l[1]=q}if([X,B]=x(X/r,B/i),S){const L=Math.hypot(l,c);H=G=Math.max(Math.min(Math.hypot(P[0]-C[0]-X,P[1]-C[1]-B)/L,1/l,1/c),d/l,h/c)}else N?H=vr(Math.abs(P[0]-C[0]-X),d,1)/l:G=vr(Math.abs(P[1]-C[1]-B),h,1)/c;const F=We._round(l*H),Z=We._round(c*G);k=y(...w(F,Z));const K=D-k[0],ne=R-k[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=F,this.height=Z,this.x=K,this.y=ne,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new kd(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(fa.initialize(We._l10n),this.#r=new fa(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new lm(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new lm(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new lm(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new lm(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,l=s+a+1,c=i-100,d=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),yR(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new fg({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=this.#O(this.rotation),l=(D,R)=>[s[0]*D+s[2]*R,s[1]*D+s[3]*R],[c,d]=this.parentDimensions,h=this.x,m=this.y,y=this.width,b=this.height,x=We.MIN_SIZE/c,E=We.MIN_SIZE/d;a=Math.max(Math.min(a,1/y,1/b),x/y,E/b);const w=We._round(y*a),S=We._round(b*a);if(w===y&&S===b)return;this.#c||=[h,m,y,b];const N=l(y/2,b/2),C=We._round(h+N[0]),P=We._round(m+N[1]),k=l(w/2,S/2);this.x=C-k[0],this.y=P-k[1],this.width=w,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(e);return}this.#R(e)}#R(e){const{isMac:n}=sr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},l=d=>{i.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#R(d),r&&this._onStopDragging()};n&&(this.#T=e.clientX,this.#A=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:m,pointerId:y}=d;if(y!==this.#i){mn(d);return}const[b,x]=this.screenToPageTranslation(h-this.#T,m-this.#A);this.#T=h,this.#A=m,this._uiManager.dragSelectedEditors(b,x)},s),window.addEventListener("touchmove",mn,s),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#C||d.isPrimary)&&l(d),mn(d)},s));const c=d=>{if(!this.#i||this.#i===d.pointerId){l(d);return}mn(d)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/i,h=n/i,m=this.x*a,y=this.y*s,b=this.width*a,x=this.height*s;switch(r){case 0:return[m+d+l,s-y-h-x+c,m+d+b+l,s-y-h+c];case 90:return[m+h+l,s-y+d+c,m+h+x+l,s-y+d+b+c];case 180:return[m-d-b+l,s-y+h+c,m-d+l,s-y+h+x+c];case 270:return[m-h-x+l,s-y-d-b+c,m-h+l,s-y-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,l=a-r,c=s-i;switch(this.rotation){case 0:return[r,n-s,l,c];case 90:return[r,n-i,c,l];case 180:return[a,n-i,l,c];case 270:return[a,n-s,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&We._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:s},uid:l,pageIndex:c,creationDate:d,modificationDate:h}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:d,modificationDate:r||h,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#x}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}#H(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[l,c,d,h]=i.getRectInCurrentCoords(e.rect,s);return i.x=l/a,i.y=c/s,i.width=d/a,i.height=h/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L(),this.removeEditToolbar(),this.#E){for(const e of this.#E.values())clearTimeout(e);this.#E=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#j(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,s]=this.getPDFRect();return[We._round(r+(a-r)*e),We._round(i+(s-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#u.children;if(!this.#t){this.#t=Array.from(n);const s=this.#G.bind(this),l=this.#V.bind(this),c=this._uiManager._signal;for(const d of this.#t){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",this.#W.bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",We._l10nResizer[h])}}const r=this.#t[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let l=0;l<i-a;l++)this.#u.append(this.#u.firstChild);else if(a>i)for(let l=0;l<a-i;l++)this.#u.firstChild.before(this.#u.lastChild);let s=0;for(const l of n){const d=this.#t[s++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",We._l10nResizer[d])}}this.#z(0),this.#x=!0,this.#u.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){We._resizerKeyboardManager.exec(this,e)}#V(e){this.#x&&e.relatedTarget?.parentNode!==this.#u&&this.#L()}#W(e){this.#g=this.#x?e:""}#z(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#x&&this.#M(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#L(){this.#x=!1,this.#z(-1),this.#B()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#E||=new Map;const{action:r}=e;let i=this.#E.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#E.delete(r),this.#E.size===0&&(this.#E=null)},We._telemetryTimeout),this.#E.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class tz extends We{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const GC=3285377520,Ci=4294901760,ca=65535;class bR{constructor(e){this.h1=e?e&4294967295:GC,this.h2=e?e&4294967295:GC}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let E=0,w=e.length;E<w;E++){const S=e.charCodeAt(E);S<=255?n[r++]=S:(n[r++]=S>>>8,n[r++]=S&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let l=0,c=0,d=this.h1,h=this.h2;const m=3432918353,y=461845907,b=m&ca,x=y&ca;for(let E=0;E<i;E++)E&1?(l=s[E],l=l*m&Ci|l*b&ca,l=l<<15|l>>>17,l=l*y&Ci|l*x&ca,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=s[E],c=c*m&Ci|c*b&ca,c=c<<15|c>>>17,c=c*y&Ci|c*x&ca,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,a){case 3:l^=n[i*4+2]<<16;case 2:l^=n[i*4+1]<<8;case 1:l^=n[i*4],l=l*m&Ci|l*b&ca,l=l<<15|l>>>17,l=l*y&Ci|l*x&ca,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Ci|e*36045&ca,n=n*4283543511&Ci|((n<<16|e>>>16)*2950163797&Ci)>>>16,e^=n>>>1,e=e*444984403&Ci|e*60499&ca,n=n*3301882366&Ci|((n<<16|e>>>16)*3120437893&Ci)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const J1=Object.freeze({map:null,hash:"",transfer:void 0});class ME{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof We&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof We)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,this.#n.set(e,n);i&&this.#s(),n instanceof We&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new xR(this)}get serializable(){if(this.#n.size===0)return J1;const e=new Map,n=new bR,r=[],i=Object.create(null);let a=!1;for(const[s,l]of this.#n){const c=l instanceof We?l.serialize(!1,i):l;c&&(e.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),a||=!!c.bitmap)}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:J1}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof We)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:l}=s;n.has(l)||n.set(l,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[d,h]of Object.entries(s)){if(d==="type")continue;let m=c.get(d);m||(m=new Map,c.set(d,m));const y=m.get(h)??0;m.set(h,y+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class xR extends ME{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){Gt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return ut(this,"modifiedIds",{ids:new Set,hash:""})}}class nz{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(wt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,l=new FontFace(i,a,s);this.addNativeFontFace(l);try{await l.load(),this.#e.add(i),r?.(e)}catch{rt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Gt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw rt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return ut(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ut(this,"isSyncFontLoadingSupported",xr||sr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(wt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ut(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(P,k){return P.charCodeAt(k)<<24|P.charCodeAt(k+1)<<16|P.charCodeAt(k+2)<<8|P.charCodeAt(k+3)&255}function i(P,k,D,R){const H=P.substring(0,k),G=P.substring(k+D);return H+R+G}let a,s;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(P,k){if(++d>30){rt("Load test font never loaded."),k();return}if(c.font="30px "+P,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,P,k))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=i(y,976,m.length,m);const x=16,E=1482184792;let w=r(y,x);for(a=0,s=m.length-3;a<s;a+=4)w=w-E+r(m,a)|0;a<m.length&&(w=w-E+r(m+"XXX",a)|0),y=i(y,x,4,LH(w));const S=`url(data:font/opentype;base64,${btoa(y)});`,N=`@font-face {font-family:"${m}";src:${S}}`;this.insertRule(N);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const P of[e.loadedName,m]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=P,C.append(k)}this._document.body.append(C),h(m,()=>{C.remove(),n.complete()})}}class rz{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${fR(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){rt(`getPathGenerator - ignoring character: "${s}".`)}const a=gR(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class bu{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const d of bu.strings){const h=n.encode(e[d]);r[d]=h,i+=4+h.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),l=new DataView(a);let c=0;for(const d of bu.strings){const h=r[d],m=h.length;l.setUint32(c,m),s.set(h,c+4),c+=4+m}return wt(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){wt(e<bu.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class xu{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const y of xu.strings){const b=n.encode(e[y]);r[y]=b,i+=4+b.length}i+=4;let a,s,l=1+i;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),l+=4+a.length+4+s.length);const c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let m=0;h.setUint8(m++,e.guessFallback?1:0),h.setUint32(m,0),m+=4,i=0;for(const y of xu.strings){const b=r[y],x=b.length;i+=4+x,h.setUint32(m,x),d.set(b,m+4),m+=4+x}return h.setUint32(m-i-4,i),e.style&&(h.setUint32(m,a.length),d.set(a,m+4),m+=4+a.length,h.setUint32(m,s.length),d.set(s,m+4),m+=4+s.length),wt(m<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(m)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){wt(e<xu.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),a=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:a}}}class qt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#a;#i;#o;constructor({data:e,extra:n}){this.#a=e,this.#i=new TextDecoder,this.#o=new DataView(this.#a),n&&Object.assign(this,n)}#u(e){wt(e<qt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(e){return wt(e<qt.numbers.length,"Invalid number index"),this.#o.getFloat64(qt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=qt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=qt.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=qt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){wt(e<qt.strings.length,"Invalid string index");let n=qt.#s+4;for(let a=0;a<e;a++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=qt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);if(a!==0)return new Uint8Array(this.#a,e+4,a)}clearData(){let e=qt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,a).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=qt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),new bu(a.buffer)}get systemFontInfo(){let e=qt.#s;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new xu(i.buffer)}static write(e){const n=e.systemFontInfo?xu.write(e.systemFontInfo):null,r=e.cssFontInfo?bu.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const E of qt.strings)a[E]=i.encode(e[E]),s+=4+a[E].length;const l=qt.#s+4+s+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),d=new Uint8Array(c),h=new DataView(c);let m=0;const y=qt.bools.length;let b=0,x=0;for(let E=0;E<y;E++){const w=e[qt.bools[E]];b|=(w===void 0?0:w?2:1)<<x,x+=2,(x===8||E===y-1)&&(h.setUint8(m++,b),b=0,x=0)}wt(m===qt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const E of qt.numbers)h.setFloat64(m,e[E]),m+=8;if(wt(m===qt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(m++,4);for(const E of e.bbox)h.setInt16(m,E,!0),m+=2}else h.setUint8(m++,0),m+=8;if(wt(m===qt.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(m++,6);for(const E of e.fontMatrix)h.setFloat64(m,E,!0),m+=8}else h.setUint8(m++,0),m+=48;if(wt(m===qt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(m++,1);for(const E of e.defaultVMetrics)h.setInt16(m,E,!0),m+=2}else h.setUint8(m++,0),m+=6;wt(m===qt.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(qt.#s,0),m+=4;for(const E of qt.strings){const w=a[E],S=w.length;h.setUint32(m,S),d.set(w,m+4),m+=4+S}if(h.setUint32(qt.#s,m-qt.#s-4),!n)h.setUint32(m,0),m+=4;else{const E=n.byteLength;h.setUint32(m,E),wt(m+4+E<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(n),m+4),m+=4+E}if(!r)h.setUint32(m,0),m+=4;else{const E=r.byteLength;h.setUint32(m,E),wt(m+4+E<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),m+4),m+=4+E}return e.data===void 0?(h.setUint32(m,0),m+=4):(h.setUint32(m,e.data.length),d.set(e.data,m+4),m+=4+e.data.length),wt(m<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(m)}}class Hn{static#e=0;static#t=1;static#r=2;static#n=3;static#s=4;static#a=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],a=[],s=[],l=[],c=null,d=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],s=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,c=e[1],i=e[2],a=e[3],l=e[4]||[],r=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),m=Math.floor(a.length/3),y=s.length,b=l.length;let x=0;for(const k of l)x+=1,x=Math.ceil(x/4)*4,x+=4+k.coords.length*4,x+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(x+=4);const E=20+h*8+m*3+y*8+(r?16:0)+(d?3:0)+x,w=new ArrayBuffer(E),S=new DataView(w),N=new Uint8Array(w);S.setUint8(Hn.#e,n),S.setUint8(Hn.#t,r?1:0),S.setUint8(Hn.#r,d?1:0),S.setUint8(Hn.#n,c),S.setUint32(Hn.#s,h,!0),S.setUint32(Hn.#a,m,!0),S.setUint32(Hn.#i,y,!0),S.setUint32(Hn.#o,b,!0);let C=20;new Float32Array(w,C,h*2).set(i),C+=h*8,N.set(a,C),C+=m*3;for(const[k,D]of s)S.setFloat32(C,k,!0),C+=4,S.setUint32(C,parseInt(D.slice(1),16),!0),C+=4;if(r)for(const k of r)S.setFloat32(C,k,!0),C+=4;d&&(N.set(d,C),C+=3);for(let k=0;k<l.length;k++){const D=l[k];S.setUint8(C,D.type),C+=1,C=Math.ceil(C/4)*4,S.setUint32(C,D.coords.length,!0),C+=4,new Int32Array(w,C,D.coords.length).set(D.coords),C+=D.coords.length*4,S.setUint32(C,D.colors.length,!0),C+=4,new Int32Array(w,C,D.colors.length).set(D.colors),C+=D.colors.length*4,D.verticesPerRow!==void 0&&(S.setUint32(C,D.verticesPerRow,!0),C+=4)}return w}getIR(){const e=this.view,n=this.data[Hn.#e],r=!!this.data[Hn.#t],i=!!this.data[Hn.#r],a=e.getUint32(Hn.#s,!0),s=e.getUint32(Hn.#a,!0),l=e.getUint32(Hn.#i,!0),c=e.getUint32(Hn.#o,!0);let d=20;const h=new Float32Array(this.buffer,d,a*2);d+=a*8;const m=new Uint8Array(this.buffer,d,s*3);d+=s*3;const y=[];for(let w=0;w<l;++w){const S=e.getFloat32(d,!0);d+=4;const N=e.getUint32(d,!0);d+=4,y.push([S,`#${N.toString(16).padStart(6,"0")}`])}let b=null;if(r){b=[];for(let w=0;w<4;++w)b.push(e.getFloat32(d,!0)),d+=4}let x=null;i&&(x=new Uint8Array(this.buffer,d,3),d+=3);const E=[];for(let w=0;w<c;++w){const S=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const N=e.getUint32(d,!0);d+=4;const C=new Int32Array(this.buffer,d,N);d+=N*4;const P=e.getUint32(d,!0);d+=4;const k=new Int32Array(this.buffer,d,P);d+=P*4;const D={type:S,coords:C,colors:k};S===W1.LATTICE&&(D.verticesPerRow=e.getUint32(d,!0),d+=4),E.push(D)}if(n===1)return["RadialAxial","axial",b,y,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",b,y,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(n===3){const w=this.data[Hn.#n];let S=null;if(h.length>0){let N=h[0],C=h[0],P=h[1],k=h[1];for(let D=0;D<h.length;D+=2){const R=h[D],H=h[D+1];N=N>R?R:N,P=P>H?H:P,C=C<R?R:C,k=k<H?H:k}S=[N,P,C,k]}return["Mesh",w,h,m,E,S,b,x]}throw new Error(`Unsupported pattern kind: ${n}`)}}function iz(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(xr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function az(t){if(xr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return bh(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function um(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const ev=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,sz=t=>typeof t=="object"&&typeof t?.name=="string",oz=HH.bind(null,ev,sz);class lz{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){rt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const cm={DATA:1,ERROR:2},Tn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function WC(){}function Ur(t){if(t instanceof ro||t instanceof K1||t instanceof UC||t instanceof ip||t instanceof jb)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Gt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new ro(t.message);case"InvalidPDFException":return new K1(t.message);case"PasswordException":return new UC(t.message,t.code);case"ResponseException":return new ip(t.message,t.status,t.missing);case"UnknownErrorException":return new jb(t.message,t.details)}return new jb(t.message,t.toString())}class Ad{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===cm.DATA)i.resolve(e.data);else if(e.callback===cm.ERROR)i.reject(Ur(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:cm.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:cm.ERROR,callbackId:e.callbackId,reason:Ur(s)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:l,action:e,streamId:a,data:n,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,c.postMessage({sourceName:s,targetName:l,stream:Tn.PULL,streamId:a,desiredSize:d.desiredSize}),h.promise},cancel:d=>{wt(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:Tn.CANCEL,streamId:a,reason:Ur(d)}),h.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=h,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Tn.ENQUEUE,streamId:n,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Tn.CLOSE,streamId:n}),delete s.streamSinks[n])},error(d){wt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Tn.ERROR,streamId:n,reason:Ur(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(l,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Tn.START_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Tn.START_COMPLETE,streamId:n,reason:Ur(d)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],l=this.streamSinks[n];switch(e.stream){case Tn.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Ur(e.reason));break;case Tn.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Ur(e.reason));break;case Tn.PULL:if(!l){a.postMessage({sourceName:r,targetName:i,stream:Tn.PULL_COMPLETE,streamId:n,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||WC).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Tn.PULL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Tn.PULL_COMPLETE,streamId:n,reason:Ur(d)})});break;case Tn.ENQUEUE:if(wt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Tn.CLOSE:if(wt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#s(s,n);break;case Tn.ERROR:wt(s,"error should have stream controller"),s.controller.error(Ur(e.reason)),this.#s(s,n);break;case Tn.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Ur(e.reason)),this.#s(s,n);break;case Tn.CANCEL:if(!l)break;const c=Ur(e.reason);Promise.try(l.onCancel||WC,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Tn.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Tn.CANCEL_COMPLETE,streamId:n,reason:Ur(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#s(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class vR{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Gt("Abstract method `_createCanvas` called.")}}class uz extends vR{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class ER{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Gt("Abstract method `_fetch` called.")}}class KC extends ER{async _fetch(e){const n=await xh(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):bh(n)}}class wR{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class cz extends wR{#e;#t;#r;#n;#s;#a;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#s=n}get#o(){return this.#t||=new Map}get#u(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#s.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#s.createElementNS(Ga,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(Ga,"defs"),e.append(r),r.append(this.#r),this.#s.body.append(e)}return this.#r}#h(e){if(e.length===1){const c=e[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=c[m]/255;const h=d.join(",");return[h,h,h]}const[n,r,i]=e,a=new Array(256),s=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,s[c]=r[c]/255,l[c]=i[c]/255;return[a.join(","),s.join(","),l.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#s.URL;n!==this.#s.baseURI&&(hg(n)?rt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=cR(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,a]=this.#h(e),s=e.length===1?r:`${r}${i}${a}`;if(n=this.#o.get(s),n)return this.#o.set(e,n),n;const l=`g_${this.#n}_transfer_map_${this.#i++}`,c=this.#d(l);this.#o.set(e,c),this.#o.set(s,c);const d=this.#p(l);return this.#m(r,i,a,d),c}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#u.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#u.set(i,a)),!e||!n))return a.url;const s=this.#x(e);e=He.makeHexColor(...s);const l=this.#x(n);if(n=He.makeHexColor(...l),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let b=0;b<=255;b++){const x=b/255;c[b]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=c.join(","),h=`g_${this.#n}_hcm_filter`,m=a.filter=this.#p(h);this.#m(d,d,d,m),this.#g(m);const y=(b,x)=>{const E=s[b]/255,w=l[b]/255,S=new Array(x+1);for(let N=0;N<=x;N++)S[N]=E+N/x*(w-E);return S.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),m),a.url=this.#d(h),a.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_alpha_map_${this.#i++}`,s=this.#d(a);this.#o.set(e,s),this.#o.set(i,s);const l=this.#p(a);return this.#y(r,l),s}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,s=this.#d(a);this.#o.set(e,s),this.#o.set(i,s);const l=this.#p(a);return this.#f(l),e&&this.#y(r,l),s}addHighlightHCMFilter(e,n,r,i,a){const s=`${n}-${r}-${i}-${a}`;let l=this.#u.get(e);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#u.set(e,l)),!n||!r))return l.url;const[c,d]=[n,r].map(this.#x.bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[y,b]=[i,a].map(this.#x.bind(this));m<h&&([h,m,y,b]=[m,h,b,y]),this.#l.style.color="";const x=(S,N,C)=>{const P=new Array(256),k=(m-h)/C,D=S/255,R=(N-S)/(255*C);let H=0;for(let G=0;G<=C;G++){const X=Math.round(h+G*k),B=D+G*R;for(let F=H;F<=X;F++)P[F]=B;H=X+1}for(let G=H;G<256;G++)P[G]=P[H-1];return P.join(",")},E=`g_${this.#n}_hcm_${e}_filter`,w=l.filter=this.#p(E);return this.#g(w),this.#m(x(y[0],b[0],5),x(y[1],b[1],5),x(y[2],b[2],5),w),l.url=this.#d(E),l.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#i=0)}#f(e){const n=this.#s.createElementNS(Ga,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#s.createElementNS(Ga,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#s.createElementNS(Ga,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#c(e,n,r){const i=this.#s.createElementNS(Ga,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,n,r,i){const a=this.#s.createElementNS(Ga,"feComponentTransfer");i.append(a),this.#c(a,"feFuncR",e),this.#c(a,"feFuncG",n),this.#c(a,"feFuncB",r)}#y(e,n){const r=this.#s.createElementNS(Ga,"feComponentTransfer");n.append(r),this.#c(r,"feFuncA",e)}#x(e){return this.#l.style.color=e,Eh(getComputedStyle(this.#l).getPropertyValue("color"))}}class AR{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Gt("Abstract method `_fetch` called.")}}class XC extends AR{async _fetch(e){const n=await xh(e,"arraybuffer");return new Uint8Array(n)}}class SR{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Gt("Abstract method `_fetch` called.")}}class QC extends SR{async _fetch(e){const n=await xh(e,"arraybuffer");return new Uint8Array(n)}}xr&&rt("Please use the `legacy` build in Node.js environments.");async function LE(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class dz extends wR{}class hz extends vR{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class fz extends ER{async _fetch(e){return LE(e)}}class mz extends AR{async _fetch(e){return LE(e)}}class pz extends SR{async _fetch(e){return LE(e)}}const nu="__forcedDependency",{floor:ZC,ceil:JC}=Math;function dm(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const tv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class gz{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===tv}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const hm=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class yz{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[nu]:[]};#r=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#c;#m;constructor(e,n,r=!1){this.#f=e.width,this.#g=e.height,this.#y(n),r&&(this.#m=new Map)}growOperationsCount(e){e>=this.#c.length&&this.#y(e,this.#c)}#y(e,n){const r=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(r),this.#c=new Uint32Array(r),n&&n.length>0?(this.#c.set(n),this.#c.fill(tv,n.length)):this.#c.fill(tv)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[nu]:{__proto__:this.#t[nu]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(hm(this.#m,e)?.dependencies.add(r),this.#c[e]=this.#c[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(hm(this.#m,e)?.dependencies.add(n),this.#c[e]=this.#c[n]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const n=this.#s.pop();return n!==void 0&&(hm(this.#m,e)?.dependencies.add(n),this.#c[e]=this.#c[n]),this}pushBaseTransform(e){return this.#a.push(He.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(nu,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(nu,e);return this}resetBBox(e){return this.#u!==e&&(this.#u=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,a,s){const l=He.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),c=[1/0,1/0,-1/0,-1/0];He.axialAlignedBoundingBox([r,a,i,s],l,c);const d=He.intersect(this.#i,c);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,a,s){const l=this.#i;if(l[0]===1/0)return this;const c=He.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(l[0]===-1/0)return He.axialAlignedBoundingBox([r,a,i,s],c,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return He.axialAlignedBoundingBox([r,a,i,s],c,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],l[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,s=0,l){const c=r.bbox;let d,h;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(r),d!==!1&&(h=[0,0,0,0],He.axialAlignedBoundingBox(c,r.fontMatrix,h),(i!==1||a!==0||s!==0)&&He.scaleMinMax([i,0,0,-i,a,s],h),d)))return this.recordBBox(e,n,h[0],h[2],h[1],h[3]);if(!l)return this.recordFullPageBBox(e);const m=l();return c&&h&&d===void 0&&(d=h[0]<=a-m.actualBoundingBoxLeft&&h[2]>=a+m.actualBoundingBoxRight&&h[1]<=s-m.actualBoundingBoxAscent&&h[3]>=s+m.actualBoundingBoxDescent,this.#d.set(r,d),d)?this.recordBBox(e,n,h[0],h[2],h[1],h[3]):this.recordBBox(e,n,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,s-m.actualBoundingBoxAscent,s+m.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,a=this.#t;for(const s of n)s in this.#e?r.add(i[s]):s in a&&a[s].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[nu]),this.#m){const r=hm(this.#m,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#s.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#u===e){const r=ZC(this.#o[0]*256/this.#f),i=ZC(this.#o[1]*256/this.#g),a=JC(this.#o[2]*256/this.#f),s=JC(this.#o[3]*256/this.#g);dm(this.#p,e,r,i,a,s);for(const l of this.#l)l!==e&&dm(this.#p,l,r,i,a,s);for(const l of this.#n)l!==e&&dm(this.#p,l,r,i,a,s);for(const l of this.#s)l!==e&&dm(this.#p,l,r,i,a,s);n||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#u===e&&(this.#u=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new gz(this.#c,this.#p)}takeDebugMetadata(){return this.#m}}class ap{#e;#t;#r;#n=0;#s=0;constructor(e,n,r){if(e instanceof ap&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,a,s){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,a,s),this}recordBBox(e,n,r,i,a,s){return this.#r||this.#e.recordBBox(this.#t,n,r,i,a,s),this}recordCharacterBBox(e,n,r,i,a,s,l){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,a,s,l),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ni={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ir={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nv(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class jE{isModifyingCurrentTransform(){return!1}getPattern(){Gt("Abstract method `getPattern` called.")}}class bz extends jE{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===ir.STROKE||i===ir.FILL){const s=n.current.getClippedPathBoundingBox(i,cn(e))||[0,0,0,0],l=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,d=n.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),r=He.transform(r,[1,0,0,1,s[0],s[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),nv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(r);a.setTransform(m)}else nv(e,this._bbox),a=this._createGradient(e);return a}}function Ub(t,e,n,r,i,a,s,l){const c=e.coords,d=e.colors,h=t.data,m=t.width*4;let y;c[n+1]>c[r+1]&&(y=n,n=r,r=y,y=a,a=s,s=y),c[r+1]>c[i+1]&&(y=r,r=i,i=y,y=s,s=l,l=y),c[n+1]>c[r+1]&&(y=n,n=r,r=y,y=a,a=s,s=y);const b=(c[n]+e.offsetX)*e.scaleX,x=(c[n+1]+e.offsetY)*e.scaleY,E=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY,S=(c[i]+e.offsetX)*e.scaleX,N=(c[i+1]+e.offsetY)*e.scaleY;if(x>=N)return;const C=d[a],P=d[a+1],k=d[a+2],D=d[s],R=d[s+1],H=d[s+2],G=d[l],X=d[l+1],B=d[l+2],F=Math.round(x),Z=Math.round(N);let K,ne,L,q,oe,ve,U,z;for(let J=F;J<=Z;J++){if(J<w){const he=J<x?0:(x-J)/(x-w);K=b-(b-E)*he,ne=C-(C-D)*he,L=P-(P-R)*he,q=k-(k-H)*he}else{let he;J>N?he=1:w===N?he=0:he=(w-J)/(w-N),K=E-(E-S)*he,ne=D-(D-G)*he,L=R-(R-X)*he,q=H-(H-B)*he}let M;J<x?M=0:J>N?M=1:M=(x-J)/(x-N),oe=b-(b-S)*M,ve=C-(C-G)*M,U=P-(P-X)*M,z=k-(k-B)*M;const Ee=Math.round(Math.min(K,oe)),Y=Math.round(Math.max(K,oe));let re=m*J+Ee*4;for(let he=Ee;he<=Y;he++)M=(K-he)/(K-oe),M<0?M=0:M>1&&(M=1),h[re++]=ne-(ne-ve)*M|0,h[re++]=L-(L-U)*M|0,h[re++]=q-(q-z)*M|0,h[re++]=255}}function xz(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case W1.LATTICE:const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,d=l-1;for(a=0;a<c;a++){let h=a*l;for(let m=0;m<d;m++,h++)Ub(t,n,r[h],r[h+1],r[h+l],i[h],i[h+1],i[h+l]),Ub(t,n,r[h+l+1],r[h+1],r[h+l],i[h+l+1],i[h+1],i[h+l])}break;case W1.TRIANGLES:for(a=0,s=r.length;a<s;a+=3)Ub(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class vz extends jE{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,m=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),b=d/m,x=h/y,E={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/b,scaleY:1/x},w=m+4,S=y+4,N=r.getCanvas("mesh",w,S),C=N.context,P=C.createImageData(m,y);if(n){const D=P.data;for(let R=0,H=D.length;R<H;R+=4)D[R]=n[0],D[R+1]=n[1],D[R+2]=n[2],D[R+3]=255}for(const D of this._figures)xz(P,D,E);return C.putImageData(P,2,2),{canvas:N.canvas,offsetX:l-2*b,offsetY:c-2*x,scaleX:b,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){nv(e,this._bbox);const a=new Float32Array(2);if(i===ir.SHADING)He.singularValueDecompose2dScale(cn(e),a);else if(this.matrix){He.singularValueDecompose2dScale(this.matrix,a);const[l,c]=a;He.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=l,a[1]*=c}else He.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,i===ir.SHADING?null:this._background,n.cachedCanvases);return i!==ir.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Ez extends jE{getPattern(){return"hotpink"}}function wz(t){switch(t[0]){case"RadialAxial":return new bz(t);case"Mesh":return new vz(t);case"Dummy":return new Ez}throw new Error(`Unknown IR type: ${t[0]}`)}const eN={COLORED:1,UNCOLORED:2};class BE{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:a,tilingType:s,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),dg("TilingType: "+s);const m=r[0],y=r[1],b=r[2],x=r[3],E=b-m,w=x-y,S=new Float32Array(2);He.singularValueDecompose2dScale(this.matrix,S);const[N,C]=S;He.singularValueDecompose2dScale(this.baseTransform,S);const P=N*S[0],k=C*S[1];let D=E,R=w,H=!1,G=!1;const X=Math.ceil(d*P),B=Math.ceil(h*k),F=Math.ceil(E*P),Z=Math.ceil(w*k);X>=F?D=d:H=!0,B>=Z?R=h:G=!0;const K=this.getSizeAndScale(D,this.ctx.canvas.width,P),ne=this.getSizeAndScale(R,this.ctx.canvas.height,k),L=e.cachedCanvases.getCanvas("pattern",K.size,ne.size),q=L.context,oe=c.createCanvasGraphics(q,n);if(oe.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(oe,a,l),q.translate(-K.scale*m,-ne.scale*y),oe.transform(0,K.scale,0,0,ne.scale,0,0),q.save(),oe.dependencyTracker?.save(),this.clipBbox(oe,m,y,b,x),oe.baseTransform=cn(oe.ctx),oe.executeOperatorList(i),oe.endDrawing(),oe.dependencyTracker?.restore(),q.restore(),H||G){const ve=L.canvas;H&&(D=d),G&&(R=h);const U=this.getSizeAndScale(D,this.ctx.canvas.width,P),z=this.getSizeAndScale(R,this.ctx.canvas.height,k),J=U.size,M=z.size,Ee=e.cachedCanvases.getCanvas("pattern-workaround",J,M),Y=Ee.context,re=H?Math.floor(E/d):0,he=G?Math.floor(w/h):0;for(let Pe=0;Pe<=re;Pe++)for(let ie=0;ie<=he;ie++)Y.drawImage(ve,J*Pe,M*ie,J,M,0,0,J,M);return{canvas:Ee.canvas,scaleX:U.scale,scaleY:z.scale,offsetX:m,offsetY:y}}return{canvas:L.canvas,scaleX:K.scale,scaleY:ne.scale,offsetX:m,offsetY:y}}getSizeAndScale(e,n,r){const i=Math.max(BE.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,l=a-r;e.ctx.rect(n,r,s,l),He.axialAlignedBoundingBox([n,r,i,a],cn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case eN.COLORED:const{fillStyle:s,strokeStyle:l}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=l;break;case eN.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new MH(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let s=r;i!==ir.SHADING&&(s=He.transform(s,n.baseTransform),this.matrix&&(s=He.transform(s,this.matrix)));const l=this.createPatternCanvas(n,a);let c=new DOMMatrix(s);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}}function Az({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const l=sr.isLittleEndian?4278190080:255,[c,d]=s?[a,l]:[l,a],h=r>>3,m=r&7,y=t.length;n=new Uint32Array(n.buffer);let b=0;for(let x=0;x<i;x++){for(const w=e+h;e<w;e++){const S=e<y?t[e]:255;n[b++]=S&128?d:c,n[b++]=S&64?d:c,n[b++]=S&32?d:c,n[b++]=S&16?d:c,n[b++]=S&8?d:c,n[b++]=S&4?d:c,n[b++]=S&2?d:c,n[b++]=S&1?d:c}if(m===0)continue;const E=e<y?t[e++]:255;for(let w=0;w<m;w++)n[b++]=E&1<<7-w?d:c}return{srcPos:e,destPos:b}}const tN=16,nN=100,Sz=15,rN=10,Hr=16,Hb=new DOMMatrix,ci=new Float32Array(2),fu=new Float32Array([1/0,1/0,-1/0,-1/0]);function Tz(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,s,l){e.transform(n,r,i,a,s,l),this.__originalTransform(n,r,i,a,s,l)},t.setTransform=function(n,r,i,a,s,l){e.setTransform(n,r,i,a,s,l),this.__originalSetTransform(n,r,i,a,s,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,l){e.bezierCurveTo(n,r,i,a,s,l),this.__originalBezierCurveTo(n,r,i,a,s,l)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class _z{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function fm(t,e,n,r,i,a,s,l,c,d){const[h,m,y,b,x,E]=cn(t);if(m===0&&y===0){const N=s*h+x,C=Math.round(N),P=l*b+E,k=Math.round(P),D=(s+c)*h+x,R=Math.abs(Math.round(D)-C)||1,H=(l+d)*b+E,G=Math.abs(Math.round(H)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(b),C,k),t.drawImage(e,n,r,i,a,0,0,R,G),t.setTransform(h,m,y,b,x,E),[R,G]}if(h===0&&b===0){const N=l*y+x,C=Math.round(N),P=s*m+E,k=Math.round(P),D=(l+d)*y+x,R=Math.abs(Math.round(D)-C)||1,H=(s+c)*m+E,G=Math.abs(Math.round(H)-k)||1;return t.setTransform(0,Math.sign(m),Math.sign(y),0,C,k),t.drawImage(e,n,r,i,a,0,0,G,R),t.setTransform(h,m,y,b,x,E),[G,R]}t.drawImage(e,n,r,i,a,s,l,c,d);const w=Math.hypot(h,m),S=Math.hypot(y,b);return[w*c,S*d]}class iN{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=G1;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=tr.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=fu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ir.FILL,n=null){const r=this.minMax.slice();if(e===ir.STROKE){n||Gt("Stroke bounding box must include transform."),He.singularValueDecompose2dScale(n,ci);const i=ci[0]*this.lineWidth/2,a=ci[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(fu,0)}getClippedPathBoundingBox(e=ir.FILL,n=null){return He.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function aN(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Hr,a=(n-i)/Hr,s=i===0?a:a+1,l=t.createImageData(r,Hr);let c=0,d;const h=e.data,m=l.data;let y,b,x,E;if(e.kind===Hm.GRAYSCALE_1BPP){const w=h.byteLength,S=new Uint32Array(m.buffer,0,m.byteLength>>2),N=S.length,C=r+7>>3,P=4294967295,k=sr.isLittleEndian?4278190080:255;for(y=0;y<s;y++){for(x=y<a?Hr:i,d=0,b=0;b<x;b++){const D=w-c;let R=0;const H=D>C?r:D*8-7,G=H&-8;let X=0,B=0;for(;R<G;R+=8)B=h[c++],S[d++]=B&128?P:k,S[d++]=B&64?P:k,S[d++]=B&32?P:k,S[d++]=B&16?P:k,S[d++]=B&8?P:k,S[d++]=B&4?P:k,S[d++]=B&2?P:k,S[d++]=B&1?P:k;for(;R<H;R++)X===0&&(B=h[c++],X=128),S[d++]=B&X?P:k,X>>=1}for(;d<N;)S[d++]=0;t.putImageData(l,0,y*Hr)}}else if(e.kind===Hm.RGBA_32BPP){for(b=0,E=r*Hr*4,y=0;y<a;y++)m.set(h.subarray(c,c+E)),c+=E,t.putImageData(l,0,b),b+=Hr;y<s&&(E=r*i*4,m.set(h.subarray(c,c+E)),t.putImageData(l,0,b))}else if(e.kind===Hm.RGB_24BPP)for(x=Hr,E=r*x,y=0;y<s;y++){for(y>=a&&(x=i,E=r*x),d=0,b=E;b--;)m[d++]=h[c++],m[d++]=h[c++],m[d++]=h[c++],m[d++]=255;t.putImageData(l,0,y*Hr)}else throw new Error(`bad image kind: ${e.kind}`)}function sN(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Hr,a=(n-i)/Hr,s=i===0?a:a+1,l=t.createImageData(r,Hr);let c=0;const d=e.data,h=l.data;for(let m=0;m<s;m++){const y=m<a?Hr:i;({srcPos:c}=Az({src:d,srcPos:c,dest:h,width:r,height:y,nonBlackColor:0})),t.putImageData(l,0,m*Hr)}}function id(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function mm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function oN(t,e){if(e)return!0;He.singularValueDecompose2dScale(t,ci);const n=Math.fround(Ea.pixelRatio*ku.PDF_TO_CSS_UNITS);return ci[0]<=n&&ci[1]<=n}const Cz=["butt","round","square"],Nz=["miter","round","bevel"],Oz={},lN={};class vu{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:l=null},c,d,h){this.ctx=e,this.current=new iN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=s,this.cachedCanvases=new _z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...cn(this.compositeCtx))}this.ctx.save(),mm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=cn(this.ctx)}executeOperatorList(e,n,r,i,a){const s=e.argsArray,l=e.fnArray;let c=n||0;const d=s.length;if(d===c)return c;const h=d-c>rN&&typeof r=="function",m=h?Date.now()+Sz:0;let y=0;const b=this.commonObjs,x=this.objs;let E,w;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!a||a(c))if(E=l[c],w=s[c]??null,E!==Vd.dependency)w===null?this[E](c):this[E](c,...w);else for(const S of w){this.dependencyTracker?.recordNamedData(S,c);const N=S.startsWith("g_")?b:x;if(!N.has(S))return N.get(S,r),c}if(c++,c===d)return c;if(h&&++y>rN){if(Date.now()>m)return r(),c;y=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),l=r,c=i,d="prescale1",h,m;for(;a>2&&l>1||s>2&&c>1;){let y=l,b=c;a>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/y),s>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/b),h=this.cachedCanvases.getCanvas(d,y,b),m=h.context,m.clearRect(0,0,y,b),m.drawImage(e,0,0,l,c,0,0,y,b),e=h.canvas,l=y,c=b,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:a}=n,s=this.current.fillColor,l=this.current.patternFill,c=cn(r);let d,h,m,y;if((n.bitmap||n.data)&&n.count>1){const X=n.bitmap||n.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),s]),d=this._cachedBitmapsMap.get(X),d||(d=new Map,this._cachedBitmapsMap.set(X,d));const B=d.get(h);if(B&&!l){const F=Math.round(Math.min(c[0],c[2])+c[4]),Z=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,Ni.transformAndFill),{canvas:B,offsetX:F,offsetY:Z}}m=B}m||(y=this.cachedCanvases.getCanvas("maskCanvas",i,a),sN(y.context,n));let b=He.transform(c,[1/i,0,0,-1/a,0,0]);b=He.transform(b,[1,0,0,1,0,-a]);const x=fu.slice();He.axialAlignedBoundingBox([0,0,i,a],b,x);const[E,w,S,N]=x,C=Math.round(S-E)||1,P=Math.round(N-w)||1,k=this.cachedCanvases.getCanvas("fillCanvas",C,P),D=k.context,R=E,H=w;D.translate(-R,-H),D.transform(...b),m||(m=this._scaleImage(y.canvas,ua(D)),m=m.img,d&&l&&d.set(h,m)),D.imageSmoothingEnabled=oN(cn(D),n.interpolate),fm(D,m,0,0,m.width,m.height,0,0,i,a),D.globalCompositeOperation="source-in";const G=He.transform(ua(D),[1,0,0,1,-R,-H]);return D.fillStyle=l?s.getPattern(r,this,G,ir.FILL,e):s,D.fillRect(0,0,i,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,k.canvas)),this.dependencyTracker?.recordDependencies(e,Ni.transformAndFill),{canvas:k.canvas,offsetX:Math.round(R),offsetY:Math.round(H)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Cz[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Nz[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),id(this.suspendedCtx,s),Tz(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],l=i[2]-a,c=i[3]-s;l===0||c===0||(this.genericComposeSMask(n.context,r,l,c,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,l,c,d,h,m){let y=e.canvas,b=c-h,x=d-m;if(s)if(b<0||x<0||b+r>y.width||x+i>y.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),S=w.context;S.drawImage(y,-b,-x),S.globalCompositeOperation="destination-atop",S.fillStyle=s,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",y=w.canvas,b=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(b,x,r,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(b,x,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?n.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(l));const E=new Path2D;E.rect(c,d,r,i),n.clip(E),n.globalCompositeOperation="destination-in",n.drawImage(y,b,x,r,i,c,d,r,i),n.restore()}save(e){this.inSMaskMode&&id(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&id(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,s,l){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,s,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===Vd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}a instanceof Path2D||(a=r[0]=gR(a)),He.axialAlignedBoundingBox(i,cn(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const s=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,ua(i),ir.STROKE,e),s){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(s)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,Ni.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(ir.STROKE,cn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let l=!1;if(s){const d=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=a.getPattern(i,this,ua(i),ir.FILL,e),d){const h=new Path2D;h.addPath(n,i.getTransform().invertSelf().multiplySelf(d)),n=h}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,Ni.fill),l&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,c)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,Ni.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Oz}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=lN}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:s,x:l,y:c,fontSize:d,path:h}of n)h&&i.addPath(h,new DOMMatrix(s).preMultiplySelf(a).translate(l,c).scale(d,-d));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||G1,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&rt("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const s=i.loadedName||"sans-serif",l=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const d=i.italic?"italic":"normal";let h=r;r<tN?h=tN:r>nN&&(h=nN),this.current.fontSizeScale=r/h,this.ctx.font=`${d} ${c} ${h}px ${l}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a,s){const l=this.ctx,c=this.current,d=c.font,h=c.textRenderingMode,m=c.fontSize/c.fontSizeScale,y=h&tr.FILL_STROKE_MASK,b=!!(h&tr.ADD_TO_PATH_FLAG),x=c.patternFill&&!d.missingFile,E=c.patternStroke&&!d.missingFile;let w;if((d.disableFontFace||b||x||E)&&!d.missingFile&&(w=d.getPathGenerator(this.commonObjs,n)),w&&(d.disableFontFace||x||E)){l.save(),l.translate(r,i),l.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(e,l,d);let S;if(y===tr.FILL||y===tr.FILL_STROKE)if(a){S=l.getTransform(),l.setTransform(...a);const N=this.#r(w,S,a);l.fill(N)}else l.fill(w);if(y===tr.STROKE||y===tr.FILL_STROKE)if(s){S||=l.getTransform(),l.setTransform(...s);const{a:N,b:C,c:P,d:k}=S,D=He.inverseTransform(s),R=He.transform([N,C,P,k,0,0],D);He.singularValueDecompose2dScale(R,ci),l.lineWidth*=Math.max(ci[0],ci[1])/m,l.stroke(this.#r(w,S,s))}else l.lineWidth/=m,l.stroke(w);l.restore()}else(y===tr.FILL||y===tr.FILL_STROKE)&&(l.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,l,d,m,r,i,()=>l.measureText(n))),(y===tr.STROKE||y===tr.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,l,d,m,r,i,()=>l.measureText(n)).recordDependencies(e,Ni.stroke),l.strokeText(n,r,i));b&&((this.pendingTextPaths||=[]).push({transform:cn(l),x:r,y:i,fontSize:m,path:w}),this.dependencyTracker?.recordCharacterBBox(e,l,d,m,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return ut(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ni.showText).resetBBox(e),this.current.textRenderingMode&tr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const s=this.ctx,l=r.fontSizeScale,c=r.charSpacing,d=r.wordSpacing,h=r.fontDirection,m=r.textHScale*h,y=n.length,b=i.vertical,x=b?1:-1,E=i.defaultVMetrics,w=a*r.fontMatrix[0],S=r.textRenderingMode===tr.FILL&&!i.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),h>0?s.scale(m,-1):s.scale(m,1);let N,C;if(r.patternFill){s.save();const H=r.fillColor.getPattern(s,this,ua(s),ir.FILL,e);N=cn(s),s.restore(),s.fillStyle=H}if(r.patternStroke){s.save();const H=r.strokeColor.getPattern(s,this,ua(s),ir.STROKE,e);C=cn(s),s.restore(),s.strokeStyle=H}let P=r.lineWidth;const k=r.textMatrixScale;if(k===0||P===0){const H=r.textRenderingMode&tr.FILL_STROKE_MASK;(H===tr.STROKE||H===tr.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=k;if(l!==1&&(s.scale(l,l),P/=l),s.lineWidth=P,i.isInvalidPDFjsFont){const H=[];let G=0;for(const B of n)H.push(B.unicode),G+=B.width;const X=H.join("");if(s.fillText(X,0,0),this.dependencyTracker!==null){const B=s.measureText(X);this.dependencyTracker.recordBBox(e,this.ctx,-B.actualBoundingBoxLeft,B.actualBoundingBoxRight,-B.actualBoundingBoxAscent,B.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=G*w*m,s.restore(),this.compose();return}let D=0,R;for(R=0;R<y;++R){const H=n[R];if(typeof H=="number"){D+=x*H*a/1e3;continue}let G=!1;const X=(H.isSpace?d:0)+c,B=H.fontChar,F=H.accent;let Z,K,ne=H.width;if(b){const oe=H.vmetric||E,ve=-(H.vmetric?oe[1]:ne*.5)*w,U=oe[2]*w;ne=oe?-oe[0]:ne,Z=ve/l,K=(D+U)/l}else Z=D/l,K=0;let L;if(i.remeasure&&ne>0){L=s.measureText(B);const oe=L.width*1e3/a*l;if(ne<oe&&this.isFontSubpixelAAEnabled){const ve=ne/oe;G=!0,s.save(),s.scale(ve,1),Z/=ve}else ne!==oe&&(Z+=(ne-oe)/2e3*a/l)}if(this.contentVisible&&(H.isInFont||i.missingFile)){if(S&&!F)s.fillText(B,Z,K),this.dependencyTracker?.recordCharacterBBox(e,s,L?{bbox:null}:i,a/l,Z,K,()=>L??s.measureText(B));else if(this.paintChar(e,B,Z,K,N,C),F){const oe=Z+a*F.offset.x/l,ve=K-a*F.offset.y/l;this.paintChar(e,F.fontChar,oe,ve,N,C)}}const q=b?ne*w-X*h:ne*w+X*h;D+=q,G&&s.restore()}b?r.y-=D:r.x+=D*m,s.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,s=i.fontSize,l=i.fontDirection,c=a.vertical?1:-1,d=i.charSpacing,h=i.wordSpacing,m=i.textHScale*l,y=i.fontMatrix||G1,b=n.length,x=i.textRenderingMode===tr.INVISIBLE;let E,w,S,N;if(x||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(m,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new ap(C,e):null,E=0;E<b;++E){if(w=n[E],typeof w=="number"){N=c*w*s/1e3,this.ctx.translate(N,0),i.x+=N*m;continue}const P=(w.isSpace?h:0)+d,k=a.charProcOperatorList[w.operatorListId];k?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...y),this.executeOperatorList(k),this.restore()):rt(`Type3 character "${w.operatorListId}" is not available.`);const D=[w.width,0];He.applyTransform(D,y),S=D[0]*s+P,r.translate(S,0),i.x+=S*m}r.restore(),C&&(this.dependencyTracker=C)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,s,l){const c=new Path2D;c.rect(i,a,s-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,i,s,a,l).recordClipBox(e,this.ctx,i,s,a,l),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||cn(this.ctx),a={createCanvasGraphics:(s,l)=>new vu(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ap(this.dependencyTracker,l,!0):null)};r=new BE(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=wz(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,ua(r),ir.SHADING,e);const a=ua(r);if(a){const{width:s,height:l}=r.canvas,c=fu.slice();He.axialAlignedBoundingBox([0,0,s,l],a,c);const[d,h,m,y]=c;this.ctx.fillRect(d,h,m-d,y-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ni.transform).recordDependencies(e,Ni.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Gt("Should not call beginInlineImage")}beginImageData(){Gt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=cn(this.ctx),r)){He.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,s,l]=r,c=new Path2D;c.rect(i,a,s-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,i,s,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||dg("TODO: Support non-isolated groups."),n.knockout&&rt("Knockout groups not supported.");const i=cn(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=fu.slice();He.axialAlignedBoundingBox(n.bbox,cn(r),a);const s=[0,0,r.canvas.width,r.canvas.height];a=He.intersect(a,s)||[0,0,0,0];const l=Math.floor(a[0]),c=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-l,1),h=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,h]);let m="groupAt"+this.groupLevel;n.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,d,h),b=y.context;b.translate(-l,-c),b.transform(...i);let x=new Path2D;const[E,w,S,N]=n.bbox;if(x.rect(E,w,S-E,N-w),n.matrix){const C=new Path2D;C.addPath(x,new DOMMatrix(n.matrix)),x=C}b.clip(x),n.smask&&this.smaskStack.push({canvas:y.canvas,context:b,offsetX:l,offsetY:c,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(l,c),r.save()),id(r,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=cn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const s=fu.slice();He.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,a,s){if(this.#e(),mm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const l=r[2]-r[0],c=r[3]-r[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=l,r[3]=c,He.singularValueDecompose2dScale(cn(this.ctx),ci);const{viewportScale:d}=this,h=Math.ceil(l*this.outputScaleX*d),m=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,m);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(n,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(ci[0],0,0,-ci[1],0,c*ci[1]),mm(this.ctx)}else{mm(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],l,c),this.ctx.clip(d)}}this.current=new iN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,s,l){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const c=this.ctx;c.save();const d=cn(c);c.transform(r,i,a,s,0,0);const h=this._createMaskCanvas(e,n);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let m=0,y=l.length;m<y;m+=2){const b=He.transform(d,[r,i,a,s,l[m],l[m+1]]);c.drawImage(h.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(e,this.ctx,b[4],b[4]+h.canvas.width,b[5],b[5]+h.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Ni.transformAndFill);for(const s of n){const{data:l,width:c,height:d,transform:h}=s,m=this.cachedCanvases.getCanvas("maskCanvas",c,d),y=m.context;y.save();const b=this.getObject(e,l,s);sN(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,ua(r),ir.FILL,e):i,y.fillRect(0,0,c,d),y.restore(),r.save(),r.transform(...h),r.scale(1,-1),fm(r,m.canvas,0,0,c,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,c,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){rt("Dependent image isn't ready yet");return}const l=s.width,c=s.height,d=[];for(let h=0,m=a.length;h<m;h+=2)d.push({transform:[r,0,0,i,a[h],a[h+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,s,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/r,-1/i);let l;if(n.bitmap)l=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)l=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;aN(h,n),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,ua(a));a.imageSmoothingEnabled=oN(cn(a),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,Ni.imageXObject).recordOperation(e),fm(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const s=n.width,l=n.height,d=this.cachedCanvases.getCanvas("inlineImage",s,l).context;aN(d,n),a=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const s of r)i.save(),i.transform(...s.transform),i.scale(1,-1),fm(i,a,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ni.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===lN?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=cn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,l;if(r===0&&i===0){const c=Math.abs(n),d=Math.abs(a);if(c===d)if(e===0)s=l=1/c;else{const h=c*e;s=l=h<1?1/h:1}else if(e===0)s=1/c,l=1/d;else{const h=c*e,m=d*e;s=h<1?1/h:1,l=m<1?1/m:1}}else{const c=Math.abs(n*a-r*i),d=Math.hypot(n,r),h=Math.hypot(i,a);if(e===0)s=h/c,l=d/c;else{const m=e*c;s=h>m?h/m:1,l=d>m?d/m:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){r.lineWidth=(i||1)*a,r.stroke(e);return}const l=r.getLineDash();n&&r.save(),r.scale(a,s),Hb.a=1/a,Hb.d=1/s;const c=new Path2D;if(c.addPath(e,Hb),l.length>0){const d=Math.max(a,s);r.setLineDash(l.map(h=>h/d)),r.lineDashOffset/=d}r.lineWidth=i||1,r.stroke(c),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Vd)vu.prototype[t]!==void 0&&(vu.prototype[Vd[t]]=vu.prototype[t]);class Eu{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class kz{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const cu=Symbol("INTERNAL");class Dz{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&ui.DISPLAY),this.#t=!!(e&ui.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==cu&&Gt("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class Pz{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=ui.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new Dz(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(cu,!1);for(const r of e.on)this.#t.get(r)._setVisible(cu,!0);for(const r of e.off)this.#t.get(r)._setVisible(cu,!1);this.#r=this.getHash()}}#s(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=this.#s(a);else if(this.#t.has(a))s=this.#t.get(a).visible;else return rt(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return dg("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(rt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return rt(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return rt(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return rt(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return rt(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return rt(`Unknown optional content policy ${e.policy}.`),!0}return rt(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){rt(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const s of a)s!==e&&this.#t.get(s)?._setVisible(cu,!1,!0);i._setVisible(cu,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new bR;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Rz{constructor(e,{disableRange:n=!1,disableStream:r=!1}){wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=l,a?.length>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});wt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Iz(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Mz(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Iz{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=PE(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Mz{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Lz(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=l(n);return h=unescape(h),h=c(h),h=d(h),a(h)}if(n=s(t),n){const h=d(n);return a(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=l(n);return h=d(h),a(h)}function r(h,m){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function i(h,m){if(h){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(h,{fatal:!0}),b=bh(m);m=y.decode(b),e=!1}catch{}}return m}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function s(h){const m=[];let y;const b=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(h))!==null;){let[,E,w,S]=y;if(E=parseInt(E,10),E in m){if(E===0)break;continue}m[E]=[w,S]}const x=[];for(let E=0;E<m.length&&E in m;++E){let[w,S]=m[E];S=l(S),w&&(S=unescape(S),E===0&&(S=c(S))),x.push(S)}return x.join("")}function l(h){if(h.startsWith('"')){const m=h.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}h=m.join('"')}return h}function c(h){const m=h.indexOf("'");if(m===-1)return h;const y=h.slice(0,m),x=h.slice(m+1).replace(/^[^']*'/,"");return i(y,x)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,x){if(b==="q"||b==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,w){return String.fromCharCode(parseInt(w,16))}),i(y,x);try{x=atob(x)}catch{}return i(y,x)})}return""}function TR(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function mg(t){return URL.parse(t)?.origin??null}function _R({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function CR(t){const e=t.get("Content-Disposition");if(e){let n=Lz(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(PE(n))return n}return null}function Ah(t,e){return new ip(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function NR(t){return t===200||t===206}function OR(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function kR(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(rt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class jz{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=TR(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Bz(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Fz(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Bz{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,OR(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=mg(a.url),!NR(a.status))throw Ah(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:l,suggestedLength:c}=_R({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=CR(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ro("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:kR(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Fz{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,OR(a,this._withCredentials,this._abortController)).then(l=>{const c=mg(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!NR(l.status))throw Ah(l.status,s);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:kR(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const zb=200,$b=206;function Uz(t){const e=t.response;return typeof e!="string"?e:bh(e).buffer}class Hz{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=TR(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=$b):i.expectedStatus=zb,n.responseType="arraybuffer",wt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||zb;if(!(a===zb&&r.expectedStatus===$b)&&a!==r.expectedStatus){r.onError(i.status);return}const l=Uz(i);if(a===$b){const c=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?r.onDone({begin:parseInt(d[1],10),chunk:l}):(rt('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone({begin:0,chunk:l}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class zz{constructor(e){this._source=e,this._manager=new Hz(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $z(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new qz(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class $z{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=mg(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=_R({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=CR(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ah(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qz{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=mg(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Ah(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Yz=/^[a-z][a-z0-9\-+.]+:/i;function Vz(t){if(Yz.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Gz{constructor(e){this.source=e,this.url=Vz(e.url),wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Wz(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Kz(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Wz{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Ah(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ro("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Kz{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ad=Symbol("INITIAL_DATA");class DR{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:ad}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===ad)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==ad}delete(e){const n=this.#e[e];return!n||n.data===ad?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==ad&&(yield[e,n])}}}const Xz=1e5,uN=30;class br{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#i=0;#o=0;#u=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#c=[];#m=new WeakMap;#y=null;static#x=new Map;static#b=new Map;static#T=new WeakMap;static#A=null;static#E=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ea.pixelRatio,this.#h=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:s,pageY:l}=r.rawDims;this.#y=[1,0,0,-1,-s,l+a],this.#o=i,this.#i=a,br.#O(),el(n,r),this.#e.promise.finally(()=>{br.#E.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=sr.platform;return ut(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#u.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#f,n.styles),this.#C(n.items),e()},this.#e.reject)};return this.#u=this.#p.getReader(),br.#E.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ea.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,el(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:br.#k(this.#s)};for(const s of this.#c)a.properties=this.#m.get(s),a.div=s,this.#S(a)}}cancel(){const e=new ro("TextLayer task cancelled.");this.#u?.cancel(e).catch(()=>{}),this.#u=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#g}#C(e){if(this.#r)return;this.#a.ctx??=br.#k(this.#s);const n=this.#c,r=this.#g;for(const i of e){if(n.length>Xz){rt("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#v(i)}}#v(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(n);const i=He.transform(this.#y,e.transform);let a=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(a+=Math.PI/2);let l=this.#n&&s.fontSubstitution||s.fontFamily;l=br.fontFamilyMap.get(l)||l;const c=Math.hypot(i[2],i[3]),d=c*br.#j(l,s,this.#s);let h,m;a===0?(h=i[4],m=i[5]-d):(h=i[4]+d*Math.sin(a),m=i[5]-d*Math.cos(a));const y="calc(var(--total-scale-factor) *",b=n.style;this.#t===this.#l?(b.left=`${(100*h/this.#o).toFixed(2)}%`,b.top=`${(100*m/this.#i).toFixed(2)}%`):(b.left=`${y}${h.toFixed(2)}px)`,b.top=`${y}${m.toFixed(2)}px)`),b.fontSize=`${y}${(br.#A*c).toFixed(2)}px)`,b.fontFamily=l,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);E!==w&&Math.max(E,w)/Math.min(E,w)>1.5&&(x=!0)}if(x&&(r.canvasWidth=s.vertical?e.height:e.width),this.#m.set(n,r),this.#a.div=n,this.#a.properties=r,this.#S(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#t.append(E)}}#S(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(br.#A>1&&(s=`scale(${1/br.#A})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:d}=r;br.#N(i,d*this.#d,l);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${c*this.#d/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)}static cleanup(){if(!(this.#E.size>0)){this.#x.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#k(e=null){let n=this.#b.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,n),this.#T.set(n,{size:0,family:""})}return n}static#N(e,n,r){const i=this.#T.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#O(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#j(e,n,r){const i=this.#x.get(e);if(i)return i;const a=this.#k(r);a.canvas.width=a.canvas.height=uN,this.#N(a,uN,e);const s=a.measureText(""),l=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return l?d=l/(l+c):(sr.platform.isFirefox&&rt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#x.set(e,d),d}}const Qz=100;function PR(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new FE,{docId:n}=e,r=t.url?iz(t.url):null,i=t.data?az(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,l=t.password??null,c=t.range instanceof RR?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof Wd?t.worker:null;const m=t.verbosity,y=typeof t.docBaseUrl=="string"&&!hg(t.docBaseUrl)?t.docBaseUrl:null,b=um(t.cMapUrl),x=t.cMapPacked!==!1,E=t.CMapReaderFactory||(xr?fz:KC),w=um(t.iccUrl),S=um(t.standardFontDataUrl),N=t.StandardFontDataFactory||(xr?mz:XC),C=um(t.wasmUrl),P=t.WasmFactory||(xr?pz:QC),k=t.stopAtErrors!==!0,D=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,R=t.isEvalSupported!==!1,H=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!xr,G=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!xr&&(sr.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,B=typeof t.disableFontFace=="boolean"?t.disableFontFace:xr,F=t.fontExtraProperties===!0,Z=t.enableXfa===!0,K=t.ownerDocument||globalThis.document,ne=t.disableRange===!0,L=t.disableStream===!0,q=t.disableAutoFetch===!0,oe=t.pdfBug===!0,ve=t.CanvasFactory||(xr?hz:uz),U=t.FilterFactory||(xr?dz:cz),z=t.enableHWA===!0,J=t.useWasm!==!1,M=c?c.length:t.length??NaN,Ee=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!xr&&!B,Y=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(E===KC&&N===XC&&P===QC&&b&&S&&C&&wd(b,document.baseURI)&&wd(S,document.baseURI)&&wd(C,document.baseURI)),re=null;PH(m);const he={canvasFactory:new ve({ownerDocument:K,enableHWA:z}),filterFactory:new U({docId:n,ownerDocument:K}),cMapReaderFactory:Y?null:new E({baseUrl:b,isCompressed:x}),standardFontDataFactory:Y?null:new N({baseUrl:S}),wasmFactory:Y?null:new P({baseUrl:C})};h||(h=Wd.create({verbosity:m,port:Eu.workerPort}),e._worker=h);const Pe={docId:n,apiVersion:"5.4.394",data:i,password:l,disableAutoFetch:q,rangeChunkSize:d,length:M,docBaseUrl:y,enableXfa:Z,evaluatorOptions:{maxImageSize:D,disableFontFace:B,ignoreErrors:k,isEvalSupported:R,isOffscreenCanvasSupported:H,isImageDecoderSupported:G,canvasMaxAreaInBytes:X,fontExtraProperties:F,useSystemFonts:Ee,useWasm:J,useWorkerFetch:Y,cMapUrl:b,iccUrl:w,standardFontDataUrl:S,wasmUrl:C}},ie={ownerDocument:K,pdfBug:oe,styleElement:re,loadingParams:{disableAutoFetch:q,enableXfa:Z}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Re=h.messageHandler.sendWithPromise("GetDocRequest",Pe,i?[i.buffer]:null);let je;if(c)je=new Rz(c,{disableRange:ne,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ae=wd(r)?jz:xr?Gz:zz;je=new ae({url:r,length:M,httpHeaders:a,withCredentials:s,rangeChunkSize:d,disableRange:ne,disableStream:L})}return Re.then(ae=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ze=new Ad(n,ae,h.port),Me=new e$(ze,e,je,ie,he,z);e._transport=Me,ze.send("Ready",null)})}).catch(e._capability.reject),e}class FE{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${FE.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class RR{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#s=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#s)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Gt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Zz{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Jz{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new zC:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new DR,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new vh({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=Zs.ENABLE,transform:s=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:m=null,isEditing:y=!1,recordOperations:b=!1,operationsFilter:x=null}){this._stats?.time("Overall");const E=this._transport.getRenderingIntent(i,a,m,y),{renderingIntent:w,cacheKey:S}=E;this.#e=!1,c||=this._transport.getOptionalContentConfig(w);let N=this._intentStates.get(S);N||(N=Object.create(null),this._intentStates.set(S,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const C=!!(w&ui.PRINT);N.displayReadyCapability||(N.displayReadyCapability=Promise.withResolvers(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(E));const P=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(b||P),D=G=>{if(N.renderTasks.delete(R),k){const X=R.gfx?.dependencyTracker.take();X&&(R.stepper&&R.stepper.setOperatorBBoxes(X,R.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=X))}C&&(this.#e=!0),this.#t(),G?(R.capability.reject(G),this._abortOperatorList({intentState:N,reason:G instanceof Error?G:new Error(G)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new mu({callback:D,params:{canvas:n,canvasContext:e,dependencyTracker:k?new yz(n,N.operatorList.length,P):null,viewport:r,transform:s,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:x});(N.renderTasks||=new Set).add(R);const H=R.task;return Promise.all([N.displayReadyCapability.promise,c]).then(([G,X])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:G,optionalContentConfig:X}),R.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:n=Zs.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let l=this._intentStates.get(s.cacheKey);l||(l=Object.create(null),this._intentStates.set(s.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Gd.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:c,done:d}){if(d){r(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),a()},i)}const s=n.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new zC),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),d=this._intentStates.get(n);d.streamReader=c;const h=()=>{c.read().then(({value:m,done:y})=>{if(y){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),h())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const y of d.renderTasks)y.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof DE){let i=Qz;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new ro(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var eo,Vi,Ka,$o,eg,qo,Yo,Sr,zm,IR,MR,Sd,Cu,$m;const on=class on{constructor({name:e=null,port:n=null,verbosity:r=RH()}={}){sa(this,Sr);sa(this,eo,Promise.withResolvers());sa(this,Vi,null);sa(this,Ka,null);sa(this,$o,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(an(on,Yo).has(n))throw new Error("Cannot use more than one PDFWorker per port.");an(on,Yo).set(n,this),oa(this,Sr,IR).call(this,n)}else oa(this,Sr,MR).call(this)}get promise(){return an(this,eo).promise}get port(){return an(this,Ka)}get messageHandler(){return an(this,Vi)}destroy(){this.destroyed=!0,an(this,$o)?.terminate(),Lr(this,$o,null),an(on,Yo).delete(an(this,Ka)),Lr(this,Ka,null),an(this,Vi)?.destroy(),Lr(this,Vi,null)}static create(e){const n=an(this,Yo).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new on(e)}static get workerSrc(){if(Eu.workerSrc)return Eu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ut(this,"_setupFakeWorkerGlobal",(async()=>an(this,Cu,$m)?an(this,Cu,$m):(await import(this.workerSrc)).WorkerMessageHandler)())}};eo=new WeakMap,Vi=new WeakMap,Ka=new WeakMap,$o=new WeakMap,eg=new WeakMap,qo=new WeakMap,Yo=new WeakMap,Sr=new WeakSet,zm=function(){an(this,eo).resolve(),an(this,Vi).send("configure",{verbosity:this.verbosity})},IR=function(e){Lr(this,Ka,e),Lr(this,Vi,new Ad("main","worker",e)),an(this,Vi).on("ready",()=>{}),oa(this,Sr,zm).call(this)},MR=function(){if(an(on,qo)||an(on,Cu,$m)){oa(this,Sr,Sd).call(this);return}let{workerSrc:e}=on;try{on._isSameOrigin(window.location,e)||(e=on._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Ad("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?an(this,eo).reject(new Error("Worker was destroyed")):oa(this,Sr,Sd).call(this)},a=new AbortController;n.addEventListener("error",()=>{an(this,$o)||i()},{signal:a.signal}),r.on("test",l=>{if(a.abort(),this.destroyed||!l){i();return}Lr(this,Vi,r),Lr(this,Ka,n),Lr(this,$o,n),oa(this,Sr,zm).call(this)}),r.on("ready",l=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{oa(this,Sr,Sd).call(this)}});const s=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};s();return}catch{dg("The worker has been disabled.")}oa(this,Sr,Sd).call(this)},Sd=function(){an(on,qo)||(rt("Setting up fake worker."),Lr(on,qo,!0)),on._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){an(this,eo).reject(new Error("Worker was destroyed"));return}const n=new lz;Lr(this,Ka,n);const r=`fake${U_(on,eg)._++}`,i=new Ad(r+"_worker",r,n);e.setup(i,n),Lr(this,Vi,new Ad(r,r+"_worker",n)),oa(this,Sr,zm).call(this)}).catch(e=>{an(this,eo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Cu=new WeakSet,$m=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},sa(on,Cu),sa(on,eg,0),sa(on,qo,!1),sa(on,Yo,new WeakMap),xr&&(Lr(on,qo,!0),Eu.workerSrc||="./pdf.worker.mjs"),on._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},on._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},on.fromPort=e=>{if(YH("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return on.create(e)};let Wd=on;class e${#e=new Map;#t=new Map;#r=new Map;#n=new Map;#s=null;constructor(e,n,r,i,a,s){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new DR,this.fontLoader=new nz({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return ut(this,"annotationStorage",new ME)}getRenderingIntent(e,n=Zs.ENABLE,r=null,i=!1,a=!1){let s=ui.DISPLAY,l=J1;switch(e){case"any":s=ui.ANY;break;case"display":break;case"print":s=ui.PRINT;break;default:rt(`getRenderingIntent - invalid intent: ${e}`)}const c=s&ui.PRINT&&r instanceof xR?r:this.annotationStorage;switch(n){case Zs.DISABLE:s+=ui.ANNOTATIONS_DISABLE;break;case Zs.ENABLE:break;case Zs.ENABLE_FORMS:s+=ui.ANNOTATIONS_FORMS;break;case Zs.ENABLE_STORAGE:s+=ui.ANNOTATIONS_STORAGE,l=c.serializable;break;default:rt(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=ui.IS_EDITING),a&&(s+=ui.OPLIST);const{ids:d,hash:h}=c.modifiedIds,m=[s,l.hash,h];return{renderingIntent:s,cacheKey:m.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),br.cleanup(),this._networkStream?.cancelAllRequests(new ro("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}wt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{n.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:l}){if(l){i.close();return}wt(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Zz(r,this))}),e.on("DocException",r=>{n._capability.reject(Ur(r))}),e.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!n.onPassword)throw Ur(r);const i=a=>{a instanceof Error?this.#s.reject(a):this.#s.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const m=a.error;rt(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const s=new qt(a),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,c=new rz(s,l,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=a;wt(d,"The imageRef must be defined.");for(const m of this.#t.values())for(const[,y]of m.objs)if(y?.ref===d)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const h=new Hn(a);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{if(this.destroyed)return;const l=this.#t.get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){s?.bitmap?.close();return}switch(a){case"Image":case"Pattern":l.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const s=new Jz(n,a,this,this._params.pdfBug);return this.#t.set(n,s),s});return this.#r.set(n,i),i}getPageIndex(e){return ev(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new Pz(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new kz(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),br.cleanup()}}cachedPageNumber(e){if(!ev(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class t${#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class mu{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:m=!1,pageColors:y=null,enableHWA:b=!1,operationsFilter:x=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new t$(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=b,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(mu.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");mu.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:s}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new vu(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),mu.#t.delete(this._canvas),e||=new DE(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),mu.#t.delete(this._canvas),this.callback())))}}const LR="5.4.394",n$="2cc809ade";class Ri{#e=null;#t=null;#r;#n=null;#s=!1;#a=!1;#i=null;#o;#u=null;#l=null;static#h=null;static get _keyboardManager(){return ut(this,"_keyboardManager",new wh([[["Escape","mac+Escape"],Ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ri.prototype._moveToPrevious],[["Home","mac+Home"],Ri.prototype._moveToBeginning],[["End","mac+End"],Ri.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#i=e):this.#a=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ri.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Bi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",Ri.#h[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Et.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastChild?.focus()}#g(e){Ri._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#c(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#m){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Kd{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Kd.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Kd.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function cN(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function sd(t){return Math.max(0,Math.min(255,255*t))}class dN{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=sd(e),[e,e,e]}static G_HTML([e]){const n=cN(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(sd)}static RGB_HTML(e){return`#${e.map(cN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[sd(1-Math.min(1,e+i)),sd(1-Math.min(1,r+i)),sd(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,l=Math.min(i,a,s);return["CMYK",i,a,s,l]}}class r${create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Gt("Abstract method `_createSVG` called.")}}class sp extends r${_createSVG(e){return document.createElementNS(Ga,e)}}const i$=9,tl=new WeakSet,a$=new Date().getTimezoneOffset()*60*1e3;class qb{static create(e){switch(e.data.annotationType){case _n.LINK:return new UE(e);case _n.TEXT:return new o$(e);case _n.WIDGET:switch(e.data.fieldType){case"Tx":return new l$(e);case"Btn":return e.data.radioButton?new jR(e):e.data.checkBox?new c$(e):new d$(e);case"Ch":return new h$(e);case"Sig":return new u$(e)}return new dl(e);case _n.POPUP:return new rv(e);case _n.FREETEXT:return new BR(e);case _n.LINE:return new m$(e);case _n.SQUARE:return new p$(e);case _n.CIRCLE:return new g$(e);case _n.POLYLINE:return new FR(e);case _n.CARET:return new b$(e);case _n.INK:return new HE(e);case _n.POLYGON:return new y$(e);case _n.HIGHLIGHT:return new UR(e);case _n.UNDERLINE:return new x$(e);case _n.SQUIGGLY:return new v$(e);case _n.STRIKEOUT:return new E$(e);case _n.STAMP:return new HR(e);case _n.FILEATTACHMENT:return new w$(e);default:return new dn(e)}}}class dn{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return dn._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,s=-1/0;if(n?.length>=8){for(let l=0;l<n.length;l+=8)n[l+1]>s?(s=n[l+1],a=n[l+2]):n[l+1]===s&&(a=Math.max(a,n[l+2]));return[a,s]}if(r?.length>=1){for(const l of r)for(let c=0,d=l.length;c<d;c+=2)l[c+1]>s?(s=l[c+1],a=l[c]):l[c+1]===s&&(a=Math.max(a,l[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-s)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Yd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Yd}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:l,pageY:c}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-l)/a}%`,n.top=`${100*(s-e[3]+c)/s}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof dl)&&!(this instanceof UE)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof rv){const{rotation:E}=n;return!n.hasOwnCanvas&&E!==0&&this.setRotation(E,a),a}const{width:l,height:c}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const E=n.borderStyle.horizontalCornerRadius,w=n.borderStyle.verticalCornerRadius;if(E>0||w>0){const N=`calc(${E}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;s.borderRadius=N}else if(this instanceof jR){const N=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=N}switch(n.borderStyle.style){case uu.SOLID:s.borderStyle="solid";break;case uu.DASHED:s.borderStyle="dashed";break;case uu.BEVELED:rt("Unimplemented border style: beveled");break;case uu.INSET:rt("Unimplemented border style: inset");break;case uu.UNDERLINE:s.borderBottomStyle="solid";break}const S=n.borderColor||null;S?(this.#t=!0,s.borderColor=He.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):s.borderWidth=0}const d=He.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:m,pageX:y,pageY:b}=i.rawDims;s.left=`${100*(d[0]-y)/h}%`,s.top=`${100*(d[1]-b)/m}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(s.width=`${100*l/h}%`,s.height=`${100*c/m}%`):this.setRotation(x,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*s/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],l=a.slice(1);i.target.style[r]=dN[`${s}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:dN[`${s}_rgb`](l)})};return ut(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const l={detail:{[i]:a},target:e};s(l),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(E=>Math.fround(E));if(e.length===8){const[E,w,S,N]=e.subarray(2,6);if(i===E&&a===w&&n===S&&r===N)return}const{style:s}=this.container;let l;if(this.#t){const{borderColor:E,borderWidth:w}=s;s.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const c=i-n,d=a-r,{svgFactory:h}=this,m=h.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=h.createElement("defs");m.append(y);const b=h.createElement("clipPath"),x=`clippath_${this.data.id}`;b.setAttribute("id",x),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let E=2,w=e.length;E<w;E+=8){const S=e[E],N=e[E+1],C=e[E+2],P=e[E+3],k=h.createElement("rect"),D=(C-n)/c,R=(a-N)/d,H=(S-C)/c,G=(N-P)/d;k.setAttribute("x",D),k.setAttribute("y",R),k.setAttribute("width",H),k.setAttribute("height",G),b.append(k),l?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${R}" width="${H}" height="${G}"/>`)}this.#t&&(l.push("</g></svg>')"),s.backgroundImage=l.join("")),this.container.append(m),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new rv({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Gt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:l}of i){if(a===-1||s===n)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!tl.has(d)){rt(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&tl.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class s$ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class UE extends dn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:s}=n,l=[];if(i.length!==0||a.length!==0){const h=new Set(a);for(const m of i){const y=this._fieldObjects[m]||[];for(const{id:b}of y)h.add(b)}for(const m of Object.values(this._fieldObjects))for(const y of m)h.has(y.id)===s&&l.push(y)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,d=[];for(const h of l){const{id:m}=h;switch(d.push(m),h.type){case"text":{const b=h.defaultValue||"";c.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=h.defaultValue===h.exportValues;c.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=h.defaultValue||"";c.setValue(m,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!tl.has(y)){rt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class o$ extends dn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class dl extends dn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return sr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}})})}_setEventListeners(e,n,r,i){for(const[a,s]of r)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":He.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||i$,a=e.style;let s;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(Lb*i))||1,m=d/h;s=Math.min(i,c(m/Lb))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);s=Math.min(i,c(d/Lb))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=He.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class l$ extends dl{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const s=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;s&&a.length>s&&(a=a.slice(0,s));let l=i.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=l??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",l??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),tl.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:m}=this.data,y=!!h&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",x=>{e.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",x=>{const E=this.data.defaultFieldValue??"";r.value=c.userValue=E,c.formattedValue=null});let b=x=>{const{formattedValue:E}=c;E!=null&&(x.target.value=E),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",E=>{if(c.focused)return;const{target:w}=E;if(y&&(w.type=h,m&&(w.step=m)),c.userValue){const S=c.userValue;if(y)if(h==="time"){const N=new Date(S),C=[N.getHours(),N.getMinutes(),N.getSeconds()];w.value=C.map(P=>P.toString().padStart(2,"0")).join(":")}else w.value=new Date(S-a$).toISOString().split(h==="date"?"T":".",1)[0];else w.value=S}c.lastCommittedValue=w.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const w={value(S){c.userValue=S.detail.value??"",y||e.setValue(n,{value:c.userValue.toString()}),S.target.value=c.userValue},formattedValue(S){const{formattedValue:N}=S.detail;c.formattedValue=N,N!=null&&S.target!==document.activeElement&&(S.target.value=N);const C={formattedValue:N};y&&(C.value=N),e.setValue(n,C)},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:N}=S.detail,{target:C}=S;if(N===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",N);let P=c.userValue;!P||P.length<=N||(P=P.slice(0,N),C.value=c.userValue=P,e.setValue(n,{value:P}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(w,E)}),r.addEventListener("keydown",E=>{c.commitKey=1;let w=-1;if(E.key==="Escape"?w=0:E.key==="Enter"&&!this.data.multiLine?w=2:E.key==="Tab"&&(c.commitKey=3),w===-1)return;const{value:S}=E.target;c.lastCommittedValue!==S&&(c.lastCommittedValue=S,c.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:w,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const x=b;b=null,r.addEventListener("blur",E=>{if(!c.focused||!E.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:w}=E;let{value:S}=w;if(y){if(S&&h==="time"){const N=S.split(":").map(C=>parseInt(C,10));S=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),w.step=""}else S.includes("T")||(S=`${S}T00:00`),S=new Date(S).valueOf();w.type="text"}c.userValue=S,c.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:c.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}),x(E)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",E=>{c.lastCommittedValue=null;const{data:w,target:S}=E,{value:N,selectionStart:C,selectionEnd:P}=S;let k=C,D=P;switch(E.inputType){case"deleteWordBackward":{const R=N.substring(0,C).match(/\w*[^\w]*$/);R&&(k-=R[0].length);break}case"deleteWordForward":{const R=N.substring(C).match(/^[^\w]*\w*/);R&&(D+=R[0].length);break}case"deleteContentBackward":C===P&&(k-=1);break;case"deleteContentForward":C===P&&(D+=1);break}E.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:N,change:w||"",willCommit:!1,selStart:k,selEnd:D}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(b&&r.addEventListener("blur",b),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${E}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class u$ extends dl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class c$ extends dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return tl.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,r)){const h=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const l=n.defaultFieldValue||"Off";s.target.checked=l===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class jR extends dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(tl.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:l,checked:c}=s.target;for(const d of this._getElementsByName(l,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const l=n.defaultFieldValue;s.target.checked=l!=null&&l===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=s===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const y=h&&m.id===r;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class d$ extends UE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class h$ extends dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");tl.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const m=this.data.defaultFieldValue;for(const y of i.options)y.selected=y.value===m});for(const h of this.data.options){const m=document.createElement("option");m.textContent=h.displayValue,m.value=h.exportValue,r.value.includes(h.exportValue)&&(m.setAttribute("selected",!0),a=!1),i.append(m)}let s=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),s=()=>{h.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const l=h=>{const m=h?"value":"textContent",{options:y,multiple:b}=i;return b?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let c=l(!1);const d=h=>{const m=h.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const m={value(y){s?.();const b=y.detail.value,x=new Set(Array.isArray(b)?b:[b]);for(const E of i.options)E.selected=x.has(E.value);e.setValue(n,{value:l(!0)}),c=l(!1)},multipleSelection(y){i.multiple=!0},remove(y){const b=i.options,x=y.detail.remove;b[x].selected=!1,i.remove(x),b.length>0&&Array.prototype.findIndex.call(b,w=>w.selected)===-1&&(b[0].selected=!0),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},clear(y){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),c=l(!1)},insert(y){const{index:b,displayValue:x,exportValue:E}=y.detail.insert,w=i.children[b],S=document.createElement("option");S.textContent=x,S.value=E,w?w.before(S):i.append(S),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},items(y){const{items:b}=y.detail;for(;i.length!==0;)i.remove(0);for(const x of b){const{displayValue:E,exportValue:w}=x,S=document.createElement("option");S.textContent=E,S.value=w,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:l(!0),items:d(y)}),c=l(!1)},indices(y){const b=new Set(y.detail.indices);for(const x of y.target.options)x.selected=b.has(x.index);e.setValue(n,{value:l(!0)}),c=l(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,h)}),i.addEventListener("input",h=>{const m=l(!0),y=l(!1);e.setValue(n,{value:m}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class rv extends dn{constructor(e){const{data:n,elements:r,parent:i}=e,a=!!i._commentManager;if(super(e,{isRenderable:!a&&dn._hasPopupData(n)}),this.elements=r,a&&dn._hasPopupData(n)){const s=this.popup=this.#e();for(const l of r)l.popup=s}else this.popup=null}#e(){return new f$({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${hu}${i}`).join(",")),this.container}}class f${#e=null;#t=this.#q.bind(this);#r=this.#F.bind(this);#n=this.#R.bind(this);#s=this.#w.bind(this);#a=null;#i=null;#o=null;#u=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#c=null;#m=null;#y=null;#x=null;#b=null;#T=null;#A=null;#E=null;#C=!1;#v=null;#S=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:l,parent:c,rect:d,parentRect:h,open:m,commentManager:y=null}){this.#i=e,this.#A=i,this.#o=s,this.#T=l,this.#h=c,this.#a=n,this.#b=d,this.#d=h,this.#l=r,this.#e=y,this.#v=r[0],this.#u=X1.toDateObject(a),this.trigger=r.flatMap(b=>b.getElementsToTriggerPopup()),y||(this.#k(),this.#i.hidden=!0,m&&this.#w())}#k(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const n of this.trigger)n.addEventListener("click",this.#s,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#N(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m){this.#m.parentNode||this.#v.container.after(this.#m);return}if(this.#y||this.#N(),!this.#y)return;const{signal:e}=this.#p=new AbortController,n=this.#v.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#m=this.#v.container;for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=this.#m=document.createElement("button");s.className="annotationCommentButton";const l=this.#v.container;s.style.zIndex=l.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#j(),this.#O(),s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),l.after(s)}}#O(){if(this.#v.extraPopupElement&&!this.#v.editor)return;this.#m||this.renderCommentButton();const[e,n]=this.#y,{style:r}=this.#m;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#j(){this.#v.extraPopupElement||(this.#m||this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#v.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=this.#v.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#S||=this.#v.commentText,this.#S}set comment(e){e!==this.comment&&(this.#v.commentText=this.#S=e)}focus(){this.#v.container?.focus()}get parentBoundingClientRect(){return this.#v.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=n)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#x)return this.#x;const{x:e,y:n,height:r}=this.#m.getBoundingClientRect(),{x:i,y:a,width:s,height:l}=this.#v.layer.getBoundingClientRect();return[(e-i)/s,(n+r-a)/l]}set commentPopupPosition(e){this.#x=e}hasDefaultPopupPosition(){return this.#x===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#x||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:s,width:l,height:c}=i;this.#e.showDialog(null,this,a+n*l,s+r*c,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=He.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#A?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#A}if(e.append(n),this.#u){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),r.dateTime=this.#u.toISOString(),n.append(r)}pR({html:this.#P||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#P(){const e=this.#T,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#T.html||null}get#I(){return this.#P?.attributes?.style?.fontSize||0}get#B(){return this.#P?.attributes?.style?.color||null}#M(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#B,fontSize:this.#I?`calc(${this.#I}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#S=null):n&&(n.deleted?this.remove():(this.#j(),this.#S=n.text)),e&&(this.#y=null,this.#N(),this.#O());return}if(r||n?.deleted){this.remove();return}this.#k(),this.#E||={contentsObj:this.#o,richText:this.#T},e&&(this.#c=null),n&&n.text&&(this.#T=this.#M(n.text),this.#u=X1.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#E&&({contentsObj:this.#o,richText:this.#T}=this.#E,this.#E=null,this.#g?.remove(),this.#g=null,this.#c=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#_(){if(this.#c!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#h;let s=!!this.#d,l=s?this.#d:this.#b;for(const x of this.#l)if(!l||He.intersect(x.data.rect,l)!==null){l=x.data.rect,s=!0;break}const c=He.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=s?l[2]-l[0]+5:0,m=c[0]+h,y=c[1];this.#c=[100*(m-i)/n,100*(y-a)/r];const{style:b}=this.#i;b.left=`${this.#c[0]}%`,b.top=`${this.#c[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#R(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#t)):(this.#F(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#t))}#R(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#_(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#C&&(this.#g||this.#R(),this.#C=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class BR extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=at.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class m$ extends dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class p$ extends dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",n-a),s.setAttribute("height",r-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class g$ extends dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",n/2),s.setAttribute("cy",r/2),s.setAttribute("rx",n/2-a/2),s.setAttribute("ry",r/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class FR extends dn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:a,height:s}=this;if(!n)return this.container;const l=this.svgFactory.create(a,s,!0);let c=[];for(let h=0,m=n.length;h<m;h+=2){const y=n[h]-e[0],b=e[3]-n[h+1];c.push(`${y},${b}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class y$ extends FR{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class b$ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class HE extends dn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?at.HIGHLIGHT:at.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:s,width:l,height:c}=this.#r(n,e),d=this.svgFactory.create(l,c,!0),h=this.#e=this.svgFactory.createElement("svg:g");d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",s);for(let m=0,y=r.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#t.push(b),b.setAttribute("points",r[m].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let s=0,l=this.#t.length;s<l;s++)this.#t[s].setAttribute("points",r[s].join(","));if(i){const{transform:s,width:l,height:c}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class UR extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=at.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class x$ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class v$ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class E$ extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class HR extends dn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=at.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class w$ extends dn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=sr.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class zE{#e=null;#t=null;#r=null;#n=new Map;#s=null;#a=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:l,commentManager:c,linkService:d,annotationStorage:h}){this.div=e,this.#e=n,this.#t=r,this.#s=l||null,this.#a=d||null,this.#r=h||new ME,this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;el(r,this.viewport);const i=new Map,a=[],s={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sp,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===_n.POPUP;if(c){const m=i.get(l.id);if(!m)continue;if(!this._commentManager){a.push(l);continue}s.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;s.data=l;const d=qb.create(s);if(!d.isRenderable)continue;if(!c&&(this.#i.push(d),l.popupRef)){const m=i.get(l.popupRef);m?m.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#u();for(const l of a){const c=s.elements=i.get(l.id);s.data=l;const d=qb.create(s);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${hu}${l.id}`,l.hidden&&(h.style.visibility="hidden"),c.at(-1).container.after(h)}this.#l()}async#u(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${hu}${i}`;e.push(this.#s?.getAriaAttributes(a).then(s=>{if(s)for(const[l,c]of s)r.setAttribute(l,c)}))}}this.#i.sort(({data:{rect:[r,i,a,s]}},{data:{rect:[l,c,d,h]}})=>{if(r===a&&i===s)return 1;if(l===d&&c===h)return-1;const m=s,y=i,b=(i+s)/2,x=h,E=c,w=(c+h)/2;if(b>=x&&w<=y)return-1;if(w>=m&&b<=E)return 1;const S=(r+a)/2,N=(l+d)/2;return S-N});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new sp,parent:this};for(const r of e){r.borderStyle||=zE._defaultBorderStyle,n.data=r;const i=qb.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${hu}${r.id}`,this.#i.push(i))}await this.#u()}update({viewport:e}){const n=this.div;this.viewport=e,el(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const s=this.#n.get(n);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),s._hasNoCanvas=!1):s.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,a=new s$({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${hu}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#u()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return ut(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:uu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const pm=/\r\n?|\n/g;class zn extends We{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=zn.prototype,n=a=>a.isEmpty(),r=io.TRANSLATE_SMALL,i=io.TRANSLATE_BIG;return ut(this,"_keyboardManager",new wh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=at.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||zn._defaultColor||We._defaultLineColor,this.#n=e.fontSize||zn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){We.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Et.FREETEXT_SIZE:zn._defaultFontSize=n;break;case Et.FREETEXT_COLOR:zn._defaultColor=n;break}}updateParams(e,n){switch(e){case Et.FREETEXT_SIZE:this.#s(n);break;case Et.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[Et.FREETEXT_SIZE,zn._defaultFontSize],[Et.FREETEXT_COLOR,zn._defaultColor||We._defaultLineColor]]}get propertiesToUpdate(){return[[Et.FREETEXT_SIZE,this.#n],[Et.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Kd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Et.FREETEXT_COLOR}#s(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-zn._internalPadding*e,-(zn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(zn.#u(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,s=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){zn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[m,y]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=e+(s[0]-m)/d,x=n+this.height-(s[1]-y)/h;break;case 90:b=e+(s[0]-m)/d,x=n-(s[1]-y)/h,[l,c]=[c,-l];break;case 180:b=e-this.width+(s[0]-m)/d,x=n-(s[1]-y)/h,[l,c]=[-l,-c];break;case 270:b=e+(s[0]-m-this.height*h)/d,x=n+(s[1]-y-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(b*i,x*a,l,c)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pm,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=zn.#d(n.getData("text")||"").replaceAll(pm,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=s,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(pm,"")),b!==this.editorDiv){let x=d;for(const E of this.editorDiv.childNodes){if(E===b){x=h;continue}x.push(zn.#u(E))}}d.push(l.nodeValue.slice(0,c).replaceAll(pm,""))}else if(l===this.editorDiv){let b=d,x=0;for(const E of this.editorDiv.childNodes)x++===c&&(b=h),b.push(zn.#u(E))}this.#e=`${d.join(`
`)}${i}${h.join(`
`)}`,this.#l();const m=new Range;let y=Math.sumPrecise(d.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(y<=x){m.setStart(b,y),m.setEnd(b,y);break}y-=x}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=zn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof BR){const{data:{defaultAppearanceData:{fontSize:s,fontColor:l},rect:c,rotation:d,id:h,popupRef:m,richText:y,contentsObj:b,creationDate:x,modificationDate:E},textContent:w,textPosition:S,parent:{page:{pageNumber:N}}}=e;if(!w||w.length===0)return null;i=e={annotationType:at.FREETEXT,color:Array.from(l),fontSize:s,value:w.join(`
`),position:S,pageIndex:N-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:m,comment:b?.str||null,richText:y,creationDate:x,modificationDate:E}}const a=await super.deserialize(e,n,r);return a.#n=e.fontSize,a.color=He.makeHexColor(...e.color),a.#e=zn.#d(e.value),a._initialData=i,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=We._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((s,l)=>s!==i[l])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),n.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Be{static PRECISION=1e-4;toSVGPath(){Gt("Abstract method `toSVGPath` must be implemented.")}get box(){Gt("Abstract getter `box` must be implemented.")}serialize(e,n){Gt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)s[l]=n+e[l]*i,s[l+1]=r+e[l+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)s[l]=n+e[l+1]*i,s[l+1]=r+e[l]*a;return s}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}class Bo{#e;#t=[];#r;#n;#s=[];#a=new Float32Array(18);#i;#o;#u;#l;#h;#d;#f=[];static#g=8;static#p=2;static#c=Bo.#g+Bo.#p;constructor({x:e,y:n},r,i,a,s,l=0){this.#e=r,this.#d=a*i,this.#n=s,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=l,this.#l=Bo.#g*i,this.#u=Bo.#c*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#m(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,a,s]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/a,(this.#o+(e[1]-n[1])/2-i)/s,(this.#i+(n[0]-e[0])/2-r)/a,(this.#o+(n[1]-e[1])/2-i)/s]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,a,s]=this.#e;let[l,c,d,h]=this.#a.subarray(8,12);const m=e-d,y=n-h,b=Math.hypot(m,y);if(b<this.#u)return!1;const x=b-this.#l,E=x/b,w=E*m,S=E*y;let N=l,C=c;l=d,c=h,d+=w,h+=S,this.#f?.push(e,n);const P=-S/x,k=w/x,D=P*this.#d,R=k*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+D,h+R],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-D,h-R],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([l+D,c+R],2),this.#s.push(NaN,NaN,NaN,NaN,(l+D-r)/a,(c+R-i)/s),this.#a.set([l-D,c-R],14),this.#t.push(NaN,NaN,NaN,NaN,(l-D-r)/a,(c-R-i)/s)),this.#a.set([N,C,l,c,d,h],6),!this.isEmpty()):(this.#a.set([N,C,l,c,d,h],6),Math.abs(Math.atan2(C-c,N-l)-Math.atan2(S,w))<Math.PI/2?([l,c,d,h]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((l+d)/2-r)/a,((c+h)/2-i)/s),[l,c,N,C]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((N+l)/2-r)/a,((C+c)/2-i)/s),!0):([N,C,l,c,d,h]=this.#a.subarray(0,6),this.#s.push(((N+5*l)/6-r)/a,((C+5*c)/6-i)/s,((5*l+d)/6-r)/a,((5*c+h)/6-i)/s,((l+d)/2-r)/a,((c+h)/2-i)/s),[d,h,l,c,N,C]=this.#a.subarray(12,18),this.#t.push(((N+5*l)/6-r)/a,((C+5*c)/6-i)/s,((5*l+d)/6-r)/a,((5*c+h)/6-i)/s,((l+d)/2-r)/a,((c+h)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#b(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#x(r),r.join(" ")}#y(){const[e,n,r,i]=this.#e,[a,s,l,c]=this.#m();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${a} ${s} L${l} ${c} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#x(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#b(e){const[n,r,i,a]=this.#e,s=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,d,h,m]=this.#m();e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${c} ${d} L${h} ${m} L${(l[0]-n)/i} ${(l[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,s){return new zR(e,n,r,i,a,s)}getOutlines(){const e=this.#s,n=this.#t,r=this.#a,[i,a,s,l]=this.#e,c=new Float32Array((this.#f?.length??0)+2);for(let m=0,y=c.length-2;m<y;m+=2)c[m]=(this.#f[m]-i)/s,c[m+1]=(this.#f[m+1]-a)/l;if(c[c.length-2]=(this.#i-i)/s,c[c.length-1]=(this.#o-a)/l,isNaN(r[6])&&!this.isEmpty())return this.#T(c);const d=new Float32Array(this.#s.length+24+this.#t.length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){d[m]=d[m+1]=NaN;continue}d[m]=e[m],d[m+1]=e[m+1]}h=this.#E(d,h);for(let m=n.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(n[m+y])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=n[m+y],d[h+1]=n[m+y+1],h+=2}return this.#A(d,h),this.newFreeDrawOutline(d,c,this.#e,this.#h,this.#r,this.#n)}#T(e){const n=this.#a,[r,i,a,s]=this.#e,[l,c,d,h]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(m,e,this.#e,this.#h,this.#r,this.#n)}#A(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#E(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,s,l,c]=this.#e,[d,h,m,y]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-s)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-s)/c],n),n+=24}}class zR extends Be{#e;#t=new Float32Array(4);#r;#n;#s;#a;#i;constructor(e,n,r,i,a,s){super(),this.#i=e,this.#s=n,this.#e=r,this.#a=i,this.#r=a,this.#n=s,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(s);const[l,c,d,h]=this.#t;for(let m=0,y=e.length;m<y;m+=2)e[m]=(e[m]-l)/d,e[m+1]=(e[m+1]-c)/h;for(let m=0,y=n.length;m<y;m+=2)n[m]=(n[m]-l)/d,n[m+1]=(n[m+1]-c)/h}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const s=r-e,l=i-n;let c,d;switch(a){case 0:c=Be._rescale(this.#i,e,i,s,-l),d=Be._rescale(this.#s,e,i,s,-l);break;case 90:c=Be._rescaleAndSwap(this.#i,e,n,s,l),d=Be._rescaleAndSwap(this.#s,e,n,s,l);break;case 180:c=Be._rescale(this.#i,r,n,-s,l),d=Be._rescale(this.#s,r,n,-s,l);break;case 270:c=Be._rescaleAndSwap(this.#i,r,i,-s,-l),d=Be._rescaleAndSwap(this.#s,r,i,-s,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const a=[r,i,r,i];let s=r,l=i,c=r,d=i;const h=e?Math.max:Math.min,m=new Float32Array(4);for(let b=6,x=n.length;b<x;b+=6){const E=n[b+4],w=n[b+5];isNaN(n[b])?(He.pointBoundingBox(E,w,a),l>w?(s=E,l=w):l===w&&(s=h(s,E)),d<w?(c=E,d=w):d===w&&(c=h(c,E))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,He.bezierBoundingBox(r,i,...n.slice(b,b+6),m),He.rectBoundingBox(m[0],m[1],m[2],m[3],a),l>m[1]?(s=m[0],l=m[1]):l===m[1]&&(s=h(s,m[0])),d<m[3]?(c=m[2],d=m[3]):d===m[3]&&(c=h(c,m[2]))),r=E,i=w}const y=this.#t;y[0]=a[0]-this.#r,y[1]=a[1]-this.#r,y[2]=a[2]-a[0]+2*this.#r,y[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[s,l],this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,n,r,i,a,s=0){return new Bo(e,n,r,i,a,s)}getNewOutline(e,n){const[r,i,a,s]=this.#t,[l,c,d,h]=this.#e,m=a*d,y=s*h,b=r*d+l,x=i*h+c,E=this.newOutliner({x:this.#s[0]*m+b,y:this.#s[1]*y+x},this.#e,this.#a,e,this.#n,n??this.#r);for(let w=2;w<this.#s.length;w+=2)E.add({x:this.#s[w]*m+b,y:this.#s[w+1]*y+x});return E.getOutlines()}}class iv{#e;#t;#r;#n=[];#s=[];constructor(e,n=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:E,y:w,width:S,height:N}of e){const C=Math.floor((E-n)/s)*s,P=Math.ceil((E+S+n)/s)*s,k=Math.floor((w-n)/s)*s,D=Math.ceil((w+N+n)/s)*s,R=[C,k,D,!0],H=[P,k,D,!1];this.#n.push(R,H),He.rectBoundingBox(C,k,P,D,a)}const l=a[2]-a[0]+2*r,c=a[3]-a[1]+2*r,d=a[0]-r,h=a[1]-r;let m=i?-1/0:1/0,y=1/0;const b=this.#n.at(i?-1:-2),x=[b[0],b[2]];for(const E of this.#n){const[w,S,N,C]=E;!C&&i?S<y?(y=S,m=w):S===y&&(m=Math.max(m,w)):C&&!i&&(S<y?(y=S,m=w):S===y&&(m=Math.min(m,w))),E[0]=(w-d)/l,E[1]=(S-h)/c,E[2]=(N-h)/c}this.#e=new Float32Array([d,h,l,c]),this.#t=[m,y],this.#r=x}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#u(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const s of e){const[l,c,d]=s;n.push([l,c,s],[l,d,s])}n.sort((s,l)=>s[1]-l[1]||s[0]-l[0]);for(let s=0,l=n.length;s<l;s+=2){const c=n[s][2],d=n[s+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[l,c,d,h,m]=s;r.delete(s);let y=l,b=c;for(a=[l,d],i.push(a);;){let x;if(r.has(h))x=h;else if(r.has(m))x=m;else break;r.delete(x),[l,c,d,h,m]=x,y!==l&&(a.push(y,b,l,b===c?c:d),y=l),b=b===c?d:c}a.push(y,b)}return new A$(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#s;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#s.splice(r,0,[e,n])}#u([,e,n]){const r=this.#i(e);for(let i=r;i<this.#s.length;i++){const[a,s]=this.#s[i];if(a!==e)break;if(a===e&&s===n){this.#s.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=this.#s[i];if(a!==e)break;if(a===e&&s===n){this.#s.splice(i,1);return}}}#l(e){const[n,r,i]=e,a=[[n,r,i]],s=this.#i(i);for(let l=0;l<s;l++){const[c,d]=this.#s[l];for(let h=0,m=a.length;h<m;h++){const[,y,b]=a[h];if(!(d<=y||b<=c)){if(y>=c){if(b>d)a[h][1]=d;else{if(m===1)return[];a.splice(h,1),h--,m--}continue}a[h][2]=c,b>d&&a.push([n,d,b])}}}return a}}class A$ extends Be{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const s=n[a],l=n[a+1];s===r?(e.push(`V${l}`),i=l):l===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const s=[],l=r-e,c=i-n;for(const d of this.#t){const h=new Array(d.length);for(let m=0;m<d.length;m+=2)h[m]=e+d[m]*l,h[m+1]=i-d[m+1]*c;s.push(h)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class av extends Bo{newFreeDrawOutline(e,n,r,i,a,s){return new S$(e,n,r,i,a,s)}}class S$ extends zR{newOutliner(e,n,r,i,a,s=0){return new av(e,n,r,i,a,s)}}class bn extends We{#e=null;#t=0;#r;#n=null;#s=null;#a=null;#i=null;#o=0;#u=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#c="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=at.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=bn.prototype;return ut(this,"_keyboardManager",new wh([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||bn._defaultColor,this.#m=e.thickness||bn._defaultThickness,this.opacity=e.opacity||bn._defaultOpacity,this.#r=e.boxes||null,this.#y=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#b(e),this.#v()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#x(),this.#v(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#x(){const e=new iv(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new iv(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#m/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:bn.#S(this.#l.box,(m-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:bn.#S(this.#a.box,m),path:{d:this.#a.toSVGPath()}})}const[a,s,l,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=l,this.height=c;break;case 90:{const[m,y]=this.parentDimensions;this.x=s,this.y=1-a,this.width=l*y/m,this.height=c*m/y;break}case 180:this.x=1-a,this.y=1-s,this.width=l,this.height=c;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-s,this.y=a,this.width=l*y/m,this.height=c*m/y;break}}const{firstPoint:d}=e;this.#f=[(d[0]-a)/l,(d[1]-s)/c];const{lastPoint:h}=this.#a;this.#g=[(h[0]-a)/l,(h[1]-s)/c]}static initialize(e,n){We.initialize(e,n),bn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case Et.HIGHLIGHT_COLOR:bn._defaultColor=n;break;case Et.HIGHLIGHT_THICKNESS:bn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case Et.HIGHLIGHT_COLOR:this.#T(n);break;case Et.HIGHLIGHT_THICKNESS:this.#A(n);break}}static get defaultPropertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,bn._defaultColor],[Et.HIGHLIGHT_THICKNESS,bn._defaultThickness]]}get propertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,this.color||bn._defaultColor],[Et.HIGHLIGHT_THICKNESS,this.#m||bn._defaultThickness],[Et.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#T(e){const n=(a,s)=>{this.color=a,this.opacity=s,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,bn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const n=this.#m,r=i=>{this.#m=i,this.#E(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Ri({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#O())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#v(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#C():e&&(this.#v(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#E(e){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#v(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#u&&(this.#u.style.clipPath=this.#n))}static#S([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=bn.#S(this.#l.box,e)):r=bn.#S([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:bn.#S(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#u=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),yR(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(e){bn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#N(!0);break;case 1:case 3:this.#N(!1);break}}#N(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#N(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#O(){return this.#d?this.rotation:0}#j(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,s=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:m}of a){const y=c*e+r,b=(1-d)*n+i;s[l]=s[l+4]=y,s[l+1]=s[l+3]=b,s[l+2]=s[l+6]=y+h*e,s[l+5]=s[l+7]=b-m*n,l+=8}return s}#P(e){return this.#l.serialize(e,this.#O())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:s,y:l,width:c,height:d}=r.getBoundingClientRect(),h=new AbortController,m=e.combinedSignal(h),y=b=>{h.abort(),this.#B(e,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",mn,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Bi,{signal:m}),r.addEventListener("pointermove",this.#I.bind(this,e),{signal:m}),this._freeHighlight=new av({x:i,y:a},[s,l,c,d],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#I(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof UR){const{data:{quadPoints:x,rect:E,rotation:w,id:S,color:N,opacity:C,popupRef:P,richText:k,contentsObj:D,creationDate:R,modificationDate:H},parent:{page:{pageNumber:G}}}=e;i=e={annotationType:at.HIGHLIGHT,color:Array.from(N),opacity:C,quadPoints:x,boxes:null,pageIndex:G-1,rect:E.slice(0),rotation:w,annotationElementId:S,id:S,deleted:!1,popupRef:P,richText:k,comment:D?.str||null,creationDate:R,modificationDate:H}}else if(e instanceof HE){const{data:{inkLists:x,rect:E,rotation:w,id:S,color:N,borderStyle:{rawWidth:C},popupRef:P,richText:k,contentsObj:D,creationDate:R,modificationDate:H},parent:{page:{pageNumber:G}}}=e;i=e={annotationType:at.HIGHLIGHT,color:Array.from(N),thickness:C,inkLists:x,boxes:null,pageIndex:G-1,rect:E.slice(0),rotation:w,annotationElementId:S,id:S,deleted:!1,popupRef:P,richText:k,comment:D?.str||null,creationDate:R,modificationDate:H}}const{color:a,quadPoints:s,inkLists:l,opacity:c}=e,d=await super.deserialize(e,n,r);d.color=He.makeHexColor(...a),d.opacity=c||1,l&&(d.#m=e.thickness),d._initialData=i,e.comment&&d.setCommentData(e);const[h,m]=d.pageDimensions,[y,b]=d.pageTranslation;if(s){const x=d.#r=[];for(let E=0;E<s.length;E+=8)x.push({x:(s[E]-y)/h,y:1-(s[E+1]-b)/m,width:(s[E+2]-s[E])/h,height:(s[E+1]-s[E+5])/m});d.#x(),d.#v(),d.rotate(d.rotation)}else if(l){d.#d=!0;const x=l[0],E={x:x[0]-y,y:m-(x[1]-b)},w=new av(E,[0,0,h,m],1,d.#m/2,!0,.001);for(let C=0,P=x.length;C<P;C+=2)E.x=x[C]-y,E.y=m-(x[C+1]-b),w.add(E);const{id:S,clipPathId:N}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);d.#b({highlightOutlines:w.getOutlines(),highlightId:S,clipPathId:N}),d.#v(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=We._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#m,quadPoints:this.#j(),outlines:this.#P(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#M(r)?null:(r.id=this.annotationElementId,r)}#M(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class $R{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Gt("Not implemented")}}class Dt extends We{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#u())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(Dt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){Gt("Not implemented")}static get typesMap(){Gt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(Dt.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],s=l=>{i.updateProperty(n,l);const c=this.#e.updateProperty(n,l);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,r),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#u(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#u(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#u(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[n,1-e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[1-n,e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:s,parentDimensions:[l,c]}=this;switch((a*4+s)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(l/c),i*(c/l),r*(l/c)];case 5:return[1-n,e,r*(l/c),i*(c/l)];case 6:return[1-e-i*(c/l),1-n,i*(c/l),r*(l/c)];case 7:return[n-r*(l/c),1-e-i*(c/l),r*(l/c),i*(c/l)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(c/l),n,i*(c/l),r*(l/c)];case 13:return[1-n-r*(l/c),e-i*(c/l),r*(l/c),i*(c/l)];case 14:return[1-e,1-n-r*(l/c),i*(c/l),r*(l/c)];case 15:return[n,1-e,r*(l/c),i*(c/l)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,a){Gt("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:s,offsetY:l,pointerId:c,pointerType:d}=i;if(Pt.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=e,{width:m,height:y}=a.getBoundingClientRect(),b=Dt.#n=new AbortController,x=e.combinedSignal(b);if(Pt.setPointer(d,c),window.addEventListener("pointerup",E=>{Pt.isSamePointerIdOrRemove(E.pointerId)&&this._endDraw(E)},{signal:x}),window.addEventListener("pointercancel",E=>{Pt.isSamePointerIdOrRemove(E.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",E=>{Pt.isSamePointerType(E.pointerType)&&(Pt.initializeAndAddPointerId(E.pointerId),Dt.#r.isCancellable()&&(Dt.#r.removeLastElement(),Dt.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Bi,{signal:x}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),a.addEventListener("touchmove",E=>{Pt.isSameTimeStamp(E.timeStamp)&&mn(E)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),Dt.#r){e.drawLayer.updateProperties(this._currentDrawId,Dt.#r.startNew(s,l,m,y,h));return}n.updateUIForDefaultProperties(this),Dt.#r=this.createDrawerInstance(s,l,m,y,h),Dt.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Dt.#s.toSVGProperties(),Dt.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Pt.isSameTimeStamp(e.timeStamp),!Dt.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(Pt.isSamePointerId(i)){if(Pt.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Dt.#r.add(n,r)),Pt.setTimeStamp(e.timeStamp),mn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Dt.#r=null,Dt.#s=null,Pt.clearPointerType(),Pt.clearTimeStamp()),Dt.#n&&(Dt.#n.abort(),Dt.#n=null,Pt.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,Dt.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=Dt.#r,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:Et.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Et.DRAW_STEP),!Dt.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Dt.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:Dt.#s,mustBeCommitted:!e});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,s){Gt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:l}}=n.viewport,c=this.deserializeDraw(s,l,i,a,this._INNER_MARGIN,e),d=await super.deserialize(e,n,r);return d.createDrawingOptions(e),d.#a({drawOutlines:c}),d.#u(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class T${#e=new Float64Array(6);#t;#r;#n;#s;#a;#i="";#o=0;#u=new Sh;#l;#h;constructor(e,n,r,i,a,s){this.#l=r,this.#h=i,this.#n=a,this.#s=s,[e,n]=this.#d(e,n);const l=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:l,points:this.#a}],this.#e.set(l,0)}updateProperty(e,n){e==="stroke-width"&&(this.#s=n)}#d(e,n){return Be._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,s]=this.#e.subarray(2,6),l=e-a,c=n-s;return Math.hypot(this.#l*l,this.#h*c)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([a,s,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,s,e,n],0),this.#t.push(...Be.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#l=r,this.#h=i,this.#n=a,[e,n]=this.#d(e,n);const s=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const l=this.#r.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#r.push({line:s,points:this.#a}),this.#e.set(s,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#u.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=Be.svgRound(this.#t[4]),n=Be.svgRound(this.#t[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#a.length===4){const i=Be.svgRound(this.#t[10]),a=Be.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,a=this.#t.length;i<a;i+=6){const[s,l,c,d,h,m]=this.#t.slice(i,i+6).map(Be.svgRound);r.push(`C${s} ${l} ${c} ${d} ${h} ${m}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#u.build(this.#r,e,n,r,this.#n,this.#s,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Sh extends Be{#e;#t=0;#r;#n;#s;#a;#i;#o;#u;build(e,n,r,i,a,s,l){this.#s=n,this.#a=r,this.#i=i,this.#o=a,this.#u=s,this.#r=l??0,this.#n=e,this.#d()}get thickness(){return this.#u}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${Be.svgRound(n[4])} ${Be.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${Be.svgRound(n[10])} ${Be.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,s,l,c,d,h]=n.subarray(r,r+6).map(Be.svgRound);e.push(`C${a} ${s} ${l} ${c} ${d} ${h}`)}}return e.join("")}serialize([e,n,r,i],a){const s=[],l=[],[c,d,h,m]=this.#h();let y,b,x,E,w,S,N,C,P;switch(this.#o){case 0:P=Be._rescale,y=e,b=n+i,x=r,E=-i,w=e+c*r,S=n+(1-d-m)*i,N=e+(c+h)*r,C=n+(1-d)*i;break;case 90:P=Be._rescaleAndSwap,y=e,b=n,x=r,E=i,w=e+d*r,S=n+c*i,N=e+(d+m)*r,C=n+(c+h)*i;break;case 180:P=Be._rescale,y=e+r,b=n,x=-r,E=i,w=e+(1-c-h)*r,S=n+d*i,N=e+(1-c)*r,C=n+(d+m)*i;break;case 270:P=Be._rescaleAndSwap,y=e+r,b=n+i,x=-r,E=-i,w=e+(1-d-m)*r,S=n+(1-c-h)*i,N=e+(1-d)*r,C=n+(1-c)*i;break}for(const{line:k,points:D}of this.#n)s.push(P(k,y,b,x,E,a?new Array(k.length):null)),l.push(P(D,y,b,x,E,a?new Array(D.length):null));return{lines:s,points:l,rect:[w,S,N,C]}}static deserialize(e,n,r,i,a,{paths:{lines:s,points:l},rotation:c,thickness:d}){const h=[];let m,y,b,x,E;switch(c){case 0:E=Be._rescale,m=-e/r,y=n/i+1,b=1/r,x=-1/i;break;case 90:E=Be._rescaleAndSwap,m=-n/i,y=-e/r,b=1/i,x=1/r;break;case 180:E=Be._rescale,m=e/r+1,y=-n/i,b=-1/r,x=1/i;break;case 270:E=Be._rescaleAndSwap,m=n/i+1,y=e/r+1,b=-1/i,x=-1/r;break}if(!s){s=[];for(const S of l){const N=S.length;if(N===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(N===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const C=new Float32Array(3*(N-2));s.push(C);let[P,k,D,R]=S.subarray(0,4);C.set([NaN,NaN,NaN,NaN,P,k],0);for(let H=4;H<N;H+=2){const G=S[H],X=S[H+1];C.set(Be.createBezierPoints(P,k,D,R,G,X),(H-2)*3),[P,k,D,R]=[D,R,G,X]}}}for(let S=0,N=s.length;S<N;S++)h.push({line:E(s[S].map(C=>C??NaN),m,y,b,x),points:E(l[S].map(C=>C??NaN),m,y,b,x)});const w=new this.prototype.constructor;return w.build(h,r,i,1,c,d,a),w}#l(e=this.#u){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#s,n/this.#a]:[n/this.#a,n/this.#s]}#h(){const[e,n,r,i]=this.#e,[a,s]=this.#l(0);return[e+a,n+s,r-2*a,i-2*s]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let l=4,c=i.length;l<c;l+=6)He.pointBoundingBox(i[l],i[l+1],e);continue}let a=i[4],s=i[5];for(let l=6,c=i.length;l<c;l+=6){const[d,h,m,y,b,x]=i.subarray(l,l+6);He.bezierBoundingBox(a,s,d,h,m,y,b,x,e),a=b,s=x}}const[n,r]=this.#l();e[0]=vr(e[0]-n,0,1),e[1]=vr(e[1]-r,0,1),e[2]=vr(e[2]+n,0,1),e[3]=vr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#u=e;const[i,a]=this.#l(),[s,l]=[i-n,a-r],c=this.#e;return c[0]-=s,c[1]-=l,c[2]+=2*s,c[3]+=2*l,c}updateParentDimensions([e,n],r){const[i,a]=this.#l();this.#s=e,this.#a=n,this.#i=r;const[s,l]=this.#l(),c=s-i,d=l-a,h=this.#e;return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Be.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Be.svgRound(e)} ${Be.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,s=0,l=0,c=0;switch(this.#t){case 90:i=n/e,a=-e/n,l=e;break;case 180:r=-1,s=-1,l=e,c=n;break;case 270:i=-n/e,a=e/n,c=n;break;default:return""}return`matrix(${r} ${i} ${a} ${s} ${Be.svgRound(l)} ${Be.svgRound(c)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,s]=this.#l(),[l,c,d,h]=this.#e;if(Math.abs(d-a)<=Be.PRECISION||Math.abs(h-s)<=Be.PRECISION){const E=e+r/2-(l+d/2),w=n+i/2-(c+h/2);return{path:{"transform-origin":`${Be.svgRound(e)} ${Be.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${w})`}}}const m=(r-2*a)/(d-2*a),y=(i-2*s)/(h-2*s),b=d/r,x=h/i;return{path:{"transform-origin":`${Be.svgRound(l)} ${Be.svgRound(c)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${Be.svgRound(a)} ${Be.svgRound(s)}) scale(${m} ${y}) translate(${Be.svgRound(-a)} ${Be.svgRound(-s)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,s]=this.#l(),l=this.#e,[c,d,h,m]=l;if(l[0]=e,l[1]=n,l[2]=r,l[3]=i,Math.abs(h-a)<=Be.PRECISION||Math.abs(m-s)<=Be.PRECISION){const w=e+r/2-(c+h/2),S=n+i/2-(d+m/2);for(const{line:N,points:C}of this.#n)Be._translate(N,w,S,N),Be._translate(C,w,S,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Be.svgRound(e)} ${Be.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(r-2*a)/(h-2*a),b=(i-2*s)/(m-2*s),x=-y*(c+a)+e+a,E=-b*(d+s)+n+s;if(y!==1||b!==1||x!==0||E!==0)for(const{line:w,points:S}of this.#n)Be._rescale(w,x,E,y,b,w),Be._rescale(S,x,E,y,b,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Be.svgRound(e)} ${Be.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,s=this.#e,l=e-s[0],c=n-s[1];if(this.#s===i&&this.#a===a)for(const{line:d,points:h}of this.#n)Be._translate(d,l,c,d),Be._translate(h,l,c,h);else{const d=this.#s/i,h=this.#a/a;this.#s=i,this.#a=a;for(const{line:m,points:y}of this.#n)Be._rescale(m,l,c,d,h,m),Be._rescale(y,l,c,d,h,y);s[2]*=d,s[3]*=h}return s[0]=e,s[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Be.svgRound(e)} ${Be.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Be.svgRound(e[0])} ${Be.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class pg extends $R{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:We._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new pg(this._viewParameters);return e.updateAll(this),e}}class $E extends Dt{static _type="ink";static _editorType=at.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){We.initialize(e,n),this._defaultDrawingOptions=new pg(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ut(this,"typesMap",new Map([[Et.INK_THICKNESS,"stroke-width"],[Et.INK_COLOR,"stroke"],[Et.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new T$(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,s){return Sh.deserialize(e,n,r,i,a,s)}static async deserialize(e,n,r){let i=null;if(e instanceof HE){const{data:{inkLists:s,rect:l,rotation:c,id:d,color:h,opacity:m,borderStyle:{rawWidth:y},popupRef:b,richText:x,contentsObj:E,creationDate:w,modificationDate:S},parent:{page:{pageNumber:N}}}=e;i=e={annotationType:at.INK,color:Array.from(h),thickness:y,opacity:m,paths:{points:s},boxes:null,pageIndex:N-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:x,comment:E?.str||null,creationDate:w,modificationDate:S}}const a=await super.deserialize(e,n,r);return a._initialData=i,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new Kd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Et.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=$E.getDefaultDrawingOptions({stroke:He.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":s}}=this,l=Object.assign(super.serialize(e),{color:We._colorManager.convert(i),opacity:a,thickness:s,paths:{lines:n,points:r}});return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((s,l)=>s!==n[l])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class sv extends Sh{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const gm=8,od=3;class du{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,a,s,l){const c=this.#t(r,i,a,s);for(let d=0;d<8;d++){const h=(-d+c-l+16)%8,m=this.#r[2*h],y=this.#r[2*h+1];if(e[(r+m)*n+(i+y)]!==0)return h}return-1}static#s(e,n,r,i,a,s,l){const c=this.#t(r,i,a,s);for(let d=0;d<8;d++){const h=(d+c+l+16)%8,m=this.#r[2*h],y=this.#r[2*h+1];if(e[(r+m)*n+(i+y)]!==0)return h}return-1}static#a(e,n,r,i){const a=e.length,s=new Int32Array(a);for(let h=0;h<a;h++)s[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)s[h*n]=s[h*n+n-1]=0;for(let h=0;h<n;h++)s[h]=s[n*r-1-h]=0;let l=1,c;const d=[];for(let h=1;h<r-1;h++){c=1;for(let m=1;m<n-1;m++){const y=h*n+m,b=s[y];if(b===0)continue;let x=h,E=m;if(b===1&&s[y-1]===0)l+=1,E-=1;else if(b>=1&&s[y+1]===0)l+=1,E+=1,b>1&&(c=b);else{b!==1&&(c=Math.abs(b));continue}const w=[m,h],S=E===m+1,N={isHole:S,points:w,id:l,parent:0};d.push(N);let C;for(const B of d)if(B.id===c){C=B;break}C?C.isHole?N.parent=S?C.parent:c:N.parent=S?c:C.parent:N.parent=S?c:0;const P=this.#n(s,n,h,m,x,E,0);if(P===-1){s[y]=-l,s[y]!==1&&(c=Math.abs(s[y]));continue}let k=this.#r[2*P],D=this.#r[2*P+1];const R=h+k,H=m+D;x=R,E=H;let G=h,X=m;for(;;){const B=this.#s(s,n,G,X,x,E,1);k=this.#r[2*B],D=this.#r[2*B+1];const F=G+k,Z=X+D;w.push(Z,F);const K=G*n+X;if(s[K+1]===0?s[K]=-l:s[K]===1&&(s[K]=l),F===h&&Z===m&&G===R&&X===H){s[y]!==1&&(c=Math.abs(s[y]));break}else x=G,E=X,G=F,X=Z}}}return d}static#i(e,n,r,i){if(r-n<=4){for(let R=n;R<r-2;R+=2)i.push(e[R],e[R+1]);return}const a=e[n],s=e[n+1],l=e[r-4]-a,c=e[r-3]-s,d=Math.hypot(l,c),h=l/d,m=c/d,y=h*s-m*a,b=c/l,x=1/d,E=Math.atan(b),w=Math.cos(E),S=Math.sin(E),N=x*(Math.abs(w)+Math.abs(S)),C=x*(1-N+N**2),P=Math.max(Math.atan(Math.abs(S+w)*C),Math.atan(Math.abs(S-w)*C));let k=0,D=n;for(let R=n+2;R<r-2;R+=2){const H=Math.abs(y-h*e[R+1]+m*e[R]);H>k&&(D=R,k=H)}k>(d*P)**2?(this.#i(e,n,D+2,i),this.#i(e,D,r,i)):i.push(a,s)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#u(e,n,r,i,a,s){const l=new Float32Array(s**2),c=-2*i**2,d=s>>1;for(let E=0;E<s;E++){const w=(E-d)**2;for(let S=0;S<s;S++)l[E*s+S]=Math.exp((w+(S-d)**2)/c)}const h=new Float32Array(256),m=-2*a**2;for(let E=0;E<256;E++)h[E]=Math.exp(E**2/m);const y=e.length,b=new Uint8Array(y),x=new Uint32Array(256);for(let E=0;E<r;E++)for(let w=0;w<n;w++){const S=E*n+w,N=e[S];let C=0,P=0;for(let D=0;D<s;D++){const R=E+D-d;if(!(R<0||R>=r))for(let H=0;H<s;H++){const G=w+H-d;if(G<0||G>=n)continue;const X=e[R*n+G],B=l[D*s+H]*h[Math.abs(X-N)];C+=X*B,P+=B}}const k=b[S]=Math.round(C/P);x[k]++}return[b,x]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let l=0,c=r.length;l<c;l++){const d=r[l]=e[l<<2];i=Math.max(i,d),a=Math.min(a,d)}const s=255/(i-a);for(let l=0,c=r.length;l<c;l++)r[l]=(r[l]-a)*s;return r}static#d(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(c=>c!==0);let s=a,l=a;for(n=a;n<256;n++){const c=e[n];c>r&&(n-s>i&&(i=n-s,l=n-1),r=c,s=n)}for(n=l-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:a}=this.#e;let s=r,l=i;if(r>a||i>a){let y=r,b=i,x=Math.log2(Math.max(r,i)/a);const E=Math.floor(x);x=x===E?E-1:E;for(let S=0;S<x;S++){s=Math.ceil(y/2),l=Math.ceil(b/2);const N=new OffscreenCanvas(s,l);N.getContext("2d").drawImage(e,0,0,y,b,0,0,s,l),y=s,b=l,e!==n&&e.close(),e=N.transferToImageBitmap()}const w=Math.min(a/s,a/l);s=Math.round(s*w),l=Math.round(l*w)}const d=new OffscreenCanvas(s,l).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,s,l),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,s,l);const h=d.getImageData(0,0,s,l).data;return[this.#h(h),s,l]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,s,l,c){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const m=200,y=h.font=`${r} ${i} ${m}px ${n}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:x,actualBoundingBoxAscent:E,actualBoundingBoxDescent:w,fontBoundingBoxAscent:S,fontBoundingBoxDescent:N,width:C}=h.measureText(e),P=1.5,k=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||0,C)*P),D=Math.ceil(Math.max(Math.abs(E)+Math.abs(w)||m,Math.abs(S)+Math.abs(N)||m)*P);d=new OffscreenCanvas(k,D),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=y,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,D),h.fillStyle="black",h.fillText(e,k*(P-1)/2,D*(3-P)/2);const R=this.#h(h.getImageData(0,0,k,D).data),H=this.#l(R),G=this.#d(H),X=this.#a(R,k,D,G);return this.processDrawnLines({lines:{curves:X,width:k,height:D},pageWidth:a,pageHeight:s,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[s,l,c]=this.#f(e),[d,h]=this.#u(s,l,c,Math.hypot(l,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#d(h),y=this.#a(d,l,c,m);return this.processDrawnLines({lines:{curves:y,width:l,height:c},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:s,areContours:l}){i%180!==0&&([n,r]=[r,n]);const{curves:c,width:d,height:h}=e,m=e.thickness??0,y=[],b=Math.min(n/d,r/h),x=b/n,E=b/r,w=[];for(const{points:N}of c){const C=s?this.#o(N):N;if(!C)continue;w.push(C);const P=C.length,k=new Float32Array(P),D=new Float32Array(3*(P===2?2:P-2));if(y.push({line:D,points:k}),P===2){k[0]=C[0]*x,k[1]=C[1]*E,D.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[R,H,G,X]=C;R*=x,H*=E,G*=x,X*=E,k.set([R,H,G,X],0),D.set([NaN,NaN,NaN,NaN,R,H],0);for(let B=4;B<P;B+=2){const F=k[B]=C[B]*x,Z=k[B+1]=C[B+1]*E;D.set(Be.createBezierPoints(R,H,G,X,F,Z),(B-2)*3),[R,H,G,X]=[G,X,F,Z]}}if(y.length===0)return null;const S=l?new sv:new Sh;return S.build(y,n,r,1,i,l?0:m,a),{outline:S,newCurves:w,areContours:l,thickness:m,width:d,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let s=1/0,l=-1/0,c=0;for(const C of e){c+=C.length;for(let P=2,k=C.length;P<k;P++){const D=C[P]-C[P-2];s=Math.min(s,D),l=Math.max(l,D)}}let d;s>=-128&&l<=127?d=Int8Array:s>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const h=e.length,m=gm+od*h,y=new Uint32Array(m);let b=0;y[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*d.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=i,y[b++]=a,y[b++]=n?0:1,y[b++]=Math.max(0,Math.floor(r??0)),y[b++]=h,y[b++]=d.BYTES_PER_ELEMENT;for(const C of e)y[b++]=C.length-2,y[b++]=C[0],y[b++]=C[1];const x=new CompressionStream("deflate-raw"),E=x.writable.getWriter();await E.ready,E.write(y);const w=d.prototype.constructor;for(const C of e){const P=new w(C.length-2);for(let k=2,D=C.length;k<D;k++)P[k-2]=C[k]-C[k-2];E.write(P)}E.close();const S=await new Response(x.readable).arrayBuffer(),N=new Uint8Array(S);return fR(N)}static async decompressSignature(e){try{const n=zH(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,l=0;for await(const C of r)s||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),s.set(C,l),l+=C.length;const c=new Uint32Array(s.buffer,0,s.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=c[2],m=c[3],y=c[4]===0,b=c[5],x=c[6],E=c[7],w=[],S=(gm+od*x)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(E){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(s.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(s.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(s.buffer,S);break}l=0;for(let C=0;C<x;C++){const P=c[od*C+gm],k=new Float32Array(P+2);w.push(k);for(let D=0;D<od-1;D++)k[D]=c[od*C+gm+D+1];for(let D=0;D<P;D++)k[D+2]=k[D]+N[l++]}return{areContours:y,thickness:b,outlines:w,width:h,height:m}}catch(n){return rt(`decompressSignature: ${n}`),null}}}class qE extends $R{constructor(){super(),super.updateProperties({fill:We._defaultLineColor,"stroke-width":0})}clone(){const e=new qE;return e.updateAll(this),e}}class YE extends pg{constructor(e){super(e),super.updateProperties({stroke:We._defaultLineColor,"stroke-width":1})}clone(){const e=new YE(this._viewParameters);return e.updateAll(this),e}}class da extends Dt{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=at.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){We.initialize(e,n),this._defaultDrawingOptions=new qE,this._defaultDrawnSignatureOptions=new YE(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return ut(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:s,description:l,uuid:c,heightInPage:d}=this.#r,{rawDims:{pageWidth:h,pageHeight:m},rotation:y}=this.parent.viewport,b=du.processDrawnLines({lines:i,pageWidth:h,pageHeight:m,rotation:y,innerMargin:da._INNER_MARGIN,mustSmooth:a,areContours:s});this.addSignature(b,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:a}=this.#r,s=Math.max(i,a),l=du.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:r,width:i,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:a,y:s}=this,{outline:l}=this.#r=e;this.#e=l instanceof sv,this.description=r;let c;this.#e?c=da.getDefaultDrawingOptions():(c=da._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,d]=this.pageDimensions;let h=n/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return du.process(e,n,r,i,da._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return du.extractContoursFromText(e,n,r,i,a,da._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return du.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:da._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=da.getDefaultDrawingOptions():(this._drawingOptions=da._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(a),e?(a.paths={lines:n,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,a,s){return s.areContours?sv.deserialize(e,n,r,i,a,s):Sh.deserialize(e,n,r,i,a,s)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class _$ extends We{#e=null;#t=null;#r=null;#n=null;#s=null;#a="";#i=null;#o=!1;#u=null;#l=!1;#h=!1;static _type="stamp";static _editorType=at.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){We.initialize(e,n)}static isHandlingMimeForPasting(e){return Q1.includes(e)}static paste(e,n){n.pasteEditor({mode:at.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#p()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:s}=e||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:a,height:s,channels:i.length/(a*s)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Q1.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const e=200;this.#u=setTimeout(()=>{this.#u=null,this.#m()},e)}#p(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>s*i||r>s*a){const c=Math.min(s*i/n,s*a/r);n*=c,r*=c}this._uiManager.enableWaiting(!1);const l=this.#i=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=n/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,s=new Ea;let l=this.#e,c=i,d=a,h=null;if(n){if(i>n||a>n){const D=Math.min(n/i,n/a);c=Math.floor(i*D),d=Math.floor(a*D)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*s.sx),b=h.height=Math.ceil(d*s.sy);this.#l||(l=this.#c(y,b));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let E="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":WH.isDarkMode&&(E="#8f8f9d",w="#42414d");const S=15,N=S*s.sx,C=S*s.sy,P=new OffscreenCanvas(N*2,C*2),k=P.getContext("2d");k.fillStyle=E,k.fillRect(0,0,N*2,C*2),k.fillStyle=w,k.fillRect(0,0,N,C),k.fillRect(N,C,N,C),x.fillStyle=x.createPattern(P,"repeat"),x.fillRect(0,0,y,b),x.drawImage(l,0,0,l.width,l.height,0,0,y,b)}let m=null;if(r){let y,b;if(s.symmetric&&l.width<e&&l.height<e)y=l.width,b=l.height;else if(l=this.#e,i>e||a>e){const w=Math.min(e/i,e/a);y=Math.floor(i*w),b=Math.floor(a*w),this.#l||(l=this.#c(y,b))}const E=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,y,b),m={width:y,height:b,data:E.getImageData(0,0,y,b).data}}return{canvas:h,width:c,height:d,imageData:m}}#c(e,n){const{width:r,height:i}=this.#e;let a=r,s=i,l=this.#e;for(;a>2*e||s>2*n;){const c=a,d=s;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(a,s);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,s),l=h.transferToImageBitmap()}return l}#m(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new Ea,s=Math.ceil(r*e*a.sx),l=Math.ceil(i*n*a.sy),c=this.#i;if(!c||c.width===s&&c.height===l)return;c.width=s,c.height=l;const d=this.#l?this.#e:this.#c(s,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,s,l)}#y(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*ku.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ku.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,a);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,a=!1;if(e instanceof HR){const{data:{rect:E,rotation:w,id:S,structParent:N,popupRef:C,richText:P,contentsObj:k,creationDate:D,modificationDate:R},container:H,parent:{page:{pageNumber:G}},canvas:X}=e;let B,F;X?(delete e.canvas,{id:B,bitmap:F}=r.imageManager.getFromCanvas(H.id,X),X.remove()):(a=!0,e._hasNoCanvas=!0);const Z=(await n._structTree.getAriaAttributes(`${hu}${S}`))?.get("aria-label")||"";i=e={annotationType:at.STAMP,bitmapId:B,bitmap:F,pageIndex:G-1,rect:E.slice(0),rotation:w,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:N,popupRef:C,richText:P,comment:k?.str||null,creationDate:D,modificationDate:R}}const s=await super.deserialize(e,n,r),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:m,accessibilityData:y}=e;a?(r.addMissingCanvas(e.id,s),s.#o=!0):h&&r.imageManager.isValidId(h)?(s.#t=h,c&&(s.#e=c)):s.#n=d,s.#l=m;const[b,x]=s.pageDimensions;return s.width=(l[2]-l[0])/b,s.height=(l[3]-l[1])/x,y&&(s.altTextData=y),s._initialData=i,e.comment&&s.setCommentData(e),s.#h=!!i,s}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#y(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=this.#x(r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const s=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#y(!1);else if(this.#l){const l=n.stamps.get(this.#t);s>l.area&&(l.area=s,l.serialized.bitmap.close(),l.serialized.bitmap=this.#y(!1))}return r}#x(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Wa{#e;#t=!1;#r=null;#n=null;#s=null;#a=new Map;#i=!1;#o=!1;#u=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#c;static _initialized=!1;static#m=new Map([zn,$E,_$,bn,da].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:l,textLayer:c,viewport:d,l10n:h}){const m=[...Wa.#m.values()];if(!Wa._initialized){Wa._initialized=!0;for(const y of m)y.initialize(h,e)}e.registerEditorTypes(m),this.#c=e,this.pageIndex=n,this.div=r,this.#e=a,this.#r=s,this.viewport=d,this.#d=c,this.drawLayer=l,this._structTree=i,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===at.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#E(),e){case at.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case at.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case at.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===at.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of Wa.#m.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#y(){return this.#a.size!==0?this.#a.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#y)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#c.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#c.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#c.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,h=this.#p;if(d-h>500){this.#p=d;return}this.#p=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(l,c);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const x=new RegExp(`^${Yd}[0-9]+$`);for(const w of y)if(x.test(w.id)){b=w.id;break}if(!b)return;const E=this.#a.get(b);E?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,a=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const s=e.getEditableAnnotations();for(const l of s){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=i.get(c),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#E(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Wa.#m.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#x.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#x(e){this.#c.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=sr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#c.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),bn.startHighlighting(this,this.#c.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#c.isDeletedAnnotationElement(n)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),We.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#u),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#c.getId()}get#b(){return Wa.#m.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#T(e){const n=this.#b;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#A(),a=this.getNextId(),s=this.#T({parent:this,id:a,x:r,y:i,uiManager:this.#c,isCentered:!0,...n});s&&this.add(s)}async deserialize(e){return await Wa.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#T({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+i),d=(a+l)/2-e,h=(s+c)/2-n,[m,y]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:m,offsetY:y}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#c.getMode();if(r===at.STAMP||r===at.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===at.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const r=this.#c.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#b.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#c.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#E(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,el(this.div,e);for(const n of this.#c.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#E();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,el(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#c.viewParameters.realScale}}class nr{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return ut(this,"_svgFactory",new sp)}static#s(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`}#a(){const e=nr._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=nr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=nr._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=nr.#n++,a=this.#a(),s=nr._svgFactory.createElement("defs");a.append(s);const l=nr._svgFactory.createElement("path");s.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,l);const d=r?this.#i(s,c):null,h=nr._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,n){const r=nr.#n++,i=this.#a(),a=nr._svgFactory.createElement("defs");i.append(a);const s=nr._svgFactory.createElement("path");a.append(s);const l=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",l),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const m=nr._svgFactory.createElement("mask");a.append(m),c=`mask_p${this.pageIndex}_${r}`,m.setAttribute("id",c),m.setAttribute("maskUnits","objectBoundingBox");const y=nr._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=nr._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=nr._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return i.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,l=typeof e=="number"?this.#t.get(e):e;if(l){if(r&&this.#o(l,r),i&&nr.#s(l,i),a){const{classList:c}=l;for(const[d,h]of Object.entries(a))c.toggle(d,h)}if(s){const d=l.firstChild.firstChild;this.#o(d,s)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:iv};globalThis.pdfjsLib={AbortException:ro,AnnotationEditorLayer:Wa,AnnotationEditorParamsType:Et,AnnotationEditorType:at,AnnotationEditorUIManager:io,AnnotationLayer:zE,AnnotationMode:Zs,AnnotationType:_n,applyOpacity:XH,build:n$,ColorPicker:Ri,createValidAbsoluteUrl:uR,CSSConstants:KH,DOMSVGFactory:sp,DrawLayer:nr,FeatureTest:sr,fetchData:xh,findContrastColor:QH,getDocument:PR,getFilenameFromUrl:$H,getPdfFilenameFromUrl:qH,getRGB:Eh,getUuid:hR,getXfaPageViewport:VH,GlobalWorkerOptions:Eu,ImageKind:Hm,InvalidPDFException:K1,isDataScheme:hg,isPdfFile:PE,isValidExplicitDest:oz,MathClamp:vr,noContextMenu:Bi,normalizeUnicode:UH,OPS:Vd,OutputScale:Ea,PasswordResponses:DH,PDFDataRangeTransport:RR,PDFDateString:X1,PDFWorker:Wd,PermissionFlag:kH,PixelsPerInch:ku,RenderingCancelledException:DE,renderRichText:pR,ResponseException:ip,setLayerDimensions:el,shadow:ut,SignatureExtractor:du,stopEvent:mn,SupportedImageMimeTypes:Q1,TextLayer:br,TouchManager:fg,updateUrlHash:cR,Util:He,VerbosityLevel:ug,version:LR,XfaLayer:mR};Eu.workerSrc=`https://unpkg.com/pdfjs-dist@${LR}/build/pdf.worker.min.mjs`;const Vs="https://yu.xingke888.com";function C$(){const t=ul(),{user:e}=hs(),[n,r]=_.useState(null),[i,a]=_.useState(""),[s,l]=_.useState(`<image>
<|grounding|>Convert the document to markdown.`),[c,d]=_.useState(!1),[h,m]=_.useState(!1),[y,b]=_.useState(""),[x,E]=_.useState(""),[w,S]=_.useState(!1),[N,C]=_.useState(""),[P,k]=_.useState([]),[D,R]=_.useState(null),[H,G]=_.useState(""),[X,B]=_.useState({step:0,message:"",percentage:0}),[F,Z]=_.useState(!1),[K,ne]=_.useState(!1),[L,q]=_.useState({step:0,message:"",percentage:0}),[oe,ve]=_.useState([]),[U,z]=_.useState(!1),[J,M]=_.useState(new Set),[Ee,Y]=_.useState(!1),[re,he]=_.useState(null),[Pe,ie]=_.useState(!1),[Re,je]=_.useState(!1),ae=_.useRef(new Set),ze=_.useRef(new Set),Me=_.useRef(new Map),Qe=async ce=>{try{console.log(" PDF...");const _e=await ce.arrayBuffer(),De=await PR({data:_e}).promise;console.log(` PDF: ${De.numPages}`);const Le=Math.min(De.numPages,5);for(let $e=1;$e<=Le;$e++){const pn=(await(await De.getPage($e)).getTextContent()).items.map(s0=>s0.str).join(" "),gr=/<table|<tr|<td/i.test(pn),Kn=/||||||/i.test(pn),Nr=(pn.match(/\d/g)||[]).length,vs=pn.length,Es=vs>0?Nr/vs:0;if(console.log(` ${$e}: =${vs}, =${Es.toFixed(2)}, =${Kn}`),gr||Kn&&Es>.15)return console.log(` ${$e}`),!0}return console.log(" "),!1}catch(_e){return console.error("PDF:",_e),!0}},Te=async ce=>{const _e=ce.target.files?.[0];if(_e){if(_e.type!=="application/pdf"){alert("PDF");return}_e.createdAt=new Date().toISOString(),r(_e);const De=URL.createObjectURL(_e);if(C(De),m(!0),!await Qe(_e)){alert("PDF"),r(null),C(""),m(!1);return}console.log(" PDF..."),Ie(_e)}},Ie=async ce=>{m(!0),S(!1),R(null),a(""),b(""),E(""),Y(!1),ie(!1),q({step:0,message:"",percentage:0});try{const _e=new FormData;_e.append("file",ce);const Le=await(await fetch(`${Vs}/api/upload`,{method:"POST",body:_e})).json();Le.status==="success"?(a(Le.file_path),m(!1)):(m(!1),r(null),alert(""))}catch(_e){console.error("Upload error:",_e),m(!1),r(null),alert("")}},At=()=>{r(null),C(""),a(""),S(!1),R(null),b(""),E(""),B({step:0,message:""}),Y(!1),ie(!1),q({step:0,message:"",percentage:0})},ct=async()=>{if(e?.id)try{console.log(" ...");const _e=await(await fetch(`/api/ocr/documents/pending/?user_id=${e.id}`)).json();if(_e.status==="success"&&_e.count>0){console.log(`  ${_e.count} `);const De=_e.data.map($e=>{const ft={ocr_pending:5,pending:10,extracting_basic_info:20,basic_info_completed:30,extracting_tablesummary:40,tablesummary_completed:50,extracting_table:60,table_completed:70,extracting_wellness_table:75,wellness_table_completed:80,extracting_summary:90,all_completed:100}[$e.processing_stage]||10;let pn="running";return $e.processing_stage==="all_completed"||$e.status==="completed"?pn="finished":ft>=10&&ft<100&&(pn="processing"),{task_id:$e.id.toString(),file_name:$e.file_name,file_size:0,state:pn,progress:ft,created_at:$e.created_at,processing_stage:$e.processing_stage,result_dir:null}});ve(De),Je(De),De.filter($e=>$e.state!=="finished").length>0&&z(!0)}else console.log(" ")}catch(ce){console.error(" :",ce)}};_.useEffect(()=>{const ce=localStorage.getItem("backgroundTasks");if(ce){const _e=JSON.parse(ce);ve(_e),_e.forEach(De=>{De.state!=="finished"&&De.state!=="error"&&It(De.task_id)})}return ct(),()=>{Me.current.forEach((_e,De)=>{console.log("SSE:",De),_e.close()}),Me.current.clear()}},[e]),_.useEffect(()=>{if(Re){console.log(" ");return}H&&w&&!Pe&&!F&&(console.log(" OCR"),ie(!0),setTimeout(()=>{gi()},1e3))},[H,w,Pe,F,Re]);const Je=ce=>{localStorage.setItem("backgroundTasks",JSON.stringify(ce))},Tt=ce=>{console.log(" :",ce);const _e=setInterval(async()=>{try{const Le=await(await fetch(`${Vs}/api/progress/${ce}`)).json();if(Le.status==="success"){const $e=Le.progress||0;console.log(`: ${$e}%`),B({step:$e>=100?4:$e>=60?3:$e>=30?2:1,message:$e>=100?"":`... ${$e}%`,percentage:$e}),be(ce,{progress:$e,state:Le.state==="finished"?"finished":"running"}),(Le.state==="finished"||$e>=100)&&(clearInterval(_e),console.log(" "),tt(ce))}else Le.status==="error"&&(clearInterval(_e),console.error(" :",Le.message),be(ce,{state:"error",error:Le.message}))}catch(De){console.error(":",De)}},5e3);setTimeout(()=>{clearInterval(_e),console.log(" ")},3e5)},jt=ce=>{Me.current.has(ce)&&(console.log("SSE:",ce),Me.current.get(ce).close());const _e=`${Vs}/api/stream/progress/${ce}`;console.log("SSE:",_e);const De=new EventSource(_e);let Le=!1;return De.onopen=()=>{console.log("SSE:",ce)},De.onmessage=$e=>{try{const xt=JSON.parse($e.data);if(console.log("SSE:",xt),xt.task_id===ce){const ft=xt.progress||0;B(pn=>({step:ft>=100?4:ft>=60?3:ft>=30?2:1,message:ft>=100?"":`... ${ft}%`,percentage:ft})),be(ce,{progress:ft,state:ft>=100?"finished":"running"}),ft>=100&&!Le&&(Le=!0,console.log(":",ce),tt(ce),De.close(),Me.current.delete(ce))}}catch(xt){console.error("SSE:",xt)}},De.onerror=$e=>{console.error("SSE:",$e),De.close(),Me.current.delete(ce),console.log(" SSE:",ce),Tt(ce)},Me.current.set(ce,De),De},It=async ce=>{try{const De=await(await fetch(`${Vs}/api/progress/${ce}`)).json();De.status==="success"&&(De.state==="finished"?tt(ce):De.state!=="error"&&jt(ce))}catch(_e){console.error(":",_e)}},tt=async ce=>{if(J.has(ce)){console.log(":",ce);return}M(_e=>new Set(_e).add(ce));try{const De=await(await fetch(`${Vs}/api/result/${ce}`)).json();De.status==="success"&&De.state==="finished"&&(be(ce,{state:"finished",progress:100,result_dir:De.result_dir,completed_at:new Date().toISOString()}),b(Le=>(Le===ce&&(E(De.result_dir),S(!0),d(!1),B({step:4,message:"",percentage:100}),it(De.result_dir)),Le)))}catch(_e){console.error(":",_e),be(ce,{state:"error",error:_e.message}),M(De=>{const Le=new Set(De);return Le.delete(ce),Le})}},be=(ce,_e)=>{ve(De=>{const Le=De.map($e=>$e.task_id===ce?{...$e,..._e}:$e);return Je(Le),Le})},ee=ce=>{ve(_e=>{const De=[..._e,ce];return Je(De),De})},pe=ce=>{ve(_e=>{const De=_e.filter(Le=>Le.task_id!==ce);return Je(De),De})},ke=async()=>{if(!i){alert("");return}d(!0),Y(!0),S(!1),E(""),B({step:1,message:"...",percentage:0}),je(!1),ie(!1);try{console.log(" 1: ...");const ce=await fetch("/api/ocr/documents/create-pending/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||"unknown.pdf",user_id:e?.id})});if(!ce.ok){const ft=await ce.json();throw new Error(ft.message||"")}const De=(await ce.json()).document_id;console.log(` ID: ${De}`);const Le=`${window.location.protocol}//${window.location.host}/api/ocr/webhook/`;console.log(" 2: OCR...");const xt=await(await fetch(`${Vs}/api/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:i,prompt:s,task_id:De.toString(),webhook_url:Le})})).json();if(xt.status==="running"&&xt.task_id){const ft=xt.task_id;b(ft),ee({task_id:ft,file_name:n?.name||"",file_size:n?.size||0,state:"running",progress:0,created_at:new Date().toISOString()}),jt(ft),B({step:2,message:"...",percentage:10}),d(!1)}else alert(""),d(!1)}catch(ce){console.error("Parse error:",ce),alert(""),d(!1)}},Ye=async ce=>{he(ce.task_id);try{if(console.log(" :",ce),ce.state!=="finished"&&ce.processing_stage!=="all_completed"){alert(""),he(null);return}const De=await(await fetch(`/api/ocr/documents/${ce.task_id}/`)).json();if(De.status==="success"){const Le=De.data;if(console.log(" :",Le),je(!0),ie(!0),b(ce.task_id),S(!0),B({step:4,message:"",percentage:100}),Le.content&&G(Le.content),ce.file_name){const $e={name:ce.file_name,size:ce.file_size||0,createdAt:ce.created_at};r($e)}ce.result_dir?(console.log(" result_dir"),E(ce.result_dir),await it(ce.result_dir)):(console.log(" "),E("")),z(!1)}else throw new Error(De.message||"")}catch(_e){console.error(":",_e),alert("")}finally{he(null)}},it=async ce=>{if(ae.current.has(ce)){console.log(" :",ce);return}ae.current.add(ce),console.log(" :",ce);try{const De=await(await fetch(`${Vs}/api/folder?path=${encodeURIComponent(ce)}`)).json();if(console.log("API:",De),De.status==="success"){const Le=De.children||[];console.log(":",Le);const $e=Le.filter(ft=>ft.name.endsWith(".mmd")?!ft.name.endsWith("det.mmd"):!0);console.log(":",$e),k($e);const xt=$e.find(ft=>ft.type==="file"&&ft.name.endsWith(".mmd"));console.log("mmd:",xt),xt?await Ot(xt):console.warn(".mmd")}}catch(_e){console.error("Error fetching file structure:",_e)}finally{setTimeout(()=>{ae.current.delete(ce),console.log(" :",ce)},100)}},Ot=async ce=>{if(ce.type==="file"){const _e=ce.path;if(ze.current.has(_e)){console.log(" :",_e);return}ze.current.add(_e),console.log(" :",ce.name,_e),R(ce);try{const Le=await(await fetch(`${Vs}/api/file/content?path=${encodeURIComponent(_e)}`)).json();console.log("API:",Le);let $e="";Le.status==="success"?$e=Le.content||"":Le.content?$e=Le.content:(console.error("API:",Le),$e=""),console.log(":",$e.length),console.log("100:",$e.substring(0,100)),G($e)}catch(De){console.error(":",De)}finally{setTimeout(()=>{ze.current.delete(_e),console.log(" :",_e)},100)}}},gi=async()=>{if(!H){alert("");return}Z(!0),ne(!1),q({message:"...",percentage:0,processing_stage:"saving"});try{const _e=await(await fetch("/api/ocr/save/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||D?.name||"unknown.pdf",ocr_content:H,task_id:y,result_dir:x,user_id:e?.id})})).json();if(console.log(":",_e),_e.status==="success"){const De=_e.document_id;q({message:"...",percentage:5,processing_stage:"pending"});const Le=setInterval(async()=>{try{const $e=await fetch(`/api/ocr/documents/${De}/status/`);if($e.status===404){console.error(" "),clearInterval(Le),Z(!1),pe(De.toString()),alert(""),q({step:0,message:"",percentage:0}),B({step:0,message:"",percentage:0}),Y(!1);return}const xt=await $e.json();if(xt.status==="success"){const{processing_stage:ft,progress_percentage:pn}=xt.data,Kn={pending:"...",extracting_basic_info:"...",basic_info_completed:"",extracting_tablesummary:"...",tablesummary_completed:"",extracting_table:"...",table_completed:"",extracting_wellness_table:"...",wellness_table_completed:"",extracting_summary:"...",all_completed:"",error:""}[ft]||"...";q({message:Kn,percentage:pn,processing_stage:ft}),(ft==="all_completed"||ft==="error")&&(clearInterval(Le),Z(!1),ft==="all_completed"?(ne(!0),setTimeout(()=>{ne(!1),q({step:0,message:"",percentage:0}),B({step:0,message:"",percentage:0})},5e3)):ft==="error"&&(alert(""),q({step:0,message:"",percentage:0}),B({step:0,message:"",percentage:0})))}}catch($e){console.error(":",$e)}},3e3);setTimeout(()=>{clearInterval(Le),Z(!1)},3e5)}else alert(`: ${_e.message}`),q({step:0,message:"",percentage:0}),Z(!1)}catch(ce){console.error(":",ce),alert(""),q({step:0,message:"",percentage:0}),Z(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[p.jsx("header",{className:"sticky top-0 z-10",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-3 md:py-4",children:[p.jsx("div",{className:"mb-3",children:p.jsx("button",{onClick:()=>t&&t("plan-management"),className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all text-sm md:text-base whitespace-nowrap shadow-sm border border-gray-200",children:" "})}),p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl text-gray-800 font-bold tracking-wide",children:""}),p.jsx("p",{className:"mt-1 md:mt-2 text-gray-600 text-xs md:text-sm",children:"AI"})]})]})}),U&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[p.jsx(Ja,{className:"w-6 h-6"}),""]}),p.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 rounded-lg transition-all",children:p.jsx(Ou,{className:"w-6 h-6 text-gray-600"})})]}),p.jsx("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:oe.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(Ja,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),p.jsx("p",{children:""})]}):p.jsx("div",{className:"space-y-4",children:oe.map(ce=>p.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-4 border border-primary-200 hover:shadow-md transition-all",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:ce.file_name}),p.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",ce.task_id]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[ce.state==="running"&&p.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded-full flex items-center gap-1",children:[p.jsx(Mt,{className:"w-3 h-3 animate-spin"}),""]}),ce.state==="finished"&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full flex items-center gap-1",children:[p.jsx(qd,{className:"w-3 h-3"}),""]}),ce.state==="error"&&p.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:""})]})]}),ce.state==="running"&&p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-xs text-gray-600",children:""}),p.jsxs("span",{className:"text-xs font-semibold text-primary-700",children:[ce.progress||0,"%"]})]}),p.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 to-blue-600 transition-all duration-300",style:{width:`${ce.progress||0}%`}})})]}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[p.jsxs("span",{children:[": ",new Date(ce.created_at).toLocaleString("zh-CN")]}),p.jsxs("div",{className:"flex gap-2",children:[ce.state==="finished"&&p.jsx("button",{onClick:()=>Ye(ce),disabled:re===ce.task_id,className:`px-3 py-1 rounded-lg transition-all flex items-center gap-1 ${re===ce.task_id?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:re===ce.task_id?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-4 h-4 animate-spin"}),""]}):""}),p.jsx("button",{onClick:()=>pe(ce.task_id),className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",children:""})]})]})]},ce.task_id))})})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 md:py-8",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[p.jsxs("div",{className:"space-y-3 md:space-y-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>document.getElementById("file-input")?.click(),disabled:h,className:"flex-1 px-3 md:px-4 py-2.5 md:py-3 bg-gradient-to-r from-primary-50 to-blue-50 border-2 border-dashed border-primary-300 hover:border-primary-500 rounded-lg transition-all hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:h?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}),p.jsx("span",{className:"hidden sm:inline",children:"..."}),p.jsx("span",{className:"sm:hidden",children:"..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(np,{className:"h-4 w-4 md:h-5 md:w-5"}),p.jsx("span",{className:"hidden sm:inline",children:"PDF"}),p.jsx("span",{className:"sm:hidden",children:"PDF"})]})}),p.jsx("input",{id:"file-input",type:"file",accept:"application/pdf,.pdf",className:"hidden",onChange:Te,disabled:h}),p.jsx("button",{onClick:At,disabled:!n,className:"px-3 md:px-4 py-2.5 md:py-3 bg-white hover:bg-red-50 border-2 border-gray-300 hover:border-red-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx(OE,{className:"h-4 w-4 md:h-5 md:w-5"})})]}),p.jsx("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg p-3 md:p-6 h-[120px] md:h-[500px] overflow-auto",children:N?p.jsx("div",{className:"w-full h-full",children:n?.type==="application/pdf"?p.jsxs(p.Fragment,{children:[p.jsx("iframe",{src:N,className:"hidden md:block w-full h-full rounded-lg border border-gray-300",title:"PDF Preview"}),p.jsxs("div",{className:"md:hidden flex items-center justify-start h-full text-left gap-3 px-2",children:[p.jsx($r,{className:"h-10 w-10 text-primary-500 flex-shrink-0"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-0.5",children:"PDF "}),p.jsx("p",{className:"text-xs text-gray-500 truncate",children:n?.name})]})]})]}):p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("img",{src:N,alt:"Preview",className:"max-w-full max-h-full object-contain rounded-lg shadow-md"})})}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[p.jsx(np,{className:"h-8 w-8 md:h-16 md:w-16 mb-1 md:mb-4 opacity-30"}),p.jsx("p",{className:"text-xs md:text-base",children:""})]})})]}),p.jsxs("div",{className:"space-y-3 md:space-y-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:ke,disabled:!n||!i||h||Ee,className:"flex-1 px-4 md:px-6 py-3 md:py-4 bg-gradient-to-r from-primary-600 to-blue-600 text-white rounded-xl shadow-lg hover:from-primary-700 hover:to-blue-700 hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base md:text-lg",children:c?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"h-5 w-5 animate-spin"}),p.jsx("span",{children:"..."})]}):""}),oe.length>0&&p.jsxs("button",{onClick:()=>z(!0),className:"relative px-3 md:px-4 py-3 md:py-4 bg-white border-2 border-primary-500 text-primary-700 hover:bg-primary-50 rounded-xl shadow-lg font-semibold transition-all flex items-center justify-center gap-2 whitespace-nowrap text-sm md:text-base",title:"",children:[p.jsx(lR,{className:"w-4 h-4 md:w-5 md:h-5"}),p.jsx("span",{children:""}),oe.filter(ce=>ce.state==="running").length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:oe.filter(ce=>ce.state==="running").length})]})]}),oe.filter(ce=>ce.state==="running").length>0&&p.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border-2 border-amber-200 p-3 md:p-4",children:[p.jsx("div",{className:"flex items-center justify-between mb-2",children:p.jsxs("h3",{className:"text-xs md:text-sm font-semibold text-amber-900 flex items-center gap-2",children:[p.jsx(Ja,{className:"w-4 h-4"})," (",oe.filter(ce=>ce.state==="running").length,")"]})}),p.jsx("div",{className:"mb-3 p-2 md:p-3 bg-blue-50 border border-blue-200 rounded-lg",children:p.jsxs("p",{className:"text-xs md:text-sm text-blue-800 flex items-center gap-2",children:[p.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),p.jsxs("span",{className:"flex-1",children:[p.jsx("strong",{className:"font-semibold",children:""}),""]})]})}),p.jsx("div",{className:"space-y-2",children:oe.filter(ce=>ce.state==="running").map((ce,_e)=>p.jsxs("div",{className:"bg-white rounded-lg p-2 md:p-3 border border-amber-200",children:[p.jsxs("div",{className:"flex items-start justify-between gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-800 truncate",title:ce.file_name,children:[_e+1,". ",ce.file_name]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",ce.progress||0,"%"]})]}),p.jsx("button",{onClick:()=>pe(ce.task_id),className:"p-1 hover:bg-red-100 rounded transition-all flex-shrink-0",title:"",children:p.jsx(Ou,{className:"w-4 h-4 text-red-600"})})]}),p.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:p.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-blue-600 h-full transition-all duration-500",style:{width:`${ce.progress||0}%`}})})]},ce.task_id))})]}),c&&p.jsxs("div",{className:"bg-primary-50 rounded-xl border-2 border-primary-200 p-3 md:p-4",children:[p.jsx("h3",{className:"text-xs md:text-sm font-semibold text-navy-800 mb-2 md:mb-3",children:""}),p.jsxs("div",{className:"mb-3 md:mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-xs text-gray-600",children:""}),p.jsxs("span",{className:"text-xs font-bold text-primary-700",children:[X.percentage||0,"%"]})]}),p.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 transition-all duration-500",style:{width:`${X.percentage||0}%`}})})]}),p.jsx("div",{className:"space-y-1.5 md:space-y-2",children:[{step:1,label:""},{step:2,label:""},{step:3,label:""},{step:4,label:""}].map(({step:ce,label:_e})=>p.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[X.step>ce?p.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"h-2.5 w-2.5 md:h-3 md:w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):X.step===ce?p.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 text-primary-600 animate-spin"}):p.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 border-2 border-gray-300 rounded-full"}),p.jsx("span",{className:`text-xs md:text-sm ${X.step>=ce?"text-gray-900 font-medium":"text-gray-500"}`,children:_e})]},ce))}),X.message&&p.jsx("p",{className:"mt-2 md:mt-3 text-xs md:text-sm text-primary-700 font-semibold",children:X.message})]}),w&&p.jsx("div",{className:"space-y-3 md:space-y-4",children:p.jsxs("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg",children:[p.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-blue-100 px-3 md:px-4 py-2 md:py-3 border-b border-primary-200",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 mb-2",children:[p.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-700",children:" OCR"}),K&&p.jsxs("div",{className:"w-full sm:w-auto px-3 md:px-4 py-1.5 md:py-2 rounded-lg font-semibold flex items-center justify-center gap-2 text-sm bg-green-500 text-white",children:[p.jsx(qd,{className:"h-4 w-4"}),p.jsx("span",{children:""})]})]}),(c||F||L.percentage>0&&L.processing_stage!=="all_completed"||X.percentage>0&&X.percentage<100&&Ee)&&p.jsxs("div",{className:"mt-3 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[p.jsx(Ja,{className:"h-4 w-4 text-blue-600"}),""]}),p.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[(()=>{const ce=w?20:X.percentage*.2,_e=L.percentage?L.percentage*.8:0;return Math.round(ce+_e)})(),"%"]})]}),p.jsx("div",{className:"mb-4",children:p.jsx("div",{className:"h-2 bg-white rounded-full overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:{width:`${(()=>{const ce=w?20:X.percentage*.2,_e=L.percentage?L.percentage*.8:0;return Math.round(ce+_e)})()}%`}})})}),p.jsx("div",{className:"space-y-2.5",children:[{id:"ocr",label:" OCR",checkCompleted:()=>w&&H,checkProcessing:()=>c||X.percentage>0&&X.percentage<100&&!w},{id:"save",label:" ",processingStages:["saving"],checkCompleted:ce=>ce&&ce!=="saving"&&ce!=="",checkEnabled:()=>w&&H},{id:"basic_info",label:" ",processingStages:["extracting_basic_info"],completedStages:["basic_info_completed","extracting_tablesummary","tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"tablesummary",label:" ",processingStages:["extracting_tablesummary"],completedStages:["tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table1",label:" ",processingStages:["extracting_table"],completedStages:["table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table2",label:" ",processingStages:["extracting_wellness_table"],completedStages:["wellness_table_completed","extracting_summary","all_completed"]},{id:"summary",label:" ",processingStages:["extracting_summary"],completedStages:["all_completed"]}].map(({id:ce,label:_e,checkCompleted:De,checkProcessing:Le,checkEnabled:$e,processingStages:xt,completedStages:ft})=>{const pn=L.processing_stage||"";let gr,Kn,Nr;return De&&Le?(gr=De(),Kn=Le(),Nr=!1):De?(gr=De(pn),Kn=xt&&xt.includes(pn),Nr=$e?!$e():!1):(gr=ft&&ft.includes(pn),Kn=xt&&xt.includes(pn),Nr=!1),p.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-all duration-300 ${gr?"bg-green-100 border border-green-300":Kn?"bg-blue-100 border border-blue-300 shadow-md":Nr?"bg-gray-50 border border-gray-200 opacity-60":"bg-white border border-gray-200"}`,children:[gr?p.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:p.jsx("svg",{className:"h-4 w-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):Kn?p.jsx(Mt,{className:"h-6 w-6 text-blue-600 animate-spin flex-shrink-0"}):p.jsx("div",{className:"h-6 w-6 border-2 border-gray-300 rounded-full flex-shrink-0 bg-white"}),p.jsx("span",{className:`text-sm flex-1 ${gr?"text-green-800 font-medium line-through":Kn?"text-blue-900 font-semibold":"text-gray-600"}`,children:_e}),gr&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full font-medium",children:""}),Kn&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-500 text-white rounded-full font-medium animate-pulse",children:""})]},ce)})}),L.message&&p.jsx("div",{className:"mt-3 p-2 bg-white rounded-lg border border-blue-200",children:p.jsx("p",{className:"text-xs text-blue-800 font-medium text-center",children:L.message})})]}),p.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600 mt-3",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium",children:"ID:"}),p.jsx("span",{className:"font-mono",title:y,children:y||"-"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium whitespace-nowrap",children:":"}),p.jsx("span",{children:n?.name||"-"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium",children:":"}),p.jsx("span",{children:n?.createdAt?new Date(n.createdAt).toLocaleString("zh-CN"):"-"})]})]})]}),p.jsx("div",{className:"p-3 md:p-6 min-h-[300px] md:min-h-[400px] max-h-[500px] md:max-h-[600px] overflow-auto bg-gray-50",children:H?p.jsx("pre",{className:"text-xs md:text-sm text-gray-800 whitespace-pre-wrap font-mono leading-relaxed",children:H}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[p.jsx(Mt,{className:"h-6 w-6 md:h-8 md:w-8 animate-spin mb-2"}),p.jsx("p",{className:"text-sm md:text-base",children:"..."}),p.jsxs("p",{className:"text-xs mt-2",children:["selectedFile: ",D?"":""]}),p.jsxs("p",{className:"text-xs",children:["fileContent length: ",H?.length||0]})]})})]})})]})]})})]})}const ru="https://yu.xingke888.com",N$="wss://yu.xingke888.com";function O$(){const t=ul(),{user:e}=hs(),[n,r]=_.useState(null),[i,a]=_.useState(""),[s,l]=_.useState(`<image>
<|grounding|>Convert the document to markdown.`),[c,d]=_.useState(!1),[h,m]=_.useState(!1),[y,b]=_.useState(""),[x,E]=_.useState(""),[w,S]=_.useState(!1),[N,C]=_.useState(""),[P,k]=_.useState([]),[D,R]=_.useState(null),[H,G]=_.useState(""),[X,B]=_.useState({step:0,message:"",percentage:0}),[F,Z]=_.useState(!1),[K,ne]=_.useState(!1),[L,q]=_.useState([]),[oe,ve]=_.useState(!1),[U,z]=_.useState(null),[J,M]=_.useState(new Set),[Ee,Y]=_.useState(!1),[re,he]=_.useState(null),Pe=_.useRef(new Set),ie=_.useRef(new Set),Re=be=>{const ee=be.target.files?.[0];if(ee){ee.createdAt=new Date().toISOString(),r(ee);const pe=URL.createObjectURL(ee);C(pe),je(ee)}},je=async be=>{m(!0),S(!1),R(null),a(""),b(""),E(""),Y(!1);try{const ee=new FormData;ee.append("file",be);const ke=await(await fetch(`${ru}/api/upload`,{method:"POST",body:ee})).json();ke.status==="success"?(a(ke.file_path),m(!1)):(m(!1),r(null),alert(""))}catch(ee){console.error("Upload error:",ee),m(!1),r(null),alert("")}},ae=()=>{r(null),C(""),a(""),S(!1),R(null),b(""),E(""),B({step:0,message:""}),Y(!1)};_.useEffect(()=>{const be=localStorage.getItem("backgroundTasks2");if(be){const ee=JSON.parse(be);q(ee),ee.forEach(pe=>{pe.state!=="finished"&&pe.state!=="error"&&Qe(pe.task_id)})}return()=>{U&&U.close()}},[]);const ze=be=>{localStorage.setItem("backgroundTasks2",JSON.stringify(be))},Me=be=>{const ee=`${N$}/ws/progress/${be}`;console.log("WebSocket:",ee);const pe=new WebSocket(ee);let ke=!1;return pe.onopen=()=>{console.log("WebSocket:",be)},pe.onmessage=Ye=>{try{const it=JSON.parse(Ye.data);if(console.log("WebSocket:",it),it.task_id===be){const Ot=it.progress||0;B(gi=>({step:Ot>=100?4:Ot>=60?3:Ot>=30?2:1,message:Ot>=100?"":`... ${Ot}%`,percentage:Ot})),Ie(be,{progress:Ot,state:Ot>=100?"finished":"running"}),Ot>=100&&!ke&&(ke=!0,console.log(":",be),Te(be),pe.close())}}catch(it){console.error("WebSocket:",it)}},pe.onerror=Ye=>{console.error("WebSocket:",Ye)},pe.onclose=()=>{console.log("WebSocket:",be)},pe},Qe=async be=>{try{const pe=await(await fetch(`${ru}/api/progress/${be}`)).json();pe.status==="success"&&(pe.state==="finished"?Te(be):pe.state!=="error"&&Me(be))}catch(ee){console.error(":",ee)}},Te=async be=>{if(J.has(be)){console.log(":",be);return}M(ee=>new Set(ee).add(be));try{const pe=await(await fetch(`${ru}/api/result/${be}`)).json();pe.status==="success"&&pe.state==="finished"&&(Ie(be,{state:"finished",progress:100,result_dir:pe.result_dir,completed_at:new Date().toISOString()}),b(ke=>(ke===be&&(E(pe.result_dir),S(!0),d(!1),B({step:4,message:"",percentage:100}),jt(pe.result_dir)),ke)))}catch(ee){console.error(":",ee),Ie(be,{state:"error",error:ee.message}),M(pe=>{const ke=new Set(pe);return ke.delete(be),ke})}},Ie=(be,ee)=>{q(pe=>{const ke=pe.map(Ye=>Ye.task_id===be?{...Ye,...ee}:Ye);return ze(ke),ke})},At=be=>{q(ee=>{const pe=[...ee,be];return ze(pe),pe})},ct=be=>{q(ee=>{const pe=ee.filter(ke=>ke.task_id!==be);return ze(pe),pe})},Je=async()=>{if(!i){alert("");return}d(!0),Y(!0),S(!1),E(""),B({step:1,message:"...",percentage:0});try{const ee=await(await fetch(`${ru}/api/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:i,prompt:s})})).json();if(ee.status==="running"&&ee.task_id){const pe=ee.task_id;b(pe),At({task_id:pe,file_name:n?.name||"",file_size:n?.size||0,state:"running",progress:0,created_at:new Date().toISOString()});const ke=Me(pe);z(ke),B({step:2,message:"...",percentage:10}),setTimeout(()=>{alert(`


""`),d(!1)},1e3)}else alert(""),d(!1)}catch(be){console.error("Parse error:",be),alert(""),d(!1)}},Tt=async be=>{if(be.state==="finished"&&be.result_dir){he(be.task_id);try{if(b(be.task_id),E(be.result_dir),S(!0),B({step:4,message:"",percentage:100}),be.file_name){const ee={name:be.file_name,size:be.file_size||0,createdAt:be.created_at};r(ee)}await jt(be.result_dir),ve(!1)}catch(ee){console.error(":",ee),alert("")}finally{he(null)}}else alert("")},jt=async be=>{if(Pe.current.has(be)){console.log(" :",be);return}Pe.current.add(be),console.log(" :",be);try{const pe=await(await fetch(`${ru}/api/folder?path=${encodeURIComponent(be)}`)).json();if(console.log("API:",pe),pe.status==="success"){const ke=pe.children||[];console.log(":",ke);const Ye=ke.filter(Ot=>Ot.name.endsWith(".mmd")?!Ot.name.endsWith("det.mmd"):!0);console.log(":",Ye),k(Ye);const it=Ye.find(Ot=>Ot.type==="file"&&Ot.name.endsWith(".mmd"));console.log("mmd:",it),it?await It(it):console.warn(".mmd")}}catch(ee){console.error("Error fetching file structure:",ee)}finally{setTimeout(()=>{Pe.current.delete(be),console.log(" :",be)},100)}},It=async be=>{if(be.type==="file"){const ee=be.path;if(ie.current.has(ee)){console.log(" :",ee);return}ie.current.add(ee),console.log(" :",be.name,ee),R(be);try{const ke=await(await fetch(`${ru}/api/file/content?path=${encodeURIComponent(ee)}`)).json();console.log("API:",ke);let Ye="";ke.status==="success"?Ye=ke.content||"":ke.content?Ye=ke.content:(console.error("API:",ke),Ye=""),console.log(":",Ye.length),console.log("100:",Ye.substring(0,100)),G(Ye)}catch(pe){console.error(":",pe)}finally{setTimeout(()=>{ie.current.delete(ee),console.log(" :",ee)},100)}}},tt=async()=>{if(!H){alert("");return}Z(!0),ne(!1);try{const ee=await(await fetch("/api/ocr/save/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_name:n?.name||D?.name||"unknown.pdf",ocr_content:H,task_id:y,result_dir:x,user_id:e?.id})})).json();if(console.log(":",ee),ee.status==="success"){const pe=ee.document_id;ne(!0),alert(`ID: ${pe}

...`),fetch(`/api/ocr/documents/${pe}/basic-info/`,{method:"POST"}).then(ke=>ke.json()).then(ke=>{ke.status==="success"?console.log(":",ke.data):console.error(":",ke.message)}).catch(ke=>{console.error(":",ke)}),setTimeout(()=>ne(!1),3e3)}else alert(`: ${ee.message}`)}catch(be){console.error(":",be),alert("")}finally{Z(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100",children:[p.jsx("header",{className:"bg-gradient-to-r from-navy-700 via-primary-600 to-navy-700 shadow-lg sticky top-0 z-10 border-b-2 border-primary-500/30",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-2 md:py-3",children:[p.jsx("div",{className:"mb-1",children:p.jsx("button",{onClick:()=>t&&t("home"),className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-primary-700 hover:bg-blue-50 rounded-lg font-semibold transition-all text-sm md:text-base whitespace-nowrap shadow-md",children:""})}),p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl text-white font-bold tracking-wide drop-shadow-lg",children:" 2.0"}),p.jsx("p",{className:"mt-1 md:mt-2 text-blue-100 text-xs md:text-sm",children:" - AI"})]})]})}),oe&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[p.jsx(Ja,{className:"w-6 h-6"}),""]}),p.jsx("button",{onClick:()=>ve(!1),className:"p-2 hover:bg-gray-200 rounded-lg transition-all",children:p.jsx(Ou,{className:"w-6 h-6 text-gray-600"})})]}),p.jsx("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:L.length===0?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(Ja,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),p.jsx("p",{children:""})]}):p.jsx("div",{className:"space-y-4",children:L.map(be=>p.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-4 border border-primary-200 hover:shadow-md transition-all",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:be.file_name}),p.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",be.task_id]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[be.state==="running"&&p.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs font-semibold rounded-full flex items-center gap-1",children:[p.jsx(Mt,{className:"w-3 h-3 animate-spin"}),""]}),be.state==="finished"&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full flex items-center gap-1",children:[p.jsx(qd,{className:"w-3 h-3"}),""]}),be.state==="error"&&p.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:""})]})]}),be.state==="running"&&p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-xs text-gray-600",children:""}),p.jsxs("span",{className:"text-xs font-semibold text-primary-700",children:[be.progress||0,"%"]})]}),p.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 to-blue-600 transition-all duration-300",style:{width:`${be.progress||0}%`}})})]}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[p.jsxs("span",{children:[": ",new Date(be.created_at).toLocaleString("zh-CN")]}),p.jsxs("div",{className:"flex gap-2",children:[be.state==="finished"&&p.jsx("button",{onClick:()=>Tt(be),disabled:re===be.task_id,className:`px-3 py-1 rounded-lg transition-all flex items-center gap-1 ${re===be.task_id?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:re===be.task_id?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-4 h-4 animate-spin"}),""]}):""}),p.jsx("button",{onClick:()=>ct(be.task_id),className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",children:""})]})]})]},be.task_id))})})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 md:py-8",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[p.jsxs("div",{className:"space-y-3 md:space-y-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>document.getElementById("file-input-2")?.click(),disabled:h,className:"flex-1 px-3 md:px-4 py-2.5 md:py-3 bg-gradient-to-r from-primary-50 to-blue-50 border-2 border-dashed border-primary-300 hover:border-primary-500 rounded-lg transition-all hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:h?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}),p.jsx("span",{className:"hidden sm:inline",children:"..."}),p.jsx("span",{className:"sm:hidden",children:"..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(np,{className:"h-4 w-4 md:h-5 md:w-5"}),p.jsx("span",{className:"hidden sm:inline",children:"PDF / PNG / JPG"}),p.jsx("span",{className:"sm:hidden",children:""})]})}),p.jsx("input",{id:"file-input-2",type:"file",accept:".pdf,.png,.jpg,.jpeg",className:"hidden",onChange:Re,disabled:h}),p.jsx("button",{onClick:ae,disabled:!n,className:"px-3 md:px-4 py-2.5 md:py-3 bg-white hover:bg-red-50 border-2 border-gray-300 hover:border-red-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx(OE,{className:"h-4 w-4 md:h-5 md:w-5"})})]}),p.jsx("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg p-4 md:p-6 h-[300px] md:h-[500px] overflow-auto",children:N?p.jsx("div",{className:"flex items-center justify-center",children:n?.type==="application/pdf"?p.jsx("iframe",{src:N,className:"w-full h-[250px] md:h-[450px] rounded-lg border border-gray-300",title:"PDF Preview"}):p.jsx("img",{src:N,alt:"Preview",className:"max-w-full h-auto rounded-lg shadow-md"})}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[p.jsx(np,{className:"h-12 w-12 md:h-16 md:w-16 mb-3 md:mb-4 opacity-30"}),p.jsx("p",{className:"text-sm md:text-base",children:""})]})})]}),p.jsxs("div",{className:"space-y-3 md:space-y-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:Je,disabled:!n||!i||h||Ee,className:"flex-1 px-4 md:px-6 py-3 md:py-4 bg-gradient-to-r from-primary-600 to-blue-600 text-white rounded-xl shadow-lg hover:from-primary-700 hover:to-blue-700 hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-base md:text-lg",children:c?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"h-5 w-5 animate-spin"}),p.jsx("span",{children:"..."})]}):""}),L.length>0&&p.jsxs("button",{onClick:()=>ve(!0),className:"relative px-3 md:px-4 py-3 md:py-4 bg-white border-2 border-primary-500 text-primary-700 hover:bg-primary-50 rounded-xl shadow-lg font-semibold transition-all flex items-center justify-center gap-2 whitespace-nowrap text-sm md:text-base",title:"",children:[p.jsx(lR,{className:"w-4 h-4 md:w-5 md:h-5"}),p.jsx("span",{children:""}),L.filter(be=>be.state==="running").length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:L.filter(be=>be.state==="running").length})]})]}),L.filter(be=>be.state==="running").length>0&&p.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border-2 border-amber-200 p-3 md:p-4",children:[p.jsx("div",{className:"flex items-center justify-between mb-2",children:p.jsxs("h3",{className:"text-xs md:text-sm font-semibold text-amber-900 flex items-center gap-2",children:[p.jsx(Ja,{className:"w-4 h-4"})," (",L.filter(be=>be.state==="running").length,")"]})}),p.jsx("div",{className:"space-y-2",children:L.filter(be=>be.state==="running").map((be,ee)=>p.jsxs("div",{className:"bg-white rounded-lg p-2 md:p-3 border border-amber-200",children:[p.jsxs("div",{className:"flex items-start justify-between gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-800 truncate",title:be.file_name,children:[ee+1,". ",be.file_name]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",be.progress||0,"%"]})]}),p.jsx("button",{onClick:()=>ct(be.task_id),className:"p-1 hover:bg-red-100 rounded transition-all flex-shrink-0",title:"",children:p.jsx(Ou,{className:"w-4 h-4 text-red-600"})})]}),p.jsx("div",{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",children:p.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-blue-600 h-full transition-all duration-500",style:{width:`${be.progress||0}%`}})})]},be.task_id))})]}),c&&p.jsxs("div",{className:"bg-primary-50 rounded-xl border-2 border-primary-200 p-3 md:p-4",children:[p.jsx("h3",{className:"text-xs md:text-sm font-semibold text-navy-800 mb-2 md:mb-3",children:""}),p.jsxs("div",{className:"mb-3 md:mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-xs text-gray-600",children:""}),p.jsxs("span",{className:"text-xs font-bold text-primary-700",children:[X.percentage||0,"%"]})]}),p.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-blue-600 to-navy-600 transition-all duration-500",style:{width:`${X.percentage||0}%`}})})]}),p.jsx("div",{className:"space-y-1.5 md:space-y-2",children:[{step:1,label:""},{step:2,label:""},{step:3,label:""},{step:4,label:""}].map(({step:be,label:ee})=>p.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[X.step>be?p.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"h-2.5 w-2.5 md:h-3 md:w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):X.step===be?p.jsx(Mt,{className:"h-4 w-4 md:h-5 md:w-5 text-primary-600 animate-spin"}):p.jsx("div",{className:"h-4 w-4 md:h-5 md:w-5 border-2 border-gray-300 rounded-full"}),p.jsx("span",{className:`text-xs md:text-sm ${X.step>=be?"text-gray-900 font-medium":"text-gray-500"}`,children:ee})]},be))}),X.message&&p.jsx("p",{className:"mt-2 md:mt-3 text-xs md:text-sm text-primary-700 font-semibold",children:X.message})]}),w&&p.jsx("div",{className:"space-y-3 md:space-y-4",children:p.jsxs("div",{className:"bg-white rounded-xl border-2 border-primary-200 shadow-lg",children:[p.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-blue-100 px-3 md:px-4 py-2 md:py-3 border-b border-primary-200",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 mb-2",children:[p.jsx("h3",{className:"text-xs md:text-sm font-semibold text-gray-700",children:" OCR"}),p.jsx("button",{onClick:tt,disabled:F||!H||K,className:`w-full sm:w-auto px-3 md:px-4 py-1.5 md:py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 text-sm shadow-md ${K?"bg-green-500 text-white cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-blue-600 text-white hover:from-primary-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:F?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"h-4 w-4 animate-spin"}),p.jsx("span",{children:"..."})]}):K?p.jsxs(p.Fragment,{children:[p.jsx(qd,{className:"h-4 w-4"}),p.jsx("span",{children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx(Y7,{className:"h-4 w-4"}),p.jsx("span",{children:""})]})})]}),p.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium",children:"ID:"}),p.jsx("span",{className:"font-mono",title:y,children:y||"-"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium whitespace-nowrap",children:":"}),p.jsx("span",{children:n?.name||"-"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"font-medium",children:":"}),p.jsx("span",{children:n?.createdAt?new Date(n.createdAt).toLocaleString("zh-CN"):"-"})]})]})]}),p.jsx("div",{className:"p-3 md:p-6 min-h-[300px] md:min-h-[400px] max-h-[500px] md:max-h-[600px] overflow-auto bg-gray-50",children:H?p.jsx("pre",{className:"text-xs md:text-sm text-gray-800 whitespace-pre-wrap font-mono leading-relaxed",children:H}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[p.jsx(Mt,{className:"h-6 w-6 md:h-8 md:w-8 animate-spin mb-2"}),p.jsx("p",{className:"text-sm md:text-base",children:"..."}),p.jsxs("p",{className:"text-xs mt-2",children:["selectedFile: ",D?"":""]}),p.jsxs("p",{className:"text-xs",children:["fileContent length: ",H?.length||0]})]})})]})})]})]})})]})}function k$(){const t=ul(),{user:e,loading:n}=hs(),[r,i]=_.useState([]),[a,s]=_.useState(!0),[l,c]=_.useState(""),[d,h]=_.useState("all"),[m,y]=_.useState([]),[b,x]=_.useState(!1),[E,w]=_.useState(!1),[S,N]=_.useState(null),[C,P]=_.useState("1,2,3,4,5,6,7,8,9,10,65,75,90,100"),[k,D]=_.useState(!0),[R,H]=_.useState({}),[G,X]=_.useState(!1),[B,F]=_.useState(null);_.useEffect(()=>{console.log(" [PlanDocumentManagement] useEffect - authLoading:",n,"user:",e),n?console.log(" [PlanDocumentManagement] ..."):(console.log(" [PlanDocumentManagement] "),Z())},[n,e]),_.useEffect(()=>{const Y=r.filter(Pe=>Pe.status==="processing");if(Y.length===0)return;const re=async()=>{for(const Pe of Y)try{const Re=await(await fetch(`/api/ocr/documents/${Pe.id}/status/`)).json();Re.status==="success"&&(H(je=>({...je,[Pe.id]:Re.data})),(Re.data.processing_stage==="all_completed"||Re.data.processing_stage==="error")&&Z())}catch(ie){console.error(`${Pe.id}:`,ie)}};re();const he=setInterval(re,3e3);return()=>clearInterval(he)},[r]);const Z=async()=>{s(!0);try{let Y="/api/ocr/documents/";e?.id?(Y+=`?user_id=${e.id}`,console.log("  - user:",e,"user_id:",e.id)):(console.warn(" user.id:",e),console.warn(" localStorageuser:",localStorage.getItem("user"))),console.log(" URL:",Y);const he=await(await fetch(Y)).json();console.log(" API:",he),he.status==="success"&&(i(he.data||[]),console.log(" :",he.data?.length))}catch(Y){console.error(":",Y)}finally{s(!1)}},K=Y=>{t(`/document/${Y.id}`)},ne=async Y=>{F(Y),X(!0);try{const he=await(await fetch(`/api/ocr/documents/${Y}/status/`)).json();he.status==="success"&&H(Pe=>({...Pe,[Y]:he.data}))}catch(re){console.error(`${Y}:`,re)}},L=Y=>{Y.target.checked?y(Ee.map(re=>re.id)):y([])},q=Y=>{y(re=>re.includes(Y)?re.filter(he=>he!==Y):[...re,Y])},oe=(Y,re,he)=>!Y||!re||!he||he<=0||re<=0?null:(Y-re)/re/he*100,ve=(Y,re,he)=>!Y||!re||!he||he<=0||re<=0?null:(Math.pow(Y/re,1/he)-1)*100,U=()=>{if(m.length===0){alert("");return}const Y=r.filter(ae=>m.includes(ae.id));console.log("=====  ====="),console.log(":",Y.length);const re=Y.filter(ae=>{console.log(`
---  ---`),console.log(":",ae.file_name),console.log("table1:",ae.table1),console.log("table1 === null:",ae.table1===null),console.log("table1 === undefined:",ae.table1===void 0),console.log("table1:",typeof ae.table1),console.log("table1:",ae.table1&&typeof ae.table1=="object"),ae.table1&&typeof ae.table1=="object"&&(console.log("table1.keys:",Object.keys(ae.table1)),console.log("table1.years:",ae.table1.years),console.log("years:",Array.isArray(ae.table1.years)),console.log("years:",ae.table1.years?.length));let ze=!1;return ae.table1&&(typeof ae.table1=="string"?(ze=ae.table1.trim().length>0,console.log("table1:",ae.table1.trim().length)):typeof ae.table1=="object"&&(ze=ae.table1.years&&Array.isArray(ae.table1.years)&&ae.table1.years.length>0,console.log("table1hasTable:",ze))),console.log(" hasTable :",ze),console.log(" !hasTable ():",!ze),!ze});if(console.log(`
=====  =====`),console.log("table:",re.length),console.log("table:",re.map(ae=>ae.file_name)),re.length>0){alert(`
${re.map(ae=>ae.file_name).join(`
`)}`);return}let he=new Set;Y.forEach(ae=>{const ze=ae.table1?.years||[],Me=ae.insured_age||0;ze.forEach(Qe=>{const Te=Qe.policy_year;if(typeof Te=="string"&&/[]/.test(Te)){const Ie=Te.match(/\d+/);Ie&&he.add(parseInt(Ie[0]))}else typeof Te=="number"&&he.add(Me+Te)})});const Pe=Array.from(he).sort((ae,ze)=>ae-ze);let ie,Re={};if(k&&C.trim()){const ae=C.replace(//g,",").split(",").map(Me=>Me.trim()).filter(Me=>Me),ze=new Set;if(ae.forEach(Me=>{if(/[]/.test(Me)){const Qe=Me.match(/\d+/);if(Qe){const Te=parseInt(Qe[0]);he.has(Te)&&(ze.add(Te),Re[Te]={type:"age",value:Te})}}else{const Qe=parseInt(Me);if(!isNaN(Qe)){const Te=`policyYear_${Qe}`;ze.add(Te),Re[Te]={type:"policyYear",value:Qe}}}}),ie=Array.from(ze).sort((Me,Qe)=>{const Te=typeof Me=="string"&&Me.startsWith("policyYear_"),Ie=typeof Qe=="string"&&Qe.startsWith("policyYear_");if(Te&&Ie){const At=parseInt(Me.split("_")[1]),ct=parseInt(Qe.split("_")[1]);return At-ct}else return Te?-1:Ie?1:Me-Qe}),ie.length===0){alert("");return}}else ie=Pe.filter((ae,ze,Me)=>ze===0||ze===Me.length-1?!0:ae%5===0||[33,65,75,90,100].includes(ae)).slice(0,15);const je=Y.map(ae=>{const ze=ae.table1?.years||[],Me={};return ie.forEach(Qe=>{const Te=ae.insured_age||0;let Ie;if(typeof Qe=="string"&&Qe.startsWith("policyYear_")){const At=parseInt(Qe.split("_")[1]);Ie=ze.find(ct=>{const Je=ct.policy_year;return typeof Je=="number"?Je===At:!1})}else{const At=Qe,ct=At-Te;Ie=ze.find(Je=>{const Tt=Je.policy_year;if(typeof Tt=="string"&&/[]/.test(Tt)){const jt=Tt.match(/\d+/);return(jt?parseInt(jt[0]):0)===At}return typeof Tt=="number"?Tt===ct:!1})}Me[Qe]={guaranteed:Ie?Ie.guaranteed||Ie.guaranteed_cash_value:void 0,total:Ie?Ie.total:void 0}}),{id:ae.id,name:ae.insurance_product||ae.file_name,insuredName:ae.insured_name||"-",company:ae.insurance_company||"-",currentAge:ae.insured_age||0,ageData:Me}});N({products:je,targetAges:ie,ageDisplayMap:Re}),w(!0)},z=async()=>{if(m.length===0){alert("");return}if(confirm(` ${m.length} `)){x(!0);try{const re=await(await fetch("/api/ocr/documents/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_ids:m})})).json();re.status==="success"?(alert(` ${re.deleted_count} `),y([]),Z()):alert(`${re.message}`)}catch(Y){console.error(":",Y),alert("")}finally{x(!1)}}},J=Y=>({uploaded:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"})[Y]||"bg-gray-100 text-gray-800",M=Y=>({uploaded:"",processing:"",completed:"",failed:""})[Y]||Y,Ee=r.filter(Y=>{const re=Y.file_name.toLowerCase().includes(l.toLowerCase()),he=d==="all"||Y.status===d;return re&&he});return E&&S?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 md:p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("div",{className:"mb-4 md:mb-6",children:p.jsxs("button",{onClick:()=>w(!1),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all",children:[p.jsx($d,{className:"w-5 h-5"}),""]})}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-4 md:px-8 md:py-6",children:[p.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white",children:""}),p.jsxs("p",{className:"text-blue-100 mt-1 md:mt-2 text-sm md:text-base",children:[" ",S.products.length," "]}),p.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[p.jsxs("label",{className:"flex items-center gap-2 text-white text-sm",children:[p.jsx("input",{type:"checkbox",checked:k,onChange:Y=>D(Y.target.checked),className:"w-4 h-4 rounded"}),p.jsx("span",{children:""})]}),k&&p.jsxs("div",{className:"flex-1 flex gap-2",children:[p.jsx("input",{type:"text",value:C,onChange:Y=>P(Y.target.value),placeholder:": 1,2,3,33,65 (==)",className:"flex-1 px-3 py-2 rounded-lg text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-white"}),p.jsx("button",{onClick:()=>U(),className:"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium whitespace-nowrap",children:""})]})]})]}),S.products.length>0&&p.jsx("div",{className:"px-4 md:px-8 py-3 bg-blue-50 border-b border-blue-200",children:p.jsxs("div",{className:"text-xs md:text-sm text-gray-700",children:[p.jsx("span",{className:"font-medium",children:""}),S.products.map((Y,re)=>{const he=r.find(Pe=>Pe.id===Y.id);return p.jsxs("span",{children:[p.jsxs("span",{className:"font-semibold text-indigo-700",children:[" ",re+1,". ",Y.name]}),p.jsxs("span",{children:[" (",Y.insuredName," | ",Y.currentAge," / ",he?.insured_gender||"-"," | : ",he?.annual_premium?parseInt(he.annual_premium).toLocaleString("zh-CN"):"-"," | : ",he?.payment_years?`${he.payment_years}`:"-",")"]}),re<S.products.length-1&&p.jsx("span",{className:"mx-1",children:""})]},Y.id)})]})}),p.jsx("div",{className:"p-2 md:p-8 overflow-x-auto",children:p.jsxs("table",{className:"w-full min-w-max",children:[p.jsxs("thead",{children:[p.jsxs("tr",{className:"border-b-2 border-gray-200",children:[p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs md:text-sm font-semibold text-gray-700 sticky left-0 bg-white z-10 border-r-2 border-gray-300",children:"/"}),S.products.map((Y,re)=>p.jsx("th",{className:`px-2 md:px-4 py-2 md:py-3 text-center ${re<S.products.length-1?"border-r-2 border-indigo-200":""}`,colSpan:"4",children:p.jsx("div",{className:"text-xs md:text-sm font-semibold text-gray-700 truncate",title:Y.name,children:Y.name})},Y.id))]}),p.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[p.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-left text-xs font-medium text-gray-600 sticky left-0 bg-gray-50 z-10 border-r-2 border-gray-300"}),S.products.map((Y,re)=>p.jsxs(Ed.Fragment,{children:[p.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap",children:""}),p.jsx("th",{className:`px-2 md:px-4 py-1 md:py-2 text-center text-xs font-medium text-gray-600 whitespace-nowrap ${re<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:"IRR"})]},`${Y.id}-headers`))]})]}),p.jsxs("tbody",{children:[S.targetAges.map(Y=>{const re=S.ageDisplayMap?.[Y];let he;return re?.type==="policyYear"?he=re.value:re?.type==="age"?he=`${Y}`:he=`${Y}`,p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium text-gray-900 whitespace-nowrap sticky left-0 bg-white z-10 border-r-2 border-gray-300",children:he}),S.products.map((Pe,ie)=>{const Re=r.find(At=>At.id===Pe.id),je=Re?.annual_premium?parseInt(Re.annual_premium):0,ae=Re?.payment_years?parseInt(Re.payment_years):0,ze=Pe.ageData[Y]?.total;let Me=0;re?.type==="policyYear"?Me=re.value:Me=(typeof Y=="string"?parseInt(Y.replace(/[^\d]/g,"")):Y)-Pe.currentAge;const Qe=je*Math.min(Me,ae),Te=oe(ze,Qe,Me),Ie=ve(ze,Qe,Me);return p.jsxs(Ed.Fragment,{children:[p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-gray-900 font-medium text-center whitespace-nowrap",children:Pe.ageData[Y]?.guaranteed!==void 0&&Pe.ageData[Y]?.guaranteed!==null?parseInt(Pe.ageData[Y].guaranteed).toLocaleString("zh-CN"):"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-indigo-900 font-medium text-center whitespace-nowrap",children:Pe.ageData[Y]?.total!==void 0&&Pe.ageData[Y]?.total!==null?parseInt(Pe.ageData[Y].total).toLocaleString("zh-CN"):"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-purple-700 font-medium text-center whitespace-nowrap",children:Te!==null?`${Te.toFixed(2)}%`:"-"}),p.jsx("td",{className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm text-green-700 font-bold text-center whitespace-nowrap ${ie<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:Ie!==null?`${Ie.toFixed(2)}%`:"-"})]},`${Pe.id}-${Y}`)})]},Y)}),p.jsxs("tr",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-t-2 border-green-200",children:[p.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm font-bold text-green-800 whitespace-nowrap sticky left-0 bg-gradient-to-r from-green-50 to-emerald-50 z-10 border-r-2 border-gray-300",children:""}),S.products.map((Y,re)=>{const he=r.find(Me=>Me.id===Y.id),Pe=he?.annual_premium?parseInt(he.annual_premium):0,ie=he?.payment_years?parseInt(he.payment_years):0,Re=Y.ageData[100]?.total||0,je=100-Y.currentAge,ae=Pe*Math.min(je,ie),ze=ae>0?(Re/ae).toFixed(2):"-";return p.jsxs(Ed.Fragment,{children:[p.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap",children:"-"}),p.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm font-bold text-green-700 text-center whitespace-nowrap",children:ze!=="-"?`${ze}x`:"-"}),p.jsx("td",{className:"px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap",children:"-"}),p.jsx("td",{className:`px-2 md:px-4 py-3 md:py-4 text-xs md:text-sm text-gray-500 text-center whitespace-nowrap ${re<S.products.length-1?"border-r-2 border-indigo-200":""}`,children:"-"})]},`${Y.id}-growth`)})]})]})]})})]})]})}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-4 pt-4 pb-8",children:[p.jsxs("div",{className:"max-w-[95%] mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("button",{onClick:()=>t("dashboard"),className:"mb-2 flex items-center gap-1.5 px-3 py-1.5 bg-white rounded-lg shadow hover:shadow-md transition-all text-sm",children:[p.jsx($d,{className:"w-4 h-4"}),""]}),p.jsx("div",{className:"mb-3 text-center",children:p.jsx("h1",{className:"text-2xl font-semibold text-gray-700",children:""})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:Ee.length}),p.jsx("div",{className:"text-sm text-gray-600",children:""})]}),p.jsxs("button",{onClick:()=>t&&t("plan-analyzer"),className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-md hover:shadow-lg",children:[p.jsx($r,{className:"w-4 h-4"}),p.jsx("span",{className:"font-medium text-sm",children:""})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0 relative",children:[p.jsx(G7,{className:"absolute left-2 md:left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"...",value:l,onChange:Y=>c(Y.target.value),className:"w-full pl-8 md:pl-10 pr-2 md:pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm md:text-base"})]}),p.jsxs("select",{value:d,onChange:Y=>h(Y.target.value),className:"px-2 md:px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm md:text-base",children:[p.jsx("option",{value:"all",children:""}),p.jsx("option",{value:"uploaded",children:""}),p.jsx("option",{value:"processing",children:""}),p.jsx("option",{value:"completed",children:""}),p.jsx("option",{value:"failed",children:""})]}),p.jsxs("button",{onClick:Z,disabled:a,className:"flex items-center justify-center gap-1 px-3 md:px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm hover:shadow text-sm md:text-base font-medium whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(Y1,{className:`w-4 h-4 ${a?"animate-spin":""}`}),p.jsx("span",{className:"hidden sm:inline",children:""})]})]}),m.length>0&&p.jsxs("div",{className:"flex gap-2 md:gap-4 mt-3",children:[p.jsxs("button",{onClick:U,className:"flex-1 md:flex-none flex items-center justify-center gap-1 px-3 py-2 text-sm md:text-base md:px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[p.jsx(j7,{className:"w-3 h-3 md:w-4 md:h-4"}),p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsx("span",{className:"sm:hidden",children:""}),p.jsxs("span",{children:["(",m.length,")"]})]}),p.jsx("button",{onClick:z,disabled:b,className:"flex-1 md:flex-none flex items-center justify-center gap-1 px-3 py-2 text-sm md:text-base md:px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:b?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-3 h-3 md:w-4 md:h-4 animate-spin"}),p.jsx("span",{className:"hidden sm:inline",children:"..."}),p.jsx("span",{className:"sm:hidden",children:"..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(OE,{className:"w-3 h-3 md:w-4 md:h-4"}),p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsx("span",{className:"sm:hidden",children:""}),p.jsxs("span",{children:["(",m.length,")"]})]})})]})]}),a?p.jsx("div",{className:"flex items-center justify-center py-20",children:p.jsx(Mt,{className:"w-12 h-12 text-indigo-600 animate-spin"})}):Ee.length===0?p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[p.jsx($r,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-xl text-gray-600 mb-2",children:""}),p.jsx("p",{className:"text-gray-500",children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-lg overflow-x-auto",children:p.jsxs("table",{className:"w-full min-w-max",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center",children:p.jsx("input",{type:"checkbox",checked:m.length===Ee.length&&Ee.length>0,onChange:L,className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{className:"px-2 md:px-4 py-2 md:py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map(Y=>p.jsx(Ed.Fragment,{children:p.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 text-center",onClick:re=>re.stopPropagation(),children:p.jsx("input",{type:"checkbox",checked:m.includes(Y.id),onChange:()=>q(Y.id),className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 cursor-pointer",onClick:()=>K(Y),children:Y.insured_name||"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K(Y),children:Y.insured_age||"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K(Y),children:Y.insured_gender||"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 cursor-pointer",onClick:()=>K(Y),children:Y.insurance_company||"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-xs text-sm text-gray-700 cursor-pointer",onClick:()=>K(Y),children:p.jsx("div",{className:"truncate",title:Y.insurance_product,children:Y.insurance_product||"-"})}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium cursor-pointer",onClick:()=>K(Y),children:Y.sum_assured?parseInt(Y.sum_assured).toLocaleString("zh-CN"):"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium cursor-pointer",onClick:()=>K(Y),children:Y.annual_premium?parseInt(Y.annual_premium).toLocaleString("zh-CN"):"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-700 text-center cursor-pointer",onClick:()=>K(Y),children:Y.payment_years?`${Y.payment_years}`:"-"}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center cursor-pointer",onClick:()=>K(Y),children:(()=>{let re=!1,he=0;return Y.table1&&(typeof Y.table1=="object"&&Y.table1.years&&Array.isArray(Y.table1.years)?(re=Y.table1.years.length>0,he=Y.table1.years.length):typeof Y.table1=="string"&&Y.table1.trim().length>0&&(re=!0,he=0)),re?p.jsx("span",{className:"px-1.5 md:px-2 py-0.5 md:py-1 text-sm font-semibold bg-green-100 text-green-800 rounded-full",children:he>0?`${he}`:""}):p.jsx("span",{className:"text-gray-400 text-sm",children:""})})()}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-md cursor-pointer",onClick:()=>K(Y),children:(()=>{let re="";if(Y.summary)try{typeof Y.summary=="string"?re=JSON.parse(Y.summary).summary||Y.summary:typeof Y.summary=="object"&&(re=Y.summary.summary||"")}catch{typeof Y.summary=="string"&&(re=Y.summary)}return re&&typeof re=="string"&&re.trim()?p.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",title:re,children:re}):p.jsx("span",{className:"text-gray-400 text-sm",children:""})})()}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center cursor-pointer",onClick:()=>K(Y),children:p.jsx("span",{className:`px-1.5 md:px-2 py-0.5 md:py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${J(Y.status)}`,children:M(Y.status)})}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 max-w-xs cursor-pointer",onClick:()=>K(Y),children:p.jsxs("div",{className:"flex items-center",children:[p.jsx($r,{className:"w-3 h-3 md:w-4 md:h-4 text-indigo-600 mr-1 md:mr-2 flex-shrink-0"}),p.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",title:Y.file_name,children:Y.file_name})]})}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-sm text-gray-500 cursor-pointer",onClick:()=>K(Y),children:new Date(Y.created_at).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),p.jsx("td",{className:"px-2 md:px-4 py-2 md:py-3 whitespace-nowrap text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2",children:[p.jsxs("button",{onClick:re=>{re.stopPropagation(),ne(Y.id)},className:"inline-flex items-center gap-1 px-2 md:px-3 py-1 md:py-1.5 bg-blue-600 text-white text-xs md:text-sm rounded-lg hover:bg-blue-700 transition-colors",title:"",children:[p.jsx(Ja,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),p.jsx("span",{className:"hidden lg:inline",children:""})]}),p.jsxs("button",{onClick:re=>{re.stopPropagation(),K(Y)},className:"inline-flex items-center gap-1 px-2 md:px-3 py-1 md:py-1.5 bg-indigo-600 text-white text-xs md:text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[p.jsx(LC,{className:"w-3 h-3 md:w-3.5 md:h-3.5"}),p.jsx("span",{className:"hidden lg:inline",children:""})]})]})})]})},Y.id))})]})}),p.jsx("div",{className:"md:hidden space-y-4",children:Ee.map(Y=>p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>K(Y),children:[p.jsxs("div",{className:"flex items-center justify-between mb-2 text-xs text-gray-500",children:[p.jsx("span",{children:new Date(Y.created_at).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),p.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${J(Y.status)}`,children:M(Y.status)})]}),p.jsxs("div",{className:"flex items-start gap-2 mb-2 pb-2 border-b border-gray-200",children:[p.jsx("input",{type:"checkbox",checked:m.includes(Y.id),onChange:()=>q(Y.id),onClick:re=>re.stopPropagation(),className:"w-4 h-4 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 flex-shrink-0"}),p.jsx("div",{className:"flex-1 min-w-0",children:p.jsx("span",{className:"text-sm font-bold text-gray-900 break-words line-clamp-1",children:Y.file_name})})]}),p.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:p.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-0.5 text-xs text-gray-700",children:[p.jsxs("span",{children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-medium",children:Y.insured_name||"-"})]}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-gray-500",children:""}),Y.insured_age||"-"]}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-gray-500",children:""}),Y.insured_gender||"-"]})]})}),p.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:p.jsxs("div",{className:"text-xs",children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-medium text-gray-900",children:Y.insurance_company||"-"}),p.jsx("span",{className:"text-gray-300 mx-1",children:"|"}),p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-medium text-gray-900",children:Y.insurance_product||"-"})]})}),p.jsx("div",{className:"mb-1.5 pb-1.5 border-b border-gray-200",children:p.jsxs("div",{className:"grid grid-cols-3 gap-x-2 gap-y-0.5 text-xs",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-bold text-gray-900",children:Y.sum_assured?parseInt(Y.sum_assured).toLocaleString("zh-CN"):"-"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-bold text-gray-900",children:Y.annual_premium?parseInt(Y.annual_premium).toLocaleString("zh-CN"):"-"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"font-medium text-gray-900",children:Y.payment_years?`${Y.payment_years}`:"-"})]})]})}),p.jsx("div",{children:(()=>{let re="";if(Y.summary)try{typeof Y.summary=="string"?re=JSON.parse(Y.summary).summary||Y.summary:typeof Y.summary=="object"&&(re=Y.summary.summary||"")}catch{typeof Y.summary=="string"&&(re=Y.summary)}return re&&typeof re=="string"&&re.trim()?p.jsxs("div",{className:"text-xs text-gray-600",children:[p.jsx("span",{className:"text-gray-500",children:""}),p.jsx("span",{className:"line-clamp-2",children:re})]}):p.jsxs("div",{className:"text-xs text-gray-400",children:[p.jsx("span",{className:"text-gray-500",children:""}),""]})})()})]},Y.id))})]})]}),G&&B&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6 flex items-center justify-between rounded-t-2xl",children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[p.jsx(Ja,{className:"w-6 h-6 text-blue-600"}),""]}),p.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:p.jsx(Ou,{className:"w-6 h-6 text-gray-600"})})]}),p.jsx("div",{className:"p-4 md:p-6",children:R[B]?(()=>{const Y=R[B],re=Y.processing_stage||"",he=r.find(Pe=>Pe.id===B);return p.jsxs("div",{className:"space-y-6",children:[he&&p.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx($r,{className:"w-5 h-5 text-indigo-600"}),p.jsx("span",{className:"font-semibold text-gray-800",children:he.file_name})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",he.id,"   ",new Date(he.created_at).toLocaleString("zh-CN")]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""}),p.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[Y.progress_percentage,"%"]})]}),p.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500",style:{width:`${Y.progress_percentage}%`}})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),p.jsx("div",{className:"space-y-3",children:[{id:"basic_info",label:" ",stages:["extracting_basic_info"],completedStages:["basic_info_completed","extracting_tablesummary","tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"tablesummary",label:" ",stages:["extracting_tablesummary"],completedStages:["tablesummary_completed","extracting_table","table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table1",label:" ",stages:["extracting_table"],completedStages:["table_completed","extracting_wellness_table","wellness_table_completed","extracting_summary","all_completed"]},{id:"table2",label:" ",stages:["extracting_wellness_table"],completedStages:["wellness_table_completed","extracting_summary","all_completed"]},{id:"summary",label:" ",stages:["extracting_summary"],completedStages:["all_completed"]}].map(({id:Pe,label:ie,stages:Re,completedStages:je})=>{const ae=Re.includes(re),ze=je.includes(re);return p.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl transition-all ${ze?"bg-green-50 border-2 border-green-300":ae?"bg-blue-50 border-2 border-blue-300 shadow-lg":"bg-gray-50 border-2 border-gray-200"}`,children:[ze?p.jsx(qd,{className:"h-7 w-7 text-green-600 flex-shrink-0"}):ae?p.jsx(Mt,{className:"h-7 w-7 text-blue-600 animate-spin flex-shrink-0"}):p.jsx("div",{className:"h-7 w-7 border-2 border-gray-300 rounded-full flex-shrink-0"}),p.jsx("span",{className:`text-base flex-1 ${ze?"text-green-800 font-semibold line-through":ae?"text-blue-900 font-bold":"text-gray-600"}`,children:ie}),ze&&p.jsx("span",{className:"text-sm px-3 py-1 bg-green-500 text-white rounded-full font-semibold",children:" "}),ae&&p.jsx("span",{className:"text-sm px-3 py-1 bg-blue-500 text-white rounded-full font-semibold animate-pulse",children:" "})]},Pe)})})]}),p.jsxs("div",{className:"space-y-3",children:[Y.error_message&&p.jsx("div",{className:"p-4 bg-red-50 border-2 border-red-300 rounded-xl",children:p.jsxs("p",{className:"text-sm text-red-800 font-medium",children:[p.jsx("span",{className:"font-bold",children:""})," ",Y.error_message]})}),Y.last_processed_at&&p.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[": ",new Date(Y.last_processed_at).toLocaleString("zh-CN")]}),re==="all_completed"&&p.jsx("div",{className:"p-4 bg-green-50 border-2 border-green-300 rounded-xl text-center",children:p.jsx("p",{className:"text-green-800 font-bold text-lg",children:" "})})]}),p.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[p.jsxs("button",{onClick:()=>ne(B),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(Y1,{className:"w-4 h-4"}),""]}),p.jsxs("button",{onClick:()=>{X(!1);const Pe=r.find(ie=>ie.id===B);Pe&&K(Pe)},className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(LC,{className:"w-4 h-4"}),""]})]})]})})():p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx(Mt,{className:"w-12 h-12 text-blue-600 animate-spin"})})})]})})]})}function hN(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&e.push(s),i=r+1,r=n.indexOf(",",i)}return e}function qR(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const D$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R$={};function fN(t,e){return(R$.jsx?P$:D$).test(t)}const I$=/[ \t\n\f\r]/g;function M$(t){return typeof t=="object"?t.type==="text"?mN(t.value):!1:mN(t)}function mN(t){return t.replace(I$,"")===""}let Th=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Th.prototype.normal={};Th.prototype.property={};Th.prototype.space=void 0;function YR(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Th(n,r,e)}function Xd(t){return t.toLowerCase()}let Kr=class{constructor(e,n){this.attribute=n,this.property=e}};Kr.prototype.attribute="";Kr.prototype.booleanish=!1;Kr.prototype.boolean=!1;Kr.prototype.commaOrSpaceSeparated=!1;Kr.prototype.commaSeparated=!1;Kr.prototype.defined=!1;Kr.prototype.mustUseProperty=!1;Kr.prototype.number=!1;Kr.prototype.overloadedBoolean=!1;Kr.prototype.property="";Kr.prototype.spaceSeparated=!1;Kr.prototype.space=void 0;let L$=0;const ht=hl(),Cn=hl(),ov=hl(),Ne=hl(),Kt=hl(),wu=hl(),ai=hl();function hl(){return 2**++L$}const lv=Object.freeze(Object.defineProperty({__proto__:null,boolean:ht,booleanish:Cn,commaOrSpaceSeparated:ai,commaSeparated:wu,number:Ne,overloadedBoolean:ov,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),Yb=Object.keys(lv);let VE=class extends Kr{constructor(e,n,r,i){let a=-1;if(super(e,n),pN(this,"space",i),typeof r=="number")for(;++a<Yb.length;){const s=Yb[a];pN(this,Yb[a],(r&lv[s])===lv[s])}}};VE.prototype.defined=!0;function pN(t,e,n){n&&(t[e]=n)}function Yu(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new VE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Xd(r)]=r,n[Xd(a.attribute)]=r}return new Th(e,n,t.space)}const VR=Yu({properties:{ariaActiveDescendant:null,ariaAtomic:Cn,ariaAutoComplete:null,ariaBusy:Cn,ariaChecked:Cn,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:Cn,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:Cn,ariaFlowTo:Kt,ariaGrabbed:Cn,ariaHasPopup:null,ariaHidden:Cn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:Ne,ariaLive:null,ariaModal:Cn,ariaMultiLine:Cn,ariaMultiSelectable:Cn,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Cn,ariaReadOnly:Cn,ariaRelevant:null,ariaRequired:Cn,ariaRoleDescription:Kt,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Cn,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function GR(t,e){return e in t?t[e]:e}function WR(t,e){return GR(t,e.toLowerCase())}const j$=Yu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wu,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:ht,allowPaymentRequest:ht,allowUserMedia:ht,alt:null,as:null,async:ht,autoCapitalize:null,autoComplete:Kt,autoFocus:ht,autoPlay:ht,blocking:Kt,capture:null,charSet:null,checked:ht,cite:null,className:Kt,cols:Ne,colSpan:null,content:null,contentEditable:Cn,controls:ht,controlsList:Kt,coords:Ne|wu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ht,defer:ht,dir:null,dirName:null,disabled:ht,download:ov,draggable:Cn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ht,formTarget:null,headers:Kt,height:Ne,hidden:ov,high:Ne,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:ht,inputMode:null,integrity:null,is:null,isMap:ht,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:ht,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ht,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:ht,muted:ht,name:null,nonce:null,noModule:ht,noValidate:ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ht,optimum:Ne,pattern:null,ping:Kt,placeholder:null,playsInline:ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ht,referrerPolicy:null,rel:Kt,required:ht,reversed:ht,rows:Ne,rowSpan:Ne,sandbox:Kt,scope:null,scoped:ht,seamless:ht,selected:ht,shadowRootClonable:ht,shadowRootDelegatesFocus:ht,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Cn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:ht,useMap:null,value:Cn,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ht,declare:ht,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:ht,noHref:ht,noShade:ht,noWrap:ht,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Cn,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ht,disableRemotePlayback:ht,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:WR}),B$=Yu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ai,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wu,g2:wu,glyphName:wu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:ai,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ai,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ai,rev:ai,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ai,requiredFeatures:ai,requiredFonts:ai,requiredFormats:ai,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:ai,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ai,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ai,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:GR}),KR=Yu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),XR=Yu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:WR}),QR=Yu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),F$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},U$=/[A-Z]/g,gN=/-[a-z]/g,H$=/^data[-\w.:]+$/i;function GE(t,e){const n=Xd(e);let r=e,i=Kr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&H$.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(gN,$$);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!gN.test(a)){let s=a.replace(U$,z$);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=VE}return new i(r,e)}function z$(t){return"-"+t.toLowerCase()}function $$(t){return t.charAt(1).toUpperCase()}const gg=YR([VR,j$,KR,XR,QR],"html"),Vu=YR([VR,B$,KR,XR,QR],"svg");function yN(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function ZR(t){return t.join(" ").trim()}var iu={},Vb,bN;function q$(){if(bN)return Vb;bN=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",m="",y="comment",b="declaration";function x(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var N=1,C=1;function P(K){var ne=K.match(e);ne&&(N+=ne.length);var L=K.lastIndexOf(c);C=~L?K.length-L:C+K.length}function k(){var K={line:N,column:C};return function(ne){return ne.position=new D(K),G(),ne}}function D(K){this.start=K,this.end={line:N,column:C},this.source=S.source}D.prototype.content=w;function R(K){var ne=new Error(S.source+":"+N+":"+C+": "+K);if(ne.reason=K,ne.filename=S.source,ne.line=N,ne.column=C,ne.source=w,!S.silent)throw ne}function H(K){var ne=K.exec(w);if(ne){var L=ne[0];return P(L),w=w.slice(L.length),ne}}function G(){H(n)}function X(K){var ne;for(K=K||[];ne=B();)ne!==!1&&K.push(ne);return K}function B(){var K=k();if(!(d!=w.charAt(0)||h!=w.charAt(1))){for(var ne=2;m!=w.charAt(ne)&&(h!=w.charAt(ne)||d!=w.charAt(ne+1));)++ne;if(ne+=2,m===w.charAt(ne-1))return R("End of comment missing");var L=w.slice(2,ne-2);return C+=2,P(L),w=w.slice(ne),C+=2,K({type:y,comment:L})}}function F(){var K=k(),ne=H(r);if(ne){if(B(),!H(i))return R("property missing ':'");var L=H(a),q=K({type:b,property:E(ne[0].replace(t,m)),value:L?E(L[0].replace(t,m)):m});return H(s),q}}function Z(){var K=[];X(K);for(var ne;ne=F();)ne!==!1&&(K.push(ne),X(K));return K}return G(),Z()}function E(w){return w?w.replace(l,m):m}return Vb=x,Vb}var xN;function Y$(){if(xN)return iu;xN=1;var t=iu&&iu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=n;const e=t(q$());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),l=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;l?i(d,h,c):h&&(a=a||{},a[d]=h)}),a}return iu}var ld={},vN;function V$(){if(vN)return ld;vN=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),a(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,s))};return ld.camelCase=c,ld}var ud,EN;function G$(){if(EN)return ud;EN=1;var t=ud&&ud.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Y$()),n=V$();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(s[(0,n.camelCase)(l,a)]=c)}),s}return r.default=r,ud=r,ud}var W$=G$();const K$=Xi(W$),yg=JR("end"),Na=JR("start");function JR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function X$(t){const e=Na(t),n=yg(t);if(e&&n)return{start:e,end:n}}function Dd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wN(t.position):"start"in t||"end"in t?wN(t):"line"in t||"column"in t?uv(t):""}function uv(t){return AN(t&&t.line)+":"+AN(t&&t.column)}function wN(t){return uv(t&&t.start)+"-"+uv(t&&t.end)}function AN(t){return t&&typeof t=="number"?t:1}class fr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Dd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fr.prototype.file="";fr.prototype.name="";fr.prototype.reason="";fr.prototype.message="";fr.prototype.stack="";fr.prototype.column=void 0;fr.prototype.line=void 0;fr.prototype.ancestors=void 0;fr.prototype.cause=void 0;fr.prototype.fatal=void 0;fr.prototype.place=void 0;fr.prototype.ruleId=void 0;fr.prototype.source=void 0;const WE={}.hasOwnProperty,Q$=new Map,Z$=/[A-Z]/g,J$=new Set(["table","tbody","thead","tfoot","tr"]),eq=new Set(["td","th"]),eI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tq(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=uq(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=lq(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Vu:gg,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=tI(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function tI(t,e,n){if(e.type==="element")return nq(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return rq(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return aq(t,e,n);if(e.type==="mdxjsEsm")return iq(t,e);if(e.type==="root")return sq(t,e,n);if(e.type==="text")return oq(t,e)}function nq(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Vu,t.schema=i),t.ancestors.push(e);const a=rI(t,e.tagName,!1),s=cq(t,e);let l=XE(t,e);return J$.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!M$(c):!0})),nI(t,s,a,e),KE(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function rq(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Qd(t,e.position)}function iq(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Qd(t,e.position)}function aq(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Vu,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:rI(t,e.name,!0),s=dq(t,e),l=XE(t,e);return nI(t,s,a,e),KE(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function sq(t,e,n){const r={};return KE(r,XE(t,e)),t.create(e,t.Fragment,r,n)}function oq(t,e){return e.value}function nI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function KE(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function lq(t,e,n){return r;function r(i,a,s,l){const d=Array.isArray(s.children)?n:e;return l?d(a,s,l):d(a,s)}}function uq(t,e){return n;function n(r,i,a,s){const l=Array.isArray(a.children),c=Na(r);return e(i,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function cq(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&WE.call(e.properties,i)){const a=hq(t,i,e.properties[i]);if(a){const[s,l]=a;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&eq.has(e.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dq(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Qd(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else Qd(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function XE(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Q$;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;s=c+"-"+d,i.set(c,d+1)}}const l=tI(t,a,s);l!==void 0&&n.push(l)}return n}function hq(t,e,n){const r=GE(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?qR(n):ZR(n)),r.property==="style"){let i=typeof n=="object"?n:fq(t,String(n));return t.stylePropertyNameCase==="css"&&(i=mq(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?F$[r.property]||r.property:r.attribute,n]}}function fq(t,e){try{return K$(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new fr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=eI+"#cannot-parse-style-attribute",i}}function rI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const l=fN(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=fN(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return WE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Qd(t)}function Qd(t,e){const n=new fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=eI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mq(t){const e={};let n;for(n in t)WE.call(t,n)&&(e[pq(n)]=t[n]);return e}function pq(t){let e=t.replace(Z$,gq);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function gq(t){return"-"+t.toLowerCase()}const Gb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yq={};function bq(t,e){const n=yq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return iI(t,r,i)}function iI(t,e,n){if(xq(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return SN(t.children,e,n)}return Array.isArray(t)?SN(t,e,n):""}function SN(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=iI(t[i],e,n);return r.join("")}function xq(t){return!!(t&&typeof t=="object")}const TN=document.createElement("i");function QE(t){const e="&"+t+";";TN.innerHTML=e;const n=TN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function wa(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ii(t,e){return t.length>0?(wa(t,t.length,0,e),t):e}const _N={}.hasOwnProperty;function vq(t){const e={};let n=-1;for(;++n<t.length;)Eq(e,t[n]);return e}function Eq(t,e){let n;for(n in e){const i=(_N.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){_N.call(i,s)||(i[s]=[]);const l=a[s];wq(i[s],Array.isArray(l)?l:l?[l]:[])}}}function wq(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);wa(t,0,0,r)}function aI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Au(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ga=lo(/[A-Za-z]/),fi=lo(/[\dA-Za-z]/),Aq=lo(/[#-'*+\--9=?A-Z^-~]/);function cv(t){return t!==null&&(t<32||t===127)}const dv=lo(/\d/),Sq=lo(/[\dA-Fa-f]/),Tq=lo(/[!-/:-@[-`{-~]/);function Ze(t){return t!==null&&t<-2}function Wr(t){return t!==null&&(t<0||t===32)}function Rt(t){return t===-2||t===-1||t===32}const _q=lo(new RegExp("\\p{P}|\\p{S}","u")),Cq=lo(/\s/);function lo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gu(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&fi(t.charCodeAt(n+1))&&fi(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Zt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return Rt(c)?(t.enter(n),l(c)):e(c)}function l(c){return Rt(c)&&a++<i?(t.consume(c),l):(t.exit(n),e(c))}}const Nq={tokenize:Oq};function Oq(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Zt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ze(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),s)}}const kq={tokenize:Dq},CN={tokenize:Pq};function Dq(t){const e=this,n=[];let r=0,i,a,s;return l;function l(C){if(r<n.length){const P=n[r];return e.containerState=P[1],t.attempt(P[0].continuation,c,d)(C)}return d(C)}function c(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&N();const P=e.events.length;let k=P,D;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){D=e.events[k][1].end;break}S(r);let R=P;for(;R<e.events.length;)e.events[R][1].end={...D},R++;return wa(e.events,k+1,0,e.events.slice(P)),e.events.length=R,d(C)}return l(C)}function d(C){if(r===n.length){if(!i)return y(C);if(i.currentConstruct&&i.currentConstruct.concrete)return x(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(CN,h,m)(C)}function h(C){return i&&N(),S(r),y(C)}function m(C){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,x(C)}function y(C){return e.containerState={},t.attempt(CN,b,x)(C)}function b(C){return r++,n.push([e.currentConstruct,e.containerState]),y(C)}function x(C){if(C===null){i&&N(),S(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),E(C)}function E(C){if(C===null){w(t.exit("chunkFlow"),!0),S(0),t.consume(C);return}return Ze(C)?(t.consume(C),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(C),E)}function w(C,P){const k=e.sliceStream(C);if(P&&k.push(null),C.previous=a,a&&(a.next=C),a=C,i.defineSkip(C.start),i.write(k),e.parser.lazy[C.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<s&&(!i.events[D][1].end||i.events[D][1].end.offset>s))return;const R=e.events.length;let H=R,G,X;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(G){X=e.events[H][1].end;break}G=!0}for(S(r),D=R;D<e.events.length;)e.events[D][1].end={...X},D++;wa(e.events,H+1,0,e.events.slice(R)),e.events.length=D}}function S(C){let P=n.length;for(;P-- >C;){const k=n[P];e.containerState=k[1],k[0].exit.call(e,t)}n.length=C}function N(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Pq(t,e,n){return Zt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function NN(t){if(t===null||Wr(t)||Cq(t))return 1;if(_q(t))return 2}function ZE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const hv={name:"attention",resolveAll:Rq,tokenize:Iq};function Rq(t,e){let n=-1,r,i,a,s,l,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},y={...t[n][1].start};ON(m,-c),ON(y,c),s={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},t[r][1].end={...s.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ii(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ii(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=Ii(d,ZE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ii(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Ii(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,wa(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Iq(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=NN(r);let a;return s;function s(c){return a=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===a)return t.consume(c),l;const d=t.exit("attentionSequence"),h=NN(c),m=!h||h===2&&i||n.includes(c),y=!i||i===2&&h||n.includes(r);return d._open=!!(a===42?m:m&&(i||!y)),d._close=!!(a===42?y:y&&(h||!m)),e(c)}}function ON(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Mq={name:"autolink",tokenize:Lq};function Lq(t,e,n){let r=0;return i;function i(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(b){return ga(b)?(t.consume(b),s):b===64?n(b):d(b)}function s(b){return b===43||b===45||b===46||fi(b)?(r=1,l(b)):d(b)}function l(b){return b===58?(t.consume(b),r=0,c):(b===43||b===45||b===46||fi(b))&&r++<32?(t.consume(b),l):(r=0,d(b))}function c(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||cv(b)?n(b):(t.consume(b),c)}function d(b){return b===64?(t.consume(b),h):Aq(b)?(t.consume(b),d):n(b)}function h(b){return fi(b)?m(b):n(b)}function m(b){return b===46?(t.consume(b),r=0,h):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):y(b)}function y(b){if((b===45||fi(b))&&r++<63){const x=b===45?y:m;return t.consume(b),x}return n(b)}}const bg={partial:!0,tokenize:jq};function jq(t,e,n){return r;function r(a){return Rt(a)?Zt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ze(a)?e(a):n(a)}}const sI={continuation:{tokenize:Fq},exit:Uq,name:"blockQuote",tokenize:Bq};function Bq(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Rt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Fq(t,e,n){const r=this;return i;function i(s){return Rt(s)?Zt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(sI,e,n)(s)}}function Uq(t){t.exit("blockQuote")}const oI={name:"characterEscape",tokenize:Hq};function Hq(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Tq(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const lI={name:"characterReference",tokenize:zq};function zq(t,e,n){const r=this;let i=0,a,s;return l;function l(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=fi,h(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Sq,h):(t.enter("characterReferenceValue"),a=7,s=dv,h(m))}function h(m){if(m===59&&i){const y=t.exit("characterReferenceValue");return s===fi&&!QE(r.sliceSerialize(y))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(m)&&i++<a?(t.consume(m),h):n(m)}}const kN={partial:!0,tokenize:qq},DN={concrete:!0,name:"codeFenced",tokenize:$q};function $q(t,e,n){const r=this,i={partial:!0,tokenize:k};let a=0,s=0,l;return c;function c(D){return d(D)}function d(D){const R=r.events[r.events.length-1];return a=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,l=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===l?(s++,t.consume(D),h):s<3?n(D):(t.exit("codeFencedFenceSequence"),Rt(D)?Zt(t,m,"whitespace")(D):m(D))}function m(D){return D===null||Ze(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(kN,E,P)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(D))}function y(D){return D===null||Ze(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(D)):Rt(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Zt(t,b,"whitespace")(D)):D===96&&D===l?n(D):(t.consume(D),y)}function b(D){return D===null||Ze(D)?m(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(D))}function x(D){return D===null||Ze(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(D)):D===96&&D===l?n(D):(t.consume(D),x)}function E(D){return t.attempt(i,P,w)(D)}function w(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),S}function S(D){return a>0&&Rt(D)?Zt(t,N,"linePrefix",a+1)(D):N(D)}function N(D){return D===null||Ze(D)?t.check(kN,E,P)(D):(t.enter("codeFlowValue"),C(D))}function C(D){return D===null||Ze(D)?(t.exit("codeFlowValue"),N(D)):(t.consume(D),C)}function P(D){return t.exit("codeFenced"),e(D)}function k(D,R,H){let G=0;return X;function X(ne){return D.enter("lineEnding"),D.consume(ne),D.exit("lineEnding"),B}function B(ne){return D.enter("codeFencedFence"),Rt(ne)?Zt(D,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):F(ne)}function F(ne){return ne===l?(D.enter("codeFencedFenceSequence"),Z(ne)):H(ne)}function Z(ne){return ne===l?(G++,D.consume(ne),Z):G>=s?(D.exit("codeFencedFenceSequence"),Rt(ne)?Zt(D,K,"whitespace")(ne):K(ne)):H(ne)}function K(ne){return ne===null||Ze(ne)?(D.exit("codeFencedFence"),R(ne)):H(ne)}}}function qq(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Wb={name:"codeIndented",tokenize:Vq},Yq={partial:!0,tokenize:Gq};function Vq(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Zt(t,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):Ze(d)?t.attempt(Yq,s,c)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ze(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),l)}function c(d){return t.exit("codeIndented"),e(d)}}function Gq(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ze(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Zt(t,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):Ze(s)?i(s):n(s)}}const Wq={name:"codeText",previous:Xq,resolve:Kq,tokenize:Qq};function Kq(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Xq(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Qq(t,e,n){let r=0,i,a;return s;function s(m){return t.enter("codeText"),t.enter("codeTextSequence"),l(m)}function l(m){return m===96?(t.consume(m),r++,l):(t.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),c):m===96?(a=t.enter("codeTextSequence"),i=0,h(m)):Ze(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Ze(m)?(t.exit("codeTextData"),c(m)):(t.consume(m),d)}function h(m){return m===96?(t.consume(m),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(a.type="codeTextData",d(m))}}class Zq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&cd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),cd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),cd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);cd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);cd(this.left,n.reverse())}}}function cd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function uI(t){const e={};let n=-1,r,i,a,s,l,c,d;const h=new Zq(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Jq(h,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return wa(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function Jq(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],d={};let h,m,y=-1,b=n,x=0,E=0;const w=[E];for(;b;){for(;t.get(++i)[1]!==b;);a.push(i),b._tokenizer||(h=r.sliceStream(b),b.next||h.push(null),m&&s.defineSkip(b.start),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),b._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(E=y+1,w.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(s.events=[],b?(b._tokenizer=void 0,b.previous=void 0):w.pop(),y=w.length;y--;){const S=l.slice(w[y],w[y+1]),N=a.pop();c.push([N,N+S.length-1]),t.splice(N,2,S)}for(c.reverse(),y=-1;++y<c.length;)d[x+c[y][0]]=x+c[y][1],x+=c[y][1]-c[y][0]-1;return d}const eY={resolve:nY,tokenize:rY},tY={partial:!0,tokenize:iY};function nY(t){return uI(t),t}function rY(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Ze(l)?t.check(tY,s,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function iY(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Zt(t,a,"linePrefix")}function a(s){if(s===null||Ze(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function cI(t,e,n,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return m;function m(S){return S===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(S),t.exit(a),y):S===null||S===32||S===41||cv(S)?n(S):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),E(S))}function y(S){return S===62?(t.enter(a),t.consume(S),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(t.exit("chunkString"),t.exit(l),y(S)):S===null||S===60||Ze(S)?n(S):(t.consume(S),S===92?x:b)}function x(S){return S===60||S===62||S===92?(t.consume(S),b):b(S)}function E(S){return!h&&(S===null||S===41||Wr(S))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(S)):h<d&&S===40?(t.consume(S),h++,E):S===41?(t.consume(S),h--,E):S===null||S===32||S===40||cv(S)?n(S):(t.consume(S),S===92?w:E)}function w(S){return S===40||S===41||S===92?(t.consume(S),E):E(S)}}function dI(t,e,n,r,i,a){const s=this;let l=0,c;return d;function d(b){return t.enter(r),t.enter(i),t.consume(b),t.exit(i),t.enter(a),h}function h(b){return l>999||b===null||b===91||b===93&&!c||b===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(b):b===93?(t.exit(a),t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):Ze(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Ze(b)||l++>999?(t.exit("chunkString"),h(b)):(t.consume(b),c||(c=!Rt(b)),b===92?y:m)}function y(b){return b===91||b===92||b===93?(t.consume(b),l++,m):m(b)}}function hI(t,e,n,r,i,a){let s;return l;function l(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),s=y===40?41:y,c):n(y)}function c(y){return y===s?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(a),d(y))}function d(y){return y===s?(t.exit(a),c(s)):y===null?n(y):Ze(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Zt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===s||y===null||Ze(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?m:h)}function m(y){return y===s||y===92?(t.consume(y),h):h(y)}}function Pd(t,e){let n;return r;function r(i){return Ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Rt(i)?Zt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const aY={name:"definition",tokenize:oY},sY={partial:!0,tokenize:lY};function oY(t,e,n){const r=this;let i;return a;function a(b){return t.enter("definition"),s(b)}function s(b){return dI.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function l(b){return i=Au(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),c):n(b)}function c(b){return Wr(b)?Pd(t,d)(b):d(b)}function d(b){return cI(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function h(b){return t.attempt(sY,m,m)(b)}function m(b){return Rt(b)?Zt(t,y,"whitespace")(b):y(b)}function y(b){return b===null||Ze(b)?(t.exit("definition"),r.parser.defined.push(i),e(b)):n(b)}}function lY(t,e,n){return r;function r(l){return Wr(l)?Pd(t,i)(l):n(l)}function i(l){return hI(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Rt(l)?Zt(t,s,"whitespace")(l):s(l)}function s(l){return l===null||Ze(l)?e(l):n(l)}}const uY={name:"hardBreakEscape",tokenize:cY};function cY(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ze(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const dY={name:"headingAtx",resolve:hY,tokenize:fY};function hY(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},wa(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function fY(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Wr(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||Ze(h)?(t.exit("atxHeading"),e(h)):Rt(h)?Zt(t,l,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||Wr(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),d)}}const mY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PN=["pre","script","style","textarea"],pY={concrete:!0,name:"htmlFlow",resolveTo:bY,tokenize:xY},gY={partial:!0,tokenize:EY},yY={partial:!0,tokenize:vY};function bY(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function xY(t,e,n){const r=this;let i,a,s,l,c;return d;function d(M){return h(M)}function h(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),m}function m(M){return M===33?(t.consume(M),y):M===47?(t.consume(M),a=!0,E):M===63?(t.consume(M),i=3,r.interrupt?e:U):ga(M)?(t.consume(M),s=String.fromCharCode(M),w):n(M)}function y(M){return M===45?(t.consume(M),i=2,b):M===91?(t.consume(M),i=5,l=0,x):ga(M)?(t.consume(M),i=4,r.interrupt?e:U):n(M)}function b(M){return M===45?(t.consume(M),r.interrupt?e:U):n(M)}function x(M){const Ee="CDATA[";return M===Ee.charCodeAt(l++)?(t.consume(M),l===Ee.length?r.interrupt?e:F:x):n(M)}function E(M){return ga(M)?(t.consume(M),s=String.fromCharCode(M),w):n(M)}function w(M){if(M===null||M===47||M===62||Wr(M)){const Ee=M===47,Y=s.toLowerCase();return!Ee&&!a&&PN.includes(Y)?(i=1,r.interrupt?e(M):F(M)):mY.includes(s.toLowerCase())?(i=6,Ee?(t.consume(M),S):r.interrupt?e(M):F(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):a?N(M):C(M))}return M===45||fi(M)?(t.consume(M),s+=String.fromCharCode(M),w):n(M)}function S(M){return M===62?(t.consume(M),r.interrupt?e:F):n(M)}function N(M){return Rt(M)?(t.consume(M),N):X(M)}function C(M){return M===47?(t.consume(M),X):M===58||M===95||ga(M)?(t.consume(M),P):Rt(M)?(t.consume(M),C):X(M)}function P(M){return M===45||M===46||M===58||M===95||fi(M)?(t.consume(M),P):k(M)}function k(M){return M===61?(t.consume(M),D):Rt(M)?(t.consume(M),k):C(M)}function D(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),c=M,R):Rt(M)?(t.consume(M),D):H(M)}function R(M){return M===c?(t.consume(M),c=null,G):M===null||Ze(M)?n(M):(t.consume(M),R)}function H(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Wr(M)?k(M):(t.consume(M),H)}function G(M){return M===47||M===62||Rt(M)?C(M):n(M)}function X(M){return M===62?(t.consume(M),B):n(M)}function B(M){return M===null||Ze(M)?F(M):Rt(M)?(t.consume(M),B):n(M)}function F(M){return M===45&&i===2?(t.consume(M),L):M===60&&i===1?(t.consume(M),q):M===62&&i===4?(t.consume(M),z):M===63&&i===3?(t.consume(M),U):M===93&&i===5?(t.consume(M),ve):Ze(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(gY,J,Z)(M)):M===null||Ze(M)?(t.exit("htmlFlowData"),Z(M)):(t.consume(M),F)}function Z(M){return t.check(yY,K,J)(M)}function K(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),ne}function ne(M){return M===null||Ze(M)?Z(M):(t.enter("htmlFlowData"),F(M))}function L(M){return M===45?(t.consume(M),U):F(M)}function q(M){return M===47?(t.consume(M),s="",oe):F(M)}function oe(M){if(M===62){const Ee=s.toLowerCase();return PN.includes(Ee)?(t.consume(M),z):F(M)}return ga(M)&&s.length<8?(t.consume(M),s+=String.fromCharCode(M),oe):F(M)}function ve(M){return M===93?(t.consume(M),U):F(M)}function U(M){return M===62?(t.consume(M),z):M===45&&i===2?(t.consume(M),U):F(M)}function z(M){return M===null||Ze(M)?(t.exit("htmlFlowData"),J(M)):(t.consume(M),z)}function J(M){return t.exit("htmlFlow"),e(M)}}function vY(t,e,n){const r=this;return i;function i(s){return Ze(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function EY(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(bg,e,n)}}const wY={name:"htmlText",tokenize:AY};function AY(t,e,n){const r=this;let i,a,s;return l;function l(U){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(U),c}function c(U){return U===33?(t.consume(U),d):U===47?(t.consume(U),k):U===63?(t.consume(U),C):ga(U)?(t.consume(U),H):n(U)}function d(U){return U===45?(t.consume(U),h):U===91?(t.consume(U),a=0,x):ga(U)?(t.consume(U),N):n(U)}function h(U){return U===45?(t.consume(U),b):n(U)}function m(U){return U===null?n(U):U===45?(t.consume(U),y):Ze(U)?(s=m,q(U)):(t.consume(U),m)}function y(U){return U===45?(t.consume(U),b):m(U)}function b(U){return U===62?L(U):U===45?y(U):m(U)}function x(U){const z="CDATA[";return U===z.charCodeAt(a++)?(t.consume(U),a===z.length?E:x):n(U)}function E(U){return U===null?n(U):U===93?(t.consume(U),w):Ze(U)?(s=E,q(U)):(t.consume(U),E)}function w(U){return U===93?(t.consume(U),S):E(U)}function S(U){return U===62?L(U):U===93?(t.consume(U),S):E(U)}function N(U){return U===null||U===62?L(U):Ze(U)?(s=N,q(U)):(t.consume(U),N)}function C(U){return U===null?n(U):U===63?(t.consume(U),P):Ze(U)?(s=C,q(U)):(t.consume(U),C)}function P(U){return U===62?L(U):C(U)}function k(U){return ga(U)?(t.consume(U),D):n(U)}function D(U){return U===45||fi(U)?(t.consume(U),D):R(U)}function R(U){return Ze(U)?(s=R,q(U)):Rt(U)?(t.consume(U),R):L(U)}function H(U){return U===45||fi(U)?(t.consume(U),H):U===47||U===62||Wr(U)?G(U):n(U)}function G(U){return U===47?(t.consume(U),L):U===58||U===95||ga(U)?(t.consume(U),X):Ze(U)?(s=G,q(U)):Rt(U)?(t.consume(U),G):L(U)}function X(U){return U===45||U===46||U===58||U===95||fi(U)?(t.consume(U),X):B(U)}function B(U){return U===61?(t.consume(U),F):Ze(U)?(s=B,q(U)):Rt(U)?(t.consume(U),B):G(U)}function F(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),i=U,Z):Ze(U)?(s=F,q(U)):Rt(U)?(t.consume(U),F):(t.consume(U),K)}function Z(U){return U===i?(t.consume(U),i=void 0,ne):U===null?n(U):Ze(U)?(s=Z,q(U)):(t.consume(U),Z)}function K(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||Wr(U)?G(U):(t.consume(U),K)}function ne(U){return U===47||U===62||Wr(U)?G(U):n(U)}function L(U){return U===62?(t.consume(U),t.exit("htmlTextData"),t.exit("htmlText"),e):n(U)}function q(U){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),oe}function oe(U){return Rt(U)?Zt(t,ve,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):ve(U)}function ve(U){return t.enter("htmlTextData"),s(U)}}const JE={name:"labelEnd",resolveAll:CY,resolveTo:NY,tokenize:OY},SY={tokenize:kY},TY={tokenize:DY},_Y={tokenize:PY};function CY(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&wa(t,0,t.length,n),t}function NY(t,e){let n=t.length,r=0,i,a,s,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return l=[["enter",c,e],["enter",d,e]],l=Ii(l,t.slice(a+1,a+r+3)),l=Ii(l,[["enter",h,e]]),l=Ii(l,ZE(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),l=Ii(l,[["exit",h,e],t[s-2],t[s-1],["exit",d,e]]),l=Ii(l,t.slice(s+1)),l=Ii(l,[["exit",c,e]]),wa(t,a,t.length,l),t}function OY(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(y){return a?a._inactive?m(y):(s=r.parser.defined.includes(Au(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),c):n(y)}function c(y){return y===40?t.attempt(SY,h,s?h:m)(y):y===91?t.attempt(TY,h,s?d:m)(y):s?h(y):m(y)}function d(y){return t.attempt(_Y,h,m)(y)}function h(y){return e(y)}function m(y){return a._balanced=!0,n(y)}}function kY(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Wr(m)?Pd(t,a)(m):a(m)}function a(m){return m===41?h(m):cI(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function s(m){return Wr(m)?Pd(t,c)(m):h(m)}function l(m){return n(m)}function c(m){return m===34||m===39||m===40?hI(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function d(m){return Wr(m)?Pd(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function DY(t,e,n){const r=this;return i;function i(l){return dI.call(r,t,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Au(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function PY(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const RY={name:"labelStartImage",resolveAll:JE.resolveAll,tokenize:IY};function IY(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const MY={name:"labelStartLink",resolveAll:JE.resolveAll,tokenize:LY};function LY(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Kb={name:"lineEnding",tokenize:jY};function jY(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Zt(t,e,"linePrefix")}}const qm={name:"thematicBreak",tokenize:BY};function BY(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||Ze(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),Rt(d)?Zt(t,l,"whitespace")(d):l(d))}}const Fr={continuation:{tokenize:zY},exit:qY,name:"list",tokenize:HY},FY={partial:!0,tokenize:YY},UY={partial:!0,tokenize:$Y};function HY(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(b){const x=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:dv(b)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(qm,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(b)}return n(b)}function c(b){return dv(b)&&++s<10?(t.consume(b),c):(!r.interrupt||s<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(bg,r.interrupt?n:h,t.attempt(FY,y,m))}function h(b){return r.containerState.initialBlankLine=!0,a++,y(b)}function m(b){return Rt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),y):n(b)}function y(b){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function zY(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(bg,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zt(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Rt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(UY,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zt(t,t.attempt(Fr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function $Y(t,e,n){const r=this;return Zt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function qY(t){t.exit(this.containerState.type)}function YY(t,e,n){const r=this;return Zt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Rt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const RN={name:"setextUnderline",resolveTo:VY,tokenize:GY};function VY(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function GY(t,e,n){const r=this;let i;return a;function a(d){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Rt(d)?Zt(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Ze(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const WY={tokenize:KY};function KY(t){const e=this,n=t.attempt(bg,r,t.attempt(this.parser.constructs.flowInitial,i,Zt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(eY,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const XY={resolveAll:mI()},QY=fI("string"),ZY=fI("text");function fI(t){return{resolveAll:mI(t==="text"?JY:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,l);return s;function s(h){return d(h)?a(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),a(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;const m=i[h];let y=-1;if(m)for(;++y<m.length;){const b=m[y];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function mI(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function JY(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const eV={42:Fr,43:Fr,45:Fr,48:Fr,49:Fr,50:Fr,51:Fr,52:Fr,53:Fr,54:Fr,55:Fr,56:Fr,57:Fr,62:sI},tV={91:aY},nV={[-2]:Wb,[-1]:Wb,32:Wb},rV={35:dY,42:qm,45:[RN,qm],60:pY,61:RN,95:qm,96:DN,126:DN},iV={38:lI,92:oI},aV={[-5]:Kb,[-4]:Kb,[-3]:Kb,33:RY,38:lI,42:hv,60:[Mq,wY],91:MY,92:[uY,oI],93:JE,95:hv,96:Wq},sV={null:[hv,XY]},oV={null:[42,95]},lV={null:[]},uV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oV,contentInitial:tV,disable:lV,document:eV,flow:rV,flowInitial:nV,insideSpan:sV,string:iV,text:aV},Symbol.toStringTag,{value:"Module"}));function cV(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const c={attempt:R(k),check:R(D),consume:N,enter:C,exit:P,interrupt:R(D,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:t,previous:null,sliceSerialize:y,sliceStream:b,write:m};let h=e.tokenize.call(d,c);return e.resolveAll&&a.push(e),d;function m(B){return s=Ii(s,B),w(),s[s.length-1]!==null?[]:(H(e,0),d.events=ZE(a,d.events,d),d.events)}function y(B,F){return hV(b(B),F)}function b(B){return dV(s,B)}function x(){const{_bufferIndex:B,_index:F,line:Z,column:K,offset:ne}=r;return{_bufferIndex:B,_index:F,line:Z,column:K,offset:ne}}function E(B){i[B.line]=B.column,X()}function w(){let B;for(;r._index<s.length;){const F=s[r._index];if(typeof F=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<F.length;)S(F.charCodeAt(r._bufferIndex));else S(F)}}function S(B){h=h(B)}function N(B){Ze(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,X()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=B}function C(B,F){const Z=F||{};return Z.type=B,Z.start=x(),d.events.push(["enter",Z,d]),l.push(Z),Z}function P(B){const F=l.pop();return F.end=x(),d.events.push(["exit",F,d]),F}function k(B,F){H(B,F.from)}function D(B,F){F.restore()}function R(B,F){return Z;function Z(K,ne,L){let q,oe,ve,U;return Array.isArray(K)?J(K):"tokenize"in K?J([K]):z(K);function z(re){return he;function he(Pe){const ie=Pe!==null&&re[Pe],Re=Pe!==null&&re.null,je=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return J(je)(Pe)}}function J(re){return q=re,oe=0,re.length===0?L:M(re[oe])}function M(re){return he;function he(Pe){return U=G(),ve=re,re.partial||(d.currentConstruct=re),re.name&&d.parser.constructs.disable.null.includes(re.name)?Y():re.tokenize.call(F?Object.assign(Object.create(d),F):d,c,Ee,Y)(Pe)}}function Ee(re){return B(ve,U),ne}function Y(re){return U.restore(),++oe<q.length?M(q[oe]):L}}}function H(B,F){B.resolveAll&&!a.includes(B)&&a.push(B),B.resolve&&wa(d.events,F,d.events.length-F,B.resolve(d.events.slice(F),d)),B.resolveTo&&(d.events=B.resolveTo(d.events,d))}function G(){const B=x(),F=d.previous,Z=d.currentConstruct,K=d.events.length,ne=Array.from(l);return{from:K,restore:L};function L(){r=B,d.previous=F,d.currentConstruct=Z,d.events.length=K,l=ne,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dV(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function hV(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function fV(t){const r={constructs:vq([uV,...(t||{}).extensions||[]]),content:i(Nq),defined:[],document:i(kq),flow:i(WY),lazy:{},string:i(QY),text:i(ZY)};return r;function i(a){return s;function s(l){return cV(r,a,l)}}}function mV(t){for(;!uI(t););return t}const IN=/[\0\t\n\r]/g;function pV(){let t=1,e="",n=!0,r;return i;function i(a,s,l){const c=[];let d,h,m,y,b;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),m=0,e="",n&&(a.charCodeAt(0)===65279&&m++,n=void 0);m<a.length;){if(IN.lastIndex=m,d=IN.exec(a),y=d&&d.index!==void 0?d.index:a.length,b=a.charCodeAt(y),!d){e=a.slice(m);break}if(b===10&&m===y&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<y&&(c.push(a.slice(m,y)),t+=y-m),b){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}m=y+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const gV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yV(t){return t.replace(gV,bV)}function bV(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return aI(n.slice(a?2:1),a?16:10)}return QE(n)||t}const pI={}.hasOwnProperty;function xV(t,e,n){return typeof e!="string"&&(n=e,e=void 0),vV(n)(mV(fV(n).document().write(pV()(t,e,!0))))}function vV(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ct),autolinkProtocol:G,autolinkEmail:G,atxHeading:a(Qe),blockQuote:a(Re),characterEscape:G,characterReference:G,codeFenced:a(je),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(je,s),codeText:a(ae,s),codeTextData:G,data:G,codeFlowValue:G,definition:a(ze),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Me),hardBreakEscape:a(Te),hardBreakTrailing:a(Te),htmlFlow:a(Ie,s),htmlFlowData:G,htmlText:a(Ie,s),htmlTextData:G,image:a(At),label:s,link:a(ct),listItem:a(Tt),listItemValue:y,listOrdered:a(Je,m),listUnordered:a(Je),paragraph:a(jt),reference:M,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Qe),strong:a(It),thematicBreak:a(be)},exit:{atxHeading:c(),atxHeadingSequence:k,autolink:c(),autolinkEmail:ie,autolinkProtocol:Pe,blockQuote:c(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:Y,characterReferenceMarkerNumeric:Y,characterReferenceValue:re,characterReference:he,codeFenced:c(w),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:x,codeFlowValue:X,codeIndented:c(S),codeText:c(ne),codeTextData:X,data:X,definition:c(),definitionDestinationString:P,definitionLabelString:N,definitionTitleString:C,emphasis:c(),hardBreakEscape:c(F),hardBreakTrailing:c(F),htmlFlow:c(Z),htmlFlowData:X,htmlText:c(K),htmlTextData:X,image:c(q),label:ve,labelText:oe,lineEnding:B,link:c(L),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ee,resourceDestinationString:U,resourceTitleString:z,resource:J,setextHeading:c(H),setextHeadingLineSequence:R,setextHeadingText:D,strong:c(),thematicBreak:c()}};gI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let pe={type:"root",children:[]};const ke={stack:[pe],tokenStack:[],config:e,enter:l,exit:d,buffer:s,resume:h,data:n},Ye=[];let it=-1;for(;++it<ee.length;)if(ee[it][1].type==="listOrdered"||ee[it][1].type==="listUnordered")if(ee[it][0]==="enter")Ye.push(it);else{const Ot=Ye.pop();it=i(ee,Ot,it)}for(it=-1;++it<ee.length;){const Ot=e[ee[it][0]];pI.call(Ot,ee[it][1].type)&&Ot[ee[it][1].type].call(Object.assign({sliceSerialize:ee[it][2].sliceSerialize},ke),ee[it][1])}if(ke.tokenStack.length>0){const Ot=ke.tokenStack[ke.tokenStack.length-1];(Ot[1]||MN).call(ke,void 0,Ot[0])}for(pe.position={start:Gs(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Gs(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<e.transforms.length;)pe=e.transforms[it](pe)||pe;return pe}function i(ee,pe,ke){let Ye=pe-1,it=-1,Ot=!1,gi,ce,_e,De;for(;++Ye<=ke;){const Le=ee[Ye];switch(Le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Le[0]==="enter"?it++:it--,De=void 0;break}case"lineEndingBlank":{Le[0]==="enter"&&(gi&&!De&&!it&&!_e&&(_e=Ye),De=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:De=void 0}if(!it&&Le[0]==="enter"&&Le[1].type==="listItemPrefix"||it===-1&&Le[0]==="exit"&&(Le[1].type==="listUnordered"||Le[1].type==="listOrdered")){if(gi){let $e=Ye;for(ce=void 0;$e--;){const xt=ee[$e];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;ce&&(ee[ce][1].type="lineEndingBlank",Ot=!0),xt[1].type="lineEnding",ce=$e}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}_e&&(!ce||_e<ce)&&(gi._spread=!0),gi.end=Object.assign({},ce?ee[ce][1].start:Le[1].end),ee.splice(ce||Ye,0,["exit",gi,Le[2]]),Ye++,ke++}if(Le[1].type==="listItemPrefix"){const $e={type:"listItem",_spread:!1,start:Object.assign({},Le[1].start),end:void 0};gi=$e,ee.splice(Ye,0,["enter",$e,Le[2]]),Ye++,ke++,_e=void 0,De=!0}}}return ee[pe][1]._spread=Ot,ke}function a(ee,pe){return ke;function ke(Ye){l.call(this,ee(Ye),Ye),pe&&pe.call(this,Ye)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(ee,pe,ke){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([pe,ke||void 0]),ee.position={start:Gs(pe.start),end:void 0}}function c(ee){return pe;function pe(ke){ee&&ee.call(this,ke),d.call(this,ke)}}function d(ee,pe){const ke=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ee.type&&(pe?pe.call(this,ee,Ye[0]):(Ye[1]||MN).call(this,ee,Ye[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Dd({start:ee.start,end:ee.end})+"): its not open");ke.position.end=Gs(ee.end)}function h(){return bq(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(ee){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ee}function x(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ee}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ee.replace(/(\r?\n|\r)$/g,"")}function N(ee){const pe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=pe,ke.identifier=Au(this.sliceSerialize(ee)).toLowerCase()}function C(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ee}function P(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ee}function k(ee){const pe=this.stack[this.stack.length-1];if(!pe.depth){const ke=this.sliceSerialize(ee).length;pe.depth=ke}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function R(ee){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function G(ee){const ke=this.stack[this.stack.length-1].children;let Ye=ke[ke.length-1];(!Ye||Ye.type!=="text")&&(Ye=tt(),Ye.position={start:Gs(ee.start),end:void 0},ke.push(Ye)),this.stack.push(Ye)}function X(ee){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ee),pe.position.end=Gs(ee.end)}function B(ee){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=pe.children[pe.children.length-1];ke.position.end=Gs(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(G.call(this,ee),X.call(this,ee))}function F(){this.data.atHardBreak=!0}function Z(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ee}function K(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ee}function ne(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ee}function L(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=pe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function q(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=pe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function oe(ee){const pe=this.sliceSerialize(ee),ke=this.stack[this.stack.length-2];ke.label=yV(pe),ke.identifier=Au(pe).toLowerCase()}function ve(){const ee=this.stack[this.stack.length-1],pe=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Ye=ee.children;ke.children=Ye}else ke.alt=pe}function U(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ee}function z(){const ee=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ee}function J(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Ee(ee){const pe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=pe,ke.identifier=Au(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Y(ee){this.data.characterReferenceType=ee.type}function re(ee){const pe=this.sliceSerialize(ee),ke=this.data.characterReferenceType;let Ye;ke?(Ye=aI(pe,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=QE(pe);const it=this.stack[this.stack.length-1];it.value+=Ye}function he(ee){const pe=this.stack.pop();pe.position.end=Gs(ee.end)}function Pe(ee){X.call(this,ee);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ee)}function ie(ee){X.call(this,ee);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ee)}function Re(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Me(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function Te(){return{type:"break"}}function Ie(){return{type:"html",value:""}}function At(){return{type:"image",title:null,url:"",alt:null}}function ct(){return{type:"link",title:null,url:"",children:[]}}function Je(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Tt(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function jt(){return{type:"paragraph",children:[]}}function It(){return{type:"strong",children:[]}}function tt(){return{type:"text",value:""}}function be(){return{type:"thematicBreak"}}}function Gs(t){return{line:t.line,column:t.column,offset:t.offset}}function gI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?gI(t,r):EV(t,r)}}function EV(t,e){let n;for(n in e)if(pI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function MN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Dd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Dd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Dd({start:e.start,end:e.end})+") is still open")}function wV(t){const e=this;e.parser=n;function n(r){return xV(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function AV(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function SV(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function TV(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function _V(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CV(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NV(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Gu(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function OV(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kV(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function yI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function DV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yI(t,e);const i={src:Gu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function PV(t,e){const n={src:Gu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function RV(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function IV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return yI(t,e);const i={href:Gu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function MV(t,e){const n={href:Gu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function LV(t,e,n){const r=t.all(e),i=n?jV(n):bI(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function jV(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=bI(n[r])}return e}function bI(t){const e=t.spread;return e??t.children.length>1}function BV(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function FV(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UV(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function HV(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zV(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Na(e.children[1]),c=yg(e.children[e.children.length-1]);l&&c&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function $V(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let c=-1;const d=[];for(;++c<l;){const m=e.children[c],y={},b=s?s[c]:void 0;b&&(y.align=b);let x={type:"element",tagName:a,properties:y,children:[]};m&&(x.children=t.all(m),t.patch(m,x),x=t.applyData(m,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function qV(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const LN=9,jN=32;function YV(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(BN(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(BN(e.slice(i),i>0,!1)),a.join("")}function BN(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===LN||a===jN;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===LN||a===jN;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function VV(t,e){const n={type:"text",value:YV(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function GV(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const WV={blockquote:AV,break:SV,code:TV,delete:_V,emphasis:CV,footnoteReference:NV,heading:OV,html:kV,imageReference:DV,image:PV,inlineCode:RV,linkReference:IV,link:MV,listItem:LV,list:BV,paragraph:FV,root:UV,strong:HV,table:zV,tableCell:qV,tableRow:$V,text:VV,thematicBreak:GV,toml:ym,yaml:ym,definition:ym,footnoteDefinition:ym};function ym(){}const xI=-1,xg=0,Rd=1,op=2,ew=3,tw=4,nw=5,rw=6,vI=7,EI=8,FN=typeof self=="object"?self:globalThis,KV=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case xg:case xI:return n(s,i);case Rd:{const l=n([],i);for(const c of s)l.push(r(c));return l}case op:{const l=n({},i);for(const[c,d]of s)l[r(c)]=r(d);return l}case ew:return n(new Date(s),i);case tw:{const{source:l,flags:c}=s;return n(new RegExp(l,c),i)}case nw:{const l=n(new Map,i);for(const[c,d]of s)l.set(r(c),r(d));return l}case rw:{const l=n(new Set,i);for(const c of s)l.add(r(c));return l}case vI:{const{name:l,message:c}=s;return n(new FN[l](c),i)}case EI:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new FN[a](s),i)};return r},UN=t=>KV(new Map,t)(0),au="",{toString:XV}={},{keys:QV}=Object,dd=t=>{const e=typeof t;if(e!=="object"||!t)return[xg,e];const n=XV.call(t).slice(8,-1);switch(n){case"Array":return[Rd,au];case"Object":return[op,au];case"Date":return[ew,au];case"RegExp":return[tw,au];case"Map":return[nw,au];case"Set":return[rw,au];case"DataView":return[Rd,n]}return n.includes("Array")?[Rd,n]:n.includes("Error")?[vI,n]:[op,n]},bm=([t,e])=>t===xg&&(e==="function"||e==="symbol"),ZV=(t,e,n,r)=>{const i=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},a=s=>{if(n.has(s))return n.get(s);let[l,c]=dd(s);switch(l){case xg:{let h=s;switch(c){case"bigint":l=EI,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([xI],s)}return i([l,h],s)}case Rd:{if(c){let y=s;return c==="DataView"?y=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(s)),i([c,[...y]],s)}const h=[],m=i([l,h],s);for(const y of s)h.push(a(y));return m}case op:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],m=i([l,h],s);for(const y of QV(s))(t||!bm(dd(s[y])))&&h.push([a(y),a(s[y])]);return m}case ew:return i([l,s.toISOString()],s);case tw:{const{source:h,flags:m}=s;return i([l,{source:h,flags:m}],s)}case nw:{const h=[],m=i([l,h],s);for(const[y,b]of s)(t||!(bm(dd(y))||bm(dd(b))))&&h.push([a(y),a(b)]);return m}case rw:{const h=[],m=i([l,h],s);for(const y of s)(t||!bm(dd(y)))&&h.push(a(y));return m}}const{message:d}=s;return i([l,{name:c,message:d}],s)};return a},HN=(t,{json:e,lossy:n}={})=>{const r=[];return ZV(!(e||n),!!e,new Map,r)(t),r},Du=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?UN(HN(t,e)):structuredClone(t):(t,e)=>UN(HN(t,e));function JV(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function eG(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function tG(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||JV,r=t.options.footnoteBackLabel||eG,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const h=t.all(d),m=String(d.identifier).toUpperCase(),y=Gu(m.toLowerCase());let b=0;const x=[],E=t.footnoteCounts.get(m);for(;E!==void 0&&++b<=E;){x.length>0&&x.push({type:"text",value:" "});let N=typeof n=="string"?n:n(c,b);typeof N=="string"&&(N={type:"text",value:N}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,b),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const w=h[h.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const N=w.children[w.children.length-1];N&&N.type==="text"?N.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...x)}else h.push(...x);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(h,!0)};t.patch(d,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Du(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const wI=(function(t){if(t==null)return aG;if(typeof t=="function")return vg(t);if(typeof t=="object")return Array.isArray(t)?nG(t):rG(t);if(typeof t=="string")return iG(t);throw new Error("Expected function, string, or object as test")});function nG(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=wI(t[n]);return vg(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function rG(t){const e=t;return vg(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function iG(t){return vg(e);function e(n){return n&&n.type===t}}function vg(t){return e;function e(n,r,i){return!!(sG(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function aG(){return!0}function sG(t){return t!==null&&typeof t=="object"&&"type"in t}const AI=[],oG=!0,zN=!1,lG="skip";function uG(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=wI(i),s=r?-1:1;l(t,void 0,[])();function l(c,d,h){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=AI,x,E,w;if((!e||a(c,d,h[h.length-1]||void 0))&&(b=cG(n(c,h)),b[0]===zN))return b;if("children"in c&&c.children){const S=c;if(S.children&&b[0]!==lG)for(E=(r?S.children.length:-1)+s,w=h.concat(S);E>-1&&E<S.children.length;){const N=S.children[E];if(x=l(N,E,w)(),x[0]===zN)return x;E=typeof x[1]=="number"?x[1]:E+s}}return b}}}function cG(t){return Array.isArray(t)?t:typeof t=="number"?[oG,t]:t==null?AI:[t]}function iw(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),uG(t,a,l,i);function l(c,d){const h=d[d.length-1],m=h?h.children.indexOf(c):void 0;return s(c,m,h)}}const fv={}.hasOwnProperty,dG={};function hG(t,e){const n=e||dG,r=new Map,i=new Map,a=new Map,s={...WV,...n.handlers},l={all:d,applyData:mG,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:fG,wrap:gG};return iw(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const m=h.type==="definition"?r:i,y=String(h.identifier).toUpperCase();m.has(y)||m.set(y,h)}}),l;function c(h,m){const y=h.type,b=l.handlers[y];if(fv.call(l.handlers,y)&&b)return b(l,h,m);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in h){const{children:E,...w}=h,S=Du(w);return S.children=l.all(h),S}return Du(h)}return(l.options.unknownHandler||pG)(l,h,m)}function d(h){const m=[];if("children"in h){const y=h.children;let b=-1;for(;++b<y.length;){const x=l.one(y[b],h);if(x){if(b&&y[b-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=$N(x.value)),!Array.isArray(x)&&x.type==="element")){const E=x.children[0];E&&E.type==="text"&&(E.value=$N(E.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function fG(t,e){t.position&&(e.position=X$(t))}function mG(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Du(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function pG(t,e){const n=e.data||{},r="value"in e&&!(fv.call(n,"hProperties")||fv.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function gG(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $N(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function qN(t,e){const n=hG(t,e),r=n.one(t,void 0),i=tG(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function yG(t,e){return t&&"run"in t?async function(n,r){const i=qN(n,{file:r,...e});await t.run(i,r)}:function(n,r){return qN(n,{file:r,...t||e})}}function YN(t){if(t)throw t}var Xb,VN;function bG(){if(VN)return Xb;VN=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!m)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},s=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return Xb=function c(){var d,h,m,y,b,x,E=arguments[0],w=1,S=arguments.length,N=!1;for(typeof E=="boolean"&&(N=E,E=arguments[1]||{},w=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});w<S;++w)if(d=arguments[w],d!=null)for(h in d)m=l(E,h),y=l(d,h),E!==y&&(N&&y&&(a(y)||(b=i(y)))?(b?(b=!1,x=m&&i(m)?m:[]):x=m&&a(m)?m:{},s(E,{name:h,newValue:c(N,x,y)})):typeof y<"u"&&s(E,{name:h,newValue:y}));return E},Xb}var xG=bG();const Qb=Xi(xG);function mv(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vG(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const h=t[++a];let m=-1;if(c){s(c);return}for(;++m<i.length;)(d[m]===null||d[m]===void 0)&&(d[m]=i[m]);i=d,h?EG(h,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function EG(t,e){let n;return r;function r(...s){const l=t.length>s.length;let c;l&&s.push(i);try{c=t.apply(this,s)}catch(d){const h=d;if(l&&n)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){n||(n=!0,e(s,...l))}function a(s){i(null,s)}}const ha={basename:wG,dirname:AG,extname:SG,join:TG,sep:"/"};function wG(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');_h(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function AG(t){if(_h(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function SG(t){_h(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function TG(...t){let e=-1,n;for(;++e<t.length;)_h(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_G(n)}function _G(t){_h(t);const e=t.codePointAt(0)===47;let n=CG(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function CG(t,e){let n="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function _h(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const NG={cwd:OG};function OG(){return"/"}function pv(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function kG(t){if(typeof t=="string")t=new URL(t);else if(!pv(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return DG(t)}function DG(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Zb=["history","path","basename","stem","extname","dirname"];class SI{constructor(e){let n;e?pv(e)?n={path:e}:typeof e=="string"||PG(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":NG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Zb.length;){const a=Zb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Zb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ha.basename(this.path):void 0}set basename(e){ex(e,"basename"),Jb(e,"basename"),this.path=ha.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ha.dirname(this.path):void 0}set dirname(e){GN(this.basename,"dirname"),this.path=ha.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ha.extname(this.path):void 0}set extname(e){if(Jb(e,"extname"),GN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ha.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){pv(e)&&(e=kG(e)),ex(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ha.basename(this.path,this.extname):void 0}set stem(e){ex(e,"stem"),Jb(e,"stem"),this.path=ha.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new fr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Jb(t,e){if(t&&t.includes(ha.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ha.sep+"`")}function ex(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function GN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function PG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const RG=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),IG={}.hasOwnProperty;class aw extends RG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vG()}copy(){const e=new aw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Qb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(rx("data",this.frozen),this.namespace[e]=n,this):IG.call(this.namespace,e)&&this.namespace[e]||void 0:e?(rx("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=xm(e),r=this.parser||this.Parser;return tx("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),tx("process",this.parser||this.Parser),nx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=xm(e),c=r.parse(l);r.run(c,l,function(h,m,y){if(h||!m||!y)return d(h);const b=m,x=r.stringify(b,y);jG(x)?y.value=x:y.result=x,d(h,y)});function d(h,m){h||!m?s(h):a?a(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),tx("processSync",this.parser||this.Parser),nx("processSync",this.compiler||this.Compiler),this.process(e,i),KN("processSync","process",n),r;function i(a,s){n=!0,YN(a),r=s}}run(e,n,r){WN(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const c=xm(n);i.run(e,c,d);function d(h,m,y){const b=m||e;h?l(h):s?s(b):r(void 0,b,y)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),KN("runSync","run",r),i;function a(s,l){YN(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=xm(n),i=this.compiler||this.Compiler;return nx("stringify",i),WN(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(rx("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...m]=d;c(h,m)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=Qb(!0,i.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const m=d[h];a(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===d){y=m;break}if(y===-1)r.push([d,...h]);else if(h.length>0){let[b,...x]=h;const E=r[y][1];mv(E)&&mv(b)&&(b=Qb(!0,E,b)),r[y]=[d,b,...x]}}}}const MG=new aw().freeze();function tx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function nx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function rx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function WN(t){if(!mv(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function KN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xm(t){return LG(t)?t:new SI(t)}function LG(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function jG(t){return typeof t=="string"||BG(t)}function BG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",XN=[],QN={allowDangerousHtml:!0},UG=/^(https?|ircs?|mailto|xmpp)$/i,HG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gv(t){const e=zG(t),n=$G(t);return qG(e.runSync(e.parse(n),n),t)}function zG(t){const e=t.rehypePlugins||XN,n=t.remarkPlugins||XN,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...QN}:QN;return MG().use(wV).use(n).use(yG,r).use(e)}function $G(t){const e=t.children||"",n=new SI;return typeof e=="string"&&(n.value=e),n}function qG(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||YG;for(const h of HG)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+FG+h.id,void 0);return iw(t,d),tq(t,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function d(h,m,y){if(h.type==="raw"&&y&&typeof m=="number")return s?y.children.splice(m,1):y.children[m]={type:"text",value:h.value},m;if(h.type==="element"){let b;for(b in Gb)if(Object.hasOwn(Gb,b)&&Object.hasOwn(h.properties,b)){const x=h.properties[b],E=Gb[b];(E===null||E.includes(h.tagName))&&(h.properties[b]=c(String(x||""),b,h))}}if(h.type==="element"){let b=n?!n.includes(h.tagName):a?a.includes(h.tagName):!1;if(!b&&r&&typeof m=="number"&&(b=!r(h,m,y)),b&&y&&typeof m=="number")return l&&h.children?y.children.splice(m,1,...h.children):y.children.splice(m,1),m}}}function YG(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||UG.test(t.slice(0,e))?t:""}const ZN=/[#.]/g;function VG(t,e){const n=t||"",r={};let i=0,a,s;for(;i<n.length;){ZN.lastIndex=i;const l=ZN.exec(n),c=n.slice(i,l?l.index:n.length);c&&(a?a==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:s=c,i+=c.length),l&&(a=l[0],i++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function TI(t,e,n){const r=n?XG(n):void 0;function i(a,s,...l){let c;if(a==null){c={type:"root",children:[]};const d=s;l.unshift(d)}else{c=VG(a,e);const d=c.tagName.toLowerCase(),h=r?r.get(d):void 0;if(c.tagName=h||d,GG(s))l.unshift(s);else for(const[m,y]of Object.entries(s))WG(t,c.properties,m,y)}for(const d of l)yv(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function GG(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function WG(t,e,n,r){const i=GE(t,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=yN(r):i.commaSeparated?a=hN(r):i.commaOrSpaceSeparated?a=yN(hN(r).join(" ")):a=JN(i,i.property,r):Array.isArray(r)?a=[...r]:a=i.property==="style"?KG(r):String(r);if(Array.isArray(a)){const s=[];for(const l of a)s.push(JN(i,i.property,l));a=s}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function yv(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)yv(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?yv(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function JN(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Xd(n)===Xd(e)))return!0}return n}function KG(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function XG(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const QG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],ZG=TI(gg,"div"),JG=TI(Vu,"g",QG);function eW(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(a){if(typeof a=="number"&&a>-1&&a<=e.length){let s=0;for(;;){let l=n[s];if(l===void 0){const c=eO(e,n[s-1]);l=c===-1?e.length+1:c+1,n[s]=l}if(l>a)return{line:s+1,column:a-(s>0?n[s-1]:0)+1,offset:a};s++}}}function i(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;n.length<a.line;){const l=n[n.length-1],c=eO(e,l),d=c===-1?e.length+1:c+1;if(l===d)break;n.push(d)}const s=(a.line>1?n[a.line-2]:0)+a.column-1;if(s<n[a.line-1])return s}}}function eO(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Fo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_I={}.hasOwnProperty,tW=Object.prototype;function nW(t,e){const n=e||{};return sw({file:n.file||void 0,location:!1,schema:n.space==="svg"?Vu:gg,verbose:n.verbose||!1},t)}function sw(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Ym(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:CI(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const a=String(t.file),s=eW(a),l=s.toPoint(0),c=s.toPoint(a.length);n.position={start:l,end:c}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Ym(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Ym(t,r,n),n}default:return n=rW(t,e),n}}function CI(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=sw(t,e[n]);r.push(i)}return r}function rW(t,e){const n=t.schema;t.schema=e.namespaceURI===Fo.svg?Vu:gg;let r=-1;const i={};for(;++r<e.attrs.length;){const l=e.attrs[r],c=(l.prefix?l.prefix+":":"")+l.name;_I.call(tW,c)||(i[c]=l.value)}const s=(t.schema.space==="svg"?JG:ZG)(e.tagName,i,CI(t,e.childNodes));if(Ym(t,e,s),s.tagName==="template"){const l=e,c=l.sourceCodeLocation,d=c&&c.startTag&&pu(c.startTag),h=c&&c.endTag&&pu(c.endTag),m=sw(t,l.content);d&&h&&t.file&&(m.position={start:d.end,end:h.start}),s.content=m}return t.schema=n,s}function Ym(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=iW(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function iW(t,e,n){const r=pu(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const a={};let s;if(n.attrs)for(s in n.attrs)_I.call(n.attrs,s)&&(a[GE(t.schema,s).property]=pu(n.attrs[s]));n.startTag;const l=pu(n.startTag),c=n.endTag?pu(n.endTag):void 0,d={opening:l};c&&(d.closing=c),d.properties=a,e.data={position:d}}}return r}function pu(t){const e=tO({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=tO({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function tO(t){return t.line&&t.column?t:void 0}class Ch{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Ch.prototype.property={};Ch.prototype.normal={};Ch.prototype.space=null;function NI(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Ch(n,r,e)}function bv(t){return t.toLowerCase()}class Hi{constructor(e,n){this.property=e,this.attribute=n}}Hi.prototype.space=null;Hi.prototype.boolean=!1;Hi.prototype.booleanish=!1;Hi.prototype.overloadedBoolean=!1;Hi.prototype.number=!1;Hi.prototype.commaSeparated=!1;Hi.prototype.spaceSeparated=!1;Hi.prototype.commaOrSpaceSeparated=!1;Hi.prototype.mustUseProperty=!1;Hi.prototype.defined=!1;let aW=0;const ot=fl(),Nn=fl(),OI=fl(),Oe=fl(),Xt=fl(),Su=fl(),si=fl();function fl(){return 2**++aW}const xv=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:Nn,commaOrSpaceSeparated:si,commaSeparated:Su,number:Oe,overloadedBoolean:OI,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),ix=Object.keys(xv);class ow extends Hi{constructor(e,n,r,i){let a=-1;if(super(e,n),nO(this,"space",i),typeof r=="number")for(;++a<ix.length;){const s=ix[a];nO(this,ix[a],(r&xv[s])===xv[s])}}}ow.prototype.defined=!0;function nO(t,e,n){n&&(t[e]=n)}const sW={}.hasOwnProperty;function Wu(t){const e={},n={};let r;for(r in t.properties)if(sW.call(t.properties,r)){const i=t.properties[r],a=new ow(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[bv(r)]=r,n[bv(a.attribute)]=r}return new Ch(e,n,t.space)}const kI=Wu({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),DI=Wu({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function PI(t,e){return e in t?t[e]:e}function RI(t,e){return PI(t,e.toLowerCase())}const II=Wu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:RI,properties:{xmlns:null,xmlnsXLink:null}}),MI=Wu({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Nn,ariaAutoComplete:null,ariaBusy:Nn,ariaChecked:Nn,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:Nn,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:Nn,ariaFlowTo:Xt,ariaGrabbed:Nn,ariaHasPopup:null,ariaHidden:Nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:Oe,ariaLive:null,ariaModal:Nn,ariaMultiLine:Nn,ariaMultiSelectable:Nn,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:Nn,ariaReadOnly:Nn,ariaRelevant:null,ariaRequired:Nn,ariaRoleDescription:Xt,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:Nn,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null}}),oW=Wu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:RI,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Su,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:Xt,autoFocus:ot,autoPlay:ot,blocking:Xt,capture:null,charSet:null,checked:ot,cite:null,className:Xt,cols:Oe,colSpan:null,content:null,contentEditable:Nn,controls:ot,controlsList:Xt,coords:Oe|Su,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:OI,draggable:Nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:Xt,height:Oe,hidden:ot,high:Oe,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:ot,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Oe,pattern:null,ping:Xt,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:Xt,required:ot,reversed:ot,rows:Oe,rowSpan:Oe,sandbox:Xt,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:Nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:Nn,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:Nn,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Oe,security:null,unselectable:null}}),lW=Wu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:PI,properties:{about:si,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Su,g2:Su,glyphName:Su,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:si,rev:si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:si,requiredFeatures:si,requiredFonts:si,requiredFormats:si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:si,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),uW=/^data[-\w.:]+$/i,rO=/-[a-z]/g,cW=/[A-Z]/g;function dW(t,e){const n=bv(e);let r=e,i=Hi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&uW.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(rO,fW);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!rO.test(a)){let s=a.replace(cW,hW);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=ow}return new i(r,e)}function hW(t){return"-"+t.toLowerCase()}function fW(t){return t.charAt(1).toUpperCase()}const mW=NI([DI,kI,II,MI,oW],"html"),LI=NI([DI,kI,II,MI,lW],"svg"),iO={}.hasOwnProperty;function jI(t,e){const n=e||{};function r(i,...a){let s=r.invalid;const l=r.handlers;if(i&&iO.call(i,t)){const c=String(i[t]);s=iO.call(l,c)?l[c]:r.unknown}if(s)return s.call(this,i,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const pW={},gW={}.hasOwnProperty,BI=jI("type",{handlers:{root:bW,element:AW,text:EW,comment:wW,doctype:vW}});function yW(t,e){const r=(e||pW).space;return BI(t,r==="svg"?LI:mW)}function bW(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=lw(t.children,n,e),Ku(t,n),n}function xW(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=lw(t.children,n,e),Ku(t,n),n}function vW(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ku(t,e),e}function EW(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Ku(t,e),e}function wW(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Ku(t,e),e}function AW(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=LI);const i=[];let a;if(t.properties){for(a in t.properties)if(a!=="children"&&gW.call(t.properties,a)){const c=SW(r,a,t.properties[a]);c&&i.push(c)}}const s=r.space,l={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Fo[s],childNodes:[],parentNode:null};return l.childNodes=lw(t.children,l,r),Ku(t,l),t.tagName==="template"&&t.content&&(l.content=xW(t.content,r)),l}function SW(t,e,n){const r=dW(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?qR(n):ZR(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const a=i.name.indexOf(":");a<0?i.prefix="":(i.name=i.name.slice(a+1),i.prefix=r.attribute.slice(0,a)),i.namespace=Fo[r.space]}return i}function lw(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const a=BI(t[r],n);a.parentNode=e,i.push(a)}return i}function Ku(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const TW=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],_W=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),sn="";var j;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(j||(j={}));const jr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function FI(t){return t>=55296&&t<=57343}function CW(t){return t>=56320&&t<=57343}function NW(t,e){return(t-55296)*1024+9216+e}function UI(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function HI(t){return t>=64976&&t<=65007||_W.has(t)}var ge;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ge||(ge={}));const OW=65536;class kW{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=OW,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:a}=this,s=i+n,l=a+n;return{code:e,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:l,endOffset:l}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(CW(n))return this.pos++,this._addGap(),NW(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,j.EOF;return this._err(ge.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;const r=this.html.charCodeAt(n);return r===j.CARRIAGE_RETURN?j.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;let e=this.html.charCodeAt(this.pos);return e===j.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,j.LINE_FEED):e===j.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,FI(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===j.LINE_FEED||e===j.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){UI(e)?this._err(ge.controlCharacterInInputStream):HI(e)&&this._err(ge.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var mt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(mt||(mt={}));function zI(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const DW=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),PW=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function RW(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=PW.get(t))!==null&&e!==void 0?e:t}var Yn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Yn||(Yn={}));const IW=32;var to;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(to||(to={}));function vv(t){return t>=Yn.ZERO&&t<=Yn.NINE}function MW(t){return t>=Yn.UPPER_A&&t<=Yn.UPPER_F||t>=Yn.LOWER_A&&t<=Yn.LOWER_F}function LW(t){return t>=Yn.UPPER_A&&t<=Yn.UPPER_Z||t>=Yn.LOWER_A&&t<=Yn.LOWER_Z||vv(t)}function jW(t){return t===Yn.EQUALS||LW(t)}var $n;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})($n||($n={}));var Xa;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Xa||(Xa={}));class BW{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=$n.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xa.Strict}startEntity(e){this.decodeMode=e,this.state=$n.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case $n.EntityStart:return e.charCodeAt(n)===Yn.NUM?(this.state=$n.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=$n.NamedEntity,this.stateNamedEntity(e,n));case $n.NumericStart:return this.stateNumericStart(e,n);case $n.NumericDecimal:return this.stateNumericDecimal(e,n);case $n.NumericHex:return this.stateNumericHex(e,n);case $n.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|IW)===Yn.LOWER_X?(this.state=$n.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=$n.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const a=r-n;this.result=this.result*Math.pow(i,a)+Number.parseInt(e.substr(n,a),i),this.consumed+=a}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(vv(i)||MW(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(vv(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Yn.SEMI)this.consumed+=1;else if(this.decodeMode===Xa.Strict)return 0;return this.emitCodePoint(RW(this.result),this.consumed),this.errors&&(e!==Yn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&to.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const s=e.charCodeAt(n);if(this.treeIndex=FW(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Xa.Attribute&&(a===0||jW(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&to.VALUE_LENGTH)>>14,a!==0){if(s===Yn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Xa.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&to.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~to.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case $n.NamedEntity:return this.result!==0&&(this.decodeMode!==Xa.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case $n.NumericDecimal:return this.emitNumericEntity(0,2);case $n.NumericHex:return this.emitNumericEntity(0,3);case $n.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case $n.EntityStart:return 0}}}function FW(t,e,n,r){const i=(e&to.BRANCH_LENGTH)>>7,a=e&to.JUMP_TABLE;if(i===0)return a!==0&&r===a?n:-1;if(a){const c=r-a;return c<0||c>=i?-1:t[n+c]-1}let s=n,l=s+i-1;for(;s<=l;){const c=s+l>>>1,d=t[c];if(d<r)s=c+1;else if(d>r)l=c-1;else return t[c+i]}return-1}var Se;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Se||(Se={}));var Go;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Go||(Go={}));var Mi;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Mi||(Mi={}));var se;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(se||(se={}));var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(T||(T={}));const UW=new Map([[se.A,T.A],[se.ADDRESS,T.ADDRESS],[se.ANNOTATION_XML,T.ANNOTATION_XML],[se.APPLET,T.APPLET],[se.AREA,T.AREA],[se.ARTICLE,T.ARTICLE],[se.ASIDE,T.ASIDE],[se.B,T.B],[se.BASE,T.BASE],[se.BASEFONT,T.BASEFONT],[se.BGSOUND,T.BGSOUND],[se.BIG,T.BIG],[se.BLOCKQUOTE,T.BLOCKQUOTE],[se.BODY,T.BODY],[se.BR,T.BR],[se.BUTTON,T.BUTTON],[se.CAPTION,T.CAPTION],[se.CENTER,T.CENTER],[se.CODE,T.CODE],[se.COL,T.COL],[se.COLGROUP,T.COLGROUP],[se.DD,T.DD],[se.DESC,T.DESC],[se.DETAILS,T.DETAILS],[se.DIALOG,T.DIALOG],[se.DIR,T.DIR],[se.DIV,T.DIV],[se.DL,T.DL],[se.DT,T.DT],[se.EM,T.EM],[se.EMBED,T.EMBED],[se.FIELDSET,T.FIELDSET],[se.FIGCAPTION,T.FIGCAPTION],[se.FIGURE,T.FIGURE],[se.FONT,T.FONT],[se.FOOTER,T.FOOTER],[se.FOREIGN_OBJECT,T.FOREIGN_OBJECT],[se.FORM,T.FORM],[se.FRAME,T.FRAME],[se.FRAMESET,T.FRAMESET],[se.H1,T.H1],[se.H2,T.H2],[se.H3,T.H3],[se.H4,T.H4],[se.H5,T.H5],[se.H6,T.H6],[se.HEAD,T.HEAD],[se.HEADER,T.HEADER],[se.HGROUP,T.HGROUP],[se.HR,T.HR],[se.HTML,T.HTML],[se.I,T.I],[se.IMG,T.IMG],[se.IMAGE,T.IMAGE],[se.INPUT,T.INPUT],[se.IFRAME,T.IFRAME],[se.KEYGEN,T.KEYGEN],[se.LABEL,T.LABEL],[se.LI,T.LI],[se.LINK,T.LINK],[se.LISTING,T.LISTING],[se.MAIN,T.MAIN],[se.MALIGNMARK,T.MALIGNMARK],[se.MARQUEE,T.MARQUEE],[se.MATH,T.MATH],[se.MENU,T.MENU],[se.META,T.META],[se.MGLYPH,T.MGLYPH],[se.MI,T.MI],[se.MO,T.MO],[se.MN,T.MN],[se.MS,T.MS],[se.MTEXT,T.MTEXT],[se.NAV,T.NAV],[se.NOBR,T.NOBR],[se.NOFRAMES,T.NOFRAMES],[se.NOEMBED,T.NOEMBED],[se.NOSCRIPT,T.NOSCRIPT],[se.OBJECT,T.OBJECT],[se.OL,T.OL],[se.OPTGROUP,T.OPTGROUP],[se.OPTION,T.OPTION],[se.P,T.P],[se.PARAM,T.PARAM],[se.PLAINTEXT,T.PLAINTEXT],[se.PRE,T.PRE],[se.RB,T.RB],[se.RP,T.RP],[se.RT,T.RT],[se.RTC,T.RTC],[se.RUBY,T.RUBY],[se.S,T.S],[se.SCRIPT,T.SCRIPT],[se.SEARCH,T.SEARCH],[se.SECTION,T.SECTION],[se.SELECT,T.SELECT],[se.SOURCE,T.SOURCE],[se.SMALL,T.SMALL],[se.SPAN,T.SPAN],[se.STRIKE,T.STRIKE],[se.STRONG,T.STRONG],[se.STYLE,T.STYLE],[se.SUB,T.SUB],[se.SUMMARY,T.SUMMARY],[se.SUP,T.SUP],[se.TABLE,T.TABLE],[se.TBODY,T.TBODY],[se.TEMPLATE,T.TEMPLATE],[se.TEXTAREA,T.TEXTAREA],[se.TFOOT,T.TFOOT],[se.TD,T.TD],[se.TH,T.TH],[se.THEAD,T.THEAD],[se.TITLE,T.TITLE],[se.TR,T.TR],[se.TRACK,T.TRACK],[se.TT,T.TT],[se.U,T.U],[se.UL,T.UL],[se.SVG,T.SVG],[se.VAR,T.VAR],[se.WBR,T.WBR],[se.XMP,T.XMP]]);function Xu(t){var e;return(e=UW.get(t))!==null&&e!==void 0?e:T.UNKNOWN}const Ce=T,HW={[Se.HTML]:new Set([Ce.ADDRESS,Ce.APPLET,Ce.AREA,Ce.ARTICLE,Ce.ASIDE,Ce.BASE,Ce.BASEFONT,Ce.BGSOUND,Ce.BLOCKQUOTE,Ce.BODY,Ce.BR,Ce.BUTTON,Ce.CAPTION,Ce.CENTER,Ce.COL,Ce.COLGROUP,Ce.DD,Ce.DETAILS,Ce.DIR,Ce.DIV,Ce.DL,Ce.DT,Ce.EMBED,Ce.FIELDSET,Ce.FIGCAPTION,Ce.FIGURE,Ce.FOOTER,Ce.FORM,Ce.FRAME,Ce.FRAMESET,Ce.H1,Ce.H2,Ce.H3,Ce.H4,Ce.H5,Ce.H6,Ce.HEAD,Ce.HEADER,Ce.HGROUP,Ce.HR,Ce.HTML,Ce.IFRAME,Ce.IMG,Ce.INPUT,Ce.LI,Ce.LINK,Ce.LISTING,Ce.MAIN,Ce.MARQUEE,Ce.MENU,Ce.META,Ce.NAV,Ce.NOEMBED,Ce.NOFRAMES,Ce.NOSCRIPT,Ce.OBJECT,Ce.OL,Ce.P,Ce.PARAM,Ce.PLAINTEXT,Ce.PRE,Ce.SCRIPT,Ce.SECTION,Ce.SELECT,Ce.SOURCE,Ce.STYLE,Ce.SUMMARY,Ce.TABLE,Ce.TBODY,Ce.TD,Ce.TEMPLATE,Ce.TEXTAREA,Ce.TFOOT,Ce.TH,Ce.THEAD,Ce.TITLE,Ce.TR,Ce.TRACK,Ce.UL,Ce.WBR,Ce.XMP]),[Se.MATHML]:new Set([Ce.MI,Ce.MO,Ce.MN,Ce.MS,Ce.MTEXT,Ce.ANNOTATION_XML]),[Se.SVG]:new Set([Ce.TITLE,Ce.FOREIGN_OBJECT,Ce.DESC]),[Se.XLINK]:new Set,[Se.XML]:new Set,[Se.XMLNS]:new Set},Ev=new Set([Ce.H1,Ce.H2,Ce.H3,Ce.H4,Ce.H5,Ce.H6]);se.STYLE,se.SCRIPT,se.XMP,se.IFRAME,se.NOEMBED,se.NOFRAMES,se.PLAINTEXT;var $;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})($||($={}));const vn={DATA:$.DATA,RCDATA:$.RCDATA,RAWTEXT:$.RAWTEXT,SCRIPT_DATA:$.SCRIPT_DATA,PLAINTEXT:$.PLAINTEXT,CDATA_SECTION:$.CDATA_SECTION};function zW(t){return t>=j.DIGIT_0&&t<=j.DIGIT_9}function Td(t){return t>=j.LATIN_CAPITAL_A&&t<=j.LATIN_CAPITAL_Z}function $W(t){return t>=j.LATIN_SMALL_A&&t<=j.LATIN_SMALL_Z}function Ws(t){return $W(t)||Td(t)}function aO(t){return Ws(t)||zW(t)}function vm(t){return t+32}function $I(t){return t===j.SPACE||t===j.LINE_FEED||t===j.TABULATION||t===j.FORM_FEED}function sO(t){return $I(t)||t===j.SOLIDUS||t===j.GREATER_THAN_SIGN}function qW(t){return t===j.NULL?ge.nullCharacterReference:t>1114111?ge.characterReferenceOutsideUnicodeRange:FI(t)?ge.surrogateCharacterReference:HI(t)?ge.noncharacterCharacterReference:UI(t)||t===j.CARRIAGE_RETURN?ge.controlCharacterReference:null}class YW{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=$.DATA,this.returnState=$.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new kW(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new BW(DW,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ge.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ge.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=qW(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:mt.START_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:mt.END_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:mt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:mt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(zI(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ge.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Xu(e.tagName),e.type===mt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ge.endTagWithAttributes),e.selfClosing&&this._err(ge.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case mt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case mt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case mt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:mt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=$I(e)?mt.WHITESPACE_CHARACTER:e===j.NULL?mt.NULL_CHARACTER:mt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(mt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=$.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Xa.Attribute:Xa.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===$.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===$.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case $.DATA:{this._stateData(e);break}case $.RCDATA:{this._stateRcdata(e);break}case $.RAWTEXT:{this._stateRawtext(e);break}case $.SCRIPT_DATA:{this._stateScriptData(e);break}case $.PLAINTEXT:{this._statePlaintext(e);break}case $.TAG_OPEN:{this._stateTagOpen(e);break}case $.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case $.TAG_NAME:{this._stateTagName(e);break}case $.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case $.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case $.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case $.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case $.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case $.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case $.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case $.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case $.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case $.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case $.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case $.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case $.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case $.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case $.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case $.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case $.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case $.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case $.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case $.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case $.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case $.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case $.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case $.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case $.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case $.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case $.BOGUS_COMMENT:{this._stateBogusComment(e);break}case $.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case $.COMMENT_START:{this._stateCommentStart(e);break}case $.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case $.COMMENT:{this._stateComment(e);break}case $.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case $.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case $.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case $.COMMENT_END:{this._stateCommentEnd(e);break}case $.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case $.DOCTYPE:{this._stateDoctype(e);break}case $.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case $.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case $.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case $.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case $.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case $.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case $.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case $.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case $.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case $.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case $.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case $.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case $.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case $.CDATA_SECTION:{this._stateCdataSection(e);break}case $.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case $.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case $.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case $.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case j.LESS_THAN_SIGN:{this.state=$.TAG_OPEN;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitCodePoint(e);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case j.AMPERSAND:{this._startCharacterReference();break}case j.LESS_THAN_SIGN:{this.state=$.RCDATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case j.LESS_THAN_SIGN:{this.state=$.RAWTEXT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ws(e))this._createStartTagToken(),this.state=$.TAG_NAME,this._stateTagName(e);else switch(e){case j.EXCLAMATION_MARK:{this.state=$.MARKUP_DECLARATION_OPEN;break}case j.SOLIDUS:{this.state=$.END_TAG_OPEN;break}case j.QUESTION_MARK:{this._err(ge.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e);break}case j.EOF:{this._err(ge.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ge.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=$.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ws(e))this._createEndTagToken(),this.state=$.TAG_NAME,this._stateTagName(e);else switch(e){case j.GREATER_THAN_SIGN:{this._err(ge.missingEndTagName),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ge.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.tagName+=sn;break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Td(e)?vm(e):e)}}_stateRcdataLessThanSign(e){e===j.SOLIDUS?this.state=$.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ws(e)?(this.state=$.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=$.BEFORE_ATTRIBUTE_NAME,!1;case j.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=$.SELF_CLOSING_START_TAG,!1;case j.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=$.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===j.SOLIDUS?this.state=$.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ws(e)?(this.state=$.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case j.SOLIDUS:{this.state=$.SCRIPT_DATA_END_TAG_OPEN;break}case j.EXCLAMATION_MARK:{this.state=$.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=$.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ws(e)?(this.state=$.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===j.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===j.HYPHEN_MINUS?(this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=$.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case j.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case j.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_ESCAPED,this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===j.SOLIDUS?this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ws(e)?(this._emitChars("<"),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ws(e)?(this.state=$.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(jr.SCRIPT,!1)&&sO(this.preprocessor.peek(jr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<jr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case j.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case j.HYPHEN_MINUS:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.GREATER_THAN_SIGN:{this.state=$.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sn);break}case j.EOF:{this._err(ge.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===j.SOLIDUS?(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(jr.SCRIPT,!1)&&sO(this.preprocessor.peek(jr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<jr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=$.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=$.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case j.EQUALS_SIGN:{this._err(ge.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this._leaveAttrName(),this.state=$.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case j.EQUALS_SIGN:{this._leaveAttrName(),this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:{this._err(ge.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.currentAttr.name+=sn;break}default:this.currentAttr.name+=String.fromCodePoint(Td(e)?vm(e):e)}}_stateAfterAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:{this.state=$.SELF_CLOSING_START_TAG;break}case j.EQUALS_SIGN:{this.state=$.BEFORE_ATTRIBUTE_VALUE;break}case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=$.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{this.state=$.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this.state=$.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingAttributeValue),this.state=$.DATA,this.emitCurrentTagToken();break}default:this.state=$.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case j.QUOTATION_MARK:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case j.APOSTROPHE:{this.state=$.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:case j.EQUALS_SIGN:case j.GRAVE_ACCENT:{this._err(ge.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=$.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this._leaveAttrValue(),this.state=$.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=$.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this._err(ge.missingWhitespaceBetweenAttributes),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case j.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=$.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ge.eofInTag),this._emitEOFToken();break}default:this._err(ge.unexpectedSolidusInTag),this.state=$.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case j.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.data+=sn;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(jr.DASH_DASH,!0)?(this._createCommentToken(jr.DASH_DASH.length+1),this.state=$.COMMENT_START):this._consumeSequenceIfMatch(jr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(jr.DOCTYPE.length+1),this.state=$.DOCTYPE):this._consumeSequenceIfMatch(jr.CDATA_START,!0)?this.inForeignNode?this.state=$.CDATA_SECTION:(this._err(ge.cdataInHtmlContent),this._createCommentToken(jr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=$.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ge.incorrectlyOpenedComment),this._createCommentToken(2),this.state=$.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case j.HYPHEN_MINUS:{this.state=$.COMMENT_START_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptClosingOfEmptyComment),this.state=$.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=$.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptClosingOfEmptyComment),this.state=$.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ge.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=$.COMMENT_END_DASH;break}case j.LESS_THAN_SIGN:{n.data+="<",this.state=$.COMMENT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.data+=sn;break}case j.EOF:{this._err(ge.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case j.EXCLAMATION_MARK:{n.data+="!",this.state=$.COMMENT_LESS_THAN_SIGN_BANG;break}case j.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=$.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===j.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=$.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===j.HYPHEN_MINUS?this.state=$.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=$.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==j.GREATER_THAN_SIGN&&e!==j.EOF&&this._err(ge.nestedComment),this.state=$.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=$.COMMENT_END;break}case j.EOF:{this._err(ge.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=$.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentComment(n);break}case j.EXCLAMATION_MARK:{this.state=$.COMMENT_END_BANG;break}case j.HYPHEN_MINUS:{n.data+="-";break}case j.EOF:{this._err(ge.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=$.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{n.data+="--!",this.state=$.COMMENT_END_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ge.incorrectlyClosedComment),this.state=$.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ge.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=$.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case j.EOF:{this._err(ge.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingWhitespaceBeforeDoctypeName),this.state=$.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Td(e))this._createDoctypeToken(String.fromCharCode(vm(e))),this.state=$.DOCTYPE_NAME;else switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.NULL:{this._err(ge.unexpectedNullCharacter),this._createDoctypeToken(sn),this.state=$.DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=$.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.AFTER_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.name+=sn;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Td(e)?vm(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(jr.PUBLIC,!1)?this.state=$.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(jr.SYSTEM,!1)?this.state=$.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ge.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ge.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ge.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.publicId="",this.state=$.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case j.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.publicId+=sn;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case j.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.publicId+=sn;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case j.GREATER_THAN_SIGN:{this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.QUOTATION_MARK:{this._err(ge.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ge.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=$.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ge.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ge.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=$.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ge.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case j.QUOTATION_MARK:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.systemId+=sn;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case j.APOSTROPHE:{this.state=$.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ge.unexpectedNullCharacter),n.systemId+=sn;break}case j.GREATER_THAN_SIGN:{this._err(ge.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.EOF:{this._err(ge.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ge.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=$.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=$.DATA;break}case j.NULL:{this._err(ge.unexpectedNullCharacter);break}case j.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case j.RIGHT_SQUARE_BRACKET:{this.state=$.CDATA_SECTION_BRACKET;break}case j.EOF:{this._err(ge.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===j.RIGHT_SQUARE_BRACKET?this.state=$.CDATA_SECTION_END:(this._emitChars("]"),this.state=$.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case j.GREATER_THAN_SIGN:{this.state=$.DATA;break}case j.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=$.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(j.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&aO(this.preprocessor.peek(1))?$.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){aO(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===j.SEMICOLON&&this._err(ge.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const qI=new Set([T.DD,T.DT,T.LI,T.OPTGROUP,T.OPTION,T.P,T.RB,T.RP,T.RT,T.RTC]),oO=new Set([...qI,T.CAPTION,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]),lp=new Set([T.APPLET,T.CAPTION,T.HTML,T.MARQUEE,T.OBJECT,T.TABLE,T.TD,T.TEMPLATE,T.TH]),VW=new Set([...lp,T.OL,T.UL]),GW=new Set([...lp,T.BUTTON]),lO=new Set([T.ANNOTATION_XML,T.MI,T.MN,T.MO,T.MS,T.MTEXT]),uO=new Set([T.DESC,T.FOREIGN_OBJECT,T.TITLE]),WW=new Set([T.TR,T.TEMPLATE,T.HTML]),KW=new Set([T.TBODY,T.TFOOT,T.THEAD,T.TEMPLATE,T.HTML]),XW=new Set([T.TABLE,T.TEMPLATE,T.HTML]),QW=new Set([T.TD,T.TH]);class ZW{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=T.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===T.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Se.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Se.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ev,Se.HTML)}popUntilTableCellPopped(){this.popUntilPopped(QW,Se.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(XW,Se.HTML)}clearBackToTableBodyContext(){this.clearBackTo(KW,Se.HTML)}clearBackToTableRowContext(){this.clearBackTo(WW,Se.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===T.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===T.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Se.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case Se.SVG:{if(uO.has(i))return!1;break}case Se.MATHML:{if(lO.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,lp)}hasInListItemScope(e){return this.hasInDynamicScope(e,VW)}hasInButtonScope(e){return this.hasInDynamicScope(e,GW)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Se.HTML:{if(Ev.has(n))return!0;if(lp.has(n))return!1;break}case Se.SVG:{if(uO.has(n))return!1;break}case Se.MATHML:{if(lO.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Se.HTML)switch(this.tagIDs[n]){case e:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Se.HTML)switch(this.tagIDs[e]){case T.TBODY:case T.THEAD:case T.TFOOT:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Se.HTML)switch(this.tagIDs[n]){case e:return!0;case T.OPTION:case T.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&qI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&oO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&oO.has(this.currentTagId);)this.pop()}}const ax=3;var ma;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(ma||(ma={}));const cO={type:ma.Marker};class JW{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===ma.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===a&&this.treeAdapter.getNamespaceURI(d)===s){const h=this.treeAdapter.getAttrList(d);h.length===i&&r.push({idx:l,attrs:h})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<ax)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<ax)return;const i=new Map(n.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<r.length;s++){const l=r[s];l.attrs.every(c=>i.get(c.name)===c.value)&&(a+=1,a>=ax&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(cO)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:ma.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ma.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(cO);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===ma.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===ma.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===ma.Element&&n.element===e)}}const Ks={createDocument(){return{nodeName:"#document",mode:Mi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const a={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Ks.appendChild(t,a)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Ks.isTextNode(n)){n.value+=e;return}}Ks.appendChild(t,Ks.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Ks.isTextNode(r)?r.value+=e:Ks.insertBefore(t,Ks.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},YI="html",eK="about:legacy-compat",tK="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",VI=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],nK=[...VI,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rK=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),GI=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],iK=[...GI,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function dO(t,e){return e.some(n=>t.startsWith(n))}function aK(t){return t.name===YI&&t.publicId===null&&(t.systemId===null||t.systemId===eK)}function sK(t){if(t.name!==YI)return Mi.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===tK)return Mi.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),rK.has(n))return Mi.QUIRKS;let r=e===null?nK:VI;if(dO(n,r))return Mi.QUIRKS;if(r=e===null?GI:iK,dO(n,r))return Mi.LIMITED_QUIRKS}return Mi.NO_QUIRKS}const hO={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},oK="definitionurl",lK="definitionURL",uK=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),cK=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Se.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Se.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Se.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Se.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Se.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Se.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Se.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Se.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Se.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Se.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Se.XMLNS}]]),dK=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),hK=new Set([T.B,T.BIG,T.BLOCKQUOTE,T.BODY,T.BR,T.CENTER,T.CODE,T.DD,T.DIV,T.DL,T.DT,T.EM,T.EMBED,T.H1,T.H2,T.H3,T.H4,T.H5,T.H6,T.HEAD,T.HR,T.I,T.IMG,T.LI,T.LISTING,T.MENU,T.META,T.NOBR,T.OL,T.P,T.PRE,T.RUBY,T.S,T.SMALL,T.SPAN,T.STRONG,T.STRIKE,T.SUB,T.SUP,T.TABLE,T.TT,T.U,T.UL,T.VAR]);function fK(t){const e=t.tagID;return e===T.FONT&&t.attrs.some(({name:r})=>r===Go.COLOR||r===Go.SIZE||r===Go.FACE)||hK.has(e)}function WI(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===oK){t.attrs[e].name=lK;break}}function KI(t){for(let e=0;e<t.attrs.length;e++){const n=uK.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function uw(t){for(let e=0;e<t.attrs.length;e++){const n=cK.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function mK(t){const e=dK.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Xu(t.tagName))}function pK(t,e){return e===Se.MATHML&&(t===T.MI||t===T.MO||t===T.MN||t===T.MS||t===T.MTEXT)}function gK(t,e,n){if(e===Se.MATHML&&t===T.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Go.ENCODING){const i=n[r].value.toLowerCase();return i===hO.TEXT_HTML||i===hO.APPLICATION_XML}}return e===Se.SVG&&(t===T.FOREIGN_OBJECT||t===T.DESC||t===T.TITLE)}function yK(t,e,n,r){return(!r||r===Se.HTML)&&gK(t,e,n)||(!r||r===Se.MATHML)&&pK(t,e)}const bK="hidden",xK=8,vK=3;var V;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(V||(V={}));const EK={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},XI=new Set([T.TABLE,T.TBODY,T.TFOOT,T.THEAD,T.TR]),fO={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ks,onParseError:null};class mO{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=V.INITIAL,this.originalInsertionMode=V.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...fO,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new YW(this.options,this),this.activeFormattingElements=new JW(this.treeAdapter),this.fragmentContextID=r?Xu(this.treeAdapter.getTagName(r)):T.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new ZW(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...fO,...n};e??(e=r.treeAdapter.createElement(se.TEMPLATE,Se.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Se.HTML,[]),a=new this(r,i,e);return a.fragmentContextID===T.TEMPLATE&&a.tmplInsertionModeStack.unshift(V.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const a=(i=e.location)!==null&&i!==void 0?i:EK,s={code:n,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:r?a.startLine:a.endLine,endCol:r?a.startCol:a.endCol,endOffset:r?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(e,n,r){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Se.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Se.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=V.TEXT}switchToPlaintextParsing(){this.insertionMode=V.TEXT,this.originalInsertionMode=V.IN_BODY,this.tokenizer.state=vn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===se.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Se.HTML))switch(this.fragmentContextID){case T.TITLE:case T.TEXTAREA:{this.tokenizer.state=vn.RCDATA;break}case T.STYLE:case T.XMP:case T.IFRAME:case T.NOEMBED:case T.NOFRAMES:case T.NOSCRIPT:{this.tokenizer.state=vn.RAWTEXT;break}case T.SCRIPT:{this.tokenizer.state=vn.SCRIPT_DATA;break}case T.PLAINTEXT:{this.tokenizer.state=vn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const s=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Se.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Se.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(se.HTML,Se.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,T.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),a=r?i.lastIndexOf(r):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:c,endCol:d,endOffset:h}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:c,endCol:d,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),a=n.type===mt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===T.SVG&&this.treeAdapter.getTagName(n)===se.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Se.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===T.MGLYPH||e.tagID===T.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Se.HTML)}_processToken(e){switch(e.type){case mt.CHARACTER:{this.onCharacter(e);break}case mt.NULL_CHARACTER:{this.onNullCharacter(e);break}case mt.COMMENT:{this.onComment(e);break}case mt.DOCTYPE:{this.onDoctype(e);break}case mt.START_TAG:{this._processStartTag(e);break}case mt.END_TAG:{this.onEndTag(e);break}case mt.EOF:{this.onEof(e);break}case mt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),a=this.treeAdapter.getAttrList(n);return yK(e,i,a,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===ma.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=V.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(T.P),this.openElements.popUntilTagNamePopped(T.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case T.TR:{this.insertionMode=V.IN_ROW;return}case T.TBODY:case T.THEAD:case T.TFOOT:{this.insertionMode=V.IN_TABLE_BODY;return}case T.CAPTION:{this.insertionMode=V.IN_CAPTION;return}case T.COLGROUP:{this.insertionMode=V.IN_COLUMN_GROUP;return}case T.TABLE:{this.insertionMode=V.IN_TABLE;return}case T.BODY:{this.insertionMode=V.IN_BODY;return}case T.FRAMESET:{this.insertionMode=V.IN_FRAMESET;return}case T.SELECT:{this._resetInsertionModeForSelect(e);return}case T.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case T.HTML:{this.insertionMode=this.headElement?V.AFTER_HEAD:V.BEFORE_HEAD;return}case T.TD:case T.TH:{if(e>0){this.insertionMode=V.IN_CELL;return}break}case T.HEAD:{if(e>0){this.insertionMode=V.IN_HEAD;return}break}}this.insertionMode=V.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===T.TEMPLATE)break;if(r===T.TABLE){this.insertionMode=V.IN_SELECT_IN_TABLE;return}}this.insertionMode=V.IN_SELECT}_isElementCausesFosterParenting(e){return XI.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case T.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Se.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case T.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return HW[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){QX(this,e);return}switch(this.insertionMode){case V.INITIAL:{hd(this,e);break}case V.BEFORE_HTML:{Id(this,e);break}case V.BEFORE_HEAD:{Md(this,e);break}case V.IN_HEAD:{Ld(this,e);break}case V.IN_HEAD_NO_SCRIPT:{jd(this,e);break}case V.AFTER_HEAD:{Bd(this,e);break}case V.IN_BODY:case V.IN_CAPTION:case V.IN_CELL:case V.IN_TEMPLATE:{ZI(this,e);break}case V.TEXT:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{sx(this,e);break}case V.IN_TABLE_TEXT:{iM(this,e);break}case V.IN_COLUMN_GROUP:{up(this,e);break}case V.AFTER_BODY:{cp(this,e);break}case V.AFTER_AFTER_BODY:{Vm(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){XX(this,e);return}switch(this.insertionMode){case V.INITIAL:{hd(this,e);break}case V.BEFORE_HTML:{Id(this,e);break}case V.BEFORE_HEAD:{Md(this,e);break}case V.IN_HEAD:{Ld(this,e);break}case V.IN_HEAD_NO_SCRIPT:{jd(this,e);break}case V.AFTER_HEAD:{Bd(this,e);break}case V.TEXT:{this._insertCharacters(e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{sx(this,e);break}case V.IN_COLUMN_GROUP:{up(this,e);break}case V.AFTER_BODY:{cp(this,e);break}case V.AFTER_AFTER_BODY:{Vm(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){wv(this,e);return}switch(this.insertionMode){case V.INITIAL:case V.BEFORE_HTML:case V.BEFORE_HEAD:case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:case V.IN_BODY:case V.IN_TABLE:case V.IN_CAPTION:case V.IN_COLUMN_GROUP:case V.IN_TABLE_BODY:case V.IN_ROW:case V.IN_CELL:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:case V.IN_TEMPLATE:case V.IN_FRAMESET:case V.AFTER_FRAMESET:{wv(this,e);break}case V.IN_TABLE_TEXT:{fd(this,e);break}case V.AFTER_BODY:{NK(this,e);break}case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{OK(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case V.INITIAL:{kK(this,e);break}case V.BEFORE_HEAD:case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:{this._err(e,ge.misplacedDoctype);break}case V.IN_TABLE_TEXT:{fd(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ge.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?ZX(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case V.INITIAL:{hd(this,e);break}case V.BEFORE_HTML:{DK(this,e);break}case V.BEFORE_HEAD:{RK(this,e);break}case V.IN_HEAD:{ea(this,e);break}case V.IN_HEAD_NO_SCRIPT:{LK(this,e);break}case V.AFTER_HEAD:{BK(this,e);break}case V.IN_BODY:{mr(this,e);break}case V.IN_TABLE:{Pu(this,e);break}case V.IN_TABLE_TEXT:{fd(this,e);break}case V.IN_CAPTION:{IX(this,e);break}case V.IN_COLUMN_GROUP:{hw(this,e);break}case V.IN_TABLE_BODY:{Ag(this,e);break}case V.IN_ROW:{Sg(this,e);break}case V.IN_CELL:{jX(this,e);break}case V.IN_SELECT:{oM(this,e);break}case V.IN_SELECT_IN_TABLE:{FX(this,e);break}case V.IN_TEMPLATE:{HX(this,e);break}case V.AFTER_BODY:{$X(this,e);break}case V.IN_FRAMESET:{qX(this,e);break}case V.AFTER_FRAMESET:{VX(this,e);break}case V.AFTER_AFTER_BODY:{WX(this,e);break}case V.AFTER_AFTER_FRAMESET:{KX(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?JX(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case V.INITIAL:{hd(this,e);break}case V.BEFORE_HTML:{PK(this,e);break}case V.BEFORE_HEAD:{IK(this,e);break}case V.IN_HEAD:{MK(this,e);break}case V.IN_HEAD_NO_SCRIPT:{jK(this,e);break}case V.AFTER_HEAD:{FK(this,e);break}case V.IN_BODY:{wg(this,e);break}case V.TEXT:{SX(this,e);break}case V.IN_TABLE:{Zd(this,e);break}case V.IN_TABLE_TEXT:{fd(this,e);break}case V.IN_CAPTION:{MX(this,e);break}case V.IN_COLUMN_GROUP:{LX(this,e);break}case V.IN_TABLE_BODY:{Av(this,e);break}case V.IN_ROW:{sM(this,e);break}case V.IN_CELL:{BX(this,e);break}case V.IN_SELECT:{lM(this,e);break}case V.IN_SELECT_IN_TABLE:{UX(this,e);break}case V.IN_TEMPLATE:{zX(this,e);break}case V.AFTER_BODY:{cM(this,e);break}case V.IN_FRAMESET:{YX(this,e);break}case V.AFTER_FRAMESET:{GX(this,e);break}case V.AFTER_AFTER_BODY:{Vm(this,e);break}}}onEof(e){switch(this.insertionMode){case V.INITIAL:{hd(this,e);break}case V.BEFORE_HTML:{Id(this,e);break}case V.BEFORE_HEAD:{Md(this,e);break}case V.IN_HEAD:{Ld(this,e);break}case V.IN_HEAD_NO_SCRIPT:{jd(this,e);break}case V.AFTER_HEAD:{Bd(this,e);break}case V.IN_BODY:case V.IN_TABLE:case V.IN_CAPTION:case V.IN_COLUMN_GROUP:case V.IN_TABLE_BODY:case V.IN_ROW:case V.IN_CELL:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:{nM(this,e);break}case V.TEXT:{TX(this,e);break}case V.IN_TABLE_TEXT:{fd(this,e);break}case V.IN_TEMPLATE:{uM(this,e);break}case V.AFTER_BODY:case V.IN_FRAMESET:case V.AFTER_FRAMESET:case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{dw(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===j.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:case V.TEXT:case V.IN_COLUMN_GROUP:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:case V.IN_FRAMESET:case V.AFTER_FRAMESET:{this._insertCharacters(e);break}case V.IN_BODY:case V.IN_CAPTION:case V.IN_CELL:case V.IN_TEMPLATE:case V.AFTER_BODY:case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{QI(this,e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{sx(this,e);break}case V.IN_TABLE_TEXT:{rM(this,e);break}}}}function wK(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):tM(t,e),n}function AK(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function SK(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let a=0,s=i;s!==n;a++,s=i){i=t.openElements.getCommonAncestor(s);const l=t.activeFormattingElements.getElementEntry(s),c=l&&a>=vK;!l||c?(c&&t.activeFormattingElements.removeEntry(l),t.openElements.remove(s)):(s=TK(t,l),r===e&&(t.activeFormattingElements.bookmark=l),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(s,r),r=s)}return r}function TK(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function _K(t,e,n){const r=t.treeAdapter.getTagName(e),i=Xu(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const a=t.treeAdapter.getNamespaceURI(e);i===T.TEMPLATE&&a===Se.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function CK(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,a=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,a),t.treeAdapter.appendChild(e,a),t.activeFormattingElements.insertElementAfterBookmark(a,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,a,i.tagID)}function cw(t,e){for(let n=0;n<xK;n++){const r=wK(t,e);if(!r)break;const i=AK(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const a=SK(t,i,r.element),s=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(a),s&&_K(t,s,a),CK(t,i,r)}}function wv(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function NK(t,e){t._appendCommentNode(e,t.openElements.items[0])}function OK(t,e){t._appendCommentNode(e,t.document)}function dw(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const a=t.openElements.items[1],s=t.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&t._setEndLocation(a,e)}}}}function kK(t,e){t._setDocumentType(e);const n=e.forceQuirks?Mi.QUIRKS:sK(e);aK(e)||t._err(e,ge.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=V.BEFORE_HTML}function hd(t,e){t._err(e,ge.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Mi.QUIRKS),t.insertionMode=V.BEFORE_HTML,t._processToken(e)}function DK(t,e){e.tagID===T.HTML?(t._insertElement(e,Se.HTML),t.insertionMode=V.BEFORE_HEAD):Id(t,e)}function PK(t,e){const n=e.tagID;(n===T.HTML||n===T.HEAD||n===T.BODY||n===T.BR)&&Id(t,e)}function Id(t,e){t._insertFakeRootElement(),t.insertionMode=V.BEFORE_HEAD,t._processToken(e)}function RK(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.HEAD:{t._insertElement(e,Se.HTML),t.headElement=t.openElements.current,t.insertionMode=V.IN_HEAD;break}default:Md(t,e)}}function IK(t,e){const n=e.tagID;n===T.HEAD||n===T.BODY||n===T.HTML||n===T.BR?Md(t,e):t._err(e,ge.endTagWithoutMatchingOpenElement)}function Md(t,e){t._insertFakeElement(se.HEAD,T.HEAD),t.headElement=t.openElements.current,t.insertionMode=V.IN_HEAD,t._processToken(e)}function ea(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:{t._appendElement(e,Se.HTML),e.ackSelfClosing=!0;break}case T.TITLE:{t._switchToTextParsing(e,vn.RCDATA);break}case T.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,vn.RAWTEXT):(t._insertElement(e,Se.HTML),t.insertionMode=V.IN_HEAD_NO_SCRIPT);break}case T.NOFRAMES:case T.STYLE:{t._switchToTextParsing(e,vn.RAWTEXT);break}case T.SCRIPT:{t._switchToTextParsing(e,vn.SCRIPT_DATA);break}case T.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=V.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(V.IN_TEMPLATE);break}case T.HEAD:{t._err(e,ge.misplacedStartTagForHeadElement);break}default:Ld(t,e)}}function MK(t,e){switch(e.tagID){case T.HEAD:{t.openElements.pop(),t.insertionMode=V.AFTER_HEAD;break}case T.BODY:case T.BR:case T.HTML:{Ld(t,e);break}case T.TEMPLATE:{ml(t,e);break}default:t._err(e,ge.endTagWithoutMatchingOpenElement)}}function ml(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==T.TEMPLATE&&t._err(e,ge.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ge.endTagWithoutMatchingOpenElement)}function Ld(t,e){t.openElements.pop(),t.insertionMode=V.AFTER_HEAD,t._processToken(e)}function LK(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.BASEFONT:case T.BGSOUND:case T.HEAD:case T.LINK:case T.META:case T.NOFRAMES:case T.STYLE:{ea(t,e);break}case T.NOSCRIPT:{t._err(e,ge.nestedNoscriptInHead);break}default:jd(t,e)}}function jK(t,e){switch(e.tagID){case T.NOSCRIPT:{t.openElements.pop(),t.insertionMode=V.IN_HEAD;break}case T.BR:{jd(t,e);break}default:t._err(e,ge.endTagWithoutMatchingOpenElement)}}function jd(t,e){const n=e.type===mt.EOF?ge.openElementsLeftAfterEof:ge.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=V.IN_HEAD,t._processToken(e)}function BK(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.BODY:{t._insertElement(e,Se.HTML),t.framesetOk=!1,t.insertionMode=V.IN_BODY;break}case T.FRAMESET:{t._insertElement(e,Se.HTML),t.insertionMode=V.IN_FRAMESET;break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{t._err(e,ge.abandonedHeadElementChild),t.openElements.push(t.headElement,T.HEAD),ea(t,e),t.openElements.remove(t.headElement);break}case T.HEAD:{t._err(e,ge.misplacedStartTagForHeadElement);break}default:Bd(t,e)}}function FK(t,e){switch(e.tagID){case T.BODY:case T.HTML:case T.BR:{Bd(t,e);break}case T.TEMPLATE:{ml(t,e);break}default:t._err(e,ge.endTagWithoutMatchingOpenElement)}}function Bd(t,e){t._insertFakeElement(se.BODY,T.BODY),t.insertionMode=V.IN_BODY,Eg(t,e)}function Eg(t,e){switch(e.type){case mt.CHARACTER:{ZI(t,e);break}case mt.WHITESPACE_CHARACTER:{QI(t,e);break}case mt.COMMENT:{wv(t,e);break}case mt.START_TAG:{mr(t,e);break}case mt.END_TAG:{wg(t,e);break}case mt.EOF:{nM(t,e);break}}}function QI(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function ZI(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function UK(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function HK(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function zK(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_FRAMESET)}function $K(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML)}function qK(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&Ev.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Se.HTML)}function YK(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function VK(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML),n||(t.formElement=t.openElements.current))}function GK(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===T.LI&&i===T.LI||(n===T.DD||n===T.DT)&&(i===T.DD||i===T.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==T.ADDRESS&&i!==T.DIV&&i!==T.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML)}function WK(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML),t.tokenizer.state=vn.PLAINTEXT}function KK(t,e){t.openElements.hasInScope(T.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML),t.framesetOk=!1}function XK(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(se.A);n&&(cw(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function QK(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function ZK(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(T.NOBR)&&(cw(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Se.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function JK(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function eX(t,e){t.treeAdapter.getDocumentMode(t.document)!==Mi.QUIRKS&&t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Se.HTML),t.framesetOk=!1,t.insertionMode=V.IN_TABLE}function JI(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Se.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function eM(t){const e=zI(t,Go.TYPE);return e!=null&&e.toLowerCase()===bK}function tX(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Se.HTML),eM(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function nX(t,e){t._appendElement(e,Se.HTML),e.ackSelfClosing=!0}function rX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._appendElement(e,Se.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function iX(t,e){e.tagName=se.IMG,e.tagID=T.IMG,JI(t,e)}function aX(t,e){t._insertElement(e,Se.HTML),t.skipNextNewLine=!0,t.tokenizer.state=vn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=V.TEXT}function sX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,vn.RAWTEXT)}function oX(t,e){t.framesetOk=!1,t._switchToTextParsing(e,vn.RAWTEXT)}function pO(t,e){t._switchToTextParsing(e,vn.RAWTEXT)}function lX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===V.IN_TABLE||t.insertionMode===V.IN_CAPTION||t.insertionMode===V.IN_TABLE_BODY||t.insertionMode===V.IN_ROW||t.insertionMode===V.IN_CELL?V.IN_SELECT_IN_TABLE:V.IN_SELECT}function uX(t,e){t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML)}function cX(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Se.HTML)}function dX(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(T.RTC),t._insertElement(e,Se.HTML)}function hX(t,e){t._reconstructActiveFormattingElements(),WI(e),uw(e),e.selfClosing?t._appendElement(e,Se.MATHML):t._insertElement(e,Se.MATHML),e.ackSelfClosing=!0}function fX(t,e){t._reconstructActiveFormattingElements(),KI(e),uw(e),e.selfClosing?t._appendElement(e,Se.SVG):t._insertElement(e,Se.SVG),e.ackSelfClosing=!0}function gO(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Se.HTML)}function mr(t,e){switch(e.tagID){case T.I:case T.S:case T.B:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.SMALL:case T.STRIKE:case T.STRONG:{QK(t,e);break}case T.A:{XK(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{qK(t,e);break}case T.P:case T.DL:case T.OL:case T.UL:case T.DIV:case T.DIR:case T.NAV:case T.MAIN:case T.MENU:case T.ASIDE:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.DETAILS:case T.ADDRESS:case T.ARTICLE:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{$K(t,e);break}case T.LI:case T.DD:case T.DT:{GK(t,e);break}case T.BR:case T.IMG:case T.WBR:case T.AREA:case T.EMBED:case T.KEYGEN:{JI(t,e);break}case T.HR:{rX(t,e);break}case T.RB:case T.RTC:{cX(t,e);break}case T.RT:case T.RP:{dX(t,e);break}case T.PRE:case T.LISTING:{YK(t,e);break}case T.XMP:{sX(t,e);break}case T.SVG:{fX(t,e);break}case T.HTML:{UK(t,e);break}case T.BASE:case T.LINK:case T.META:case T.STYLE:case T.TITLE:case T.SCRIPT:case T.BGSOUND:case T.BASEFONT:case T.TEMPLATE:{ea(t,e);break}case T.BODY:{HK(t,e);break}case T.FORM:{VK(t,e);break}case T.NOBR:{ZK(t,e);break}case T.MATH:{hX(t,e);break}case T.TABLE:{eX(t,e);break}case T.INPUT:{tX(t,e);break}case T.PARAM:case T.TRACK:case T.SOURCE:{nX(t,e);break}case T.IMAGE:{iX(t,e);break}case T.BUTTON:{KK(t,e);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{JK(t,e);break}case T.IFRAME:{oX(t,e);break}case T.SELECT:{lX(t,e);break}case T.OPTION:case T.OPTGROUP:{uX(t,e);break}case T.NOEMBED:case T.NOFRAMES:{pO(t,e);break}case T.FRAMESET:{zK(t,e);break}case T.TEXTAREA:{aX(t,e);break}case T.NOSCRIPT:{t.options.scriptingEnabled?pO(t,e):gO(t,e);break}case T.PLAINTEXT:{WK(t,e);break}case T.COL:case T.TH:case T.TD:case T.TR:case T.HEAD:case T.FRAME:case T.TBODY:case T.TFOOT:case T.THEAD:case T.CAPTION:case T.COLGROUP:break;default:gO(t,e)}}function mX(t,e){if(t.openElements.hasInScope(T.BODY)&&(t.insertionMode=V.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function pX(t,e){t.openElements.hasInScope(T.BODY)&&(t.insertionMode=V.AFTER_BODY,cM(t,e))}function gX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function yX(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(T.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(T.FORM):n&&t.openElements.remove(n))}function bX(t){t.openElements.hasInButtonScope(T.P)||t._insertFakeElement(se.P,T.P),t._closePElement()}function xX(t){t.openElements.hasInListItemScope(T.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(T.LI),t.openElements.popUntilTagNamePopped(T.LI))}function vX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function EX(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function wX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function AX(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(se.BR,T.BR),t.openElements.pop(),t.framesetOk=!1}function tM(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const a=t.openElements.items[i],s=t.openElements.tagIDs[i];if(r===s&&(r!==T.UNKNOWN||t.treeAdapter.getTagName(a)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(a,s))break}}function wg(t,e){switch(e.tagID){case T.A:case T.B:case T.I:case T.S:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.NOBR:case T.SMALL:case T.STRIKE:case T.STRONG:{cw(t,e);break}case T.P:{bX(t);break}case T.DL:case T.UL:case T.OL:case T.DIR:case T.DIV:case T.NAV:case T.PRE:case T.MAIN:case T.MENU:case T.ASIDE:case T.BUTTON:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.ADDRESS:case T.ARTICLE:case T.DETAILS:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.LISTING:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{gX(t,e);break}case T.LI:{xX(t);break}case T.DD:case T.DT:{vX(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{EX(t);break}case T.BR:{AX(t);break}case T.BODY:{mX(t,e);break}case T.HTML:{pX(t,e);break}case T.FORM:{yX(t);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{wX(t,e);break}case T.TEMPLATE:{ml(t,e);break}default:tM(t,e)}}function nM(t,e){t.tmplInsertionModeStack.length>0?uM(t,e):dw(t,e)}function SX(t,e){var n;e.tagID===T.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function TX(t,e){t._err(e,ge.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function sx(t,e){if(t.openElements.currentTagId!==void 0&&XI.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=V.IN_TABLE_TEXT,e.type){case mt.CHARACTER:{iM(t,e);break}case mt.WHITESPACE_CHARACTER:{rM(t,e);break}}else Nh(t,e)}function _X(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_CAPTION}function CX(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_COLUMN_GROUP}function NX(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(se.COLGROUP,T.COLGROUP),t.insertionMode=V.IN_COLUMN_GROUP,hw(t,e)}function OX(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_TABLE_BODY}function kX(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(se.TBODY,T.TBODY),t.insertionMode=V.IN_TABLE_BODY,Ag(t,e)}function DX(t,e){t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function PX(t,e){eM(e)?t._appendElement(e,Se.HTML):Nh(t,e),e.ackSelfClosing=!0}function RX(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Se.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Pu(t,e){switch(e.tagID){case T.TD:case T.TH:case T.TR:{kX(t,e);break}case T.STYLE:case T.SCRIPT:case T.TEMPLATE:{ea(t,e);break}case T.COL:{NX(t,e);break}case T.FORM:{RX(t,e);break}case T.TABLE:{DX(t,e);break}case T.TBODY:case T.TFOOT:case T.THEAD:{OX(t,e);break}case T.INPUT:{PX(t,e);break}case T.CAPTION:{_X(t,e);break}case T.COLGROUP:{CX(t,e);break}default:Nh(t,e)}}function Zd(t,e){switch(e.tagID){case T.TABLE:{t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode());break}case T.TEMPLATE:{ml(t,e);break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:Nh(t,e)}}function Nh(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Eg(t,e),t.fosterParentingEnabled=n}function rM(t,e){t.pendingCharacterTokens.push(e)}function iM(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function fd(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Nh(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const aM=new Set([T.CAPTION,T.COL,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]);function IX(t,e){const n=e.tagID;aM.has(n)?t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_TABLE,Pu(t,e)):mr(t,e)}function MX(t,e){const n=e.tagID;switch(n){case T.CAPTION:case T.TABLE:{t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_TABLE,n===T.TABLE&&Zd(t,e));break}case T.BODY:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:wg(t,e)}}function hw(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.COL:{t._appendElement(e,Se.HTML),e.ackSelfClosing=!0;break}case T.TEMPLATE:{ea(t,e);break}default:up(t,e)}}function LX(t,e){switch(e.tagID){case T.COLGROUP:{t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=V.IN_TABLE);break}case T.TEMPLATE:{ml(t,e);break}case T.COL:break;default:up(t,e)}}function up(t,e){t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=V.IN_TABLE,t._processToken(e))}function Ag(t,e){switch(e.tagID){case T.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_ROW;break}case T.TH:case T.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(se.TR,T.TR),t.insertionMode=V.IN_ROW,Sg(t,e);break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE,Pu(t,e));break}default:Pu(t,e)}}function Av(t,e){const n=e.tagID;switch(e.tagID){case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE);break}case T.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE,Zd(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:case T.TR:break;default:Zd(t,e)}}function Sg(t,e){switch(e.tagID){case T.TH:case T.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Se.HTML),t.insertionMode=V.IN_CELL,t.activeFormattingElements.insertMarker();break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,Ag(t,e));break}default:Pu(t,e)}}function sM(t,e){switch(e.tagID){case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY);break}case T.TABLE:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,Av(t,e));break}case T.TBODY:case T.TFOOT:case T.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(T.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,Av(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:break;default:Zd(t,e)}}function jX(t,e){const n=e.tagID;aM.has(n)?(t.openElements.hasInTableScope(T.TD)||t.openElements.hasInTableScope(T.TH))&&(t._closeTableCell(),Sg(t,e)):mr(t,e)}function BX(t,e){const n=e.tagID;switch(n){case T.TD:case T.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_ROW);break}case T.TABLE:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),sM(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:break;default:wg(t,e)}}function oM(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._insertElement(e,Se.HTML);break}case T.OPTGROUP:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Se.HTML);break}case T.HR:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Se.HTML),e.ackSelfClosing=!0;break}case T.INPUT:case T.KEYGEN:case T.TEXTAREA:case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),e.tagID!==T.SELECT&&t._processStartTag(e));break}case T.SCRIPT:case T.TEMPLATE:{ea(t,e);break}}}function lM(t,e){switch(e.tagID){case T.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===T.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===T.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop();break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop();break}case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode());break}case T.TEMPLATE:{ml(t,e);break}}}function FX(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t._processStartTag(e)):oM(t,e)}function UX(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t.onEndTag(e)):lM(t,e)}function HX(t,e){switch(e.tagID){case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{ea(t,e);break}case T.CAPTION:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.tmplInsertionModeStack[0]=V.IN_TABLE,t.insertionMode=V.IN_TABLE,Pu(t,e);break}case T.COL:{t.tmplInsertionModeStack[0]=V.IN_COLUMN_GROUP,t.insertionMode=V.IN_COLUMN_GROUP,hw(t,e);break}case T.TR:{t.tmplInsertionModeStack[0]=V.IN_TABLE_BODY,t.insertionMode=V.IN_TABLE_BODY,Ag(t,e);break}case T.TD:case T.TH:{t.tmplInsertionModeStack[0]=V.IN_ROW,t.insertionMode=V.IN_ROW,Sg(t,e);break}default:t.tmplInsertionModeStack[0]=V.IN_BODY,t.insertionMode=V.IN_BODY,mr(t,e)}}function zX(t,e){e.tagID===T.TEMPLATE&&ml(t,e)}function uM(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):dw(t,e)}function $X(t,e){e.tagID===T.HTML?mr(t,e):cp(t,e)}function cM(t,e){var n;if(e.tagID===T.HTML){if(t.fragmentContext||(t.insertionMode=V.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===T.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else cp(t,e)}function cp(t,e){t.insertionMode=V.IN_BODY,Eg(t,e)}function qX(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.FRAMESET:{t._insertElement(e,Se.HTML);break}case T.FRAME:{t._appendElement(e,Se.HTML),e.ackSelfClosing=!0;break}case T.NOFRAMES:{ea(t,e);break}}}function YX(t,e){e.tagID===T.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==T.FRAMESET&&(t.insertionMode=V.AFTER_FRAMESET))}function VX(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.NOFRAMES:{ea(t,e);break}}}function GX(t,e){e.tagID===T.HTML&&(t.insertionMode=V.AFTER_AFTER_FRAMESET)}function WX(t,e){e.tagID===T.HTML?mr(t,e):Vm(t,e)}function Vm(t,e){t.insertionMode=V.IN_BODY,Eg(t,e)}function KX(t,e){switch(e.tagID){case T.HTML:{mr(t,e);break}case T.NOFRAMES:{ea(t,e);break}}}function XX(t,e){e.chars=sn,t._insertCharacters(e)}function QX(t,e){t._insertCharacters(e),t.framesetOk=!1}function dM(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Se.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function ZX(t,e){if(fK(e))dM(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Se.MATHML?WI(e):r===Se.SVG&&(mK(e),KI(e)),uw(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function JX(t,e){if(e.tagID===T.P||e.tagID===T.BR){dM(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Se.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}se.AREA,se.BASE,se.BASEFONT,se.BGSOUND,se.BR,se.COL,se.EMBED,se.FRAME,se.HR,se.IMG,se.INPUT,se.KEYGEN,se.LINK,se.META,se.PARAM,se.SOURCE,se.TRACK,se.WBR;const eQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,tQ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),yO={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function hM(t,e){const n=dQ(t),r=jI("type",{handlers:{root:nQ,element:rQ,text:iQ,comment:mM,doctype:aQ,raw:oQ},unknown:lQ}),i={parser:n?new mO(yO):mO.getFragmentParser(void 0,yO),handle(l){r(l,i)},stitches:!1,options:e||{}};r(t,i),Qu(i,Na());const a=n?i.parser.document:i.parser.getFragment(),s=nW(a,{file:i.options.file});return i.stitches&&iw(s,"comment",function(l,c,d){const h=l;if(h.value.stitch&&d&&c!==void 0){const m=d.children;return m[c]=h.value.stitch,c}}),s.type==="root"&&s.children.length===1&&s.children[0].type===t.type?s.children[0]:s}function fM(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function nQ(t,e){fM(t.children,e)}function rQ(t,e){uQ(t,e),fM(t.children,e),cQ(t,e)}function iQ(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:mt.CHARACTER,chars:t.value,location:Oh(t)};Qu(e,Na(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function aQ(t,e){const n={type:mt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Oh(t)};Qu(e,Na(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function sQ(t,e){e.stitches=!0;const n=hQ(t);if("children"in t&&"children"in n){const r=hM({type:"root",children:t.children},e.options);n.children=r.children}mM({type:"comment",value:{stitch:n}},e)}function mM(t,e){const n=t.value,r={type:mt.COMMENT,data:n,location:Oh(t)};Qu(e,Na(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function oQ(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,pM(e,Na(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(eQ,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function lQ(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))sQ(n,e);else{let r="";throw tQ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Qu(t,e){pM(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=vn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function pM(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function uQ(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===vn.PLAINTEXT)return;Qu(e,Na(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Fo.html;i===Fo.html&&n==="svg"&&(i=Fo.svg);const a=yW({...t,children:[]},{space:i===Fo.svg?"svg":"html"}),s={type:mt.START_TAG,tagName:n,tagID:Xu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:Oh(t)};e.parser.currentToken=s,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function cQ(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&TW.includes(n)||e.parser.tokenizer.state===vn.PLAINTEXT)return;Qu(e,yg(t));const r={type:mt.END_TAG,tagName:n,tagID:Xu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Oh(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===vn.RCDATA||e.parser.tokenizer.state===vn.RAWTEXT||e.parser.tokenizer.state===vn.SCRIPT_DATA)&&(e.parser.tokenizer.state=vn.DATA)}function dQ(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Oh(t){const e=Na(t)||{line:void 0,column:void 0,offset:void 0},n=yg(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function hQ(t){return"children"in t?Du({...t,children:[]}):Du(t)}function fQ(t){return function(e,n){return hM(e,{...t,file:n})}}function mQ(){const{id:t}=xP(),e=ll(),{user:n}=hs(),[r,i]=_.useState(null),[a,s]=_.useState(!0),[l,c]=_.useState(null),[d,h]=_.useState(!0),[m,y]=_.useState(!0),[b,x]=_.useState(!0),[E,w]=_.useState(!1),[S,N]=_.useState(!1),[C,P]=_.useState([]),[k,D]=_.useState(""),[R,H]=_.useState(!1),G=_.useRef(null);_.useEffect(()=>{X()},[t]);const X=async()=>{s(!0),c(null);try{console.log(" ID:",t);const L=await fetch(`/api/ocr/documents/${t}/`);if(!L.ok){console.error(" HTTP:",L.status,L.statusText),c(`HTTP ${L.status}: ${L.statusText}`),s(!1);return}const q=await L.json();console.log(" API:",q),q.status==="success"?(console.log(" "),i(q.data)):(console.error(" API:",q.message),c(q.message||""))}catch(L){console.error(" :",L),c("")}finally{s(!1)}},B=L=>L?Number(L).toLocaleString("zh-CN"):"-",F=L=>L?`${B(L)}`:"-",Z=()=>{N(!0),C.length===0&&P([{role:"assistant",content:"",timestamp:new Date}])},K=()=>{N(!1)},ne=async()=>{if(!k.trim()||R)return;const L={role:"user",content:k.trim(),timestamp:new Date};P(oe=>[...oe,L]),D(""),H(!0);const q={role:"assistant",content:"",timestamp:new Date,isStreaming:!0};P(oe=>[...oe,q]);try{const oe=await fetch(`/api/ocr/documents/${t}/chat/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:L.content,history:C.map(J=>({role:J.role,content:J.content})),stream:!0})});if(!oe.ok)throw new Error("");const ve=oe.body.getReader(),U=new TextDecoder;let z="";for(;;){const{done:J,value:M}=await ve.read();if(J)break;const Y=U.decode(M,{stream:!0}).split(`
`);for(const re of Y)if(re.startsWith("data: ")){const he=re.slice(6);if(he==="[DONE]")break;try{const Pe=JSON.parse(he);Pe.content&&(z+=Pe.content,P(ie=>{const Re=[...ie];return Re[Re.length-1]={...Re[Re.length-1],content:z},Re}))}catch(Pe){console.error(":",Pe)}}}P(J=>{const M=[...J];return M[M.length-1]={...M[M.length-1],isStreaming:!1},M})}catch(oe){console.error(":",oe),P(ve=>{const U=[...ve];return U[U.length-1]={role:"assistant",content:"",timestamp:new Date,isStreaming:!1},U})}finally{H(!1)}};return _.useEffect(()=>{G.current&&G.current.scrollIntoView({behavior:"smooth"})},[C]),a?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx(Mt,{className:"w-8 h-8 animate-spin text-blue-500"})}):l?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[p.jsx(Od,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),p.jsx("p",{className:"text-gray-600 text-center mb-4",children:l}),p.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})}):r?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4",children:[p.jsxs("div",{className:"flex flex-col gap-3 sm:hidden",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("button",{onClick:()=>e("/plan-management"),className:"flex items-center space-x-1 text-gray-600 hover:text-gray-800",children:[p.jsx($d,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm",children:""})]}),p.jsxs("button",{onClick:Z,disabled:r.processing_stage!=="all_completed",className:`flex items-center space-x-1.5 px-3 py-1 rounded-lg shadow transition-all ${r.processing_stage!=="all_completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:shadow-lg"}`,children:[p.jsx(Um,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm",children:""})]})]}),p.jsx("h1",{className:"text-base font-bold text-gray-800 line-clamp-2 break-words",children:r.file_name})]}),p.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[p.jsxs("button",{onClick:()=>e("/plan-management"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 flex-shrink-0",children:[p.jsx($d,{className:"w-5 h-5"}),p.jsx("span",{children:""})]}),p.jsx("div",{className:"h-6 w-px bg-gray-300 flex-shrink-0"}),p.jsx("h1",{className:"text-xl font-bold text-gray-800 truncate",children:r.file_name})]}),p.jsxs("button",{onClick:Z,disabled:r.processing_stage!=="all_completed",className:`flex items-center space-x-2 px-4 py-1.5 rounded-lg shadow transition-all flex-shrink-0 ${r.processing_stage!=="all_completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 text-white hover:shadow-lg"}`,children:[p.jsx(Um,{className:"w-4 h-4"}),p.jsx("span",{children:""})]})]})]})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-2 sm:py-4 space-y-2 sm:space-y-4",children:[r&&r.processing_stage==="error"&&p.jsx("div",{className:"w-full bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Od,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-semibold text-red-900 mb-1",children:""}),p.jsx("p",{className:"text-xs text-red-800 mb-2",children:r.error_message||""})]}),p.jsx("button",{onClick:()=>e("/plan-management"),className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:""})]})}),r&&r.processing_stage!=="all_completed"&&r.processing_stage!=="error"&&p.jsx("div",{className:"w-full bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Mt,{className:"w-5 h-5 text-amber-600 animate-spin flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:""}),p.jsx("p",{className:"text-xs text-amber-800 mb-2",children:""}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[p.jsx("span",{className:"font-medium",children:":"}),p.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 rounded",children:[r.processing_stage==="ocr_pending"&&"OCR",r.processing_stage==="pending"&&"",r.processing_stage==="extracting_basic_info"&&"",r.processing_stage==="basic_info_completed"&&"",r.processing_stage==="extracting_tablesummary"&&"",r.processing_stage==="tablesummary_completed"&&"",r.processing_stage==="extracting_table"&&"",r.processing_stage==="table_completed"&&"",r.processing_stage==="extracting_wellness_table"&&"",r.processing_stage==="wellness_table_completed"&&"",r.processing_stage==="extracting_summary"&&"",!r.processing_stage&&""]})]})]}),p.jsx("button",{onClick:X,className:"px-3 py-1.5 bg-amber-600 text-white text-xs rounded-lg hover:bg-amber-700 transition-colors flex-shrink-0",children:""})]})}),p.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>h(!d),children:[p.jsxs("div",{className:"flex items-center space-x-1.5",children:[p.jsx(aH,{className:"w-4 h-4 text-blue-500"}),p.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),d?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),d&&p.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs sm:text-sm mt-2",children:[!r.insured_name&&!r.insured_age&&!r.insured_gender&&!r.insurance_company&&!r.insurance_product&&!r.sum_assured&&!r.annual_premium&&p.jsxs("div",{className:"w-full text-center py-4 text-gray-500",children:[p.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),p.jsx("p",{className:"text-xs",children:"..."})]}),r.insured_name&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:r.insured_name})]}),r.insured_age&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsxs("span",{className:"font-medium text-gray-800",children:[r.insured_age,""]})]}),r.insured_gender&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:r.insured_gender})]}),(r.insured_name||r.insured_age||r.insured_gender)&&(r.insurance_company||r.insurance_product)&&p.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-300"}),r.insurance_company&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:r.insurance_company})]}),r.insurance_product&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800 max-w-[200px] truncate",title:r.insurance_product,children:r.insurance_product})]}),(r.insurance_company||r.insurance_product)&&(r.sum_assured||r.annual_premium)&&p.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-300"}),r.sum_assured&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:F(r.sum_assured)})]}),r.annual_premium&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:F(r.annual_premium)})]}),r.payment_years&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsxs("span",{className:"font-medium text-gray-800",children:[r.payment_years,""]})]}),r.total_premium&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:F(r.total_premium)})]}),r.insurance_period&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"text-gray-500",children:":"}),p.jsx("span",{className:"font-medium text-gray-800",children:r.insurance_period})]})]})]}),(r.summary&&typeof r.summary=="string"&&r.summary.trim().length>0||r.processing_stage!=="all_completed")&&p.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>y(!m),children:[p.jsxs("div",{className:"flex items-center space-x-1.5",children:[p.jsx($r,{className:"w-4 h-4 text-green-500"}),p.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),m?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),m&&(r.summary&&typeof r.summary=="string"&&r.summary.trim().length>0?p.jsx("div",{className:"mt-3 prose prose-sm max-w-none",children:p.jsx(gv,{rehypePlugins:[fQ],className:"text-xs sm:text-sm text-gray-600 leading-relaxed",components:{h1:({node:L,...q})=>p.jsx("h1",{className:"text-base sm:text-lg font-bold text-gray-900 mt-4 mb-3",...q}),h2:({node:L,...q})=>p.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800 mt-4 mb-2",...q}),h3:({node:L,...q})=>p.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-700 mt-3 mb-1",...q}),p:({node:L,...q})=>p.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",...q}),ul:({node:L,...q})=>p.jsx("ul",{className:"list-disc list-inside space-y-1 mb-2",...q}),ol:({node:L,...q})=>p.jsx("ol",{className:"list-decimal list-inside space-y-1 mb-2",...q}),li:({node:L,...q})=>p.jsx("li",{className:"text-xs sm:text-sm text-gray-600",...q}),strong:({node:L,...q})=>p.jsx("strong",{className:"font-semibold text-gray-800",...q}),table:({node:L,...q})=>p.jsx("div",{className:"overflow-x-auto my-4",children:p.jsx("table",{className:"min-w-full border-collapse border border-gray-300",...q})}),thead:({node:L,...q})=>p.jsx("thead",{className:"bg-gray-100",...q}),tbody:({node:L,...q})=>p.jsx("tbody",{...q}),tr:({node:L,...q})=>p.jsx("tr",{className:"border-b border-gray-300",...q}),th:({node:L,...q})=>p.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-semibold text-gray-700",...q}),td:({node:L,...q})=>p.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm text-gray-600",...q})},children:r.summary})}):p.jsxs("div",{className:"mt-3 text-center py-6 text-gray-500",children:[p.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),p.jsx("p",{className:"text-xs",children:"..."})]}))]}),(r.table1&&r.table1.years&&r.table1.years.length>0||r.processing_stage!=="all_completed")&&p.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>x(!b),children:[p.jsxs("div",{className:"flex items-center space-x-1.5",children:[p.jsx(R7,{className:"w-4 h-4 text-purple-500"}),p.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),r.table1?.years?.length>0&&p.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.table1.years.length," )"]})]}),b?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),b&&(r.table1&&r.table1.years&&r.table1.years.length>0?p.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0 mt-2",children:p.jsxs("table",{className:"w-full text-xs border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[p.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-left font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-400",children:"/"}),p.jsx("span",{children:""})]})}),p.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:""}),p.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:""}),p.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 border-r border-gray-200 whitespace-nowrap",children:"%"}),p.jsx("th",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-700 whitespace-nowrap",children:"IRR%"})]})}),p.jsx("tbody",{className:"bg-white",children:r.table1.years.map((L,q)=>{console.log(" :",L);const oe=r.insured_age?parseInt(r.insured_age)+parseInt(L.policy_year):null,ve=r?.annual_premium?parseInt(r.annual_premium):0,U=r?.payment_years?parseInt(r.payment_years):0,z=ve*Math.min(L.policy_year,U),J=L.total||0,M=z>0&&J>0&&L.policy_year>0?(J-z)/z/L.policy_year*100:0,Ee=z>0&&J>0&&L.policy_year>0?(Math.pow(J/z,1/L.policy_year)-1)*100:0;return p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[p.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-gray-800 border-r border-gray-100",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:L.policy_year||"-"}),p.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),p.jsx("span",{children:oe?`${oe}`:"-"})]})}),p.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right text-gray-800 border-r border-gray-100",children:B(L.guaranteed)}),p.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-medium text-gray-900 border-r border-gray-100",children:B(L.total)}),p.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-semibold text-purple-600 border-r border-gray-100",children:!isNaN(M)&&M!==0?M.toFixed(2):"-"}),p.jsx("td",{className:"px-1.5 sm:px-3 py-1.5 sm:py-2 text-right font-semibold text-green-600",children:!isNaN(Ee)&&Ee!==0?Ee.toFixed(2):"-"})]},q)})})]})}):p.jsxs("div",{className:"mt-2 text-center py-6 text-gray-500",children:[p.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),p.jsx("p",{className:"text-xs",children:"..."})]}))]}),p.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-2 sm:-mx-4 px-2 sm:px-4 py-1 rounded",onClick:()=>w(!E),children:[p.jsxs("div",{className:"flex items-center space-x-1.5",children:[p.jsx($r,{className:"w-4 h-4 text-orange-500"}),p.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),r.content&&p.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.content_length?.toLocaleString()||0," )"]})]}),E?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),E&&(r.content?p.jsx("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 max-h-60 sm:max-h-80 overflow-y-auto mt-2 sm:mt-3",children:p.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono leading-snug",children:r.content})}):p.jsxs("div",{className:"mt-2 text-center py-6 text-gray-500",children:[p.jsx(Mt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),p.jsx("p",{className:"text-xs",children:"OCR..."})]}))]}),p.jsx("div",{className:"w-full",children:p.jsxs("button",{onClick:()=>e(`/document/${t}/content-editor`),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center space-x-2 font-medium",children:[p.jsx($r,{className:"w-5 h-5"}),p.jsx("span",{children:""})]})})]}),S&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl h-[calc(100vh-2rem)] sm:h-[600px] flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-t-2xl",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Um,{className:"w-4 h-4 sm:w-5 sm:h-5"}),p.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:""})]}),p.jsx("button",{onClick:K,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:p.jsx(Ou,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-2 sm:space-y-4 bg-gray-50",children:[C.map((L,q)=>p.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[85%] sm:max-w-[80%] rounded-lg p-2 sm:p-3 ${L.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-800 shadow"}`,children:L.role==="user"?p.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap break-words",children:L.content}):p.jsx("div",{className:"text-xs sm:text-sm prose prose-sm max-w-none prose-headings:text-gray-800 prose-p:text-gray-800 prose-strong:text-gray-900 prose-ul:text-gray-800 prose-ol:text-gray-800 prose-li:text-gray-800",children:p.jsx(gv,{children:L.content})})})},q)),R&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-white text-gray-800 shadow rounded-lg p-2 sm:p-3",children:p.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"})})}),p.jsx("div",{ref:G})]}),p.jsx("div",{className:"p-2 sm:p-4 border-t bg-white rounded-b-2xl",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:k,onChange:L=>D(L.target.value),onKeyPress:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),ne())},placeholder:"...",className:"flex-1 px-3 sm:px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:R}),p.jsxs("button",{onClick:ne,disabled:R||!k.trim(),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 sm:gap-2",children:[p.jsx(K7,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:""})]})]})})]})})]}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[p.jsx(Od,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),p.jsx("p",{className:"text-gray-600 text-center mb-4",children:""}),p.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})})}function gM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gM(t))&&(r&&(r+=" "),r+=e);return r}var pQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fw(t){if(typeof t!="string")return!1;var e=pQ;return e.includes(t)}var gQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yM(t){if(typeof t!="string")return!1;var e=gQ;return e.includes(t)}function bM(t){return typeof t=="string"&&t.startsWith("data-")}function Aa(t){var e=Object.entries(t).filter(n=>{var[r]=n;return yM(r)||bM(r)});return Object.fromEntries(e)}function Tg(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Aa(e)}return typeof t=="object"&&!Array.isArray(t)?Aa(t):null}function _r(t){var e=Object.entries(t).filter(n=>{var[r]=n;return yM(r)||bM(r)||fw(r)});return Object.fromEntries(e)}function yQ(t){return t==null?null:_.isValidElement(t)?_r(t.props):typeof t=="object"&&!Array.isArray(t)?_r(t):null}var bQ=["children","width","height","viewBox","className","style","title","desc"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(null,arguments)}function xQ(t,e){if(t==null)return{};var n,r,i=vQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mw=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:c,desc:d}=t,h=xQ(t,bQ),m=a||{width:r,height:i,x:0,y:0},y=Yt("recharts-surface",s);return _.createElement("svg",Sv({},_r(h),{className:y,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),_.createElement("title",null,c),_.createElement("desc",null,d),n)}),EQ=["children","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(null,arguments)}function wQ(t,e){if(t==null)return{};var n,r,i=AQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ao=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=wQ(t,EQ),a=Yt("recharts-layer",r);return _.createElement("g",Tv({className:a},_r(i),{ref:e}),n)}),xM=_.createContext(null),SQ=()=>_.useContext(xM);function Qt(t){return function(){return t}}const vM=Math.cos,dp=Math.sin,ta=Math.sqrt,hp=Math.PI,_g=2*hp,_v=Math.PI,Cv=2*_v,Po=1e-6,TQ=Cv-Po;function EM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _Q(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class CQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EM:_Q(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,d=i-n,h=s-e,m=l-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Po)if(!(Math.abs(m*c-d*h)>Po)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,x=i-l,E=c*c+d*d,w=b*b+x*x,S=Math.sqrt(E),N=Math.sqrt(y),C=a*Math.tan((_v-Math.acos((E+y-w)/(2*S*N)))/2),P=C/N,k=C/S;Math.abs(P-1)>Po&&this._append`L${e+P*h},${n+P*m}`,this._append`A${a},${a},0,0,${+(m*b>h*x)},${this._x1=e+k*c},${this._y1=n+k*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,h=n+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Po||Math.abs(this._y1-h)>Po)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%Cv+Cv),y>TQ?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>Po&&this._append`A${r},${r},0,${+(y>=_v)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function pw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new CQ(e)}function gw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wM(t){this._context=t}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cg(t){return new wM(t)}function AM(t){return t[0]}function SM(t){return t[1]}function TM(t,e){var n=Qt(!0),r=null,i=Cg,a=null,s=pw(l);t=typeof t=="function"?t:t===void 0?AM:Qt(t),e=typeof e=="function"?e:e===void 0?SM:Qt(e);function l(c){var d,h=(c=gw(c)).length,m,y=!1,b;for(r==null&&(a=i(b=s())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,d,c),+e(m,d,c));if(b)return a=null,b+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Qt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Qt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Qt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Em(t,e,n){var r=null,i=Qt(!0),a=null,s=Cg,l=null,c=pw(d);t=typeof t=="function"?t:t===void 0?AM:Qt(+t),e=typeof e=="function"?e:Qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SM:Qt(+n);function d(m){var y,b,x,E=(m=gw(m)).length,w,S=!1,N,C=new Array(E),P=new Array(E);for(a==null&&(l=s(N=c())),y=0;y<=E;++y){if(!(y<E&&i(w=m[y],y,m))===S)if(S=!S)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=y-1;x>=b;--x)l.point(C[x],P[x]);l.lineEnd(),l.areaEnd()}S&&(C[y]=+t(w,y,m),P[y]=+e(w,y,m),l.point(r?+r(w,y,m):C[y],n?+n(w,y,m):P[y]))}if(N)return l=null,N+""||null}function h(){return TM().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Qt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Qt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Qt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Qt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Qt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Qt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Qt(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),d):a},d}class _M{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NQ(t){return new _M(t,!0)}function OQ(t){return new _M(t,!1)}const yw={draw(t,e){const n=ta(e/hp);t.moveTo(n,0),t.arc(0,0,n,0,_g)}},kQ={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},CM=ta(1/3),DQ=CM*2,PQ={draw(t,e){const n=ta(e/DQ),r=n*CM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},RQ={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},IQ=.8908130915292852,NM=dp(hp/10)/dp(7*hp/10),MQ=dp(_g/10)*NM,LQ=-vM(_g/10)*NM,jQ={draw(t,e){const n=ta(e*IQ),r=MQ*n,i=LQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=_g*a/5,l=vM(s),c=dp(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},ox=ta(3),BQ={draw(t,e){const n=-ta(e/(ox*3));t.moveTo(0,n*2),t.lineTo(-ox*n,-n),t.lineTo(ox*n,-n),t.closePath()}},Oi=-.5,ki=ta(3)/2,Nv=1/ta(12),FQ=(Nv/2+1)*3,UQ={draw(t,e){const n=ta(e/FQ),r=n/2,i=n*Nv,a=r,s=n*Nv+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Oi*r-ki*i,ki*r+Oi*i),t.lineTo(Oi*a-ki*s,ki*a+Oi*s),t.lineTo(Oi*l-ki*c,ki*l+Oi*c),t.lineTo(Oi*r+ki*i,Oi*i-ki*r),t.lineTo(Oi*a+ki*s,Oi*s-ki*a),t.lineTo(Oi*l+ki*c,Oi*c-ki*l),t.closePath()}};function HQ(t,e){let n=null,r=pw(i);t=typeof t=="function"?t:Qt(t||yw),e=typeof e=="function"?e:Qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function fp(){}function mp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OM(t){this._context=t}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zQ(t){return new OM(t)}function kM(t){this._context=t}kM.prototype={areaStart:fp,areaEnd:fp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Q(t){return new kM(t)}function DM(t){this._context=t}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qQ(t){return new DM(t)}function PM(t){this._context=t}PM.prototype={areaStart:fp,areaEnd:fp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YQ(t){return new PM(t)}function bO(t){return t<0?-1:1}function xO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(bO(a)+bO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function vO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function pp(t){this._context=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lx(this,this._t0,vO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lx(this,vO(this,n=xO(this,t,e)),n);break;default:lx(this,this._t0,n=xO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RM(t){this._context=new IM(t)}(RM.prototype=Object.create(pp.prototype)).point=function(t,e){pp.prototype.point.call(this,e,t)};function IM(t){this._context=t}IM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function VQ(t){return new pp(t)}function GQ(t){return new RM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=EO(t),i=EO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function EO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function WQ(t){return new MM(t)}function Ng(t,e){this._context=t,this._t=e}Ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function KQ(t){return new Ng(t,.5)}function XQ(t){return new Ng(t,0)}function QQ(t){return new Ng(t,1)}function Ru(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ov(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ZQ(t,e){return t[e]}function JQ(t){const e=[];return e.key=t,e}function eZ(){var t=Qt([]),e=Ov,n=Ru,r=ZQ;function i(a){var s=Array.from(t.apply(this,arguments),JQ),l,c=s.length,d=-1,h;for(const m of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(m,s[l].key,d,a)]).data=m;for(l=0,h=gw(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ov:typeof a=="function"?a:Qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ru,i):n},i}function tZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ru(t,e)}}function nZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ru(t,e)}}function rZ(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var h=t[e[l]],m=h[r][1]||0,y=h[r-1][1]||0,b=(m-y)/2,x=0;x<l;++x){var E=t[e[x]],w=E[r][1]||0,S=E[r-1][1]||0;b+=w-S}c+=m,d+=b*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Ru(t,e)}}var ux={},cx={},wO;function iZ(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cx)),cx}var dx={},AO;function LM(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(dx)),dx}var hx={},SO;function bw(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(hx)),hx}var fx={},mx={},TO;function aZ(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(mx)),mx}var _O;function xw(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aZ(),n=bw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const m=i[l];d?m==="\\"&&l+1<s?(l++,c+=i[l]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,l++}return c&&a.push(c),a}t.toPath=r})(fx)),fx}var CO;function vw(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iZ(),n=LM(),r=bw(),i=xw();function a(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=l[c];return h===void 0?n.isDeepKey(c)?a(l,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=l[c];return h===void 0?d:h}}}function s(l,c,d){if(c.length===0)return d;let h=l;for(let m=0;m<c.length;m++){if(h==null||e.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}t.get=a})(ux)),ux}var px,NO;function sZ(){return NO||(NO=1,px=vw().get),px}var oZ=sZ();const Og=Xi(oZ);var Li=t=>t===0?0:t>0?1:-1,Sa=t=>typeof t=="number"&&t!=+t,ss=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ke=t=>(typeof t=="number"||t instanceof Number)&&!Sa(t),Ta=t=>Ke(t)||typeof t=="string",lZ=0,Jd=t=>{var e=++lZ;return"".concat(t||"").concat(e)},so=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&typeof e!="string")return r;var a;if(ss(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Sa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},jM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function qr(t,e,n){return Ke(t)&&Ke(e)?t+n*(e-t):e}function BM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Og(r,e))===n)}var Vn=t=>t===null||typeof t>"u",kh=t=>Vn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function uZ(t){return t!=null}function Zu(){}var cZ=["type","size","sizeType"];function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(null,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){dZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e,n){return(e=hZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mZ(t,e){if(t==null)return{};var n,r,i=pZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FM={symbolCircle:yw,symbolCross:kQ,symbolDiamond:PQ,symbolSquare:RQ,symbolStar:jQ,symbolTriangle:BQ,symbolWye:UQ},gZ=Math.PI/180,yZ=t=>{var e="symbol".concat(kh(t));return FM[e]||yw},bZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*gZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},xZ=(t,e)=>{FM["symbol".concat(kh(t))]=e},Ew=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=mZ(t,cZ),a=kO(kO({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var y=yZ(s),b=HQ().type(y).size(bZ(n,r,s)),x=b();if(x!==null)return x},{className:c,cx:d,cy:h}=a,m=_r(a);return Ke(d)&&Ke(h)&&Ke(n)?_.createElement("path",kv({},m,{className:Yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:l()})):null};Ew.registerSymbol=xZ;var UM=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ww=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{fw(i)&&(r[i]=(a=>n[i](n,a)))}),r},vZ=(t,e,n)=>r=>(t(e,n,r),null),HM=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];fw(i)&&typeof a=="function"&&(r||(r={}),r[i]=vZ(a,e,n))}),r};function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){wZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wZ(t,e,n){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pr(t,e){var n=EZ({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(null,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){_Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e,n){return(e=CZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=NZ(t,"string");return typeof e=="symbol"?e:e+""}function NZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pi=32,OZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function kZ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Pi/2,a=Pi/6,s=Pi/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var d;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:Pi,y2:i,className:"recharts-legend-icon"})}if(c==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Pi,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return _.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var h=TZ({},e);return delete h.legendIcon,_.cloneElement(e.legendIcon,h)}return _.createElement(Ew,{fill:l,cx:i,cy:i,size:Pi,sizeType:"diameter",type:c})}function DZ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,l={x:0,y:0,width:Pi,height:Pi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,m)=>{var y=h.formatter||i,b=Yt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?a:h.color,E=y?y(h.value,h,m):h.value;return _.createElement("li",gp({className:b,style:c,key:"legend-item-".concat(m)},HM(t,h,m)),_.createElement(mw,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(E," legend icon")},_.createElement(kZ,{data:h,iconType:s,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},E))})}var PZ=t=>{var e=pr(t,OZ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(DZ,gp({},e,{payload:n})))},gx={},yx={},RO;function RZ(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(yx)),yx}var bx={},IO;function zM(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(bx)),bx}var xx={},vx={},Ex={},MO;function IZ(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ex)),Ex}var LO;function Aw(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(vx)),vx}var Ax={},jO;function MZ(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Ax)),Ax}var BO;function LZ(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aw(),n=MZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(xx)),xx}var Sx={},Tx={},FO;function jZ(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Tx)),Tx}var _x={},Cx={},Nx={},Ox={},UO;function $M(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ox)),Ox}var kx={},HO;function qM(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(kx)),kx}var Dx={},zO;function YM(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Dx)),Dx}var $O;function BZ(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$M(),n=qM(),r=YM();function i(h,m,y){return typeof y!="function"?i(h,m,()=>{}):a(h,m,function b(x,E,w,S,N,C){const P=y(x,E,w,S,N,C);return P!==void 0?!!P:a(x,E,b,C)},new Map)}function a(h,m,y,b){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,y,b);case"function":return Object.keys(m).length>0?a(h,{...m},y,b):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function s(h,m,y,b){if(m==null)return!0;if(Array.isArray(m))return c(h,m,y,b);if(m instanceof Map)return l(h,m,y,b);if(m instanceof Set)return d(h,m,y,b);const x=Object.keys(m);if(h==null)return x.length===0;if(x.length===0)return!0;if(b?.has(m))return b.get(m)===h;b?.set(m,h);try{for(let E=0;E<x.length;E++){const w=x[E];if(!n.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!y(h[w],m[w],w,h,m,b))return!1}return!0}finally{b?.delete(m)}}function l(h,m,y,b){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,E]of m.entries()){const w=h.get(x);if(y(w,E,x,h,m,b)===!1)return!1}return!0}function c(h,m,y,b){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let E=0;E<m.length;E++){const w=m[E];let S=!1;for(let N=0;N<h.length;N++){if(x.has(N))continue;const C=h[N];let P=!1;if(y(C,w,E,h,m,b)&&(P=!0),P){x.add(N),S=!0;break}}if(!S)return!1}return!0}function d(h,m,y,b){return m.size===0?!0:h instanceof Set?c([...h],[...m],y,b):!1}t.isMatchWith=i,t.isSetMatch=d})(Nx)),Nx}var qO;function VM(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Cx)),Cx}var Px={},Rx={},Ix={},YO;function FZ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ix)),Ix}var Mx={},VO;function GM(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Mx)),Mx}var Lx={},GO;function WM(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",E="[object DataView]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",H="[object BigInt64Array]",G="[object Float32Array]",X="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=H,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=E,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=G,t.float64ArrayTag=X,t.functionTag=m,t.int16ArrayTag=D,t.int32ArrayTag=R,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=N,t.uint32ArrayTag=C,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=S})(Lx)),Lx}var jx={},WO;function UZ(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(jx)),jx}var KO;function KM(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FZ(),n=GM(),r=WM(),i=qM(),a=UZ();function s(h,m){return l(h,void 0,h,new Map,m)}function l(h,m,y,b=new Map,x=void 0){const E=x?.(h,m,y,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const w=new Array(h.length);b.set(h,w);for(let S=0;S<h.length;S++)w[S]=l(h[S],S,y,b,x);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;b.set(h,w);for(const[S,N]of h)w.set(S,l(N,S,y,b,x));return w}if(h instanceof Set){const w=new Set;b.set(h,w);for(const S of h)w.add(l(S,void 0,y,b,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,w);for(let S=0;S<h.length;S++)w[S]=l(h[S],S,y,b,x);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,w),c(w,h,y,b,x),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return b.set(h,w),c(w,h,y,b,x),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return b.set(h,w),c(w,h,y,b,x),w}if(h instanceof Error){const w=new h.constructor;return b.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,y,b,x),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return b.set(h,w),c(w,h,y,b,x),w}if(h instanceof Number){const w=new Number(h.valueOf());return b.set(h,w),c(w,h,y,b,x),w}if(h instanceof String){const w=new String(h.valueOf());return b.set(h,w),c(w,h,y,b,x),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return b.set(h,w),c(w,h,y,b,x),w}return h}function c(h,m,y=h,b,x){const E=[...Object.keys(m),...e.getSymbols(m)];for(let w=0;w<E.length;w++){const S=E[w],N=Object.getOwnPropertyDescriptor(h,S);(N==null||N.writable)&&(h[S]=l(m[S],S,y,b,x))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=c})(Rx)),Rx}var XO;function HZ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Px)),Px}var QO;function zZ(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VM(),n=HZ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(_x)),_x}var Bx={},Fx={},Ux={},ZO;function $Z(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KM(),n=WM();function r(i,a){return e.cloneDeepWith(i,(s,l,c,d)=>{const h=a?.(s,l,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(Ux)),Ux}var JO;function qZ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Z();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Fx)),Fx}var Hx={},zx={},e3;function XM(){return e3||(e3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(zx)),zx}var $x={},t3;function YZ(){return t3||(t3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})($x)),$x}var n3;function VZ(){return n3||(n3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM(),n=XM(),r=YZ(),i=xw();function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&s?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=a})(Hx)),Hx}var r3;function GZ(){return r3||(r3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VM(),n=bw(),r=qZ(),i=vw(),a=VZ();function s(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(Bx)),Bx}var i3;function WZ(){return i3||(i3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zM(),n=jZ(),r=zZ(),i=GZ();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Sx)),Sx}var a3;function KZ(){return a3||(a3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RZ(),n=zM(),r=LZ(),i=WZ();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(gx)),gx}var qx,s3;function XZ(){return s3||(s3=1,qx=KZ().uniqBy),qx}var QZ=XZ();const o3=Xi(QZ);function QM(t,e,n){return e===!0?o3(t,n):typeof e=="function"?o3(t,e):t}var Yx={exports:{}},Vx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3;function ZZ(){if(l3)return Vx;l3=1;var t=Fu(),e=sR();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Vx.useSyncExternalStoreWithSelector=function(d,h,m,y,b){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=l(function(){function S(D){if(!N){if(N=!0,C=D,D=y(D),b!==void 0&&E.hasValue){var R=E.value;if(b(R,D))return P=R}return P=D}if(R=P,r(C,D))return R;var H=y(D);return b!==void 0&&b(R,H)?(C=D,R):(C=D,P=H)}var N=!1,C,P,k=m===void 0?null:m;return[function(){return S(h())},k===null?void 0:function(){return S(k())}]},[h,m,y,b]);var w=i(d,x[0],x[1]);return s(function(){E.hasValue=!0,E.value=w},[w]),c(w),w},Vx}var u3;function JZ(){return u3||(u3=1,Yx.exports=ZZ()),Yx.exports}var eJ=JZ(),Sw=_.createContext(null),tJ=t=>t,Dn=()=>{var t=_.useContext(Sw);return t?t.store.dispatch:tJ},Gm=()=>{},nJ=()=>Gm,rJ=(t,e)=>t===e;function Ve(t){var e=_.useContext(Sw);return eJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:nJ,e?e.store.getState:Gm,e?e.store.getState:Gm,e?t:Gm,rJ)}function iJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function aJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function sJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var c3=t=>Array.isArray(t)?t:[t];function oJ(t){const e=Array.isArray(t[0])?t[0]:t;return sJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function lJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var uJ=class{constructor(t){this.value=t}deref(){return this.value}},cJ=typeof WeakRef<"u"?WeakRef:uJ,dJ=0,d3=1;function wm(){return{s:dJ,v:void 0,o:null,p:null}}function ZM(t,e={}){let n=wm();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let l=n;const{length:c}=arguments;for(let m=0,y=c;m<y;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const E=x.get(b);E===void 0?(l=wm(),x.set(b,l)):l=E}else{let x=l.p;x===null&&(l.p=x=new Map);const E=x.get(b);E===void 0?(l=wm(),x.set(b,l)):l=E}}const d=l;let h;if(l.s===d3)h=l.v;else if(h=t.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new cJ(h):h}return d.s=d3,d.v=h,h}return s.clearCache=()=>{n=wm(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function hJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),iJ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:y=[],argsMemoize:b=ZM,argsMemoizeOptions:x=[]}=h,E=c3(y),w=c3(x),S=oJ(i),N=m(function(){return a++,d.apply(null,arguments)},...E),C=b(function(){s++;const k=lJ(S,arguments);return l=N.apply(null,k),l},...w);return Object.assign(C,{resultFunc:d,memoizedResultFunc:N,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ye=hJ(ZM),fJ=Object.assign((t,e=ye)=>{aJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>fJ}),Gx={},Wx={},Kx={},h3;function mJ(){return h3||(h3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(Kx)),Kx}var Xx={},Qx={},f3;function JM(){return f3||(f3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Qx)),Qx}var m3;function pJ(){return m3||(m3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Xx)),Xx}var p3;function gJ(){return p3||(p3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ(),n=pJ(),r=xw();function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,x)=>{let E=b;for(let w=0;w<x.length&&E!=null;++w)E=E[x[w]];return E},h=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:d(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?d(x,b):typeof x=="object"?x[b]:x,m=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:m.map(x=>h(x,b))})).slice().sort((b,x)=>{for(let E=0;E<m.length;E++){const w=e.compareValues(b.criteria[E],x.criteria[E],l[E]);if(w!==0)return w}return 0}).map(b=>b.original)}t.orderBy=i})(Wx)),Wx}var Zx={},g3;function yJ(){return g3||(g3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,c)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Zx)),Zx}var Jx={},y3;function eL(){return y3||(y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XM(),n=Aw(),r=$M(),i=YM();function a(s,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}t.isIterateeCall=a})(Jx)),Jx}var b3;function bJ(){return b3||(b3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gJ(),n=yJ(),r=eL();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Gx)),Gx}var e1,x3;function xJ(){return x3||(x3=1,e1=bJ().sortBy),e1}var vJ=xJ();const kg=Xi(vJ);var tL=t=>t.legend.settings,EJ=t=>t.legend.size,wJ=t=>t.legend.payload,AJ=ye([wJ,tL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?kg(r,n):r});function SJ(){return Ve(AJ)}var Am=1;function nL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Am||Math.abs(s.left-e.left)>Am||Math.abs(s.top-e.top)>Am||Math.abs(s.width-e.width)>Am)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function rr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",v3=TJ,t1=()=>Math.random().toString(36).substring(7).split("").join("."),_J={INIT:`@@redux/INIT${t1()}`,REPLACE:`@@redux/REPLACE${t1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t1()}`},yp=_J;function Tw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function rL(t,e,n){if(typeof t!="function")throw new Error(rr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(rL)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((w,S)=>{s.set(S,w)}))}function h(){if(c)throw new Error(rr(3));return i}function m(w){if(typeof w!="function")throw new Error(rr(4));if(c)throw new Error(rr(5));let S=!0;d();const N=l++;return s.set(N,w),function(){if(S){if(c)throw new Error(rr(6));S=!1,d(),s.delete(N),a=null}}}function y(w){if(!Tw(w))throw new Error(rr(7));if(typeof w.type>"u")throw new Error(rr(8));if(typeof w.type!="string")throw new Error(rr(17));if(c)throw new Error(rr(9));try{c=!0,i=r(i,w)}finally{c=!1}return(a=s).forEach(N=>{N()}),w}function b(w){if(typeof w!="function")throw new Error(rr(10));r=w,y({type:yp.REPLACE})}function x(){const w=m;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(rr(11));function N(){const P=S;P.next&&P.next(h())}return N(),{unsubscribe:w(N)}},[v3](){return this}}}return y({type:yp.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:b,[v3]:x}}function CJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:yp.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:yp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function iL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{CJ(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],b=s[m],x=y(b,l);if(typeof x>"u")throw l&&l.type,new Error(rr(14));d[m]=x,c=c||x!==b}return c=c||r.length!==Object.keys(s).length,c?d:s}}function bp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NJ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(rr(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=t.map(c=>c(s));return a=bp(...l)(i.dispatch),{...i,dispatch:a}}}function aL(t){return Tw(t)&&"type"in t&&typeof t.type=="string"}var sL=Symbol.for("immer-nothing"),E3=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function Gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var eh=Object.getPrototypeOf;function nl(t){return!!t&&!!t[pi]}function os(t){return t?oL(t)||Array.isArray(t)||!!t[E3]||!!t.constructor?.[E3]||Dh(t)||Pg(t):!1}var OJ=Object.prototype.constructor.toString(),w3=new WeakMap;function oL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=w3.get(n);return r===void 0&&(r=Function.toString.call(n),w3.set(n,r)),r===OJ}function xp(t,e,n=!0){Dg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dg(t){const e=t[pi];return e?e.type_:Array.isArray(t)?1:Dh(t)?2:Pg(t)?3:0}function Dv(t,e){return Dg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lL(t,e,n){const r=Dg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dh(t){return t instanceof Map}function Pg(t){return t instanceof Set}function Ro(t){return t.copy_||t.base_}function Pv(t,e){if(Dh(t))return new Map(t);if(Pg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=oL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(eh(t),r)}else{const r=eh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function _w(t,e=!1){return Rg(t)||nl(t)||!os(t)||(Dg(t)>1&&Object.defineProperties(t,{set:Sm,add:Sm,clear:Sm,delete:Sm}),Object.freeze(t),e&&Object.values(t).forEach(n=>_w(n,!0))),t}function DJ(){Gi(2)}var Sm={value:DJ};function Rg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var PJ={};function rl(t){const e=PJ[t];return e||Gi(0,t),e}var th;function uL(){return th}function RJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A3(t,e){e&&(rl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Rv(t){Iv(t),t.drafts_.forEach(IJ),t.drafts_=null}function Iv(t){t===th&&(th=t.parent_)}function S3(t){return th=RJ(th,t)}function IJ(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function T3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[pi].modified_&&(Rv(e),Gi(4)),os(t)&&(t=vp(e,t),e.parent_||Ep(e,t)),e.patches_&&rl("Patches").generateReplacementPatches_(n[pi].base_,t,e.patches_,e.inversePatches_)):t=vp(e,n,[]),Rv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sL?t:void 0}function vp(t,e,n){if(Rg(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[pi];if(!i)return xp(e,(a,s)=>_3(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ep(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),xp(s,(c,d)=>_3(t,i,a,c,d,n,l),r),Ep(t,a,!1),n&&t.patches_&&rl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function _3(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=Rg(i);if(!(l&&!s)){if(nl(i)){const c=a&&e&&e.type_!==3&&!Dv(e.assigned_,r)?a.concat(r):void 0,d=vp(t,i,c);if(lL(n,r,d),nl(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(os(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;vp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Dh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ep(t,i)}}}function Ep(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_w(e,n)}function MJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:uL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Cw;n&&(i=[r],a=nh);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var Cw={get(t,e){if(e===pi)return t;const n=Ro(t);if(!Dv(n,e))return LJ(t,n,e);const r=n[e];return t.finalized_||!os(r)?r:r===n1(t.base_,e)?(r1(t),t.copy_[e]=Lv(r,t)):r},has(t,e){return e in Ro(t)},ownKeys(t){return Reflect.ownKeys(Ro(t))},set(t,e,n){const r=cL(Ro(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=n1(Ro(t),e),a=i?.[pi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kJ(n,i)&&(n!==void 0||Dv(t.base_,e)))return!0;r1(t),Mv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return n1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,r1(t),Mv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ro(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Gi(11)},getPrototypeOf(t){return eh(t.base_)},setPrototypeOf(){Gi(12)}},nh={};xp(Cw,(t,e)=>{nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});nh.deleteProperty=function(t,e){return nh.set.call(this,t,e,void 0)};nh.set=function(t,e,n){return Cw.set.call(this,t[0],e,n,t[0])};function n1(t,e){const n=t[pi];return(n?Ro(n):t)[e]}function LJ(t,e,n){const r=cL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function cL(t,e){if(!(e in t))return;let n=eh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=eh(n)}}function Mv(t){t.modified_||(t.modified_=!0,t.parent_&&Mv(t.parent_))}function r1(t){t.copy_||(t.copy_=Pv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Gi(6),r!==void 0&&typeof r!="function"&&Gi(7);let i;if(os(e)){const a=S3(this),s=Lv(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?Rv(a):Iv(a)}return A3(a,r),T3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===sL&&(i=void 0),this.autoFreeze_&&_w(i,!0),r){const a=[],s=[];rl("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Gi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){os(t)||Gi(8),nl(t)&&(t=rs(t));const e=S3(this),n=Lv(t,void 0);return n[pi].isManual_=!0,Iv(e),n}finishDraft(t,e){const n=t&&t[pi];(!n||!n.isManual_)&&Gi(9);const{scope_:r}=n;return A3(r,e),T3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=rl("Patches").applyPatches_;return nl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Lv(t,e){const n=Dh(t)?rl("MapSet").proxyMap_(t,e):Pg(t)?rl("MapSet").proxySet_(t,e):MJ(t,e);return(e?e.scope_:uL()).drafts_.push(n),n}function rs(t){return nl(t)||Gi(10,t),dL(t)}function dL(t){if(!os(t)||Rg(t))return t;const e=t[pi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Pv(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Pv(t,!0);return xp(n,(i,a)=>{lL(n,i,dL(a))},r),e&&(e.finalized_=!1),n}var jv=new jJ,hL=jv.produce,BJ=jv.setUseStrictIteration.bind(jv);function fL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var FJ=fL(),UJ=fL,HJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bp:bp.apply(null,arguments)};function Fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(mi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>aL(r)&&r.type===t,n}var mL=class _d extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_d.prototype)}static get[Symbol.species](){return _d}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _d(...e[0].concat(this)):new _d(...e.concat(this))}};function C3(t){return os(t)?hL(t,()=>{}):t}function Tm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function zJ(t){return typeof t=="boolean"}var $J=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new mL;return n&&(zJ(n)?s.push(FJ):s.push(UJ(n.extraArgument))),s},pL="RTK_autoBatch",In=()=>t=>({payload:t,meta:{[pL]:!0}}),N3=t=>e=>{setTimeout(e,t)},gL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N3(10):t.type==="callback"?t.queueNotification:N3(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return l.add(h),()=>{y(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[pL],a=!i,a&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},qJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new mL(t);return r&&i.push(gL(typeof r=="object"?r:void 0)),i};function YJ(t){const e=$J(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Tw(n))l=iL(n);else throw new Error(mi(1));let c;typeof r=="function"?c=r(e):c=e();let d=bp;i&&(d=HJ({trace:!1,...typeof i=="object"&&i}));const h=NJ(...c),m=qJ(h);let y=typeof s=="function"?s(m):m();const b=d(...y);return rL(l,a,b)}function yL(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(mi(28));if(l in e)throw new Error(mi(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}BJ(!1);function VJ(t){return typeof t=="function"}function GJ(t,e){let[n,r,i]=yL(e),a;if(VJ(t))a=()=>C3(t());else{const l=C3(t);a=()=>l}function s(l=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(nl(h)){const b=m(h,c);return b===void 0?h:b}else{if(os(h))return hL(h,y=>m(y,c));{const y=m(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},l)}return s.getInitialState=a,s}var WJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KJ=(t=21)=>{let e="",n=t;for(;n--;)e+=WJ[Math.random()*64|0];return e},XJ=Symbol.for("rtk-slice-createasyncthunk");function QJ(t,e){return`${t}/${e}`}function ZJ({creators:t}={}){const e=t?.asyncThunk?.[XJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(mi(11));const s=(typeof r.reducers=="function"?r.reducers(eee()):r.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,P){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(mi(12));if(k in c.sliceCaseReducersByType)throw new Error(mi(13));return c.sliceCaseReducersByType[k]=P,d},addMatcher(C,P){return c.sliceMatchers.push({matcher:C,reducer:P}),d},exposeAction(C,P){return c.actionCreators[C]=P,d},exposeCaseReducer(C,P){return c.sliceCaseReducersByName[C]=P,d}};l.forEach(C=>{const P=s[C],k={reducerName:C,type:QJ(i,C),createNotation:typeof r.reducers=="function"};nee(P)?iee(k,P,d,e):tee(k,P,d)});function h(){const[C={},P=[],k=void 0]=typeof r.extraReducers=="function"?yL(r.extraReducers):[r.extraReducers],D={...C,...c.sliceCaseReducersByType};return GJ(r.initialState,R=>{for(let H in D)R.addCase(H,D[H]);for(let H of c.sliceMatchers)R.addMatcher(H.matcher,H.reducer);for(let H of P)R.addMatcher(H.matcher,H.reducer);k&&R.addDefaultCase(k)})}const m=C=>C,y=new Map,b=new WeakMap;let x;function E(C,P){return x||(x=h()),x(C,P)}function w(){return x||(x=h()),x.getInitialState()}function S(C,P=!1){function k(R){let H=R[C];return typeof H>"u"&&P&&(H=Tm(b,k,w)),H}function D(R=m){const H=Tm(y,P,()=>new WeakMap);return Tm(H,R,()=>{const G={};for(const[X,B]of Object.entries(r.selectors??{}))G[X]=JJ(B,R,()=>Tm(b,R,w),P);return G})}return{reducerPath:C,getSelectors:D,get selectors(){return D(k)},selectSlice:k}}const N={name:i,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...S(a),injectInto(C,{reducerPath:P,...k}={}){const D=P??a;return C.inject({reducerPath:D,reducer:E},k),{...N,...S(D,!0)}}};return N}}function JJ(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var Xr=ZJ();function eee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tee({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ree(r))throw new Error(mi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Fi(t,s):Fi(t))}function nee(t){return t._reducerDefinitionType==="asyncThunk"}function ree(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(mi(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:d,options:h}=n,m=i(t,a,h);r.exposeAction(e,m),s&&r.addCase(m.fulfilled,s),l&&r.addCase(m.pending,l),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:s||_m,pending:l||_m,rejected:c||_m,settled:d||_m})}function _m(){}var aee="task",bL="listener",xL="completed",Nw="cancelled",see=`task-${Nw}`,oee=`task-${xL}`,Bv=`${bL}-${Nw}`,lee=`${bL}-${xL}`,Ig=class{constructor(t){this.code=t,this.message=`${aee} ${Nw} (reason: ${t})`}name="TaskAbortError";message},Ow=(t,e)=>{if(typeof t!="function")throw new TypeError(mi(32))},wp=()=>{},vL=(t,e=wp)=>(t.catch(e),t),EL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ko=t=>{if(t.aborted){const{reason:e}=t;throw new Ig(e)}};function wL(t,e){let n=wp;return new Promise((r,i)=>{const a=()=>i(new Ig(t.reason));if(t.aborted){a();return}n=EL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=wp})}var uee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ig?"cancelled":"rejected",error:n}}finally{e?.()}},Ap=t=>e=>vL(wL(t,e).then(n=>(Ko(t),n))),AL=t=>{const e=Ap(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Tu}=Object,O3={},Mg="listenerMiddleware",cee=(t,e)=>{const n=r=>EL(t,()=>Wo(r,t.reason));return(r,i)=>{Ow(r);const a=new AbortController;n(a);const s=uee(async()=>{Ko(t),Ko(a.signal);const l=await r({pause:Ap(a.signal),delay:AL(a.signal),signal:a.signal});return Ko(a.signal),l},()=>Wo(a,oee));return i?.autoJoin&&e.push(s.catch(wp)),{result:Ap(t)(s),cancel(){Wo(a,see)}}}},dee=(t,e)=>{const n=async(r,i)=>{Ko(e);let a=()=>{};const l=[new Promise((c,d)=>{let h=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),c([m,y.getState(),y.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await wL(e,Promise.race(l));return Ko(e),c}finally{a()}};return(r,i)=>vL(n(r,i))},SL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mi(21));return Ow(a),{predicate:i,type:e,effect:a}},TL=Tu(t=>{const{type:e,predicate:n,effect:r}=SL(t);return{id:KJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mi(22))}}},{withTypes:()=>TL}),k3=(t,e)=>{const{type:n,effect:r,predicate:i}=SL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Fv=t=>{t.pending.forEach(e=>{Wo(e,Bv)})},hee=(t,e)=>()=>{for(const n of e.keys())Fv(n);t.clear()},D3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_L=Tu(Fi(`${Mg}/add`),{withTypes:()=>_L}),fee=Fi(`${Mg}/removeAll`),CL=Tu(Fi(`${Mg}/remove`),{withTypes:()=>CL}),mee=(...t)=>{console.error(`${Mg}/error`,...t)},Ph=(t={})=>{const e=new Map,n=new Map,r=b=>{const x=n.get(b)??0;n.set(b,x+1)},i=b=>{const x=n.get(b)??1;x===1?n.delete(b):n.set(b,x-1)},{extra:a,onError:s=mee}=t;Ow(s);const l=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),x=>{b.unsubscribe(),x?.cancelActive&&Fv(b)}),c=b=>{const x=k3(e,b)??TL(b);return l(x)};Tu(c,{withTypes:()=>c});const d=b=>{const x=k3(e,b);return x&&(x.unsubscribe(),b.cancelActive&&Fv(x)),!!x};Tu(d,{withTypes:()=>d});const h=async(b,x,E,w)=>{const S=new AbortController,N=dee(c,S.signal),C=[];try{b.pending.add(S),r(b),await Promise.resolve(b.effect(x,Tu({},E,{getOriginalState:w,condition:(P,k)=>N(P,k).then(Boolean),take:N,delay:AL(S.signal),pause:Ap(S.signal),extra:a,signal:S.signal,fork:cee(S.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((P,k,D)=>{P!==S&&(Wo(P,Bv),D.delete(P))})},cancel:()=>{Wo(S,Bv),b.pending.delete(S)},throwIfCancelled:()=>{Ko(S.signal)}})))}catch(P){P instanceof Ig||D3(s,P,{raisedBy:"effect"})}finally{await Promise.all(C),Wo(S,lee),i(b),b.pending.delete(S)}},m=hee(e,n);return{middleware:b=>x=>E=>{if(!aL(E))return x(E);if(_L.match(E))return c(E.payload);if(fee.match(E)){m();return}if(CL.match(E))return d(E.payload);let w=b.getState();const S=()=>{if(w===O3)throw new Error(mi(23));return w};let N;try{if(N=x(E),e.size>0){const C=b.getState(),P=Array.from(e.values());for(const k of P){let D=!1;try{D=k.predicate(E,C,w)}catch(R){D=!1,D3(s,R,{raisedBy:"predicate"})}D&&h(k,E,b,S)}}}finally{w=O3}return N},startListening:c,stopListening:d,clearListeners:m}};function mi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NL=Xr({name:"chartLayout",initialState:pee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gee,setLayout:yee,setChartSize:bee,setScale:xee}=NL.actions,vee=NL.reducer;function OL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return(e=wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tr(t,e,n){return Vn(t)||Vn(e)?n:Ta(e)?Og(t,e,n):typeof e=="function"?e(t):n}var See=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Ke(t[a]))return gu(gu({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Ke(t[s]))return gu(gu({},t),{},{[s]:t[s]+(i||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",kL=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},DL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:y,axisType:b}=t;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(E=b==="angleAxis"&&a&&a.length>=2?Li(a[0]-a[1])*2*E:E,m||y){var w=(m||y||[]).map((S,N)=>{var C=r?r.indexOf(S):S;return{coordinate:s(C)+E,value:S,offset:E,index:N}});return w.filter(S=>!Sa(S.coordinate))}return c&&d?d.map((S,N)=>({coordinate:s(S)+E,value:S,index:N,offset:E})):s.ticks&&h!=null?s.ticks(h).map((S,N)=>({coordinate:s(S)+E,value:S,offset:E,index:N})):s.domain().map((S,N)=>({coordinate:s(S)+E,value:r?r[S]:S,index:N,offset:E}))},R3=1e-4,Tee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-R3,a=Math.max(r[0],r[1])+R3,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},_ee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=Sa(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},Cee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Sa(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Nee={sign:_ee,expand:tZ,none:Ru,silhouette:nZ,wiggle:rZ,positive:Cee},Oee=(t,e,n)=>{var r=Nee[n],i=eZ().keys(e).value((a,s)=>Number(Tr(a,s,0))).order(Ov).offset(r);return i(t)};function I3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vn(i[e.dataKey])){var l=BM(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Tr(i,Vn(s)?e.dataKey:s);return Vn(c)?null:e.scale(c)}var kee=t=>{var e=t.flat(2).filter(Ke);return[Math.min(...e),Math.max(...e)]},Dee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Pee=(t,e,n)=>{if(t!=null)return Dee(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((c,d)=>{var h=OL(d,e,n),m=kee(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},M3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=kg(e,h=>h.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function j3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return gu(gu({},e),{},{dataKey:n,payload:r,value:i,name:a})}function PL(t,e){if(t)return String(t);if(typeof e=="string")return e}var Ree=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Iee=(t,e)=>e==="centric"?t.angle:t.radius,fs=t=>t.layout.width,ms=t=>t.layout.height,Mee=t=>t.layout.scale,RL=t=>t.layout.margin,Lg=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),jg=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Lee="data-recharts-item-index",jee="data-recharts-item-data-key",Rh=60;function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hee=t=>t.brush.height;function zee(t){var e=jg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rh;return n+i}return n},0)}function $ee(t){var e=jg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rh;return n+i}return n},0)}function qee(t){var e=Lg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Yee(t){var e=Lg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var or=ye([fs,ms,RL,Hee,zee,$ee,qee,Yee,tL,EJ],(t,e,n,r,i,a,s,l,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=Cm(Cm({},m),h),b=y.bottom;y.bottom+=r,y=See(y,c,d);var x=t-y.left-y.right,E=e-y.top-y.bottom;return Cm(Cm({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(E,0)})}),Vee=ye(or,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),IL=ye(fs,ms,(t,e)=>({x:0,y:0,width:t,height:e})),Gee=_.createContext(null),Qr=()=>_.useContext(Gee)!=null,Bg=t=>t.brush,Fg=ye([Bg,or,RL],(t,e,n)=>({height:t.height,x:Ke(t.x)?t.x:e.left,y:Ke(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ke(t.width)?t.width:e.width})),i1={},a1={},s1={},F3;function Wee(){return F3||(F3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},m=()=>{d&&h(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{x(),s=void 0,l=null},w=()=>{h()},S=function(...N){if(i?.aborted)return;s=this,l=N;const C=y==null;b(),c&&C&&h()};return S.schedule=b,S.cancel=E,S.flush=w,i?.addEventListener("abort",E,{once:!0}),S}t.debounce=e})(s1)),s1}var U3;function Kee(){return U3||(U3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wee();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let h,m=null;const y=e.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),b=function(...E){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,E),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},x=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=x,b}t.debounce=n})(a1)),a1}var H3;function Xee(){return H3||(H3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kee();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(i1)),i1}var o1,z3;function Qee(){return z3||(z3=1,o1=Xee().throttle),o1}var Zee=Qee();const Jee=Xi(Zee);var Tp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},ML=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=ss(r)?t:Number(r),c=ss(i)?e:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},ete={width:0,height:0,overflow:"visible"},tte={width:0,overflowX:"visible"},nte={height:0,overflowY:"visible"},rte={},ite=t=>{var{width:e,height:n}=t,r=ss(e),i=ss(n);return r&&i?ete:r?tte:i?nte:rte};function ate(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Gn(t){return Number.isFinite(t)}function _a(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(null,arguments)}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LL=_.createContext({width:-1,height:-1});function ute(t){return _a(t.width)&&_a(t.height)}function jL(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return ute(i)?_.createElement(LL.Provider,{value:i},e):null}var kw=()=>_.useContext(LL),cte=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:c,children:d,debounce:h=0,id:m,className:y,onResize:b,style:x={}}=t,E=_.useRef(null),w=_.useRef();w.current=b,_.useImperativeHandle(e,()=>E.current);var[S,N]=_.useState({containerWidth:r.width,containerHeight:r.height}),C=_.useCallback((H,G)=>{N(X=>{var B=Math.round(H),F=Math.round(G);return X.containerWidth===B&&X.containerHeight===F?X:{containerWidth:B,containerHeight:F}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Zu;var H=F=>{var Z,{width:K,height:ne}=F[0].contentRect;C(K,ne),(Z=w.current)===null||Z===void 0||Z.call(w,K,ne)};h>0&&(H=Jee(H,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(H),{width:X,height:B}=E.current.getBoundingClientRect();return C(X,B),G.observe(E.current),()=>{G.disconnect()}},[C,h]);var{containerWidth:P,containerHeight:k}=S;Tp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:R}=ML(P,k,{width:i,height:a,aspect:n,maxHeight:c});return Tp(D!=null&&D>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,i,a,s,l,n),_.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",y),style:q3(q3({},x),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:E},_.createElement("div",{style:ite({width:i,height:a})},_.createElement(jL,{width:D,height:R},d)))}),dte=_.forwardRef((t,e)=>{var n=kw();if(_a(n.width)&&_a(n.height))return t.children;var{width:r,height:i}=ate({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=ML(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ke(a)&&Ke(s)?_.createElement(jL,{width:a,height:s},t.children):_.createElement(cte,Uv({},t,{width:r,height:i,ref:e}))});function BL(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ug=()=>{var t,e=Qr(),n=Ve(Vee),r=Ve(Fg),i=(t=Ve(Bg))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FL=()=>{var t;return(t=Ve(or))!==null&&t!==void 0?t:hte},Dw=()=>Ve(fs),Pw=()=>Ve(ms),fte=()=>Ve(t=>t.layout.margin),nn=t=>t.layout.layoutType,Hg=()=>Ve(nn),mte=()=>{var t=Hg();return t!==void 0},zg=t=>{var e=Dn(),n=Qr(),{width:r,height:i}=t,a=kw(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&_a(s)&&_a(l)&&e(bee({width:s,height:l}))},[e,n,s,l]),null},pte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UL=Xr({name:"legend",initialState:pte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:In()},removeLegendPayload:{reducer(t,e){var n=rs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:In()}}}),{setLegendSize:Y3,setLegendSettings:gte,addLegendPayload:yte,removeLegendPayload:bte}=UL.actions,xte=UL.reducer,vte=["contextPayload"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(null,arguments)}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ste(t,e){if(t==null)return{};var n,r,i=Tte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _te(t){return t.value}function Cte(t){var{contextPayload:e}=t,n=Ste(t,vte),r=QM(e,t.payloadUniqBy,_te),i=Iu(Iu({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(PZ,i)}function Nte(t,e,n,r,i,a){var{layout:s,align:l,verticalAlign:c}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&s==="vertical"?d={left:((r||0)-a.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Iu(Iu({},d),h)}function Ote(t){var e=Dn();return _.useEffect(()=>{e(gte(t))},[e,t]),null}function kte(t){var e=Dn();return _.useEffect(()=>(e(Y3(t)),()=>{e(Y3({width:0,height:0}))}),[e,t]),null}function Dte(t,e,n,r){return t==="vertical"&&Ke(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var Pte={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function HL(t){var e=pr(t,Pte),n=SJ(),r=SQ(),i=fte(),{width:a,height:s,wrapperStyle:l,portal:c}=e,[d,h]=nL([n]),m=Dw(),y=Pw();if(m==null||y==null)return null;var b=m-(i?.left||0)-(i?.right||0),x=Dte(e.layout,s,a,b),E=c?l:Iu(Iu({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},Nte(l,e,i,m,y,d)),l),w=c??r;if(w==null||n==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},_.createElement(Ote,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),_.createElement(kte,{width:d.width,height:d.height}),_.createElement(Cte,Hv({},e,x,{margin:i,chartWidth:m,chartHeight:y,contextPayload:n})));return SE.createPortal(S,w)}HL.displayName="Legend";function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(null,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lte(t){return Array.isArray(t)&&Ta(t[0])&&Ta(t[1])?t.join(" ~ "):t}var jte=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var k={padding:0,margin:0},D=(l?kg(a,l):a).map((R,H)=>{if(R.type==="none")return null;var G=R.formatter||s||Lte,{value:X,name:B}=R,F=X,Z=B;if(G){var K=G(X,B,R,H,a);if(Array.isArray(K))[F,Z]=K;else if(K!=null)F=K;else return null}var ne=l1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ne},Ta(Z)?_.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ta(Z)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},x=l1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=l1({margin:0},i),w=!Vn(h),S=w?h:"",N=Yt("recharts-default-tooltip",c),C=Yt("recharts-tooltip-label",d);w&&m&&a!==void 0&&a!==null&&(S=m(h,a));var P=y?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",zv({className:N,style:x},P),_.createElement("p",{className:C,style:E},_.isValidElement(S)?S:"".concat(S)),b())},md="recharts-tooltip-wrapper",Bte={visibility:"hidden"};function Fte(t){var{coordinate:e,translateX:n,translateY:r}=t;return Yt(md,{["".concat(md,"-right")]:Ke(n)&&e&&Ke(e.x)&&n>=e.x,["".concat(md,"-left")]:Ke(n)&&e&&Ke(e.x)&&n<e.x,["".concat(md,"-bottom")]:Ke(r)&&e&&Ke(e.y)&&r>=e.y,["".concat(md,"-top")]:Ke(r)&&e&&Ke(e.y)&&r<e.y})}function W3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(a&&Ke(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return s[r]?h:m;var y=c[r];if(y==null)return 0;if(s[r]){var b=h,x=y;return b<x?Math.max(m,y):Math.max(h,y)}if(d==null)return 0;var E=m+l,w=y+d;return E>w?Math.max(h,y):Math.max(m,y)}function Ute(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=t,d,h,m;return s.height>0&&s.width>0&&n?(h=W3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=W3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=Ute({translateX:h,translateY:m,useTranslate3d:l})):d=Bte,{cssProperties:d,cssClasses:Fte({translateX:h,translateY:m,coordinate:n})}}function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){$v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $v(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qte extends _.PureComponent{constructor(){super(...arguments),$v(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$v(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:E,innerRef:w,hasPortalFromProps:S}=this.props,{cssClasses:N,cssProperties:C}=Hte({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),P=S?{}:Nm(Nm({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Nm(Nm({},P),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:k,ref:w},a)}}var Yte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ju={devToolsEnabled:!1,isSsr:Yte()},zL=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z3={curveBasisClosed:$Q,curveBasisOpen:qQ,curveBasis:zQ,curveBumpX:NQ,curveBumpY:OQ,curveLinearClosed:YQ,curveLinear:Cg,curveMonotoneX:VQ,curveMonotoneY:GQ,curveNatural:WQ,curveStep:KQ,curveStepAfter:QQ,curveStepBefore:XQ},_p=t=>Gn(t.x)&&Gn(t.y),J3=t=>t.base!=null&&_p(t.base)&&_p(t),pd=t=>t.x,gd=t=>t.y,Kte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(kh(t));return(n==="curveMonotone"||n==="curveBump")&&e?Z3["".concat(n).concat(e==="vertical"?"Y":"X")]:Z3[n]||Cg},Xte=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Kte(e,i),l=a?n.filter(_p):n,c;if(Array.isArray(r)){var d=n.map((b,x)=>Q3(Q3({},b),{},{base:r[x]}));i==="vertical"?c=Em().y(gd).x1(pd).x0(b=>b.base.x):c=Em().x(pd).y1(gd).y0(b=>b.base.y);var h=c.defined(J3).curve(s),m=a?d.filter(J3):d;return h(m)}i==="vertical"&&Ke(r)?c=Em().y(gd).x1(pd).x0(r):Ke(r)?c=Em().x(pd).y1(gd).y0(r):c=TM().x(pd).y(gd);var y=c.defined(_p).curve(s);return y(l)},$L=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Xte(t):r;return _.createElement("path",qv({},Aa(t),ww(t),{className:Yt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Qte=["x","y","top","left","width","height","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e,n){return(e=ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nne(t,e){if(t==null)return{};var n,r,i=rne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ine=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ane=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,c=nne(t,Qte),d=Zte({x:e,y:n,top:r,left:i,width:a,height:s},c);return!Ke(e)||!Ke(n)||!Ke(a)||!Ke(s)||!Ke(r)||!Ke(i)?null:_.createElement("path",Yv({},_r(d),{className:Yt("recharts-cross",l),d:ine(e,n,a,s,r,i)}))};function sne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),qL=(t,e,n)=>t.map(r=>"".concat(cne(r)," ").concat(e,"ms ").concat(n)).join(","),dne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),rh=(t,e)=>Object.keys(e).reduce((n,r)=>nk(nk({},n),{},{[r]:t(r,e[r])}),{});function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cp=(t,e,n)=>t+(e-t)*n,Vv=t=>{var{from:e,to:n}=t;return e!==n},YL=(t,e,n)=>{var r=rh((i,a)=>{if(Vv(a)){var[s,l]=t(a.from,a.to,a.velocity);return Rn(Rn({},a),{},{from:s,velocity:l})}return a},e);return n<1?rh((i,a)=>Vv(a)?Rn(Rn({},a),{},{velocity:Cp(a.velocity,r[i].velocity,n),from:Cp(a.from,r[i].from,n)}):a,e):YL(t,r,n-1)};function pne(t,e,n,r,i,a){var s,l=r.reduce((y,b)=>Rn(Rn({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),c=()=>rh((y,b)=>b.from,l),d=()=>!Object.values(l).filter(Vv).length,h=null,m=y=>{s||(s=y);var b=y-s,x=b/n.dt;l=YL(n,l,x),i(Rn(Rn(Rn({},t),e),c())),s=y,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function gne(t,e,n,r,i,a,s){var l=null,c=i.reduce((m,y)=>Rn(Rn({},m),{},{[y]:[t[y],e[y]]}),{}),d,h=m=>{d||(d=m);var y=(m-d)/r,b=rh((E,w)=>Cp(...w,n(y)),c);if(a(Rn(Rn(Rn({},t),e),b)),y<1)l=s.setTimeout(h);else{var x=rh((E,w)=>Cp(...w,n(1)),c);a(Rn(Rn(Rn({},t),e),x))}};return()=>(l=s.setTimeout(h),()=>{var m;(m=l)===null||m===void 0||m()})}const yne=(t,e,n,r,i,a)=>{var s=dne(t,e);return n==null?()=>(i(Rn(Rn({},t),e)),()=>{}):n.isStepper===!0?pne(t,e,n,s,i,a):gne(t,e,n,r,s,i,a)};var Np=1e-4,VL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],GL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ik=(t,e)=>n=>{var r=VL(t,e);return GL(r,n)},bne=(t,e)=>n=>{var r=VL(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return GL(i,n)},xne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},vne=(t,e,n,r)=>{var i=ik(t,n),a=ik(e,r),s=bne(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,y=0;y<8;++y){var b=i(m)-h,x=s(m);if(Math.abs(b-h)<Np||x<Np)return a(m);m=l(m-b/x)}return a(m)};return c.isStepper=!1,c},ak=function(){return vne(...xne(...arguments))},Ene=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,c)=>{var d=-(s-l)*n,h=c*r,m=c+(d-h)*i/1e3,y=c*i/1e3+s;return Math.abs(y-l)<Np&&Math.abs(m)<Np?[l,0]:[y,m]};return a.isStepper=!0,a.dt=i,a},wne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ak(t);case"spring":return Ene();default:if(t.split("(")[0]==="cubic-bezier")return ak(t)}return typeof t=="function"?t:null};function Ane(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Sne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Tne(){return Ane(new Sne)}var _ne=_.createContext(Tne);function Cne(t,e){var n=_.useContext(_ne);return _.useMemo(()=>e??n(t),[t,e,n])}var Nne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sk={t:0},u1={t:1};function Rw(t){var e=pr(t,Nne),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:d}=e,h=Cne(e.animationId,e.animationManager),[m,y]=_.useState(n?sk:u1),b=_.useRef(null);return _.useEffect(()=>{n||y(u1)},[n]),_.useEffect(()=>{if(!n||!r)return Zu;var x=yne(sk,u1,wne(a),i,y,h.getTimeoutController()),E=()=>{b.current=x()};return h.start([c,s,E,i,l]),()=>{h.stop(),b.current&&b.current(),l()}},[n,r,i,a,s,c,l,h]),d(m.t)}function Iw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Jd(e)),r=_.useRef(t);return r.current!==t&&(n.current=Jd(e),r.current=t),n.current}var One=["radius"],kne=["radius"];function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Rne(t,"string");return typeof e=="symbol"?e:e+""}function Rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=Ine(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ine(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ck=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>a?a:i[m];d="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),d+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),d+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),d+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*b,`
            L `).concat(t+n,",").concat(e+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},dk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WL=t=>{var e=pr(t,dk),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:d,className:h}=e,{animationEasing:m,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:E}=e,w=_.useRef(l),S=_.useRef(c),N=_.useRef(a),C=_.useRef(s),P=_.useMemo(()=>({x:a,y:s,width:l,height:c,radius:d}),[a,s,l,c,d]),k=Iw(P,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var D=Yt("recharts-rectangle",h);if(!E){var R=_r(e),{radius:H}=R,G=uk(R,One);return _.createElement("path",Op({},G,{radius:typeof d=="number"?d:void 0,className:D,d:ck(a,s,l,c,d)}))}var X=w.current,B=S.current,F=N.current,Z=C.current,K="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),L=qL(["strokeDasharray"],y,typeof m=="string"?m:dk.animationEasing);return _.createElement(Rw,{animationId:k,key:k,canBegin:r>0,duration:y,easing:m,isActive:E,begin:b},q=>{var oe=qr(X,l,q),ve=qr(B,c,q),U=qr(F,a,q),z=qr(Z,s,q);n.current&&(w.current=oe,S.current=ve,N.current=U,C.current=z);var J;x?q>0?J={transition:L,strokeDasharray:ne}:J={strokeDasharray:K}:J={strokeDasharray:ne};var M=_r(e),{radius:Ee}=M,Y=uk(M,kne);return _.createElement("path",Op({},Y,{radius:typeof d=="number"?d:void 0,className:D,d:ck(U,z,oe,ve,d),ref:n,style:lk(lk({},J),e.style)}))})};function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kp=Math.PI/180,Bne=t=>t*180/Math.PI,ar=(t,e,n,r)=>({x:t+Math.cos(-kp*r)*n,y:e+Math.sin(-kp*r)*n}),Fne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Une=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Hne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Une({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:s,angle:Bne(c),angleInRadian:c}},zne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},$ne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},qne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Hne({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:d}=zne(e),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?fk(fk({},e),{},{radius:i,angle:$ne(h,e)}):null};function KL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=ar(e,n,r,i),l=ar(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}var Yne=(t,e)=>{var n=Li(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Om=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=t,d=l*(s?1:-1)+r,h=Math.asin(l/d)/kp,m=c?i:i+a*h,y=ar(e,n,d,m),b=ar(e,n,r,m),x=c?i-a*h:i,E=ar(e,n,d*Math.cos(h*kp),x);return{center:y,circleTangency:b,lineTangency:E,theta:h}},XL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=Yne(a,s),c=a+l,d=ar(e,n,i,a),h=ar(e,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=ar(e,n,r,a),b=ar(e,n,r,c);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},Vne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}=t,h=Li(d-c),{circleTangency:m,lineTangency:y,theta:b}=Om({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:x,lineTangency:E,theta:w}=Om({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-d):Math.abs(c-d)-b-w;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):XL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:P,theta:k}=Om({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:D,lineTangency:R,theta:H}=Om({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),G=l?Math.abs(c-d):Math.abs(c-d)-k-H;if(G<0&&a===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},Gne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QL=t=>{var e=pr(t,Gne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=e;if(a<i||d===h)return null;var y=Yt("recharts-sector",m),b=a-i,x=so(s,b,0,!0),E;return x>0&&Math.abs(d-h)<360?E=Vne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):E=XL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",Gv({},_r(e),{className:y,d:E}))};function Wne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(UM(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,c=ar(r,i,a,l),d=ar(r,i,s,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return KL(e)}}var c1={},d1={},h1={},mk;function Kne(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(h1)),h1}var pk;function Xne(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(d1)),d1}var gk;function Qne(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eL(),n=Xne();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=s;return c}t.range=r})(c1)),c1}var f1,yk;function Zne(){return yk||(yk=1,f1=Qne().range),f1}var Jne=Zne();const ZL=Xi(Jne);function no(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ere(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mw(t){let e,n,r;t.length!==2?(e=no,n=(l,c)=>no(t(l),c),r=(l,c)=>t(l)-c):(e=t===no||t===ere?t:tre,n=t,r=t);function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(l,c,d=0,h=l.length){const m=i(l,c,d,h-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function tre(){return 0}function JL(t){return t===null?NaN:+t}function*nre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rre=Mw(no),Ih=rre.right;Mw(JL).center;class bk extends Map{constructor(e,n=sre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xk(this,e))}has(e){return super.has(xk(this,e))}set(e,n){return super.set(ire(this,e),n)}delete(e){return super.delete(are(this,e))}}function xk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ire({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function are({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ore(t=no){if(t===no)return e4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function e4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lre=Math.sqrt(50),ure=Math.sqrt(10),cre=Math.sqrt(2);function Dp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=lre?10:a>=ure?5:a>=cre?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Dp(t,e,n*2):[l,c,d]}function Wv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Dp(e,t,n):Dp(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function Kv(t,e,n){return e=+e,t=+t,n=+n,Dp(t,e,n)[2]}function Xv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Kv(e,t,n):Kv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ek(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function t4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?e4:ore(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),b=Math.max(n,Math.floor(e-d*m/c+y)),x=Math.min(r,Math.floor(e+(c-d)*m/c+y));t4(t,e,b,x,i)}const a=t[e];let s=n,l=r;for(yd(t,n,e),i(t[r],a)>0&&yd(t,n,r);s<l;){for(yd(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?yd(t,n,l):(++l,yd(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function yd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dre(t,e,n){if(t=Float64Array.from(nre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ek(t);if(e>=1)return vk(t);var r,i=(r-1)*e,a=Math.floor(i),s=vk(t4(t,a).subarray(0,a+1)),l=Ek(t.subarray(a+1));return s+(l-s)*(i-a)}}function hre(t,e,n=JL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function fre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ps(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Qv=Symbol("implicit");function Lw(){var t=new bk,e=[],n=[],r=Qv;function i(a){let s=t.get(a);if(s===void 0){if(r!==Qv)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Lw(e,n).unknown(r)},zi.apply(i,arguments),i}function jw(){var t=Lw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var y=e().length,b=i<r,x=b?i:r,E=b?r:i;a=(E-x)/Math.max(1,y-c+d*2),l&&(a=Math.floor(a)),x+=(E-x-a*(y-c))*h,s=a*(1-c),l&&(x=Math.round(x),s=Math.round(s));var w=fre(y).map(function(S){return x+a*S});return n(b?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,m()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return jw(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},zi.apply(m(),arguments)}function n4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n4(e())},t}function mre(){return n4(jw.apply(null,arguments).paddingInner(1))}function Bw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mh(){}var ih=.7,Pp=1/ih,_u="\\s*([+-]?\\d+)\\s*",ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pre=/^#([0-9a-f]{3,8})$/,gre=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),yre=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),bre=new RegExp(`^rgba\\(${_u},${_u},${_u},${ah}\\)$`),xre=new RegExp(`^rgba\\(${va},${va},${va},${ah}\\)$`),vre=new RegExp(`^hsl\\(${ah},${va},${va}\\)$`),Ere=new RegExp(`^hsla\\(${ah},${va},${va},${ah}\\)$`),wk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bw(Mh,sh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ak,formatHex:Ak,formatHex8:wre,formatHsl:Are,formatRgb:Sk,toString:Sk});function Ak(){return this.rgb().formatHex()}function wre(){return this.rgb().formatHex8()}function Are(){return i4(this).formatHsl()}function Sk(){return this.rgb().formatRgb()}function sh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Tk(e):n===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?km(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?km(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gre.exec(t))?new Yr(e[1],e[2],e[3],1):(e=yre.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bre.exec(t))?km(e[1],e[2],e[3],e[4]):(e=xre.exec(t))?km(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vre.exec(t))?Nk(e[1],e[2]/100,e[3]/100,1):(e=Ere.exec(t))?Nk(e[1],e[2]/100,e[3]/100,e[4]):wk.hasOwnProperty(t)?Tk(wk[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function Tk(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function km(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yr(t,e,n,r)}function Sre(t){return t instanceof Mh||(t=sh(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function Zv(t,e,n,r){return arguments.length===1?Sre(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bw(Yr,Zv,r4(Mh,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ih:Math.pow(ih,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(Xo(this.r),Xo(this.g),Xo(this.b),Rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_k,formatHex:_k,formatHex8:Tre,formatRgb:Ck,toString:Ck}));function _k(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}`}function Tre(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}${Uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ck(){const t=Rp(this.opacity);return`${t===1?"rgb(":"rgba("}${Xo(this.r)}, ${Xo(this.g)}, ${Xo(this.b)}${t===1?")":`, ${t})`}`}function Rp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uo(t){return t=Xo(t),(t<16?"0":"")+t.toString(16)}function Nk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function i4(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof Mh||(t=sh(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Wi(s,l,c,t.opacity)}function _re(t,e,n,r){return arguments.length===1?i4(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bw(Wi,_re,r4(Mh,{brighter(t){return t=t==null?Pp:Math.pow(Pp,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ih:Math.pow(ih,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yr(m1(t>=240?t-240:t+120,i,r),m1(t,i,r),m1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wi(Ok(this.h),Dm(this.s),Dm(this.l),Rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rp(this.opacity);return`${t===1?"hsl(":"hsla("}${Ok(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ok(t){return t=(t||0)%360,t<0?t+360:t}function Dm(t){return Math.max(0,Math.min(1,t||0))}function m1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Fw=t=>()=>t;function Cre(t,e){return function(n){return t+n*e}}function Nre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ore(t){return(t=+t)==1?a4:function(e,n){return n-e?Nre(e,n,t):Fw(isNaN(e)?n:e)}}function a4(t,e){var n=e-t;return n?Cre(t,n):Fw(isNaN(t)?e:t)}const kk=(function t(e){var n=Ore(e);function r(i,a){var s=n((i=Zv(i)).r,(a=Zv(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=a4(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function kre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Dre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ec(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Rre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ip(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ire(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ec(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Jv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p1=new RegExp(Jv.source,"g");function Mre(t){return function(){return t}}function Lre(t){return function(e){return t(e)+""}}function jre(t,e){var n=Jv.lastIndex=p1.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Jv.exec(t))&&(i=p1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ip(r,i)})),n=p1.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Lre(c[0].x):Mre(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function ec(t,e){var n=typeof e,r;return e==null||n==="boolean"?Fw(e):(n==="number"?Ip:n==="string"?(r=sh(e))?(e=r,kk):jre:e instanceof sh?kk:e instanceof Date?Rre:Dre(e)?kre:Array.isArray(e)?Pre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ire:Ip)(t,e)}function Uw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bre(t,e){e===void 0&&(e=t,t=ec);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Fre(t){return function(){return t}}function Mp(t){return+t}var Dk=[0,1];function wr(t){return t}function eE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fre(isNaN(e)?NaN:.5)}function Ure(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hre(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=eE(i,r),a=n(s,a)):(r=eE(r,i),a=n(a,s)),function(l){return a(r(l))}}function zre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=eE(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Ih(t,l,1,r)-1;return a[c](i[c](l))}}function Lh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $g(){var t=Dk,e=Dk,n=ec,r,i,a,s=wr,l,c,d;function h(){var y=Math.min(t.length,e.length);return s!==wr&&(s=Ure(t[0],t[y-1])),l=y>2?zre:Hre,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(i((d||(d=l(e,t.map(r),Ip)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Mp),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=Uw,h()},m.clamp=function(y){return arguments.length?(s=y?!0:wr,h()):s!==wr},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return r=y,i=b,h()}}function Hw(){return $g()(wr,wr)}function $re(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mu(t){return t=Lp(Math.abs(t)),t?t[1]:NaN}function qre(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Yre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oh(t){if(!(e=Vre.exec(t)))throw new Error("invalid format: "+t);var e;return new zw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}oh.prototype=zw.prototype;function zw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var s4;function Wre(t,e){var n=Lp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(s4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Lp(t,Math.max(0,e+a-1))[0]}function Pk(t,e){var n=Lp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$re,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pk(t*100,e),r:Pk,s:Wre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ik(t){return t}var Mk=Array.prototype.map,Lk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kre(t){var e=t.grouping===void 0||t.thousands===void 0?Ik:qre(Mk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ik:Yre(Mk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=oh(m);var y=m.fill,b=m.align,x=m.sign,E=m.symbol,w=m.zero,S=m.width,N=m.comma,C=m.precision,P=m.trim,k=m.type;k==="n"?(N=!0,k="g"):Rk[k]||(C===void 0&&(C=12),P=!0,k="g"),(w||y==="0"&&b==="=")&&(w=!0,y="0",b="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=E==="$"?r:/[%p]/.test(k)?s:"",H=Rk[k],G=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function X(B){var F=D,Z=R,K,ne,L;if(k==="c")Z=H(B)+Z,B="";else{B=+B;var q=B<0||1/B<0;if(B=isNaN(B)?c:H(Math.abs(B),C),P&&(B=Gre(B)),q&&+B==0&&x!=="+"&&(q=!1),F=(q?x==="("?x:l:x==="-"||x==="("?"":x)+F,Z=(k==="s"?Lk[8+s4/3]:"")+Z+(q&&x==="("?")":""),G){for(K=-1,ne=B.length;++K<ne;)if(L=B.charCodeAt(K),48>L||L>57){Z=(L===46?i+B.slice(K+1):B.slice(K))+Z,B=B.slice(0,K);break}}}N&&!w&&(B=e(B,1/0));var oe=F.length+B.length+Z.length,ve=oe<S?new Array(S-oe+1).join(y):"";switch(N&&w&&(B=e(ve+B,ve.length?S-Z.length:1/0),ve=""),b){case"<":B=F+B+Z+ve;break;case"=":B=F+ve+B+Z;break;case"^":B=ve.slice(0,oe=ve.length>>1)+F+B+Z+ve.slice(oe);break;default:B=ve+F+B+Z;break}return a(B)}return X.toString=function(){return m+""},X}function h(m,y){var b=d((m=oh(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Mu(y)/3)))*3,E=Math.pow(10,-x),w=Lk[8+x/3];return function(S){return b(E*S)+w}}return{format:d,formatPrefix:h}}var Pm,$w,o4;Xre({thousands:",",grouping:[3],currency:["$",""]});function Xre(t){return Pm=Kre(t),$w=Pm.format,o4=Pm.formatPrefix,Pm}function Qre(t){return Math.max(0,-Mu(Math.abs(t)))}function Zre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mu(e)/3)))*3-Mu(Math.abs(t)))}function Jre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mu(e)-Mu(t))+1}function l4(t,e,n,r){var i=Xv(t,e,n),a;switch(r=oh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Zre(i,s))&&(r.precision=a),o4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Jre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qre(i))&&(r.precision=a-(r.type==="%")*2);break}}return $w(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return Wv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return l4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,h=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=Kv(s,l,n),d===c)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function u4(){var t=Hw();return t.copy=function(){return Lh(t,u4())},zi.apply(t,arguments),co(t)}function c4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Mp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return c4(t).unknown(e)},t=arguments.length?Array.from(t,Mp):[0,1],co(n)}function d4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function jk(t){return Math.log(t)}function Bk(t){return Math.exp(t)}function eie(t){return-Math.log(-t)}function tie(t){return-Math.exp(-t)}function nie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rie(t){return t===10?nie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function iie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Fk(t){return(e,n)=>-t(-e,n)}function qw(t){const e=t(jk,Bk),n=e.domain;let r=10,i,a;function s(){return i=iie(r),a=rie(r),n()[0]<0?(i=Fk(i),a=Fk(a),t(eie,tie)):t(jk,Bk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),b=i(h),x,E;const w=l==null?10:+l;let S=[];if(!(r%1)&&b-y<w){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(x=1;x<r;++x)if(E=y<0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;S.push(E)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(E=y>0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;S.push(E)}S.length*2<w&&(S=Wv(d,h,w))}else S=Wv(y,b,Math.min(b-y,w)).map(a);return m?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=oh(c)).precision==null&&(c.trim=!0),c=$w(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(d4(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function h4(){const t=qw($g()).domain([1,10]);return t.copy=()=>Lh(t,h4()).base(t.base()),zi.apply(t,arguments),t}function Uk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Yw(t){var e=1,n=t(Uk(e),Hk(e));return n.constant=function(r){return arguments.length?t(Uk(e=+r),Hk(e)):e},co(n)}function f4(){var t=Yw($g());return t.copy=function(){return Lh(t,f4()).constant(t.constant())},zi.apply(t,arguments)}function zk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sie(t){return t<0?-t*t:t*t}function Vw(t){var e=t(wr,wr),n=1;function r(){return n===1?t(wr,wr):n===.5?t(aie,sie):t(zk(n),zk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},co(e)}function Gw(){var t=Vw($g());return t.copy=function(){return Lh(t,Gw()).exponent(t.exponent())},zi.apply(t,arguments),t}function oie(){return Gw.apply(null,arguments).exponent(.5)}function $k(t){return Math.sign(t)*t*t}function lie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function m4(){var t=Hw(),e=[0,1],n=!1,r;function i(a){var s=lie(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert($k(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Mp)).map($k)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return m4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),co(i)}function p4(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=hre(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ih(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(no),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return p4().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function g4(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Ih(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return g4().domain([t,e]).range(i).unknown(a)},zi.apply(co(s),arguments)}function y4(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ih(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y4().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const g1=new Date,y1=new Date;function Mn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>Mn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(g1.setTime(+a),y1.setTime(+s),t(g1),t(y1),Math.floor(n(g1,y1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const jp=Mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jp);jp.range;const es=1e3,ji=es*60,ts=ji*60,ls=ts*24,Ww=ls*7,qk=ls*30,b1=ls*365,Ho=Mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getUTCSeconds());Ho.range;const Kw=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*es)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getMinutes());Kw.range;const Xw=Mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCMinutes());Xw.range;const Qw=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*es-t.getMinutes()*ji)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getHours());Qw.range;const Zw=Mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCHours());Zw.range;const jh=Mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ji)/ls,t=>t.getDate()-1);jh.range;const qg=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>t.getUTCDate()-1);qg.range;const b4=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>Math.floor(t/ls));b4.range;function pl(t){return Mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ji)/Ww)}const Yg=pl(0),Bp=pl(1),uie=pl(2),cie=pl(3),Lu=pl(4),die=pl(5),hie=pl(6);Yg.range;Bp.range;uie.range;cie.range;Lu.range;die.range;hie.range;function gl(t){return Mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ww)}const Vg=gl(0),Fp=gl(1),fie=gl(2),mie=gl(3),ju=gl(4),pie=gl(5),gie=gl(6);Vg.range;Fp.range;fie.range;mie.range;ju.range;pie.range;gie.range;const Jw=Mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Jw.range;const eA=Mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eA.range;const us=Mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});us.range;const cs=Mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cs.range;function x4(t,e,n,r,i,a){const s=[[Ho,1,es],[Ho,5,5*es],[Ho,15,15*es],[Ho,30,30*es],[a,1,ji],[a,5,5*ji],[a,15,15*ji],[a,30,30*ji],[i,1,ts],[i,3,3*ts],[i,6,6*ts],[i,12,12*ts],[r,1,ls],[r,2,2*ls],[n,1,Ww],[e,1,qk],[e,3,3*qk],[t,1,b1]];function l(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const b=m&&typeof m.range=="function"?m:c(d,h,m),x=b?b.range(d,+h+1):[];return y?x.reverse():x}function c(d,h,m){const y=Math.abs(h-d)/m,b=Mw(([,,w])=>w).right(s,y);if(b===s.length)return t.every(Xv(d/b1,h/b1,m));if(b===0)return jp.every(Math.max(Xv(d,h,m),1));const[x,E]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(E)}return[l,c]}const[yie,bie]=x4(cs,eA,Vg,b4,Zw,Xw),[xie,vie]=x4(us,Jw,Yg,jh,Qw,Kw);function x1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function v1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Eie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=xd(i),h=vd(i),m=xd(a),y=vd(a),b=xd(s),x=vd(s),E=xd(l),w=vd(l),S=xd(c),N=vd(c),C={a:q,A:oe,b:ve,B:U,c:null,d:Xk,e:Xk,f:qie,g:eae,G:nae,H:Hie,I:zie,j:$ie,L:v4,m:Yie,M:Vie,p:z,q:J,Q:Jk,s:eD,S:Gie,u:Wie,U:Kie,V:Xie,w:Qie,W:Zie,x:null,X:null,y:Jie,Y:tae,Z:rae,"%":Zk},P={a:M,A:Ee,b:Y,B:re,c:null,d:Qk,e:Qk,f:oae,g:yae,G:xae,H:iae,I:aae,j:sae,L:w4,m:lae,M:uae,p:he,q:Pe,Q:Jk,s:eD,S:cae,u:dae,U:hae,V:fae,w:mae,W:pae,x:null,X:null,y:gae,Y:bae,Z:vae,"%":Zk},k={a:X,A:B,b:F,B:Z,c:K,d:Wk,e:Wk,f:jie,g:Gk,G:Vk,H:Kk,I:Kk,j:Rie,L:Lie,m:Pie,M:Iie,p:G,q:Die,Q:Fie,s:Uie,S:Mie,u:_ie,U:Cie,V:Nie,w:Tie,W:Oie,x:ne,X:L,y:Gk,Y:Vk,Z:kie,"%":Bie};C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),P.x=D(n,P),P.X=D(r,P),P.c=D(e,P);function D(ie,Re){return function(je){var ae=[],ze=-1,Me=0,Qe=ie.length,Te,Ie,At;for(je instanceof Date||(je=new Date(+je));++ze<Qe;)ie.charCodeAt(ze)===37&&(ae.push(ie.slice(Me,ze)),(Ie=Yk[Te=ie.charAt(++ze)])!=null?Te=ie.charAt(++ze):Ie=Te==="e"?" ":"0",(At=Re[Te])&&(Te=At(je,Ie)),ae.push(Te),Me=ze+1);return ae.push(ie.slice(Me,ze)),ae.join("")}}function R(ie,Re){return function(je){var ae=bd(1900,void 0,1),ze=H(ae,ie,je+="",0),Me,Qe;if(ze!=je.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Re&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Me=v1(bd(ae.y,0,1)),Qe=Me.getUTCDay(),Me=Qe>4||Qe===0?Fp.ceil(Me):Fp(Me),Me=qg.offset(Me,(ae.V-1)*7),ae.y=Me.getUTCFullYear(),ae.m=Me.getUTCMonth(),ae.d=Me.getUTCDate()+(ae.w+6)%7):(Me=x1(bd(ae.y,0,1)),Qe=Me.getDay(),Me=Qe>4||Qe===0?Bp.ceil(Me):Bp(Me),Me=jh.offset(Me,(ae.V-1)*7),ae.y=Me.getFullYear(),ae.m=Me.getMonth(),ae.d=Me.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Qe="Z"in ae?v1(bd(ae.y,0,1)).getUTCDay():x1(bd(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Qe+5)%7:ae.w+ae.U*7-(Qe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,v1(ae)):x1(ae)}}function H(ie,Re,je,ae){for(var ze=0,Me=Re.length,Qe=je.length,Te,Ie;ze<Me;){if(ae>=Qe)return-1;if(Te=Re.charCodeAt(ze++),Te===37){if(Te=Re.charAt(ze++),Ie=k[Te in Yk?Re.charAt(ze++):Te],!Ie||(ae=Ie(ie,je,ae))<0)return-1}else if(Te!=je.charCodeAt(ae++))return-1}return ae}function G(ie,Re,je){var ae=d.exec(Re.slice(je));return ae?(ie.p=h.get(ae[0].toLowerCase()),je+ae[0].length):-1}function X(ie,Re,je){var ae=b.exec(Re.slice(je));return ae?(ie.w=x.get(ae[0].toLowerCase()),je+ae[0].length):-1}function B(ie,Re,je){var ae=m.exec(Re.slice(je));return ae?(ie.w=y.get(ae[0].toLowerCase()),je+ae[0].length):-1}function F(ie,Re,je){var ae=S.exec(Re.slice(je));return ae?(ie.m=N.get(ae[0].toLowerCase()),je+ae[0].length):-1}function Z(ie,Re,je){var ae=E.exec(Re.slice(je));return ae?(ie.m=w.get(ae[0].toLowerCase()),je+ae[0].length):-1}function K(ie,Re,je){return H(ie,e,Re,je)}function ne(ie,Re,je){return H(ie,n,Re,je)}function L(ie,Re,je){return H(ie,r,Re,je)}function q(ie){return s[ie.getDay()]}function oe(ie){return a[ie.getDay()]}function ve(ie){return c[ie.getMonth()]}function U(ie){return l[ie.getMonth()]}function z(ie){return i[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function M(ie){return s[ie.getUTCDay()]}function Ee(ie){return a[ie.getUTCDay()]}function Y(ie){return c[ie.getUTCMonth()]}function re(ie){return l[ie.getUTCMonth()]}function he(ie){return i[+(ie.getUTCHours()>=12)]}function Pe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Re=D(ie+="",C);return Re.toString=function(){return ie},Re},parse:function(ie){var Re=R(ie+="",!1);return Re.toString=function(){return ie},Re},utcFormat:function(ie){var Re=D(ie+="",P);return Re.toString=function(){return ie},Re},utcParse:function(ie){var Re=R(ie+="",!0);return Re.toString=function(){return ie},Re}}}var Yk={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,wie=/^%/,Aie=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Sie(t){return t.replace(Aie,"\\$&")}function xd(t){return new RegExp("^(?:"+t.map(Sie).join("|")+")","i")}function vd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tie(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Oie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vk(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gk(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Die(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Pie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Wk(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rie(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Kk(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bie(t,e,n){var r=wie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fie(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Uie(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Xk(t,e){return Nt(t.getDate(),e,2)}function Hie(t,e){return Nt(t.getHours(),e,2)}function zie(t,e){return Nt(t.getHours()%12||12,e,2)}function $ie(t,e){return Nt(1+jh.count(us(t),t),e,3)}function v4(t,e){return Nt(t.getMilliseconds(),e,3)}function qie(t,e){return v4(t,e)+"000"}function Yie(t,e){return Nt(t.getMonth()+1,e,2)}function Vie(t,e){return Nt(t.getMinutes(),e,2)}function Gie(t,e){return Nt(t.getSeconds(),e,2)}function Wie(t){var e=t.getDay();return e===0?7:e}function Kie(t,e){return Nt(Yg.count(us(t)-1,t),e,2)}function E4(t){var e=t.getDay();return e>=4||e===0?Lu(t):Lu.ceil(t)}function Xie(t,e){return t=E4(t),Nt(Lu.count(us(t),t)+(us(t).getDay()===4),e,2)}function Qie(t){return t.getDay()}function Zie(t,e){return Nt(Bp.count(us(t)-1,t),e,2)}function Jie(t,e){return Nt(t.getFullYear()%100,e,2)}function eae(t,e){return t=E4(t),Nt(t.getFullYear()%100,e,2)}function tae(t,e){return Nt(t.getFullYear()%1e4,e,4)}function nae(t,e){var n=t.getDay();return t=n>=4||n===0?Lu(t):Lu.ceil(t),Nt(t.getFullYear()%1e4,e,4)}function rae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function Qk(t,e){return Nt(t.getUTCDate(),e,2)}function iae(t,e){return Nt(t.getUTCHours(),e,2)}function aae(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function sae(t,e){return Nt(1+qg.count(cs(t),t),e,3)}function w4(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function oae(t,e){return w4(t,e)+"000"}function lae(t,e){return Nt(t.getUTCMonth()+1,e,2)}function uae(t,e){return Nt(t.getUTCMinutes(),e,2)}function cae(t,e){return Nt(t.getUTCSeconds(),e,2)}function dae(t){var e=t.getUTCDay();return e===0?7:e}function hae(t,e){return Nt(Vg.count(cs(t)-1,t),e,2)}function A4(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function fae(t,e){return t=A4(t),Nt(ju.count(cs(t),t)+(cs(t).getUTCDay()===4),e,2)}function mae(t){return t.getUTCDay()}function pae(t,e){return Nt(Fp.count(cs(t)-1,t),e,2)}function gae(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function yae(t,e){return t=A4(t),Nt(t.getUTCFullYear()%100,e,2)}function bae(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function xae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ju(t):ju.ceil(t),Nt(t.getUTCFullYear()%1e4,e,4)}function vae(){return"+0000"}function Zk(){return"%"}function Jk(t){return+t}function eD(t){return Math.floor(+t/1e3)}var su,S4,T4;Eae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eae(t){return su=Eie(t),S4=su.format,su.parse,T4=su.utcFormat,su.utcParse,su}function wae(t){return new Date(t)}function Aae(t){return t instanceof Date?+t:+new Date(+t)}function tA(t,e,n,r,i,a,s,l,c,d){var h=Hw(),m=h.invert,y=h.domain,b=d(".%L"),x=d(":%S"),E=d("%I:%M"),w=d("%I %p"),S=d("%a %d"),N=d("%b %d"),C=d("%B"),P=d("%Y");function k(D){return(c(D)<D?b:l(D)<D?x:s(D)<D?E:a(D)<D?w:r(D)<D?i(D)<D?S:N:n(D)<D?C:P)(D)}return h.invert=function(D){return new Date(m(D))},h.domain=function(D){return arguments.length?y(Array.from(D,Aae)):y().map(wae)},h.ticks=function(D){var R=y();return t(R[0],R[R.length-1],D??10)},h.tickFormat=function(D,R){return R==null?k:d(R)},h.nice=function(D){var R=y();return(!D||typeof D.range!="function")&&(D=e(R[0],R[R.length-1],D??10)),D?y(d4(R,D)):h},h.copy=function(){return Lh(h,tA(t,e,n,r,i,a,s,l,c,d))},h}function Sae(){return zi.apply(tA(xie,vie,us,Jw,Yg,jh,Qw,Kw,Ho,S4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tae(){return zi.apply(tA(yie,bie,cs,eA,Vg,qg,Zw,Xw,Ho,T4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gg(){var t=0,e=1,n,r,i,a,s=wr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(y){var b,x;return arguments.length?([b,x]=y,s=m(b,x),d):[s(0),s(1)]}}return d.range=h(ec),d.rangeRound=h(Uw),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _4(){var t=co(Gg()(wr));return t.copy=function(){return ho(t,_4())},ps.apply(t,arguments)}function C4(){var t=qw(Gg()).domain([1,10]);return t.copy=function(){return ho(t,C4()).base(t.base())},ps.apply(t,arguments)}function N4(){var t=Yw(Gg());return t.copy=function(){return ho(t,N4()).constant(t.constant())},ps.apply(t,arguments)}function nA(){var t=Vw(Gg());return t.copy=function(){return ho(t,nA()).exponent(t.exponent())},ps.apply(t,arguments)}function _ae(){return nA.apply(null,arguments).exponent(.5)}function O4(){var t=[],e=wr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ih(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(no),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dre(t,a/r))},n.copy=function(){return O4(e).domain(t)},ps.apply(n,arguments)}function Wg(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,d=wr,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(r*E<r*a?l:c),d(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(d=E,b):d};function x(E){return function(w){var S,N,C;return arguments.length?([S,N,C]=w,d=Bre(E,[S,N,C]),b):[d(0),d(.5),d(1)]}}return b.range=x(ec),b.rangeRound=x(Uw),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),s=E(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function k4(){var t=co(Wg()(wr));return t.copy=function(){return ho(t,k4())},ps.apply(t,arguments)}function D4(){var t=qw(Wg()).domain([.1,1,10]);return t.copy=function(){return ho(t,D4()).base(t.base())},ps.apply(t,arguments)}function P4(){var t=Yw(Wg());return t.copy=function(){return ho(t,P4()).constant(t.constant())},ps.apply(t,arguments)}function rA(){var t=Vw(Wg());return t.copy=function(){return ho(t,rA()).exponent(t.exponent())},ps.apply(t,arguments)}function Cae(){return rA.apply(null,arguments).exponent(.5)}const Cd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jw,scaleDiverging:k4,scaleDivergingLog:D4,scaleDivergingPow:rA,scaleDivergingSqrt:Cae,scaleDivergingSymlog:P4,scaleIdentity:c4,scaleImplicit:Qv,scaleLinear:u4,scaleLog:h4,scaleOrdinal:Lw,scalePoint:mre,scalePow:Gw,scaleQuantile:p4,scaleQuantize:g4,scaleRadial:m4,scaleSequential:_4,scaleSequentialLog:C4,scaleSequentialPow:nA,scaleSequentialQuantile:O4,scaleSequentialSqrt:_ae,scaleSequentialSymlog:N4,scaleSqrt:oie,scaleSymlog:f4,scaleThreshold:y4,scaleTime:Sae,scaleUtc:Tae,tickFormat:l4},Symbol.toStringTag,{value:"Module"}));var fo=t=>t.chartData,Nae=ye([fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),iA=(t,e,n,r)=>r?Nae(t):fo(t);function il(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Gn(e)&&Gn(n))return!0}return!1}function tD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function R4(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Gn(n))i=n;else if(typeof n=="function")return;if(Gn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(il(s))return s}}function Oae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(il(r))return tD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ke(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&M3.test(i)){var c=M3.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ke(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&L3.test(a)){var h=L3.exec(a);if(h==null||e==null)l=void 0;else{var m=+h[1];l=e[1]+m}}else l=e?.[1];var y=[s,l];if(il(y))return e==null?y:tD(y,e,n)}}}var tc=1e9,kae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sA,ln=!0,Ui="[DecimalError] ",Qo=Ui+"Invalid argument: ",aA=Ui+"Exponent out of range: ",nc=Math.floor,Io=Math.pow,Dae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,qn=1e7,tn=7,I4=9007199254740991,Up=nc(I4/tn),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return is(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return Wt(is(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return kn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hi))throw Error(Ui+"NaN");if(n.s<1)throw Error(Ui+(n.s?"NaN":"-Infinity"));return n.eq(hi)?new r(0):(ln=!1,e=is(lh(n,a),lh(t,a),a),ln=!0,Wt(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j4(e,t):M4(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ui+"NaN");return n.s?(ln=!1,e=is(n,t,0,1).times(t),ln=!0,n.minus(e)):Wt(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return L4(this)};Fe.naturalLogarithm=Fe.ln=function(){return lh(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M4(e,t):j4(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qo+t);if(e=kn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ui+"NaN")}for(t=kn(l),ln=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=xa(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(is(l,a,s+2)).times(.5),xa(a.d).slice(0,s)===(e=xa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Wt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ln=!0,Wt(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,a,s,l,c,d,h=this,m=h.constructor,y=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,d=b.length,c<d&&(a=y,y=b,b=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+b[r]*y[i-r-1]+e,a[i--]=l%qn|0,e=l/qn|0;a[i]=(a[i]+e)%qn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ln?Wt(t,m.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ca(t,0,tc),e===void 0?e=r.rounding:Ca(e,0,8),Wt(n,t+kn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=al(r,!0):(Ca(t,0,tc),e===void 0?e=i.rounding:Ca(e,0,8),r=Wt(new i(r),t+1,e),n=al(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?al(i):(Ca(t,0,tc),e===void 0?e=a.rounding:Ca(e,0,8),r=Wt(new a(i),t+kn(i)+1,e),n=al(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),kn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(hi);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ui+"Infinity");return l}if(l.eq(hi))return l;if(r=c.precision,t.eq(hi))return Wt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=I4){for(i=new c(hi),e=Math.ceil(r/tn+4),ln=!1;n%2&&(i=i.times(l),rD(i.d,e)),n=nc(n/2),n!==0;)l=l.times(l),rD(l.d,e);return ln=!0,t.s<0?new c(hi).div(i):Wt(i,r)}}else if(a<0)throw Error(Ui+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ln=!1,i=t.times(lh(l,r+d)),ln=!0,i=L4(i),i.s=a,i};Fe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=kn(i),r=al(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ca(t,1,tc),e===void 0?e=a.rounding:Ca(e,0,8),i=Wt(new a(i),t,e),n=kn(i),r=al(i,t<=n||n<=a.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ca(t,1,tc),e===void 0?e=r.rounding:Ca(e,0,8)),Wt(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return al(t,e<=n.toExpNeg||e>=n.toExpPos)};function M4(t,e){var n,r,i,a,s,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ln?Wt(e,m):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(m/tn),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/qn|0,c[a]%=qn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ln?Wt(e,m):e}function Ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qo+t)}function xa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(a+=Xs(n)),a+=r;s=t[e],r=s+"",n=tn-r.length,n&&(a+=Xs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var is=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%qn|0,s=a/qn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*qn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,h,m,y,b,x,E,w,S,N,C,P,k,D,R,H,G=r.constructor,X=r.s==i.s?1:-1,B=r.d,F=i.d;if(!r.s)return new G(r);if(!i.s)throw Error(Ui+"Division by zero");for(c=r.e-i.e,R=F.length,k=B.length,b=new G(X),x=b.d=[],d=0;F[d]==(B[d]||0);)++d;if(F[d]>(B[d]||0)&&--c,a==null?N=a=G.precision:s?N=a+(kn(r)-kn(i))+1:N=a,N<0)return new G(0);if(N=N/tn+2|0,d=0,R==1)for(h=0,F=F[0],N++;(d<k||h)&&N--;d++)C=h*qn+(B[d]||0),x[d]=C/F|0,h=C%F|0;else{for(h=qn/(F[0]+1)|0,h>1&&(F=t(F,h),B=t(B,h),R=F.length,k=B.length),P=R,E=B.slice(0,R),w=E.length;w<R;)E[w++]=0;H=F.slice(),H.unshift(0),D=F[0],F[1]>=qn/2&&++D;do h=0,l=e(F,E,R,w),l<0?(S=E[0],R!=w&&(S=S*qn+(E[1]||0)),h=S/D|0,h>1?(h>=qn&&(h=qn-1),m=t(F,h),y=m.length,w=E.length,l=e(m,E,y,w),l==1&&(h--,n(m,R<y?H:F,y))):(h==0&&(l=h=1),m=F.slice()),y=m.length,y<w&&m.unshift(0),n(E,m,w),l==-1&&(w=E.length,l=e(F,E,R,w),l<1&&(h++,n(E,R<w?H:F,w))),w=E.length):l===0&&(h++,E=[0]),x[d++]=h,l&&E[0]?E[w++]=B[P]||0:(E=[B[P]],w=1);while((P++<k||E[0]!==void 0)&&N--)}return x[0]||x.shift(),b.e=c,Wt(b,s?a+kn(b)+1:a)}})();function L4(t,e){var n,r,i,a,s,l,c=0,d=0,h=t.constructor,m=h.precision;if(kn(t)>16)throw Error(aA+kn(t));if(!t.s)return new h(hi);for(ln=!1,l=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Io(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(hi),h.precision=l;;){if(i=Wt(i.times(t),l),n=n.times(++c),s=a.plus(is(i,n,l)),xa(s.d).slice(0,l)===xa(a.d).slice(0,l)){for(;d--;)a=Wt(a.times(a),l);return h.precision=m,e==null?(ln=!0,Wt(a,m)):a}a=s}}function kn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function E1(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(Ui+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function Xs(t){for(var e="";t--;)e+="0";return e}function lh(t,e){var n,r,i,a,s,l,c,d,h,m=1,y=10,b=t,x=b.d,E=b.constructor,w=E.precision;if(b.s<1)throw Error(Ui+(b.s?"NaN":"-Infinity"));if(b.eq(hi))return new E(0);if(e==null?(ln=!1,d=w):d=e,b.eq(10))return e==null&&(ln=!0),E1(E,d);if(d+=y,E.precision=d,n=xa(x),r=n.charAt(0),a=kn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=xa(b.d),r=n.charAt(0),m++;a=kn(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return c=E1(E,d+2,w).times(a+""),b=lh(new E(r+"."+n.slice(1)),d-y).plus(c),E.precision=w,e==null?(ln=!0,Wt(b,w)):b;for(l=s=b=is(b.minus(hi),b.plus(hi),d),h=Wt(b.times(b),d),i=3;;){if(s=Wt(s.times(h),d),c=l.plus(is(s,new E(i),d)),xa(c.d).slice(0,d)===xa(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(E1(E,d+2,w).times(a+""))),l=is(l,new E(m),d),E.precision=w,e==null?(ln=!0,Wt(l,w)):l;l=c,i+=2}}function nD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nc(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>Up||t.e<-Up))throw Error(aA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,n){var r,i,a,s,l,c,d,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=tn,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/tn),a=m.length,h>=a)return t;for(d=a=m[h],s=1;a>=10;a/=10)s++;r%=tn,i=r-tn+s}if(n!==void 0&&(a=Io(10,s-i-1),l=d/a%10|0,c=e<0||m[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Io(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=kn(t),m.length=1,e=e-a-1,m[0]=Io(10,(tn-e%tn)%tn),t.e=nc(-e/tn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Io(10,tn-r),m[h]=i>0?(d/Io(10,s-i)%Io(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==qn&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=qn)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(ln&&(t.e>Up||t.e<-Up))throw Error(aA+kn(t));return t}function j4(t,e){var n,r,i,a,s,l,c,d,h,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ln?Wt(e,b):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(b/tn),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=qn-1;--c[a],c[i]+=qn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ln?Wt(e,b):e):new y(0)}function al(t,e,n){var r,i=kn(t),a=xa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Xs(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xs(-i-1)+a,n&&(r=n-s)>0&&(a+=Xs(r))):i>=s?(a+=Xs(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Xs(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Xs(r))),t.s<0?"-"+a:a}function rD(t,e){if(t.length>e)return t.length=e,!0}function B4(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return nD(s,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Dae.test(a))nD(s,a);else throw Error(Qo+a)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=B4,i.config=i.set=Pae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Pae(t){if(!t||typeof t!="object")throw Error(Ui+"Object expected");var e,n,r,i=["precision",1,tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qo+n+": "+r);return this}var sA=B4(kae);hi=new sA(1);const Ut=sA;var Rae=t=>t,F4={},U4=t=>t===F4,iD=t=>function e(){return arguments.length===0||arguments.length===1&&U4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},H4=(t,e)=>t===1?e:iD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==F4).length;return a>=t?e(...r):H4(t-a,iD(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=r.map(h=>U4(h)?l.shift():h);return e(...d,...l)}))}),Kg=t=>H4(t.length,t),tE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Iae=Kg((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Mae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Rae;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},nE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),z4=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,l)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function $4(t){var e;return t===0?e=1:e=Math.floor(new Ut(t).abs().log(10).toNumber())+1,e}function q4(t,e,n){for(var r=new Ut(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Kg((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Kg((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Kg((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Y4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},V4=(t,e,n)=>{if(t.lte(0))return new Ut(0);var r=$4(t.toNumber()),i=new Ut(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Ut(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?new Ut(c.toNumber()):new Ut(Math.ceil(c.toNumber()))},Lae=(t,e,n)=>{var r=new Ut(1),i=new Ut(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ut(10).pow($4(t)-1),i=new Ut(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ut(Math.floor(t)))}else t===0?i=new Ut(Math.floor((e-1)/2)):n||(i=new Ut(Math.floor(t)));var s=Math.floor((e-1)/2),l=Mae(Iae(c=>i.add(new Ut(c-s).mul(r)).toNumber()),tE);return l(0,e)},G4=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var s=V4(new Ut(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Ut(0):(l=new Ut(e).add(n).div(2),l=l.sub(new Ut(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Ut(n).sub(l).div(s).toNumber()),h=c+d+1;return h>r?G4(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:l.sub(new Ut(c).mul(s)),tickMax:l.add(new Ut(d).mul(s))})};function jae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=Y4([e,n]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...tE(0,r-1).map(()=>1/0)]:[...tE(0,r-1).map(()=>-1/0),l];return e>n?nE(c):c}if(s===l)return Lae(s,r,i);var{step:d,tickMin:h,tickMax:m}=G4(s,l,a,i,0),y=q4(h,m.add(new Ut(.1).mul(d)),d);return e>n?nE(y):y}function Bae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=Y4([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(e,2),c=V4(new Ut(s).sub(a).div(l-1),i,0),d=[...q4(new Ut(a),new Ut(s),c),s];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?nE(d):d}var Fae=z4(jae),Uae=z4(Bae),Hae=t=>t.rootProps.barCategoryGap,Xg=t=>t.rootProps.stackOffset,oA=t=>t.options.chartName,lA=t=>t.rootProps.syncId,W4=t=>t.rootProps.syncMethod,uA=t=>t.options.eventEmitter,Ar={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},di={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},zae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qa.angleAxisId,includeHidden:!1,name:void 0,reversed:Qa.reversed,scale:Qa.scale,tick:Qa.tick,tickCount:void 0,ticks:void 0,type:Qa.type,unit:void 0},$ae={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:di.type,unit:void 0},qae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qa.scale,tick:Qa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yae={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:"category",unit:void 0},cA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?qae:zae,dA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Yae:$ae,Zg=t=>t.polarOptions,hA=ye([fs,ms,or],Fne),K4=ye([Zg,hA],(t,e)=>{if(t!=null)return so(t.innerRadius,e,0)}),X4=ye([Zg,hA],(t,e)=>{if(t!=null)return so(t.outerRadius,e,e*.8)}),Vae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Q4=ye([Zg],Vae);ye([cA,Q4],Qg);var Z4=ye([hA,K4,X4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([dA,Z4],Qg);var J4=ye([nn,Zg,K4,X4,fs,ms],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:c,endAngle:d}=e;return{cx:so(s,i,i/2),cy:so(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Ln=(t,e)=>e,Jg=(t,e,n)=>n;function ej(t){return t?.id}function tj(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=ej(l);d.forEach((m,y)=>{var b=a==null||i?y:String(Tr(m,a,null)),x=Tr(m,l.dataKey,0),E;s.has(b)?E=s.get(b):E={},Object.assign(E,{[h]:x}),s.set(b,E)})}}),Array.from(s.values())}function fA(t){return t.stackId!=null&&t.dataKey!=null}var e0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function t0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Gae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var jn=t=>{var e=nn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},rc=t=>t.tooltip.settings.axisId;function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return(e=Kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rE=[0,"auto"],oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nj=(t,e)=>t.cartesianAxis.xAxis[e],gs=(t,e)=>{var n=nj(t,e);return n??oi},li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rh},rj=(t,e)=>t.cartesianAxis.yAxis[e],ys=(t,e)=>{var n=rj(t,e);return n??li},Qae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Qae},Cr=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return ys(t,n);case"zAxis":return mA(t,n);case"angleAxis":return cA(t,n);case"radiusAxis":return dA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zae=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bh=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return ys(t,n);case"angleAxis":return cA(t,n);case"radiusAxis":return dA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ij=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var sj=t=>t.graphicalItems.cartesianItems,Jae=ye([Ln,Jg],aj),oj=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Fh=ye([sj,Cr,Jae],oj,{memoizeOptions:{resultEqualityCheck:t0}}),lj=ye([Fh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(fA)),uj=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ese=ye([Fh],uj),cj=t=>t.map(e=>e.data).filter(Boolean).flat(1),tse=ye([Fh],cj,{memoizeOptions:{resultEqualityCheck:t0}}),dj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},pA=ye([tse,iA],dj),hj=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Tr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Tr(i,r)}))):t.map(r=>({value:r})),n0=ye([pA,Cr,Fh],hj);function fj(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Wm(t){if(Ta(t)||t instanceof Date){var e=Number(t);if(Gn(e))return e}}function sD(t){if(Array.isArray(t)){var e=[Wm(t[0]),Wm(t[1])];return il(e)?e:void 0}var n=Wm(t);if(n!=null)return[n,n]}function ds(t){return t.map(Wm).filter(uZ)}function nse(t,e,n){return!n||typeof e!="number"||Sa(e)?[]:n.length?ds(n.flatMap(r=>{var i=Tr(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Gn(a)||!Gn(s)))return[e-a,e+s]})):[]}var Bn=t=>{var e=jn(t),n=rc(t);return Bh(t,e,n)},mj=ye([Bn],t=>t?.dataKey),rse=ye([lj,iA,Bn],tj),pj=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,c=l.map(ej);return[s,{stackedData:Oee(t,c,n),graphicalItems:l}]}))},ise=ye([rse,lj,Xg],pj),gj=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Pee(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ase=ye([Cr],t=>t.allowDataOverflow),gA=t=>{var e;if(t==null||!("domain"in t))return rE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ds(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:rE},yj=ye([Cr],gA),bj=ye([yj,ase],R4),sse=ye([ise,fo,Ln,bj],gj,{memoizeOptions:{resultEqualityCheck:e0}}),yA=t=>t.errorBars,ose=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>fj(n,r)),zp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},xj=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(S=>fj(i,S)),y=Tr(l,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),b=nse(l,y,m);if(b.length>=2){var x=Math.min(...b),E=Math.max(...b);(a==null||x<a)&&(a=x),(s==null||E>s)&&(s=E)}var w=sD(y);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=sD(Tr(l,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Gn(a)&&Gn(s))return[a,s]},lse=ye([pA,Cr,ese,yA,Ln],xj,{memoizeOptions:{resultEqualityCheck:e0}});function use(t){var{value:e}=t;if(Ta(e)||e instanceof Date)return e}var cse=(t,e,n)=>{var r=t.map(use).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&jM(r))?ZL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},vj=t=>t.referenceElements.dots,ic=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),dse=ye([vj,Ln,Jg],ic),Ej=t=>t.referenceElements.areas,hse=ye([Ej,Ln,Jg],ic),wj=t=>t.referenceElements.lines,fse=ye([wj,Ln,Jg],ic),Aj=(t,e)=>{var n=ds(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mse=ye(dse,Ln,Aj),Sj=(t,e)=>{var n=ds(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pse=ye([hse,Ln],Sj);function gse(t){var e;if(t.x!=null)return ds([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ds(n)}function yse(t){var e;if(t.y!=null)return ds([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ds(n)}var Tj=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?gse(r):yse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bse=ye([fse,Ln],Tj),xse=ye(mse,bse,pse,(t,e,n)=>zp(t,n,e)),_j=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=c?zp(r,a,i):zp(a,i);return Oae(e,d,t.allowDataOverflow)},vse=ye([Cr,yj,bj,sse,lse,xse,nn,Ln],_j,{memoizeOptions:{resultEqualityCheck:e0}}),Ese=[0,1],Cj=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=t,d=uo(e,a);if(d&&l==null){var h;return ZL(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?cse(r,t,d):i==="expand"?Ese:s}},bA=ye([Cr,nn,pA,n0,Xg,Ln,vse],Cj),Nj=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(kh(a));return l in Cd?l:"point"}}},Uh=ye([Cr,nn,ij,oA,Ln],Nj);function wse(t){if(t!=null){if(t in Cd)return Cd[t]();var e="scale".concat(kh(t));if(e in Cd)return Cd[e]()}}function xA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=wse(e);if(i!=null){var a=i.domain(n).range(r);return Tee(a),a}}}var Oj=(t,e,n)=>{var r=gA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&il(t))return Fae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&il(t))return Uae(t,e.tickCount,e.allowDecimals)}},vA=ye([bA,Bh,Uh],Oj),kj=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&il(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},Ase=ye([Cr,bA,vA,Ln],kj),Sse=ye(n0,Cr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ds(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),Dj=ye(Sse,nn,Hae,or,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Gn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=so(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Tse=(t,e)=>{var n=gs(t,e);return n==null||typeof n.padding!="string"?0:Dj(t,"xAxis",e,n.padding)},_se=(t,e)=>{var n=ys(t,e);return n==null||typeof n.padding!="string"?0:Dj(t,"yAxis",e,n.padding)},Cse=ye(gs,Tse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Nse=ye(ys,_se,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Ose=ye([or,Cse,Fg,Bg,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),kse=ye([or,nn,Nse,Fg,Bg,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Hh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Ose(t,n,r);case"yAxis":return kse(t,n,r);case"zAxis":return(i=mA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Q4(t);case"radiusAxis":return Z4(t,n);default:return}},Pj=ye([Cr,Hh],Qg),ac=ye([Cr,Uh,Ase,Pj],xA);ye([Fh,yA,Ln],ose);function Rj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var r0=(t,e)=>e,i0=(t,e,n)=>n,Dse=ye(Lg,r0,i0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Rj)),Pse=ye(jg,r0,i0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Rj)),Ij=(t,e)=>({width:t.width,height:e.height}),Rse=(t,e)=>{var n=typeof e.width=="number"?e.width:Rh;return{width:n,height:t.height}},Ise=ye(or,gs,Ij),Mse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Lse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},jse=ye(ms,or,Dse,r0,i0,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=Ij(e,l);s==null&&(s=Mse(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),Bse=ye(fs,or,Pse,r0,i0,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=Rse(e,l);s==null&&(s=Lse(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),Fse=(t,e)=>{var n=gs(t,e);if(n!=null)return jse(t,n.orientation,n.mirror)},Use=ye([or,gs,Fse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Hse=(t,e)=>{var n=ys(t,e);if(n!=null)return Bse(t,n.orientation,n.mirror)},zse=ye([or,ys,Hse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$se=ye(or,ys,(t,e)=>{var n=typeof e.width=="number"?e.width:Rh;return{width:n,height:t.height}}),Mj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=uo(t,r),c=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&jM(c))return c}},EA=ye([nn,n0,Cr,Ln],Mj),Lj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=uo(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},wA=ye([nn,n0,Bh,Ln],Lj),oD=ye([nn,Zae,Uh,ac,EA,wA,Hh,vA,Ln],(t,e,n,r,i,a,s,l,c)=>{if(e!=null){var d=uo(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),qse=(t,e,n,r,i,a,s,l,c)=>{if(!(e==null||r==null)){var d=uo(t,c),{type:h,ticks:m,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/b:0;x=c==="angleAxis"&&a!=null&&a.length>=2?Li(a[0]-a[1])*2*x:x;var E=m||i;if(E){var w=E.map((S,N)=>{var C=s?s.indexOf(S):S;return{index:N,coordinate:r(C)+x,value:S,offset:x}});return w.filter(S=>Gn(S.coordinate))}return d&&l?l.map((S,N)=>({coordinate:r(S)+x,value:S,index:N,offset:x})).filter(S=>Gn(S.coordinate)):r.ticks?r.ticks(y).map(S=>({coordinate:r(S)+x,value:S,offset:x})):r.domain().map((S,N)=>({coordinate:r(S)+x,value:s?s[S]:S,index:N,offset:x}))}},jj=ye([nn,Bh,Uh,ac,vA,Hh,EA,wA,Ln],qse),Yse=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=uo(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&r?.length>=2?Li(r[0]-r[1])*2*d:d,l&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Bj=ye([nn,Bh,ac,Hh,EA,wA,Ln],Yse),Fj=ye(Cr,ac,(t,e)=>{if(!(t==null||e==null))return Hp(Hp({},t),{},{scale:e})}),Vse=ye([Cr,Uh,bA,Pj],xA);ye((t,e,n)=>mA(t,n),Vse,(t,e)=>{if(!(t==null||e==null))return Hp(Hp({},t),{},{scale:e})});var Gse=ye([nn,Lg,jg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Uj=t=>t.options.defaultTooltipEventType,Hj=t=>t.options.validateTooltipEventTypes;function zj(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function AA(t,e){var n=Uj(t),r=Hj(t);return zj(e,n,r)}function Wse(t){return Ve(e=>AA(e,t))}var $j=(t,e)=>{var n,r=Number(e);if(!(Sa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Kse=t=>t.tooltip.settings,Js={active:!1,index:null,dataKey:void 0,coordinate:void 0},Xse={itemInteraction:{click:Js,hover:Js},axisInteraction:{click:Js,hover:Js},keyboardInteraction:Js,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qj=Xr({name:"tooltip",initialState:Xse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:In()},removeTooltipEntrySettings:{reducer(t,e){var n=rs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:In()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Qse,removeTooltipEntrySettings:Zse,setTooltipSettingsState:Jse,setActiveMouseOverItemIndex:eoe,mouseLeaveItem:Hme,mouseLeaveChart:Yj,setActiveClickItemIndex:zme,setMouseOverAxisIndex:Vj,setMouseClickAxisIndex:toe,setSyncInteraction:iE,setKeyboardInteraction:aE}=qj.actions,noe=qj.reducer;function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=aoe(t,"string");return typeof e=="symbol"?e:e+""}function aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function soe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ooe(t){return t.index!=null}var Gj=(t,e,n,r)=>{if(e==null)return Js;var i=soe(t,e,n);if(i==null)return Js;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(ooe(i)){if(a)return Rm(Rm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Rm(Rm({},Js),{},{coordinate:i.coordinate})},SA=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Gn(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},Wj=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],d=c==null?void 0:l(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},Kj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},zh=t=>t.options.tooltipPayloadSearcher,sc=t=>t.tooltip;function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function loe(t,e,n){return(e=uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uoe(t){var e=coe(t,"string");return typeof e=="symbol"?e:e+""}function coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t,e){return t??e}var Xj=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((y,b)=>{var x,{dataDefinedOnItem:E,settings:w}=b,S=doe(E,l),N=Array.isArray(S)?OL(S,d,h):S,C=(x=w?.dataKey)!==null&&x!==void 0?x:r,P=w?.nameKey,k;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?k=BM(N,r,i):k=a(N,e,c,P),Array.isArray(k))k.forEach(R=>{var H=cD(cD({},w),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(j3({tooltipEntrySettings:H,dataKey:R.dataKey,payload:R.payload,value:Tr(R.payload,R.dataKey),name:R.name}))});else{var D;y.push(j3({tooltipEntrySettings:w,dataKey:C,payload:k,value:Tr(k,C),name:(D=Tr(k,P))!==null&&D!==void 0?D:w?.name}))}return y},m)}},TA=ye([Bn,nn,ij,oA,jn],Nj),hoe=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),foe=ye([jn,rc],aj),$h=ye([hoe,Bn,foe],oj,{memoizeOptions:{resultEqualityCheck:t0}}),moe=ye([$h],t=>t.filter(fA)),poe=ye([$h],cj,{memoizeOptions:{resultEqualityCheck:t0}}),oc=ye([poe,fo],dj),goe=ye([moe,fo,Bn],tj),_A=ye([oc,Bn,$h],hj),Qj=ye([Bn],gA),yoe=ye([Bn],t=>t.allowDataOverflow),Zj=ye([Qj,yoe],R4),boe=ye([$h],t=>t.filter(fA)),xoe=ye([goe,boe,Xg],pj),voe=ye([xoe,fo,jn,Zj],gj),Eoe=ye([$h],uj),woe=ye([oc,Bn,Eoe,yA,jn],xj,{memoizeOptions:{resultEqualityCheck:e0}}),Aoe=ye([vj,jn,rc],ic),Soe=ye([Aoe,jn],Aj),Toe=ye([Ej,jn,rc],ic),_oe=ye([Toe,jn],Sj),Coe=ye([wj,jn,rc],ic),Noe=ye([Coe,jn],Tj),Ooe=ye([Soe,Noe,_oe],zp),koe=ye([Bn,Qj,Zj,voe,woe,Ooe,nn,jn],_j),Jj=ye([Bn,nn,oc,_A,Xg,jn,koe],Cj),Doe=ye([Jj,Bn,TA],Oj),Poe=ye([Bn,Jj,Doe,jn],kj),e6=t=>{var e=jn(t),n=rc(t),r=!1;return Hh(t,e,n,r)},t6=ye([Bn,e6],Qg),n6=ye([Bn,TA,Poe,t6],xA),Roe=ye([nn,_A,Bn,jn],Mj),Ioe=ye([nn,_A,Bn,jn],Lj),Moe=(t,e,n,r,i,a,s,l)=>{if(e){var{type:c}=e,d=uo(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?Li(i[0]-i[1])*2*m:m,d&&s?s.map((y,b)=>({coordinate:r(y)+m,value:y,index:b,offset:m})):r.domain().map((y,b)=>({coordinate:r(y)+m,value:a?a[y]:y,index:b,offset:m}))}}},bs=ye([nn,Bn,TA,n6,e6,Roe,Ioe,jn],Moe),CA=ye([Uj,Hj,Kse],(t,e,n)=>zj(n.shared,t,e)),r6=t=>t.tooltip.settings.trigger,NA=t=>t.tooltip.settings.defaultIndex,a0=ye([sc,CA,r6,NA],Gj),uh=ye([a0,oc],SA),i6=ye([bs,uh],$j),Loe=ye([a0],t=>{if(t)return t.dataKey}),a6=ye([sc,CA,r6,NA],Kj),joe=ye([fs,ms,nn,or,bs,NA,a6,zh],Wj),Boe=ye([a0,joe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Foe=ye([a0],t=>t.active),Uoe=ye([a6,uh,fo,mj,i6,zh,CA],Xj),Hoe=ye([Uoe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return(e=$oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=qoe(t,"string");return typeof e=="symbol"?e:e+""}function qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yoe=()=>Ve(Bn),Voe=()=>{var t=Yoe(),e=Ve(bs),n=Ve(n6);return Sp(!t||!n?void 0:hD(hD({},t),{},{scale:n}),e)};function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xoe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Qoe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return ou(ou(ou({},r),ar(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=r;return ou(ou(ou({},r),ar(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Zoe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var s6=(t,e,n,r,i)=>{var a,s=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?n[c-1].coordinate:n[l-1].coordinate,h=n[c].coordinate,m=c>=l-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(Li(h-d)!==Li(m-h)){var b=[];if(Li(m-h)===Li(i[1]-i[0])){y=m;var x=h+i[1]-i[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{y=d;var E=m+i[1]-i[0];b[0]=Math.min(h,(E+h)/2),b[1]=Math.max(h,(E+h)/2)}var w=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>w[0]&&t<=w[1]||t>=b[0]&&t<=b[1]){({index:s}=n[c]);break}}else{var S=Math.min(d,m),N=Math.max(d,m);if(t>(S+h)/2&&t<=(N+h)/2){({index:s}=n[c]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:s}=e[C]);break}}return s},Joe=()=>Ve(oA),OA=(t,e)=>e,o6=(t,e,n)=>n,kA=(t,e,n,r)=>r,ele=ye(bs,t=>kg(t,e=>e.coordinate)),DA=ye([sc,OA,o6,kA],Gj),l6=ye([DA,oc],SA),tle=(t,e,n)=>{if(e!=null){var r=sc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},u6=ye([sc,OA,o6,kA],Kj),$p=ye([fs,ms,nn,or,bs,kA,u6,zh],Wj),nle=ye([DA,$p],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),c6=ye([bs,l6],$j),rle=ye([u6,l6,fo,mj,c6,zh,OA],Xj),ile=ye([DA],t=>({isActive:t.active,activeIndex:t.index})),ale=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Zoe(t,s)){var l=Ree(t,e),c=s6(l,a,i,n,r),d=Xoe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},sle=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=qne(t,n);if(l){var c=Iee(l,e),d=s6(c,s,a,r,i),h=Qoe(e,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},ole=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?ale(t,e,r,i,a,s,l):sle(t,e,n,r,i,a,s)},lle=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),ule=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ar)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Gae}});function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fle={},mle={zIndexMap:Object.values(Ar).reduce((t,e)=>pD(pD({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),fle)},ple=new Set(Object.values(Ar));function gle(t){return ple.has(t)}var d6=Xr({name:"zIndex",initialState:mle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:In()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!gle(n)&&delete t.zIndexMap[n])},prepare:In()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:In()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:In()}}}),{registerZIndexPortal:yle,unregisterZIndexPortal:ble,registerZIndexPortalId:xle,unregisterZIndexPortalId:vle}=d6.actions,Ele=d6.reducer;function xs(t){var{zIndex:e,children:n}=t,r=mte(),i=r&&e!==void 0&&e!==0,a=Qr(),s=Dn();_.useLayoutEffect(()=>i?(s(yle({zIndex:e})),()=>{s(ble({zIndex:e}))}):Zu,[s,e,i]);var l=Ve(d=>lle(d,e,a));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?SE.createPortal(n,c):null}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function _le(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:d,chartName:h}=t,m=n,y=r,b=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var x,E,w;if(h==="ScatterChart")x=m,E=ane,w=Ar.cursorLine;else if(h==="BarChart")x=sne(l,m,a,s),E=WL,w=Ar.cursorRectangle;else if(l==="radial"&&UM(m)){var{cx:S,cy:N,radius:C,startAngle:P,endAngle:k}=KL(m);x={cx:S,cy:N,startAngle:P,endAngle:k,innerRadius:C,outerRadius:C},E=QL,w=Ar.cursorLine}else x={points:Wne(l,m,a)},E=$L,w=Ar.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,R=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},a),x),Tg(c)),{},{payload:y,payloadIndex:b,className:Yt("recharts-tooltip-cursor",D)});return _.createElement(xs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},_.createElement(Tle,{cursor:c,cursorComp:E,cursorProps:R}))}function Cle(t){var e=Voe(),n=FL(),r=Hg(),i=Joe();return e==null||n==null||r==null||i==null?null:_.createElement(_le,sE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var h6=_.createContext(null),Nle=()=>_.useContext(h6),w1={exports:{}},yD;function Ole(){return yD||(yD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,y),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,x=new Array(b);y<b;y++)x[y]=m[y].fn;return x},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,y,b,x){var E=n?n+d:d;if(!this._events[E])return!1;var w=this._events[E],S=arguments.length,N,C;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,y),!0;case 5:return w.fn.call(w.context,h,m,y,b),!0;case 6:return w.fn.call(w.context,h,m,y,b,x),!0}for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];w.fn.apply(w.context,N)}else{var P=w.length,k;for(C=0;C<P;C++)switch(w[C].once&&this.removeListener(d,w[C].fn,void 0,!0),S){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,h);break;case 3:w[C].fn.call(w[C].context,h,m);break;case 4:w[C].fn.call(w[C].context,h,m,y);break;default:if(!N)for(k=1,N=new Array(S-1);k<S;k++)N[k-1]=arguments[k];w[C].fn.apply(w[C].context,N)}}return!0},l.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!y||x.once)&&(!m||x.context===m)&&s(this,b);else{for(var E=0,w=[],S=x.length;E<S;E++)(x[E].fn!==h||y&&!x[E].once||m&&x[E].context!==m)&&w.push(x[E]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(w1)),w1.exports}var kle=Ole();const Dle=Xi(kle);var ch=new Dle,oE="recharts.syncEvent.tooltip",bD="recharts.syncEvent.brush";function Ple(t,e){if(e){var n=Number.parseInt(e,10);if(!Sa(n))return t?.[n]}}var Rle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f6=Xr({name:"options",initialState:Rle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ile=f6.reducer,{createEventEmitter:Mle}=f6.actions;function Lle(t){return t.tooltip.syncInteraction}var jle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m6=Xr({name:"chartData",initialState:jle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:xD,setDataStartEndIndexes:Ble,setComputedData:$me}=m6.actions,Fle=m6.reducer,Ule=["x","y"];function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t,e){if(t==null)return{};var n,r,i=Yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vle(){var t=Ve(lA),e=Ve(uA),n=Dn(),r=Ve(W4),i=Ve(bs),a=Hg(),s=Ug(),l=Ve(c=>c.rootProps.className);_.useEffect(()=>{if(t==null)return Zu;var c=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var y;if(s&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x,y:E}=b,w=qle(b,Ule),{x:S,y:N,width:C,height:P}=h.payload.sourceViewBox,k=lu(lu({},w),{},{x:s.x+(C?(x-S)/C:0)*s.width,y:s.y+(P?(E-N)/P:0)*s.height});n(lu(lu({},h),{},{payload:lu(lu({},h.payload),{},{coordinate:k})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var R={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,R);D=i[H]}else r==="value"&&(D=i.find(L=>String(L.value)===h.payload.label));var{coordinate:G}=h.payload;if(D==null||h.payload.active===!1||G==null||s==null){n(iE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:X,y:B}=G,F=Math.min(X,s.x+s.width),Z=Math.min(B,s.y+s.height),K={x:a==="horizontal"?D.coordinate:F,y:a==="horizontal"?Z:D.coordinate},ne=iE({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(ne)}}};return ch.on(oE,c),()=>{ch.off(oE,c)}},[l,n,e,t,r,i,a,s])}function Gle(){var t=Ve(lA),e=Ve(uA),n=Dn();_.useEffect(()=>{if(t==null)return Zu;var r=(i,a,s)=>{e!==s&&t===i&&n(Ble(a))};return ch.on(bD,r),()=>{ch.off(bD,r)}},[n,e,t])}function Wle(){var t=Dn();_.useEffect(()=>{t(Mle())},[t]),Vle(),Gle()}function Kle(t,e,n,r,i,a){var s=Ve(b=>tle(b,t,e)),l=Ve(uA),c=Ve(lA),d=Ve(W4),h=Ve(Lle),m=h?.active,y=Ug();_.useEffect(()=>{if(!m&&c!=null&&l!=null){var b=iE({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});ch.emit(oE,c,b,l)}},[m,n,s,i,r,l,c,d,a,y])}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xle(t,e,n){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jle(t){return t.dataKey}function eue(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(jte,e)}var AD=[],tue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ju.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nue(t){var e,n,r=pr(t,tue),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:y,position:b,reverseDirection:x,useTranslate3d:E,wrapperStyle:w,cursor:S,shared:N,trigger:C,defaultIndex:P,portal:k,axisId:D}=r,R=Dn(),H=typeof P=="number"?String(P):P;_.useEffect(()=>{R(Jse({shared:N,trigger:C,axisId:D,active:i,defaultIndex:H}))},[R,N,C,D,i,H]);var G=Ug(),X=zL(),B=Wse(N),{activeIndex:F,isActive:Z}=(e=Ve(he=>ile(he,B,C,H)))!==null&&e!==void 0?e:{},K=Ve(he=>rle(he,B,C,H)),ne=Ve(he=>c6(he,B,C,H)),L=Ve(he=>nle(he,B,C,H)),q=K,oe=Nle(),ve=(n=i??Z)!==null&&n!==void 0?n:!1,[U,z]=nL([q,ve]),J=B==="axis"?ne:void 0;Kle(B,C,L,J,F,ve);var M=k??oe;if(M==null||G==null||B==null)return null;var Ee=q??AD;ve||(Ee=AD),d&&Ee.length&&(Ee=QM(Ee.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),y,Jle));var Y=Ee.length>0,re=_.createElement(qte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:ve,coordinate:L,hasPayload:Y,offset:m,position:b,reverseDirection:x,useTranslate3d:E,viewBox:G,wrapperStyle:w,lastBoundingBox:U,innerRef:z,hasPortalFromProps:!!k},eue(c,wD(wD({},r),{},{payload:Ee,label:J,active:ve,activeIndex:F,coordinate:L,accessibilityLayer:X})));return _.createElement(_.Fragment,null,SE.createPortal(re,M),ve&&_.createElement(Cle,{cursor:S,tooltipEventType:B,coordinate:L,payload:Ee,index:F}))}function rue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sue{constructor(e){rue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lue(t,e,n){return(e=uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=cue(t,"string");return typeof e=="symbol"?e:e+""}function cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var due={cacheSize:2e3,enableCache:!0},p6=oue({},due),TD=new sue(p6.cacheSize),hue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_D="recharts_measurement_span";function fue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var CD=(t,e)=>{try{var n=document.getElementById(_D);n||(n=document.createElement("span"),n.setAttribute("id",_D),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ju.isSsr)return{width:0,height:0};if(!p6.enableCache)return CD(e,n);var r=fue(e,n),i=TD.get(r);if(i)return i;var a=CD(e,n);return TD.set(r,a),a},ND=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gue=Object.keys(g6),yu="NaN";function yue(t,e){return t*g6[e]}class zr{static parse(e){var n,[,r,i]=(n=pue.exec(e))!==null&&n!==void 0?n:[];return new zr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Sa(e)&&(this.unit=""),n!==""&&!mue.test(n)&&(this.num=NaN,this.unit=""),gue.includes(n)&&(this.num=yue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new zr(NaN,""):new zr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new zr(NaN,""):new zr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new zr(NaN,""):new zr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new zr(NaN,""):new zr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sa(this.num)}}function y6(t){if(t.includes(yu))return yu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=ND.exec(e))!==null&&n!==void 0?n:[],s=zr.parse(r??""),l=zr.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return yu;e=e.replace(ND,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,y]=(d=OD.exec(e))!==null&&d!==void 0?d:[],b=zr.parse(h??""),x=zr.parse(y??""),E=m==="+"?b.add(x):b.subtract(x);if(E.isNaN())return yu;e=e.replace(OD,E.toString())}return e}var kD=/\(([^()]*)\)/;function bue(t){for(var e=t,n;(n=kD.exec(e))!=null;){var[,r]=n;e=e.replace(kD,y6(r))}return e}function xue(t){var e=t.replace(/\s+/g,"");return e=bue(e),e=y6(e),e}function vue(t){try{return xue(t)}catch{return yu}}function A1(t){var e=vue(t.slice(5,-1));return e===yu?"":e}var Eue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],wue=["dx","dy","angle","className","breakAll"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function DD(t,e){if(t==null)return{};var n,r,i=Aue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b6=/[ \f\n\r\t\v\u2028\u2029]+/,x6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Vn(e)||(n?i=e.toString().split(""):i=e.toString().split(b6));var a=i.map(l=>({word:l,width:Fd(l,r).width})),s=n?0:Fd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Sue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var v6=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(s),c.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),E6=t=>t.reduce((e,n)=>e.width>n.width?e:n),Tue="",PD=(t,e,n,r,i,a,s,l)=>{var c=t.slice(0,e),d=x6({breakAll:n,style:r,children:c+Tue});if(!d)return[!1,[]];var h=v6(d.wordsWithComputedWidth,a,s,l),m=h.length>i||E6(h).width>Number(a);return[m,h]},_ue=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=t,d=Ke(a),h=String(s),m=v6(e,r,n,i);if(!d||i)return m;var y=m.length>a||E6(m).width>Number(r);if(!y)return m;for(var b=0,x=h.length-1,E=0,w;b<=x&&E<=h.length-1;){var S=Math.floor((b+x)/2),N=S-1,[C,P]=PD(h,N,c,l,a,r,n,i),[k]=PD(h,S,c,l,a,r,n,i);if(!C&&!k&&(b=S+1),C&&k&&(x=S-1),!C&&k){w=P;break}E++}return w||m},RD=t=>{var e=Vn(t)?[]:t.toString().split(b6);return[{words:e,width:void 0}]},Cue=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Ju.isSsr){var l,c,d=x6({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;l=h,c=m}else return RD(r);return _ue({breakAll:a,children:r,maxLines:s,style:i},l,c,e,!!n)}return RD(r)},w6="#808080",Nue={breakAll:!1,capHeight:"0.71em",fill:w6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},PA=_.forwardRef((t,e)=>{var n=pr(t,Nue),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=DD(n,Eue),y=_.useMemo(()=>Cue({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:b,dy:x,angle:E,className:w,breakAll:S}=m,N=DD(m,wue);if(!Ta(r)||!Ta(i)||y.length===0)return null;var C=Number(r)+(Ke(b)?b:0),P=Number(i)+(Ke(x)?x:0);if(!Gn(C)||!Gn(P))return null;var k;switch(h){case"start":k=A1("calc(".concat(s,")"));break;case"middle":k=A1("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=A1("calc(".concat(y.length-1," * -").concat(a,")"));break}var D=[];if(c){var R=y[0].width,{width:H}=m;D.push("scale(".concat(Ke(H)&&Ke(R)?H/R:1,")"))}return E&&D.push("rotate(".concat(E,", ").concat(C,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),_.createElement("text",lE({},_r(N),{ref:e,x:C,y:P,className:Yt("recharts-text",w),textAnchor:d,fill:l.includes("url")?w6:l}),y.map((G,X)=>{var B=G.words.join(S?"":" ");return _.createElement("tspan",{x:C,dy:X===0?k:a,key:"".concat(B,"-").concat(X)},B)}))});PA.displayName="Text";var Oue=["labelRef"];function kue(t,e){if(t==null)return{};var n,r,i=Due(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(null,arguments)}var A6=_.createContext(null),Mue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,c=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return _.createElement(A6.Provider,{value:c},l)},S6=()=>{var t=_.useContext(A6),e=Ug();return t||BL(e)},Lue=_.createContext(null),jue=()=>{var t=_.useContext(Lue),e=Ve(J4);return t||e},Bue=t=>{var{value:e,formatter:n}=t,r=Vn(t.children)?e:t.children;return typeof n=="function"?n(r):r},RA=t=>t!=null&&typeof t=="function",Fue=(t,e)=>{var n=Li(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Uue=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:y,clockWise:b}=i,x=(d+h)/2,E=Fue(m,y),w=E>=0?1:-1,S,N;switch(e){case"insideStart":S=m+w*a,N=b;break;case"insideEnd":S=y-w*a,N=!b;break;case"end":S=y+w*a,N=b;break;default:throw new Error("Unsupported position ".concat(e))}N=E<=0?N:!N;var C=ar(l,c,x,S),P=ar(l,c,x,S+(N?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=Vn(t.id)?Jd("recharts-radial-line-"):t.id;return _.createElement("text",Za({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:D,d:k})),_.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Hue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:h,y:m}=ar(r,i,s+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:x}=ar(r,i,y,d);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},uE=t=>"cx"in t&&Ke(t.cx),zue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!uE(n)&&(a=n);var{x:s,y:l,upperWidth:c,lowerWidth:d,height:h}=e,m=s,y=s+(c-d)/2,b=(m+y)/2,x=(c+d)/2,E=m+c/2,w=h>=0?1:-1,S=w*r,N=w>0?"end":"start",C=w>0?"start":"end",P=c>=0?1:-1,k=P*r,D=P>0?"end":"start",R=P>0?"start":"end";if(i==="top"){var H={x:m+c/2,y:l-S,textAnchor:"middle",verticalAnchor:N};return xn(xn({},H),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var G={x:y+d/2,y:l+h+S,textAnchor:"middle",verticalAnchor:C};return xn(xn({},G),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var X={x:b-k,y:l+h/2,textAnchor:D,verticalAnchor:"middle"};return xn(xn({},X),a?{width:Math.max(X.x-a.x,0),height:h}:{})}if(i==="right"){var B={x:b+x+k,y:l+h/2,textAnchor:R,verticalAnchor:"middle"};return xn(xn({},B),a?{width:Math.max(a.x+a.width-B.x,0),height:h}:{})}var F=a?{width:x,height:h}:{};return i==="insideLeft"?xn({x:b+k,y:l+h/2,textAnchor:R,verticalAnchor:"middle"},F):i==="insideRight"?xn({x:b+x-k,y:l+h/2,textAnchor:D,verticalAnchor:"middle"},F):i==="insideTop"?xn({x:m+c/2,y:l+S,textAnchor:"middle",verticalAnchor:C},F):i==="insideBottom"?xn({x:y+d/2,y:l+h-S,textAnchor:"middle",verticalAnchor:N},F):i==="insideTopLeft"?xn({x:m+k,y:l+S,textAnchor:R,verticalAnchor:C},F):i==="insideTopRight"?xn({x:m+c-k,y:l+S,textAnchor:D,verticalAnchor:C},F):i==="insideBottomLeft"?xn({x:y+k,y:l+h-S,textAnchor:R,verticalAnchor:N},F):i==="insideBottomRight"?xn({x:y+d-k,y:l+h-S,textAnchor:D,verticalAnchor:N},F):i&&typeof i=="object"&&(Ke(i.x)||ss(i.x))&&(Ke(i.y)||ss(i.y))?xn({x:s+so(i.x,x),y:l+so(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):xn({x:E,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},$ue={offset:5,zIndex:Ar.label};function Qs(t){var e=pr(t,$ue),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:d}=e,h=jue(),m=S6(),y=r==="center"?m:h??m,b,x,E;if(n==null?b=y:uE(n)?b=n:b=BL(n),!b||Vn(i)&&Vn(a)&&!_.isValidElement(s)&&typeof s!="function")return null;var w=xn(xn({},e),{},{viewBox:b});if(_.isValidElement(s)){var{labelRef:S}=w,N=kue(w,Oue);return _.cloneElement(s,N)}if(typeof s=="function"){if(x=_.createElement(s,w),_.isValidElement(x))return x}else x=Bue(e);var C=_r(e);if(uE(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Uue(e,r,x,C,b);E=Hue(b,e.offset,e.position)}else E=zue(e,b);return _.createElement(xs,{zIndex:e.zIndex},_.createElement(PA,Za({ref:d,className:Yt("recharts-label",l)},C,E,{textAnchor:Sue(C.textAnchor)?C.textAnchor:E.textAnchor,breakAll:c}),x))}Qs.displayName="Label";var que=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Qs,Za({key:"label-implicit"},r)):Ta(t)?_.createElement(Qs,Za({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Qs?_.cloneElement(t,xn({key:"label-implicit"},r)):_.createElement(Qs,Za({key:"label-implicit",content:t},r)):RA(t)?_.createElement(Qs,Za({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Qs,Za({},t,{key:"label-implicit"},r)):null};function Yue(t){var{label:e,labelRef:n}=t,r=S6();return que(e,r,n)||null}var S1={},T1={},MD;function Vue(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(T1)),T1}var _1={},LD;function Gue(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(_1)),_1}var jD;function Wue(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vue(),n=Gue(),r=Aw();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(S1)),S1}var C1,BD;function Kue(){return BD||(BD=1,C1=Wue().last),C1}var Xue=Kue();const Que=Xi(Xue);var Zue=["valueAccessor"],Jue=["dataKey","clockWise","id","textBreakAll","zIndex"];function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(null,arguments)}function FD(t,e){if(t==null)return{};var n,r,i=ece(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tce=t=>Array.isArray(t.value)?Que(t.value):t.value,T6=_.createContext(void 0),nce=T6.Provider,_6=_.createContext(void 0);_6.Provider;function rce(){return _.useContext(T6)}function ice(){return _.useContext(_6)}function Km(t){var{valueAccessor:e=tce}=t,n=FD(t,Zue),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,c=FD(n,Jue),d=rce(),h=ice(),m=d||h;return!m||!m.length?null:_.createElement(xs,{zIndex:l??Ar.label},_.createElement(ao,{className:"recharts-label-list"},m.map((y,b)=>{var x,E=Vn(r)?e(y,b):Tr(y&&y.payload,r),w=Vn(a)?{}:{id:"".concat(a,"-").concat(b)};return _.createElement(Qs,qp({key:"label-".concat(b)},_r(y),c,w,{fill:(x=n.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}Km.displayName="LabelList";function ace(t){var{label:e}=t;return e?e===!0?_.createElement(Km,{key:"labelList-implicit"}):_.isValidElement(e)||RA(e)?_.createElement(Km,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Km,qp({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}var C6=t=>{var{cx:e,cy:n,r,className:i}=t,a=Yt("recharts-dot",i);return Ke(e)&&Ke(n)&&Ke(r)?_.createElement("circle",cE({},Aa(t),ww(t),{className:a,cx:e,cy:n,r})):null},sce={radiusAxis:{},angleAxis:{}},N6=Xr({name:"polarAxis",initialState:sce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:qme,removeRadiusAxis:Yme,addAngleAxis:Vme,removeAngleAxis:Gme}=N6.actions,oce=N6.reducer,O6=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,N1={},UD;function lce(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(N1)),N1}var O1,HD;function uce(){return HD||(HD=1,O1=lce().isPlainObject),O1}var cce=uce();const dce=Xi(cce);function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(null,arguments)}var qD=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},pce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gce=t=>{var e=pr(t,pce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,y=_.useRef(null),[b,x]=_.useState(-1),E=_.useRef(i),w=_.useRef(a),S=_.useRef(s),N=_.useRef(n),C=_.useRef(r),P=Iw(t,"trapezoid-");if(_.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var K=y.current.getTotalLength();K&&x(K)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=Yt("recharts-trapezoid",l);if(!m)return _.createElement("g",null,_.createElement("path",Yp({},_r(e),{className:k,d:qD(n,r,i,a,s)})));var D=E.current,R=w.current,H=S.current,G=N.current,X=C.current,B="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),Z=qL(["strokeDasharray"],d,c);return _.createElement(Rw,{animationId:P,key:P,canBegin:b>0,duration:d,easing:c,isActive:m,begin:h},K=>{var ne=qr(D,i,K),L=qr(R,a,K),q=qr(H,s,K),oe=qr(G,n,K),ve=qr(X,r,K);y.current&&(E.current=ne,w.current=L,S.current=q,N.current=oe,C.current=ve);var U=K>0?{transition:Z,strokeDasharray:F}:{strokeDasharray:B};return _.createElement("path",Yp({},_r(e),{className:k,d:qD(oe,ve,ne,L,q),ref:y,style:$D($D({},U),e.style)}))})},yce=["option","shapeType","propTransformer","activeClassName","isActive"];function bce(t,e){if(t==null)return{};var n,r,i=xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ace(t,e){return Vp(Vp({},e),t)}function Sce(t,e){return t==="symbols"}function VD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(WL,n);case"trapezoid":return _.createElement(gce,n);case"sector":return _.createElement(QL,n);case"symbols":if(Sce(e))return _.createElement(Ew,n);break;case"curve":return _.createElement($L,n);default:return null}}function Tce(t){return _.isValidElement(t)?t.props:t}function _ce(t){var{option:e,shapeType:n,propTransformer:r=Ace,activeClassName:i="recharts-active-shape",isActive:a}=t,s=bce(t,yce),l;if(_.isValidElement(e))l=_.cloneElement(e,Vp(Vp({},s),Tce(e)));else if(typeof e=="function")l=e(s);else if(dce(e)&&typeof e!="boolean"){var c=r(e,s);l=_.createElement(VD,{shapeType:n,elementProps:c})}else{var d=s;l=_.createElement(VD,{shapeType:n,elementProps:d})}return a?_.createElement(ao,{className:i},l):l}function Cce(t){var{fn:e,args:n}=t,r=Dn(),i=Qr();return _.useLayoutEffect(()=>{if(!i){var a=e(n);return r(Qse(a)),()=>{r(Zse(a))}}},[e,n,r,i]),null}function Nce(t){var{legendPayload:e}=t,n=Dn(),r=Qr();return _.useLayoutEffect(()=>r?Zu:(n(yte(e)),()=>{n(bte(e))}),[n,r,e]),null}var k1,Oce=()=>{var[t]=_.useState(()=>Jd("uid-"));return t},kce=(k1=xB.useId)!==null&&k1!==void 0?k1:Oce;function k6(t,e){var n=kce();return e||(t?"".concat(t,"-").concat(n):n)}var Dce=_.createContext(void 0),Pce=t=>{var{id:e,type:n,children:r}=t,i=k6("recharts-".concat(n),e);return _.createElement(Dce.Provider,{value:i},r(i))},Rce={cartesianItems:[],polarItems:[]},D6=Xr({name:"graphicalItems",initialState:Rce,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:In()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=rs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:In()},removeCartesianGraphicalItem:{reducer(t,e){var n=rs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:In()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:In()},removePolarGraphicalItem:{reducer(t,e){var n=rs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:In()}}}),{addCartesianGraphicalItem:Ice,replaceCartesianGraphicalItem:Mce,removeCartesianGraphicalItem:Lce,addPolarGraphicalItem:Wme,removePolarGraphicalItem:Kme}=D6.actions,jce=D6.reducer;function Bce(t){var e=Dn(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Ice(t)):n.current!==t&&e(Mce({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(Lce(n.current)),n.current=null)},[e]),null}var Fce=["points"];function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(null,arguments)}function $ce(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yce(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Yt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=$ce(a,Fce);return _.createElement(C6,Gp({},l,{className:i}))}function Vce(t,e){return t==null?!1:e?!0:t.length===1}function Gce(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:c,zIndex:d=Ar.scatter}=t;if(!Vce(e,n))return null;var h=O6(n),m=yQ(n),y=e.map((x,E)=>{var w,S,N=D1(D1(D1({r:3},s),m),{},{index:E,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:a,value:x.value,payload:x.payload,points:e});return _.createElement(Yce,{key:"dot-".concat(E),option:n,dotProps:N,className:i})}),b={};return l&&c!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),_.createElement(xs,{zIndex:d},_.createElement(ao,Gp({className:r},b),y))}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce={xAxis:{},yAxis:{},zAxis:{}},P6=Xr({name:"cartesianAxis",initialState:Qce,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:In()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:In()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:In()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:In()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:In()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:In()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=KD(KD({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Zce,removeXAxis:Jce,addYAxis:ede,removeYAxis:tde,addZAxis:Xme,removeZAxis:Qme,updateYAxisWidth:nde}=P6.actions,rde=P6.reducer,ide=ye([or],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ade=ye([ide,fs,ms],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),IA=()=>Ve(ade),sde=()=>Ve(Hoe);function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return(e=lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=P1(P1(P1({},s),Tg(i)),ww(i)),c;return _.isValidElement(i)?c=_.cloneElement(i,l):typeof i=="function"?c=i(l):c=_.createElement(C6,l),_.createElement(ao,{className:"recharts-active-dot"},c)};function dde(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=Ar.activeDot}=t,s=Ve(uh),l=sde();if(e==null||l==null)return null;var c=e.find(d=>l.includes(d.payload));return Vn(c)?null:_.createElement(xs,{zIndex:a},_.createElement(cde,{point:c,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var hde={},R6=Xr({name:"errorBars",initialState:hde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Zme,replaceErrorBar:Jme,removeErrorBar:epe}=R6.actions,fde=R6.reducer,mde=["children"];function pde(t,e){if(t==null)return{};var n,r,i=gde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bde=_.createContext(yde);function xde(t){var{children:e}=t,n=pde(t,mde);return _.createElement(bde.Provider,{value:n},e)}function I6(t,e){var n,r,i=Ve(d=>gs(d,t)),a=Ve(d=>ys(d,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:oi.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:li.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function vde(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=IA(),{needClipX:a,needClipY:s,needClip:l}=I6(e,n);if(!l||!i)return null;var{x:c,y:d,width:h,height:m}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?c:c-h/2,y:s?d:d-m/2,width:a?h:h*2,height:s?m:m*2}))}var Ede=t=>{var{chartData:e}=t,n=Dn(),r=Qr();return _.useEffect(()=>r?()=>{}:(n(xD(e)),()=>{n(xD(void 0))}),[e,n,r]),null},QD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},M6=Xr({name:"brush",initialState:QD,reducers:{setBrushSettings(t,e){return e.payload==null?QD:e.payload}}}),{setBrushSettings:tpe}=M6.actions,wde=M6.reducer;function Ade(t,e,n){return(e=Sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sde(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MA{static create(e){return new MA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Ade(MA,"EPS",1e-4);function _de(t){return(t%180+180)%180}var Cde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_de(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Nde={dots:[],areas:[],lines:[]},L6=Xr({name:"referenceElements",initialState:Nde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=rs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=rs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=rs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:npe,removeDot:rpe,addArea:ipe,removeArea:ape,addLine:spe,removeLine:ope}=L6.actions,Ode=L6.reducer,kde=_.createContext(void 0),Dde=t=>{var{children:e}=t,[n]=_.useState("".concat(Jd("recharts"),"-clip")),r=IA();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return _.createElement(kde.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function j6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Pde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Cde(r,n)}function Rde(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Wp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ide(t,e){return j6(t,e+1)}function Mde(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,c=0,d=1,h=s,m=function(){var x=r?.[c];if(x===void 0)return{v:j6(r,d)};var E=c,w,S=()=>(w===void 0&&(w=n(x,E)),w),N=x.coordinate,C=c===0||Wp(t,N,S,h,l);C||(c=0,h=s,d+=1),C&&(h=N+t*(S()/2+i),c+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){Lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lde(t,e,n){return(e=jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fde(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:c}=e,d=function(y){var b=a[y],x,E=()=>(x===void 0&&(x=n(b,y)),x);if(y===s-1){var w=t*(b.coordinate+t*E()/2-c);a[y]=b=ur(ur({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[y]=b=ur(ur({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var S=Wp(t,b.tickCoord,E,l,c);S&&(c=b.tickCoord-t*(E()/2+i),a[y]=ur(ur({},b),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return a}function Ude(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:c,end:d}=e;if(a){var h=r[l-1],m=n(h,l-1),y=t*(h.coordinate+t*m/2-d);if(s[l-1]=h=ur(ur({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var b=Wp(t,h.tickCoord,()=>m,c,d);b&&(d=h.tickCoord-t*(m/2+i),s[l-1]=ur(ur({},h),{},{isShow:!0}))}}for(var x=a?l-1:l,E=function(N){var C=s[N],P,k=()=>(P===void 0&&(P=n(C,N)),P);if(N===0){var D=t*(C.coordinate-t*k()/2-c);s[N]=C=ur(ur({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else s[N]=C=ur(ur({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var R=Wp(t,C.tickCoord,k,c,d);R&&(c=C.tickCoord+t*(k()/2+i),s[N]=ur(ur({},C),{},{isShow:!0}))}},w=0;w<x;w++)E(w);return s}function LA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Ke(c)||Ju.isSsr){var y;return(y=Ide(i,Ke(c)?c:0))!==null&&y!==void 0?y:[]}var b=[],x=l==="top"||l==="bottom"?"width":"height",E=h&&x==="width"?Fd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(C,P)=>{var k=typeof d=="function"?d(C.value,P):C.value;return x==="width"?Pde(Fd(k,{fontSize:e,letterSpacing:n}),E,m):Fd(k,{fontSize:e,letterSpacing:n})[x]},S=i.length>=2?Li(i[1].coordinate-i[0].coordinate):1,N=Rde(a,S,x);return c==="equidistantPreserveStart"?Mde(S,N,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?b=Ude(S,N,w,i,s,c==="preserveStartEnd"):b=Fde(S,N,w,i,s),b.filter(C=>C.isShow))}var Hde=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+l+(n?r:0);return Math.round(d)}return 0},zde=["axisLine","width","height","className","hide","ticks","axisType"],$de=["viewBox"],qde=["viewBox"];function dE(t,e){if(t==null)return{};var n,r,i=Yde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(null,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return(e=Gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ar.axis};function Kde(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=On(On(On({},c),Aa(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=On(On({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!s||a==="right"&&s);d=On(On({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return _.createElement("line",sl({},d,{className:Yt("recharts-cartesian-axis-line",Og(l,"className"))}))}function Xde(t,e,n,r,i,a,s,l,c){var d,h,m,y,b,x,E=l?-1:1,w=t.tickSize||s,S=Ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=h=t.coordinate,y=n+ +!l*i,m=y-E*w,x=m-E*c,b=S;break;case"left":m=y=t.coordinate,h=e+ +!l*r,d=h-E*w,b=d-E*c,x=S;break;case"right":m=y=t.coordinate,h=e+ +l*r,d=h+E*w,b=d+E*c,x=S;break;default:d=h=t.coordinate,y=n+ +l*i,m=y+E*w,x=m+E*c,b=S;break}return{line:{x1:d,y1:m,x2:h,y2:y},tick:{x:b,y:x}}}function Qde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Zde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Jde(t){var{option:e,tickProps:n,value:r}=t,i,a=Yt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,On(On({},n),{},{className:a}));else if(typeof e=="function")i=e(On(On({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Yt(s,e?.className)),i=_.createElement(PA,sl({},n,{className:s}),r)}return i}var ehe=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:m,x:y,y:b,width:x,height:E,tickSize:w,tickMargin:S,fontSize:N,letterSpacing:C,getTicksConfig:P,events:k,axisType:D}=t,R=LA(On(On({},P),{},{ticks:n}),N,C),H=Qde(h,m),G=Zde(h,m),X=Aa(P),B=Tg(r),F={};typeof i=="object"&&(F=i);var Z=On(On({},X),{},{fill:"none"},F),K=R.map(q=>On({entry:q},Xde(q,y,b,x,E,h,w,m,S))),ne=K.map(q=>{var{entry:oe,line:ve}=q;return _.createElement(ao,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&_.createElement("line",sl({},Z,ve,{className:Yt("recharts-cartesian-axis-tick-line",Og(i,"className"))})))}),L=K.map((q,oe)=>{var{entry:ve,tick:U}=q,z=On(On(On(On({textAnchor:H,verticalAnchor:G},X),{},{stroke:"none",fill:a},B),U),{},{index:oe,payload:ve,visibleTicksCount:R.length,tickFormatter:s,padding:c},d);return _.createElement(ao,sl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},HM(k,ve,oe)),r&&_.createElement(Jde,{option:r,tickProps:z,value:"".concat(typeof s=="function"?s(ve.value,oe):ve.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},L.length>0&&_.createElement(xs,{zIndex:Ar.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},L)),ne.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ne))}),the=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:c}=t,d=dE(t,zde),[h,m]=_.useState(""),[y,b]=_.useState(""),x=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Hde({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var N=S[0];if(N){var C=window.getComputedStyle(N),P=C.fontSize,k=C.letterSpacing;(P!==h||k!==y)&&(m(P),b(k))}}},[h,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(xs,{zIndex:t.zIndex},_.createElement(ao,{className:Yt("recharts-cartesian-axis",a)},_.createElement(Kde,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Aa(t)}),_.createElement(ehe,{ref:E,axisType:c,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(Mue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(Yue,{label:t.label,labelRef:t.labelRef}),t.children)))}),nhe=_.memo(the,(t,e)=>{var{viewBox:n}=t,r=dE(t,$de),{viewBox:i}=e,a=dE(e,qde);return Bu(n,i)&&Bu(r,a)}),BA=_.forwardRef((t,e)=>{var n=pr(t,jA);return _.createElement(nhe,sl({},n,{ref:e}))});BA.displayName="CartesianAxis";var rhe=["x1","y1","x2","y2","key"],ihe=["offset"],ahe=["xAxisId","yAxisId"],she=["xAxisId","yAxisId"];function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return(e=lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zo.apply(null,arguments)}function Kp(t,e){if(t==null)return{};var n,r,i=che(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function che(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B6(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:c,key:d}=n,h=Kp(n,rhe),m=(i=Aa(h))!==null&&i!==void 0?i:{},{offset:y}=m,b=Kp(m,ihe);r=_.createElement("line",zo({},b,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return r}function hhe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Kp(t,ahe),c=i.map((d,h)=>{var m=cr(cr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(B6,{key:"line-".concat(h),option:r,lineItemProps:m})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function fhe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Kp(t,she),c=i.map((d,h)=>{var m=cr(cr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return _.createElement(B6,{option:r,lineItemProps:m,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function mhe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var b=!d[y+1],x=b?i+s-m:d[y+1]-m;if(x<=0)return null;var E=y%e.length;return _.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:x,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function phe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var b=!d[y+1],x=b?i+s-m:d[y+1]-m;if(x<=0)return null;var E=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:m,y:a,width:x,height:l,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ghe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return kL(LA(cr(cr(cr({},jA),n),{},{ticks:DL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},yhe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return kL(LA(cr(cr(cr({},jA),n),{},{ticks:DL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},bhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ar.grid};function F6(t){var e=Dw(),n=Pw(),r=FL(),i=cr(cr({},pr(t,bhe)),{},{x:Ke(t.x)?t.x:r.left,y:Ke(t.y)?t.y:r.top,width:Ke(t.width)?t.width:r.width,height:Ke(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:y,verticalValues:b}=i,x=Qr(),E=Ve(G=>oD(G,"xAxis",a,x)),w=Ve(G=>oD(G,"yAxis",s,x));if(!_a(d)||!_a(h)||!Ke(l)||!Ke(c))return null;var S=i.verticalCoordinatesGenerator||ghe,N=i.horizontalCoordinatesGenerator||yhe,{horizontalPoints:C,verticalPoints:P}=i;if((!C||!C.length)&&typeof N=="function"){var k=y&&y.length,D=N({yAxis:w?cr(cr({},w),{},{ticks:k?y:w.ticks}):void 0,width:e??d,height:n??h,offset:r},k?!0:m);Tp(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!P||!P.length)&&typeof S=="function"){var R=b&&b.length,H=S({xAxis:E?cr(cr({},E),{},{ticks:R?b:E.ticks}):void 0,width:e??d,height:n??h,offset:r},R?!0:m);Tp(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return _.createElement(xs,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(dhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(mhe,zo({},i,{horizontalPoints:C})),_.createElement(phe,zo({},i,{verticalPoints:P})),_.createElement(hhe,zo({},i,{offset:r,horizontalPoints:C,xAxis:E,yAxis:w})),_.createElement(fhe,zo({},i,{offset:r,verticalPoints:P,xAxis:E,yAxis:w}))))}F6.displayName="CartesianGrid";var U6=(t,e,n,r)=>Fj(t,"xAxis",e,r),H6=(t,e,n,r)=>Bj(t,"xAxis",e,r),z6=(t,e,n,r)=>Fj(t,"yAxis",n,r),$6=(t,e,n,r)=>Bj(t,"yAxis",n,r),xhe=ye([nn,U6,z6,H6,$6],(t,e,n,r,i)=>uo(t,"xAxis")?Sp(e,r,!1):Sp(n,i,!1)),vhe=(t,e,n,r,i)=>i;function Ehe(t){return t.type==="line"}var whe=ye([sj,vhe],(t,e)=>t.filter(Ehe).find(n=>n.id===e)),Ahe=ye([nn,U6,z6,H6,$6,whe,xhe,iA],(t,e,n,r,i,a,s,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:m,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=c?.slice(d,h+1),b!=null)return qhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:s,displayedData:b})}});function She(t){var e=Tg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var The=["id"],_he=["type","layout","connectNulls","needClip","shape"],Che=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(null,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e,n){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=khe(t,"string");return typeof e=="symbol"?e:e+""}function khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FA(t,e){if(t==null)return{};var n,r,i=Dhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Phe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:PL(n,e),payload:t}]};function Rhe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:PL(s,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var q6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ihe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Mhe=(t,e,n)=>{var r=n.reduce((m,y)=>m+y);if(!r)return q6(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){l=[...n.slice(0,c),a-d];break}var h=l.length%2===0?[0,s]:[s];return[...Ihe(n,i),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function Lhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,c=FA(r,The),d=Aa(c);return _.createElement(Gce,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function jhe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pa(pa({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(nce,{value:e?i:void 0},n)}function nP(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:c,needClip:d,shape:h}=a,m=FA(a,_he),y=pa(pa({},_r(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(_ce,dh({shapeType:"curve",option:h},y,{pathRef:n})),_.createElement(Lhe,{points:r,clipPathId:e,props:a}))}function Bhe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Fhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:y,width:b,height:x,onAnimationEnd:E,onAnimationStart:w}=n,S=i.current,N=Iw(n,"recharts-line-"),[C,P]=_.useState(!1),k=!C,D=_.useCallback(()=>{typeof E=="function"&&E(),P(!1)},[E]),R=_.useCallback(()=>{typeof w=="function"&&w(),P(!0)},[w]),H=Bhe(r.current),G=a.current;return _.createElement(jhe,{points:s,showLabels:k},n.children,_.createElement(Rw,{animationId:N,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:D,onAnimationStart:R,key:N},X=>{var B=qr(G,H+G,X),F=Math.min(B,H),Z;if(c)if(l){var K="".concat(l).split(/[,\s]+/gim).map(q=>parseFloat(q));Z=Mhe(F,H,K)}else Z=q6(H,F);else Z=l==null?void 0:String(l);if(S){var ne=S.length/s.length,L=X===1?s:s.map((q,oe)=>{var ve=Math.floor(oe*ne);if(S[ve]){var U=S[ve];return pa(pa({},q),{},{x:qr(U.x,q.x,X),y:qr(U.y,q.y,X)})}return y?pa(pa({},q),{},{x:qr(b*2,q.x,X),y:qr(x/2,q.y,X)}):pa(pa({},q),{},{x:q.x,y:q.y})});return i.current=L,_.createElement(nP,{props:n,points:L,clipPathId:e,pathRef:r,strokeDasharray:Z})}return X>0&&H>0&&(i.current=s,a.current=F),_.createElement(nP,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:Z})}),_.createElement(ace,{label:n.label}))}function Uhe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(Fhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Hhe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Tr(t.payload,e)}};class zhe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:c,width:d,height:h,id:m,needClip:y,zIndex:b}=this.props;if(e)return null;var x=Yt("recharts-line",i),E=m,{r:w,strokeWidth:S}=She(n),N=O6(n),C=w*2+S;return _.createElement(xs,{zIndex:b},_.createElement(ao,{className:x},y&&_.createElement("defs",null,_.createElement(vde,{clipPathId:E,xAxisId:a,yAxisId:s}),!N&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:c-C/2,y:l-C/2,width:d+C,height:h+C}))),_.createElement(xde,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Hhe,errorBarOffset:0},_.createElement(Uhe,{props:this.props,clipPathId:E}))),_.createElement(dde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Y6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ju.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ar.line};function $he(t){var e=pr(t,Y6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:d,isAnimationActive:h,label:m,legendType:y,xAxisId:b,yAxisId:x,id:E}=e,w=FA(e,Che),{needClip:S}=I6(b,x),N=IA(),C=Hg(),P=Qr(),k=Ve(X=>Ahe(X,b,x,P,E));if(C!=="horizontal"&&C!=="vertical"||k==null||N==null)return null;var{height:D,width:R,x:H,y:G}=N;return _.createElement(zhe,dh({},w,{id:E,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:d,label:m,legendType:y,xAxisId:b,yAxisId:x,points:k,layout:C,height:D,width:R,left:H,top:G,needClip:S}))}function qhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=t;return c.map((d,h)=>{var m=Tr(d,s);if(e==="horizontal"){var y=I3({axis:n,ticks:i,bandSize:l,entry:d,index:h}),b=Vn(m)?null:r.scale(m);return{x:y,y:b,value:m,payload:d}}var x=Vn(m)?null:n.scale(m),E=I3({axis:r,ticks:a,bandSize:l,entry:d,index:h});return x==null||E==null?null:{x,y:E,value:m,payload:d}}).filter(Boolean)}function Yhe(t){var e=pr(t,Y6),n=Qr();return _.createElement(Pce,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(Nce,{legendPayload:Phe(e)}),_.createElement(Cce,{fn:Rhe,args:e}),_.createElement(Bce,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement($he,dh({},e,{id:r}))))}var Xm=_.memo(Yhe);Xm.displayName="Line";var Vhe=["dangerouslySetInnerHTML","ticks"],Ghe=["id"],Whe=["domain"],Khe=["domain"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(null,arguments)}function Xp(t,e){if(t==null)return{};var n,r,i=Xhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qhe(t){var e=Dn();return _.useLayoutEffect(()=>(e(Zce(t)),()=>{e(Jce(t))}),[t,e]),null}var Zhe=t=>{var{xAxisId:e,className:n}=t,r=Ve(IL),i=Qr(),a="xAxis",s=Ve(w=>ac(w,a,e,i)),l=Ve(w=>jj(w,a,e,i)),c=Ve(w=>Ise(w,e)),d=Ve(w=>Use(w,e)),h=Ve(w=>nj(w,e));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=t,b=Xp(t,Vhe),{id:x}=h,E=Xp(h,Ghe);return _.createElement(BA,hE({},b,E,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Yt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Jhe={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,height:oi.height,hide:!1,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tickCount:oi.tickCount,type:oi.type,xAxisId:0},efe=t=>{var e,n,r,i,a,s=pr(t,Jhe);return _.createElement(_.Fragment,null,_.createElement(Qhe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),_.createElement(Zhe,s))},tfe=(t,e)=>{var{domain:n}=t,r=Xp(t,Whe),{domain:i}=e,a=Xp(e,Khe);return Bu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Bu({domain:n},{domain:i}):!1},V6=_.memo(efe,tfe);V6.displayName="XAxis";var nfe=["dangerouslySetInnerHTML","ticks"],rfe=["id"],ife=["domain"],afe=["domain"];function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(null,arguments)}function Qp(t,e){if(t==null)return{};var n,r,i=sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ofe(t){var e=Dn();return _.useLayoutEffect(()=>(e(ede(t)),()=>{e(tde(t))}),[t,e]),null}var lfe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=_.useRef(null),s=_.useRef(null),l=Ve(IL),c=Qr(),d=Dn(),h="yAxis",m=Ve(k=>ac(k,h,e,c)),y=Ve(k=>$se(k,e)),b=Ve(k=>zse(k,e)),x=Ve(k=>jj(k,h,e,c)),E=Ve(k=>rj(k,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!y||RA(i)||_.isValidElement(i)||E==null)){var k=a.current;if(k){var D=k.getCalculatedWidth();Math.round(y.width)!==Math.round(D)&&d(nde({id:e,width:D}))}}},[x,y,d,i,e,r,E]),y==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=t,N=Qp(t,nfe),{id:C}=E,P=Qp(E,rfe);return _.createElement(BA,fE({},N,P,{ref:a,labelRef:s,scale:m,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Yt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:x,axisType:h}))},ufe={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,hide:!1,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tickCount:li.tickCount,type:li.type,width:li.width,yAxisId:0},cfe=t=>{var e,n,r,i,a,s=pr(t,ufe);return _.createElement(_.Fragment,null,_.createElement(ofe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),_.createElement(lfe,s))},dfe=(t,e)=>{var{domain:n}=t,r=Qp(t,ife),{domain:i}=e,a=Qp(e,afe);return Bu(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Bu({domain:n},{domain:i}):!1},mE=_.memo(cfe,dfe);mE.displayName="YAxis";var R1={exports:{}},I1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function hfe(){if(rP)return I1;rP=1;var t=Fu();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return I1.useSyncExternalStoreWithSelector=function(c,d,h,m,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function w(k){if(!S){if(S=!0,N=k,k=m(k),y!==void 0&&x.hasValue){var D=x.value;if(y(D,k))return C=D}return C=k}if(D=C,n(N,k))return D;var R=m(k);return y!==void 0&&y(D,R)?(N=k,D):(N=k,C=R)}var S=!1,N,C,P=h===void 0?null:h;return[function(){return w(d())},P===null?void 0:function(){return w(P())}]},[d,h,m,y]);var E=r(c,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=E},[E]),l(E),E},I1}var iP;function ffe(){return iP||(iP=1,R1.exports=hfe()),R1.exports}ffe();function mfe(t){t()}function pfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var aP={notify(){},get:()=>[]};function gfe(t,e){let n,r=aP,i=0,a=!1;function s(E){h();const w=r.subscribe(E);let S=!1;return()=>{S||(S=!0,w(),m())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(c),r=pfe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=aP)}function y(){a||(a=!0,h())}function b(){a&&(a=!1,m())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var yfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bfe=yfe(),xfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vfe=xfe(),Efe=()=>bfe||vfe?_.useLayoutEffect:_.useEffect,wfe=Efe(),Afe=Symbol.for("react-redux-context"),Sfe=typeof globalThis<"u"?globalThis:{};function Tfe(){if(!_.createContext)return{};const t=Sfe[Afe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var _fe=Tfe();function Cfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const c=gfe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=_.useMemo(()=>i.getState(),[i]);wfe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=n||_fe;return _.createElement(l.Provider,{value:a},e)}var Nfe=Cfe,Ofe=(t,e)=>e,UA=ye([Ofe,nn,J4,jn,t6,bs,ele,or],ole),HA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},G6=Fi("mouseClick"),W6=Ph();W6.startListening({actionCreator:G6,effect:(t,e)=>{var n=t.payload,r=UA(e.getState(),HA(n));r?.activeIndex!=null&&e.dispatch(toe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var pE=Fi("mouseMove"),K6=Ph();K6.startListening({actionCreator:pE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=AA(r,r.tooltip.settings.shared),a=UA(r,HA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(Vj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Yj()))}});var sP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},X6=Xr({name:"rootProps",initialState:sP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:sP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),kfe=X6.reducer,{updateOptions:Dfe}=X6.actions,Q6=Xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:lpe}=Q6.actions,Pfe=Q6.reducer,Z6=Fi("keyDown"),J6=Fi("focus"),zA=Ph();zA.startListening({actionCreator:Z6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(SA(i,oc(n))),l=bs(n);if(a==="Enter"){var c=$p(n,"axis","hover",String(i.index));e.dispatch(aE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=Gse(n),h=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=s+m*h;if(!(l==null||y>=l.length||y<0)){var b=$p(n,"axis","hover",String(y));e.dispatch(aE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});zA.startListening({actionCreator:J6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=$p(n,"axis","hover",String(a));e.dispatch(aE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Di=Fi("externalEvent"),e5=Ph();e5.startListening({actionCreator:Di,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Boe(n),activeDataKey:Loe(n),activeIndex:uh(n),activeLabel:i6(n),activeTooltipIndex:uh(n),isTooltipActive:Foe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Rfe=ye([sc],t=>t.tooltipItemPayloads),Ife=ye([Rfe,zh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),t5=Fi("touchMove"),n5=Ph();n5.startListening({actionCreator:t5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=AA(r,r.tooltip.settings.shared);if(i==="axis"){var a=UA(r,HA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(Vj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(Lee),h=(s=c.getAttribute(jee))!==null&&s!==void 0?s:void 0,m=Ife(e.getState(),d,h);e.dispatch(eoe({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var Mfe=iL({brush:wde,cartesianAxis:rde,chartData:Fle,errorBars:fde,graphicalItems:jce,layout:vee,legend:xte,options:Ile,polarAxis:oce,polarOptions:Pfe,referenceElements:Ode,rootProps:kfe,tooltip:noe,zIndex:Ele}),Lfe=function(e){return YJ({reducer:Mfe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([W6.middleware,K6.middleware,zA.middleware,e5.middleware,n5.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(gL({type:"raf"}))},devTools:Ju.devToolsEnabled})};function jfe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Qr(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Lfe(e));var s=Sw;return _.createElement(Nfe,{context:s,store:a.current},n)}function Bfe(t){var{layout:e,margin:n}=t,r=Dn(),i=Qr();return _.useEffect(()=>{i||(r(yee(e)),r(gee(n)))},[r,i,e,n]),null}function Ffe(t){var e=Dn();return _.useEffect(()=>{e(Dfe(t))},[e,t]),null}function oP(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=k6("".concat(r).concat(e)),a=Dn();return _.useLayoutEffect(()=>(a(xle({zIndex:e,elementId:i,isPanorama:n})),()=>{a(vle({zIndex:e,isPanorama:n}))}),[a,e,i,n]),_.createElement("g",{id:i})}function lP(t){var{children:e,isPanorama:n}=t,r=Ve(ule);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return _.createElement(_.Fragment,null,i.map(s=>_.createElement(oP,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>_.createElement(oP,{key:s,zIndex:s,isPanorama:n})))}var Ufe=["children"];function Hfe(t,e){if(t==null)return{};var n,r,i=zfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(null,arguments)}var $fe={width:"100%",height:"100%",display:"block"},qfe=_.forwardRef((t,e)=>{var n=Dw(),r=Pw(),i=zL();if(!_a(n)||!_a(r))return null;var{children:a,otherAttributes:s,title:l,desc:c}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),_.createElement(mw,Zp({},s,{title:l,desc:c,role:h,tabIndex:d,width:n,height:r,style:$fe,ref:e}),a)}),Yfe=t=>{var{children:e}=t,n=Ve(Fg);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return _.createElement(mw,{width:r,height:i,x:s,y:a},e)},uP=_.forwardRef((t,e)=>{var{children:n}=t,r=Hfe(t,Ufe),i=Qr();return i?_.createElement(Yfe,null,_.createElement(lP,{isPanorama:!0},n)):_.createElement(qfe,Zp({ref:e},r),_.createElement(lP,{isPanorama:!1},n))});function Vfe(){var t=Dn(),[e,n]=_.useState(null),r=Ve(Mee);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Gn(a)&&a!==r&&t(xee(a))}},[e,t,r]),n}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=Kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(null,arguments)}var Qfe=()=>(Wle(),null);function Jp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Zfe=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[a,s]=_.useState({containerWidth:Jp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Jp((r=t.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{s(m=>{var y=Math.round(d),b=Math.round(h);return m.containerWidth===y&&m.containerHeight===b?m:{containerWidth:y,containerHeight:b}})},[]),c=_.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();l(h,m);var y=x=>{var{width:E,height:w}=x[0].contentRect;l(E,w)},b=new ResizeObserver(y);b.observe(d),i.current=b}},[e,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(zg,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",ol({ref:c},t)))}),Jfe=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=_.useState({containerWidth:Jp(n),containerHeight:Jp(r)}),s=_.useCallback((c,d)=>{a(h=>{var m=Math.round(c),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),l=_.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[e,s]);return _.createElement(_.Fragment,null,_.createElement(zg,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",ol({ref:l},t)))}),eme=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(zg,{width:n,height:r}),_.createElement("div",ol({ref:e},t)))}),tme=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return ss(n)||ss(r)?_.createElement(Jfe,ol({},t,{ref:e})):_.createElement(eme,ol({},t,{ref:e}))});function nme(t){return t===!0?Zfe:tme}var rme=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:E,style:w,width:S,responsive:N,dispatchTouchEvents:C=!0}=t,P=_.useRef(null),k=Dn(),[D,R]=_.useState(null),[H,G]=_.useState(null),X=Vfe(),B=kw(),F=B?.width>0?B.width:S,Z=B?.height>0?B.height:i,K=_.useCallback(ie=>{X(ie),typeof e=="function"&&e(ie),R(ie),G(ie),ie!=null&&(P.current=ie)},[X,e,R,G]),ne=_.useCallback(ie=>{k(G6(ie)),k(Di({handler:a,reactEvent:ie}))},[k,a]),L=_.useCallback(ie=>{k(pE(ie)),k(Di({handler:d,reactEvent:ie}))},[k,d]),q=_.useCallback(ie=>{k(Yj()),k(Di({handler:h,reactEvent:ie}))},[k,h]),oe=_.useCallback(ie=>{k(pE(ie)),k(Di({handler:m,reactEvent:ie}))},[k,m]),ve=_.useCallback(()=>{k(J6())},[k]),U=_.useCallback(ie=>{k(Z6(ie.key))},[k]),z=_.useCallback(ie=>{k(Di({handler:s,reactEvent:ie}))},[k,s]),J=_.useCallback(ie=>{k(Di({handler:l,reactEvent:ie}))},[k,l]),M=_.useCallback(ie=>{k(Di({handler:c,reactEvent:ie}))},[k,c]),Ee=_.useCallback(ie=>{k(Di({handler:y,reactEvent:ie}))},[k,y]),Y=_.useCallback(ie=>{k(Di({handler:E,reactEvent:ie}))},[k,E]),re=_.useCallback(ie=>{C&&k(t5(ie)),k(Di({handler:x,reactEvent:ie}))},[k,C,x]),he=_.useCallback(ie=>{k(Di({handler:b,reactEvent:ie}))},[k,b]),Pe=nme(N);return _.createElement(h6.Provider,{value:D},_.createElement(xM.Provider,{value:H},_.createElement(Pe,{width:F??w?.width,height:Z??w?.height,className:Yt("recharts-wrapper",r),style:Gfe({position:"relative",cursor:"default",width:F,height:Z},w),onClick:ne,onContextMenu:z,onDoubleClick:J,onFocus:ve,onKeyDown:U,onMouseDown:M,onMouseEnter:L,onMouseLeave:q,onMouseMove:oe,onMouseUp:Ee,onTouchEnd:he,onTouchMove:re,onTouchStart:Y,ref:K},_.createElement(Qfe,null),n)))}),ime=["width","height","responsive","children","className","style","compact","title","desc"];function ame(t,e){if(t==null)return{};var n,r,i=sme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ome=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:c,title:d,desc:h}=t,m=ame(t,ime),y=Aa(m);return c?_.createElement(_.Fragment,null,_.createElement(zg,{width:n,height:r}),_.createElement(uP,{otherAttributes:y,title:d,desc:h},a)):_.createElement(rme,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(uP,{otherAttributes:y,title:d,desc:h,ref:e},_.createElement(Dde,null,a)))});function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}var lme={top:5,right:5,bottom:5,left:5},ume={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lme,reverseStackOrder:!1,syncMethod:"index",responsive:!1},cme=_.forwardRef(function(e,n){var r,i=pr(e.categoricalChartProps,ume),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(jfe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(Ede,{chartData:d.data}),_.createElement(Bfe,{layout:i.layout,margin:i.margin}),_.createElement(Ffe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(ome,gE({},i,{ref:n})))}),dme=["axis"],hme=_.forwardRef((t,e)=>_.createElement(cme,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dme,tooltipPayloadSearcher:Ple,categoricalChartProps:t,ref:e}));function fme(){const{id:t}=xP(),e=ll(),{user:n}=hs(),[r,i]=_.useState(null),[a,s]=_.useState(!0),[l,c]=_.useState(null),[d,h]=_.useState(""),[m,y]=_.useState(""),[b,x]=_.useState(!1),[E,w]=_.useState(""),[S,N]=_.useState([]),[C,P]=_.useState(""),[k,D]=_.useState(null),[R,H]=_.useState(null),[G,X]=_.useState(!0),[B,F]=_.useState(!1),[Z,K]=_.useState(!0),[ne,L]=_.useState(!0),[q,oe]=_.useState(!0),[ve,U]=_.useState(!1),[z,J]=_.useState(!1),[M,Ee]=_.useState(!1),[Y,re]=_.useState(!1),[he,Pe]=_.useState(""),[ie,Re]=_.useState(!0);_.useEffect(()=>{je()},[t]);const je=async()=>{s(!0),c(null);try{console.log(" ID:",t);const Te=await fetch(`/api/ocr/documents/${t}/`);if(!Te.ok){console.error(" HTTP:",Te.status,Te.statusText),c(`HTTP ${Te.status}: ${Te.statusText}`),s(!1);return}const Ie=await Te.json();if(console.log(" API:",Ie),Ie.status==="success"){console.log(" "),i(Ie.data);const At=Ie.data.content||"";h(At);const ct=Ie.data.tablecontent||"";ct?(N([{id:1,content:ct}]),console.log(" :",ct.length)):(N([]),console.log(" "));const Je=Ie.data.tablesummary||"";P(Je),console.log(" :",Je.length);const Tt=Ie.data.table1||"";if(Tt)try{const tt=typeof Tt=="string"?JSON.parse(Tt):Tt;tt?.years&&(tt.years=tt.years.map(be=>((be.total===void 0||be.total===null)&&(be.total=(be.guaranteed||0)+(be.non_guaranteed||0)),be))),D(tt),console.log(" table1:",tt?.years?.length||0)}catch(tt){console.error(" table1 JSON:",tt),D(null)}else D(null);const jt=Ie.data.table2||"";if(jt)try{const tt=typeof jt=="string"?JSON.parse(jt):jt;H(tt),console.log(" table2:",tt?.years?.length||0)}catch(tt){console.error(" table2 JSON:",tt),H(null)}else H(null);const It=Ie.data.summary||"";Pe(It),console.log(" :",It.length)}else console.error(" API:",Ie.message),c(Ie.message||"")}catch(Te){console.error(" :",Te),c("")}finally{s(!1)}},ae=async()=>{if(!ve){alert("AI15-30..."),U(!0);try{console.log(" ");const Te=await fetch(`/api/content-editor/${t}/update-tablesummary/`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Te.ok)throw new Error(`HTTP error! status: ${Te.status}`);const Ie=await Te.json();console.log(" :",Ie),Ie.status==="success"?(P(Ie.tablesummary),K(!0),console.log(" "),alert("")):(console.error(" :",Ie.message),alert(`: ${Ie.message||""}`))}catch(Te){console.error(" :",Te),Te.name==="AbortError"?alert("DeepSeek API"):alert("")}finally{U(!1)}}},ze=async()=>{if(!z){alert("AI15-30..."),J(!0);try{console.log(" ");const Ie=await(await fetch(`/api/content-editor/${t}/update-surrender-value/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();console.log(" :",Ie),Ie.status==="success"?(console.log(" "),console.log("   :",Ie.table1?.years?.length||0),alert(` ${Ie.table1?.years?.length||0} `),je()):(console.error(" :",Ie.message),alert(`: ${Ie.message||""}`))}catch(Te){console.error(" :",Te),alert("")}finally{J(!1)}}},Me=async()=>{if(!M){alert("AI15-30..."),Ee(!0);try{const Ie=await(await fetch(`/api/content-editor/${t}/update-wellness-table/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();Ie.status==="success"?(console.log(" "),Ie.table2===""||Ie.table2===null?(console.log("   "),alert("")):(console.log("   :",Ie.table2?.years?.length||0),alert(` ${Ie.table2?.years?.length||0} `)),je()):alert(Ie.message||"")}catch(Te){console.error(" :",Te),alert("")}finally{Ee(!1)}}},Qe=async()=>{if(!Y){alert("AI30-60..."),re(!0);try{console.log(" ");const Ie=await(await fetch(`/api/content-editor/${t}/update-plan-summary/`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();console.log(" :",Ie),Ie.status==="success"?(Pe(Ie.summary),Re(!0),console.log(" "),alert("")):(console.error(" :",Ie.message),alert(`: ${Ie.message||""}`))}catch(Te){console.error(" :",Te),alert("")}finally{re(!1)}}};return a?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx(Mt,{className:"w-8 h-8 animate-spin text-blue-500"})}):l?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[p.jsx(Od,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),p.jsx("p",{className:"text-gray-600 text-center mb-4",children:l}),p.jsx("button",{onClick:()=>e(`/document/${t}`),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})}):r?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:p.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[p.jsxs("button",{onClick:()=>e(`/document/${t}`),className:"flex items-center space-x-1 sm:space-x-2 text-gray-600 hover:text-gray-800 flex-shrink-0",children:[p.jsx($d,{className:"w-4 h-4 sm:w-5 sm:h-5"}),p.jsx("span",{className:"text-sm sm:text-base",children:""})]}),p.jsx("div",{className:"h-4 sm:h-6 w-px bg-gray-300 flex-shrink-0"}),p.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-0",children:[p.jsx($r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600 flex-shrink-0"}),p.jsx("h1",{className:"text-base sm:text-xl font-bold text-gray-800 truncate",children:""})]})]}),p.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:p.jsx("span",{className:"text-xs sm:text-sm text-gray-500 hidden sm:inline",children:E?" ":""})})]})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-6 space-y-3 sm:space-y-6",children:[p.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 sm:p-4",children:p.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2 sm:gap-3",children:[p.jsx("button",{onClick:ae,disabled:ve,className:"px-2 sm:px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:ve?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),p.jsx("span",{children:"..."})]}):p.jsx("span",{className:"truncate",children:""})}),p.jsx("button",{onClick:ze,disabled:z,className:"px-2 sm:px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:z?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),p.jsx("span",{children:"..."})]}):p.jsx("span",{className:"truncate",children:""})}),p.jsx("button",{onClick:Me,disabled:M,className:"px-2 sm:px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:M?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),p.jsx("span",{children:"..."})]}):p.jsx("span",{className:"truncate",children:""})}),p.jsx("button",{onClick:Qe,disabled:Y,className:"px-2 sm:px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-xs sm:text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-1 sm:space-x-2",children:Y?p.jsxs(p.Fragment,{children:[p.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}),p.jsx("span",{children:"..."})]}):p.jsx("span",{className:"truncate",children:""})})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 truncate",children:r.file_name}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 mt-2 text-xs sm:text-sm text-gray-600",children:[r.insured_name&&p.jsxs("span",{className:"truncate",children:[": ",r.insured_name]}),r.insurance_product&&p.jsxs("span",{className:"truncate",children:[": ",r.insurance_product]}),p.jsxs("span",{className:"hidden sm:inline",children:[": ",d.length.toLocaleString()," "]})]})]}),p.jsxs("button",{onClick:je,className:"flex items-center justify-center space-x-1 sm:space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition text-xs sm:text-sm flex-shrink-0",children:[p.jsx(Y1,{className:"w-3 h-3 sm:w-4 sm:h-4"}),p.jsx("span",{children:""})]})]})}),!1,p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>Re(!ie),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx($r,{className:"w-4 h-4 text-orange-600"}),p.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),p.jsx("span",{className:"text-sm text-gray-500",children:he?`(${he.length} )`:"()"})]}),ie?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),ie&&p.jsx("div",{className:"mt-3",children:he?p.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:p.jsx(gv,{className:"text-sm text-gray-800 prose prose-sm max-w-none",children:he})}):p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx($r,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),p.jsx("p",{className:"text-sm",children:""}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>L(!ne),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(jC,{className:"w-4 h-4 text-blue-600"}),p.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),p.jsx("span",{className:"text-sm text-gray-500",children:k?.years?.length>0?`(${k.years.length} )`:"()"})]}),ne?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),ne&&p.jsx("div",{className:"mt-3",children:k?.years?.length>0?p.jsx("div",{className:"bg-blue-50 rounded-lg p-2 sm:p-4 overflow-x-auto border border-blue-200",children:p.jsxs("table",{className:"w-full text-xs sm:text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-blue-300",children:[p.jsx("th",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left font-medium text-blue-900 text-xs sm:text-sm",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-400",children:"/"}),p.jsx("span",{children:""})]})}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:""}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:""}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:"%"}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-blue-900 text-xs sm:text-sm",children:"IRR%"})]})}),p.jsx("tbody",{children:k.years.map((Te,Ie)=>{const At=r?.annual_premium?parseInt(r.annual_premium):0,ct=r?.payment_years?parseInt(r.payment_years):0,Je=At*Math.min(Te.policy_year,ct),Tt=Te.total||0,jt=r?.insured_age?parseInt(r.insured_age):0,It=jt>0?jt+parseInt(Te.policy_year):null,tt=Je>0&&Tt>0&&Te.policy_year>0?(Tt-Je)/Je/Te.policy_year*100:0,be=Je>0&&Tt>0&&Te.policy_year>0?(Math.pow(Tt/Je,1/Te.policy_year)-1)*100:0;return p.jsxs("tr",{className:"border-b border-blue-200 hover:bg-blue-100",children:[p.jsx("td",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left text-gray-700",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:Te.policy_year}),p.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),p.jsx("span",{children:It?`${It}`:"-"})]})}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700",children:Te.guaranteed?Te.guaranteed.toLocaleString():"-"}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 font-medium",children:Te.total?Te.total.toLocaleString():"-"}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-purple-600 font-semibold",children:!isNaN(tt)&&tt!==0?tt.toFixed(2):"-"}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-green-600 font-semibold",children:!isNaN(be)&&be!==0?be.toFixed(2):"-"})]},Ie)})})]})}):p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx($r,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),p.jsx("p",{className:"text-sm",children:""}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})}),ne&&k?.years?.length>0&&r?.annual_premium&&r?.payment_years&&(()=>{const Te=parseInt(r.annual_premium)||0,Ie=parseInt(r.payment_years)||0,At=Te*Ie;return p.jsxs("div",{className:"mt-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[p.jsx(nH,{className:"w-5 h-5 text-indigo-600"}),p.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[p.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[p.jsx("p",{className:"text-xs text-gray-500",children:""}),p.jsx("p",{className:"text-lg font-bold text-indigo-600",children:At.toLocaleString()})]}),p.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[p.jsx("p",{className:"text-xs text-gray-500",children:""}),p.jsx("p",{className:"text-lg font-bold text-green-600",children:k.years[k.years.length-1]?.total?.toLocaleString()||"-"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[p.jsx("p",{className:"text-xs text-gray-500",children:""}),p.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[((k.years[k.years.length-1]?.total||0)/At).toFixed(2),"x"]})]}),p.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[p.jsx("p",{className:"text-xs text-gray-500",children:""}),p.jsx("p",{className:"text-lg font-bold text-orange-600",children:((k.years[k.years.length-1]?.total||0)-At).toLocaleString()})]}),p.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[p.jsx("p",{className:"text-xs text-gray-500",children:""}),p.jsx("p",{className:"text-lg font-bold text-teal-600",children:(()=>{const ct=k.years.find(Je=>Je.total>=At);return ct?`${ct.policy_year}`:""})()})]})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx(S7,{className:"w-5 h-5 text-blue-600"}),p.jsx("h5",{className:"text-sm font-semibold text-gray-700",children:" "})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[5,10,20,30,40,50,60,70].filter(Je=>k.years.some(Tt=>Tt.policy_year===Je)).map(Je=>{const Tt=k.years.find(ee=>ee.policy_year===Je);if(!Tt)return null;const jt=Te*Math.min(Je,Ie),It=Tt.total,tt=(It-jt)/jt/Je*100,be=jt>0&&It>0?(Math.pow(It/jt,1/Je)-1)*100:0;return p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-3 border border-blue-200",children:[p.jsxs("p",{className:"text-xs text-gray-600 font-semibold mb-2",children:[" ",Je," "]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-500",children:":"}),p.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[tt.toFixed(2),"%"]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-500",children:"IRR:"}),p.jsxs("span",{className:"text-sm font-bold text-rose-600",children:[be.toFixed(2),"%"]})]}),p.jsx("div",{className:"pt-1 border-t border-blue-200",children:p.jsxs("span",{className:"text-xs text-gray-400",children:[": ",It.toLocaleString()]})})]})]},Je)})})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[p.jsx(J7,{className:"w-5 h-5 text-amber-600"}),p.jsx("h5",{className:"text-sm font-semibold text-gray-700",children:" "})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-red-300 via-yellow-300 to-green-300"}),p.jsx("div",{className:"space-y-6",children:[{label:"",multiplier:1,color:"bg-red-500",icon:"",desc:""},{label:"1.5",multiplier:1.5,color:"bg-orange-500",icon:"",desc:"50%"},{label:"2",multiplier:2,color:"bg-yellow-500",icon:"",desc:""},{label:"3",multiplier:3,color:"bg-lime-500",icon:"",desc:"3"},{label:"4",multiplier:4,color:"bg-green-500",icon:"",desc:"4"},{label:"5",multiplier:5,color:"bg-emerald-500",icon:"",desc:"5"}].map((Je,Tt)=>{const jt=At*Je.multiplier,It=k.years.find(tt=>tt.total>=jt);return p.jsxs("div",{className:"relative pl-20 group",children:[p.jsx("div",{className:`absolute left-5 w-6 h-6 rounded-full ${Je.color} flex items-center justify-center text-white text-xs font-bold shadow-lg z-10 group-hover:scale-125 transition-transform`,children:It?"":""}),p.jsxs("div",{className:`bg-gradient-to-r ${It?"from-green-50 to-emerald-50 border-green-200":"from-gray-50 to-gray-100 border-gray-200"} rounded-lg p-3 border-2 transition-all group-hover:shadow-md`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-2xl",children:Je.icon}),p.jsxs("div",{children:[p.jsx("h6",{className:"font-semibold text-gray-800 text-sm",children:Je.label}),p.jsx("p",{className:"text-xs text-gray-500",children:Je.desc})]})]}),p.jsx("div",{className:"text-right",children:It?p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-lg font-bold text-green-600",children:[" ",It.policy_year," "]}),p.jsxs("p",{className:"text-xs text-gray-500",children:[": ",It.total.toLocaleString()]}),p.jsxs("p",{className:"text-xs font-semibold text-rose-600 mt-1",children:["IRR: ",(()=>{const tt=Te*Math.min(It.policy_year,Ie);return(tt>0&&It.total>0?(Math.pow(It.total/tt,1/It.policy_year)-1)*100:0).toFixed(2)})(),"%"]})]}):p.jsx("p",{className:"text-sm text-gray-400",children:""})})]}),!It&&p.jsxs("div",{className:"mt-2",children:[p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:p.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all",style:{width:`${Math.min(k.years[k.years.length-1]?.total/jt*100,100)}%`}})}),p.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[": ",jt.toLocaleString()]})]})]})]},Tt)})})]})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[p.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:" 10"}),p.jsx(dte,{width:"100%",height:300,children:p.jsxs(hme,{data:k.years.slice(0,10).map(ct=>({...ct,investment:Te*Math.min(ct.policy_year,Ie),roi:(ct.total/(Te*Math.min(ct.policy_year,Ie))*100-100).toFixed(1)})),margin:{top:10,right:30,left:0,bottom:0},children:[p.jsx(F6,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),p.jsx(V6,{dataKey:"policy_year",label:{value:"",position:"insideBottom",offset:-5},stroke:"#6b7280"}),p.jsx(mE,{yAxisId:"left",label:{value:"",angle:-90,position:"insideLeft"},stroke:"#6b7280",tickFormatter:ct=>`${(ct/1e4).toFixed(0)}`}),p.jsx(mE,{yAxisId:"right",orientation:"right",label:{value:"%",angle:90,position:"insideRight"},stroke:"#8b5cf6"}),p.jsx(nue,{formatter:(ct,Je)=>Je===""?`${ct}%`:ct.toLocaleString(),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),p.jsx(HL,{}),p.jsx(Xm,{yAxisId:"left",type:"monotone",dataKey:"investment",stroke:"#ef4444",name:"",strokeWidth:2,dot:{r:4}}),p.jsx(Xm,{yAxisId:"left",type:"monotone",dataKey:"total",stroke:"#10b981",name:"",strokeWidth:3,dot:{r:4}}),p.jsx(Xm,{yAxisId:"right",type:"monotone",dataKey:"roi",stroke:"#8b5cf6",name:"",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3}})]})}),p.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" = | = | =% | "})]})]})})()]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded",onClick:()=>oe(!q),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(jC,{className:"w-4 h-4 text-purple-600"}),p.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800",children:""}),p.jsx("span",{className:"text-sm text-gray-500",children:R?.years?.length>0?`(${R.years.length} )`:"()"})]}),q?p.jsx(jo,{className:"w-4 h-4 text-gray-400"}):p.jsx(Lo,{className:"w-4 h-4 text-gray-400"})]}),q&&p.jsx("div",{className:"mt-3",children:R?.years?.length>0?p.jsx("div",{className:"bg-purple-50 rounded-lg p-2 sm:p-4 overflow-x-auto border border-purple-200",children:p.jsxs("table",{className:"w-full text-xs sm:text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-purple-300",children:[p.jsx("th",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left font-medium text-purple-900 text-xs sm:text-sm",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-400",children:"/"}),p.jsx("span",{children:""})]})}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm",children:""}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm hidden sm:table-cell",children:""}),p.jsx("th",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right font-medium text-purple-900 text-xs sm:text-sm",children:""})]})}),p.jsx("tbody",{children:R.years.map((Te,Ie)=>{const At=r?.insured_age?parseInt(r.insured_age):0,ct=At>0?At+parseInt(Te.policy_year):null;return p.jsxs("tr",{className:"border-b border-purple-200 hover:bg-purple-100",children:[p.jsx("td",{className:"px-1 sm:px-2 py-1 sm:py-2 text-left text-gray-700",colSpan:"2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{children:Te.policy_year}),p.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),p.jsx("span",{children:ct?`${ct}`:"-"})]})}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700",children:Te.withdraw!==void 0?Te.withdraw.toLocaleString():"-"}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 hidden sm:table-cell",children:Te.withdraw_total!==void 0?Te.withdraw_total.toLocaleString():"-"}),p.jsx("td",{className:"px-1 sm:px-3 py-1 sm:py-2 text-right text-gray-700 font-medium",children:Te.total!==void 0?Te.total.toLocaleString():"-"})]},Ie)})})]})}):p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx($r,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),p.jsx("p",{className:"text-sm",children:""}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'""'})]})})]}),!1,!1,!1]})]}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[p.jsx(Od,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:""}),p.jsx("p",{className:"text-gray-600 text-center mb-4",children:""}),p.jsx("button",{onClick:()=>e("/plan-management"),className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:""})]})})}function mme(){const t=ul(),[e,n]=_.useState(""),[r,i]=_.useState(!1),[a,s]=_.useState(""),[l,c]=_.useState(""),d=async()=>{if(!e.trim()){c(" YouTube ");return}if(!e.includes("youtube.com")&&!e.includes("youtu.be")){c(" YouTube ");return}try{i(!0),c(""),s("");const m=localStorage.getItem("access_token"),y=await St.post(`${Er}/api/content/extract-subtitle`,{video_url:e},{headers:{Authorization:`Bearer ${m}`}});y.data.code===200?s(y.data.data.subtitle):c(y.data.message||"")}catch(m){console.error(":",m),c(m.response?.data?.message||"")}finally{i(!1)}},h=()=>{navigator.clipboard.writeText(a),alert("")};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("button",{onClick:()=>t("dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[p.jsx(kE,{className:"w-5 h-5 mr-2"}),p.jsx("span",{className:"text-sm font-medium",children:""})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(ba,{className:"w-7 h-7 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),p.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"AI "})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[p.jsx(Mb,{className:"w-5 h-5 mr-2 text-gray-600"}),"YouTube "]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx("input",{type:"text",value:e,onChange:m=>{n(m.target.value),c("")},placeholder:" YouTube : https://www.youtube.com/watch?v=xxxxx  Shorts ",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:r}),p.jsx("button",{onClick:d,disabled:r||!e.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm shadow-md hover:shadow-lg flex items-center space-x-2",children:r?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),p.jsx("span",{children:"..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(ba,{className:"w-5 h-5"}),p.jsx("span",{children:""})]})})]}),l&&p.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[p.jsx("svg",{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-sm text-red-700",children:l})]}),p.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),p.jsxs("div",{className:"text-sm text-blue-700",children:[p.jsx("p",{className:"font-medium",children:""}),p.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside",children:[p.jsx("li",{children:" YouTube  Shorts "}),p.jsx("li",{children:"AI "}),p.jsx("li",{children:""})]})]})]})})]}),a&&p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 flex items-center",children:[p.jsx(rp,{className:"w-5 h-5 mr-2 text-gray-600"}),""]}),p.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center space-x-2",children:[p.jsx(gH,{className:"w-4 h-4"}),p.jsx("span",{children:""})]})]}),p.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:p.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-mono leading-relaxed",children:a})})]}),r&&!a&&p.jsxs("div",{className:"p-12 text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"}),p.jsx("p",{className:"mt-4 text-gray-600 text-sm font-medium",children:" AI ..."}),p.jsx("p",{className:"mt-1 text-gray-500 text-xs",children:""})]}),!r&&!a&&!l&&p.jsxs("div",{className:"p-12 text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full mb-4",children:p.jsx(Mb,{className:"w-8 h-8 text-purple-600"})}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:""}),p.jsx("p",{className:"text-sm text-gray-500",children:" YouTube  AI "})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:p.jsx(ba,{className:"w-6 h-6 text-purple-600"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"AI "}),p.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:" Gemini AI "})]})]})}),p.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(Mb,{className:"w-6 h-6 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:" YouTube"}),p.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})}),p.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:p.jsx(rp,{className:"w-6 h-6 text-green-600"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:""}),p.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]})]})})]})]})})}function pme(){const t=ll(),e=_.useRef(null),n=_.useRef(null),[r,i]=_.useState(null),[a,s]=_.useState(null),[l,c]=_.useState(""),[d,h]=_.useState(!1),[m,y]=_.useState(null),[b,x]=_.useState(""),[E,w]=_.useState(null),[S,N]=_.useState(!1),[C,P]=_.useState(!0);_.useEffect(()=>{k()},[]);const k=async()=>{try{P(!0);const F=localStorage.getItem("access_token"),K=await(await fetch(`${Er}/api/ip-image/saved`,{headers:{Authorization:`Bearer ${F}`}})).json();K.status==="success"&&K.has_saved&&(w(K.data),y(K.data.generated_image_url),c(K.data.prompt||""))}catch(F){console.error("IP:",F)}finally{P(!1)}},D=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),R=F=>{const Z=F.target.files[0];if(!Z)return;if(!Z.type.startsWith("image/")){x("");return}if(Z.size>10*1024*1024){x("10MB");return}x(""),i(Z);const K=new FileReader;K.onload=ne=>{s(ne.target.result)},K.readAsDataURL(Z)},H=async()=>{if(!r){x("");return}if(!l.trim()){x("");return}try{h(!0),x("");const F=new FormData;F.append("image",r),F.append("prompt",l);const Z=localStorage.getItem("access_token"),ne=await(await fetch(`${Er}/api/ip-image/generate`,{method:"POST",headers:{Authorization:`Bearer ${Z}`},body:F})).json();ne.status==="success"&&ne.image_url?y(ne.image_url):x(ne.message||"")}catch(F){console.error(":",F),x("")}finally{h(!1)}},G=()=>{i(null),s(null),c(""),y(null),x(""),e.current&&(e.current.value=""),n.current&&(n.current.value="")},X=()=>{if(!m)return;const F=document.createElement("a");F.href=m,F.download=`ip-image-${Date.now()}.png`,document.body.appendChild(F),F.click(),document.body.removeChild(F)},B=async()=>{if(!m){x("");return}try{N(!0),x("");const F=localStorage.getItem("access_token"),K=await(await fetch(`${Er}/api/ip-image/save`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({generated_image_url:m,prompt:l})})).json();K.status==="success"?(w(K.data),alert("IP")):x(K.message||"")}catch(F){console.error(":",F),x("")}finally{N(!1)}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[p.jsx(kE,{className:"w-5 h-5 mr-2"}),""]}),p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IP"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"AIIP"})]}),p.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),a?p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:a,alt:"",className:"w-full h-64 object-cover rounded-xl border-2 border-gray-200"}),p.jsx("button",{onClick:G,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-500 transition-colors",children:[p.jsx(V1,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),p.jsx("p",{className:"text-gray-600 mb-4",children:""}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[p.jsxs("button",{onClick:()=>e.current?.click(),className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[p.jsx(V1,{className:"w-5 h-5 mr-2"}),""]}),D()&&p.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center justify-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[p.jsx(mH,{className:"w-5 h-5 mr-2"}),""]})]})]}),p.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:R,className:"hidden"}),p.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:R,className:"hidden"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),p.jsx("textarea",{value:l,onChange:F=>c(F.target.value),placeholder:"...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"5",maxLength:"500"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[l.length,"/500 "]})]}),b&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsx("p",{className:"text-sm text-red-600",children:b})}),p.jsx("button",{onClick:H,disabled:!r||!l.trim()||d,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl",children:d?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),p.jsx("span",{children:"..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(ba,{className:"w-6 h-6"}),p.jsx("span",{children:"IP"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),C?p.jsx("div",{className:"h-full min-h-[400px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),p.jsx("p",{className:"text-gray-400",children:"..."})]})}):m?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:m,alt:"IP",className:"w-full h-auto rounded-xl shadow-lg border-2 border-purple-200"}),E&&m===E.generated_image_url&&p.jsxs("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg flex items-center",children:[p.jsx(FC,{className:"w-4 h-4 mr-1"}),""]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx("button",{onClick:X,className:"py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium shadow-md",children:""}),p.jsx("button",{onClick:B,disabled:S,className:"py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:S?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),""]}):p.jsxs(p.Fragment,{children:[p.jsx(FC,{className:"w-5 h-5 mr-1"}),""]})}),p.jsx("button",{onClick:G,className:"py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium shadow-md",children:""})]})]}):p.jsx("div",{className:"h-full min-h-[400px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ba,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),p.jsx("p",{className:"text-gray-400",children:"IP"}),E&&p.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[" ",new Date(E.updated_at).toLocaleString("zh-CN")]})]})})]})]})}),p.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:""}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:""})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:""})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:"JPGPNG"})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:"10MB"})]})]})]})]})})}function gme(){const t=ll(),[e,n]=_.useState(""),[r,i]=_.useState(1),[a,s]=_.useState(!1),[l,c]=_.useState([]),[d,h]=_.useState(""),[m,y]=_.useState({current:0,total:0}),[b,x]=_.useState(null),[E,w]=_.useState(!0),[S,N]=_.useState(!0),[C,P]=_.useState(null),[k,D]=_.useState(!1);_.useEffect(()=>{const B=F=>{F.key==="Escape"&&C&&P(null)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[C]),_.useEffect(()=>{(()=>{const F=typeof window<"u"&&typeof window.wx<"u"&&typeof window.wx.miniProgram<"u",Z=typeof window<"u"&&window.__wxjs_environment==="miniprogram",ne=(navigator.userAgent||"").toLowerCase().indexOf("miniprogram")>-1;D(F||Z||ne)})()},[]),_.useEffect(()=>{(async()=>{try{N(!0);const F=localStorage.getItem("access_token"),K=await(await fetch(`${Er}/api/ip-image/saved`,{headers:{Authorization:`Bearer ${F}`}})).json();K.status==="success"&&K.has_saved&&x(K.data)}catch(F){console.error("IP:",F)}finally{N(!1)}})()},[]);const R=async()=>{if(!e.trim()){h("");return}try{s(!0),h(""),c([]),y({current:0,total:r});const B=localStorage.getItem("access_token"),F=[];for(let Z=0;Z<r;Z++){y({current:Z+1,total:r});const K=new FormData;K.append("content",e),K.append("image_index",Z+1),E&&b&&(K.append("include_ip_image","true"),K.append("ip_image_url",b.generated_image_url));const L=await(await fetch(`${Er}/api/content-image/generate`,{method:"POST",headers:{Authorization:`Bearer ${B}`},body:K})).json();L.status==="success"&&L.image_url?(F.push({id:Z+1,url:L.image_url}),c([...F])):console.error(` ${Z+1} :`,L.message)}F.length===0&&h("")}catch(B){console.error(":",B),h("")}finally{s(!1),y({current:0,total:0})}},H=()=>{n(""),c([]),h(""),i(1)},G=(B,F)=>{const Z=document.createElement("a");Z.href=B,Z.download=`content-image-${F}-${Date.now()}.png`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},X=()=>{l.forEach((B,F)=>{setTimeout(()=>{G(B.url,F+1)},F*500)})};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[p.jsx(kE,{className:"w-5 h-5 mr-2"}),""]}),p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:""}),p.jsx("p",{className:"text-gray-600 mt-2",children:"AI"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 sticky top-6",children:p.jsxs("div",{className:"space-y-6",children:[!S&&b&&p.jsxs("div",{className:"border border-purple-200 bg-purple-50 rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[p.jsx("img",{src:b.generated_image_url,alt:"IP",className:"w-16 h-16 rounded-lg object-cover shadow-md"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"IP"}),p.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:b.prompt||"IP"})]})]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:E,onChange:B=>w(B.target.checked),disabled:a,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"}),p.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"IP"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-8",children:"IP"})]}),S&&p.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-gray-400"}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"IP..."})]}),!S&&!b&&p.jsxs("div",{className:"border border-gray-200 bg-gray-50 rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[p.jsx(CH,{className:"w-5 h-5"}),p.jsx("span",{className:"text-sm",children:"IP"})]}),p.jsx("button",{onClick:()=>t("/ip-image-generator"),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:" "})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[p.jsx(rp,{className:"w-5 h-5 inline mr-2"}),""]}),p.jsx("textarea",{value:e,onChange:B=>n(B.target.value),placeholder:`...

- 
- 
- `,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:"10",maxLength:"1000"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.length,"/1000 "]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:""}),p.jsxs("select",{value:r,onChange:B=>i(parseInt(B.target.value)),disabled:a,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[p.jsx("option",{value:1,children:"1 "}),p.jsx("option",{value:2,disabled:!0,children:"2  ()"}),p.jsx("option",{value:3,disabled:!0,children:"3  ()"}),p.jsx("option",{value:4,disabled:!0,children:"4  ()"}),p.jsx("option",{value:5,disabled:!0,children:"5  ()"})]})]}),d&&p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsx("p",{className:"text-sm text-red-600",children:d})}),p.jsx("button",{onClick:R,disabled:!e.trim()||a,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl",children:a?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),p.jsxs("span",{children:[" (",m.current,"/",m.total,")"]})]}):p.jsxs(p.Fragment,{children:[p.jsx(ba,{className:"w-6 h-6"}),p.jsx("span",{children:""})]})}),l.length>0&&!a&&p.jsx("button",{onClick:H,className:"w-full py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:""})]})})}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[" ",l.length>0&&`(${l.length})`]}),l.length>0&&!k&&p.jsx("button",{onClick:X,className:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors font-medium",children:""}),l.length>0&&k&&p.jsx("p",{className:"text-sm text-gray-600",children:""})]}),l.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.map(B=>p.jsxs("div",{className:"relative group",children:[p.jsxs("div",{className:"relative overflow-hidden rounded-xl border-2 border-gray-200 hover:border-blue-400 transition-all cursor-pointer",onClick:()=>P(B),children:[p.jsx("img",{src:B.url,alt:` ${B.id}`,className:"w-full h-auto object-cover"}),p.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center gap-3",children:[p.jsxs("button",{onClick:F=>{F.stopPropagation(),P(B)},className:"opacity-0 group-hover:opacity-100 transition-opacity px-4 py-2 bg-white text-gray-900 rounded-lg font-medium shadow-lg flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),""]}),!k&&p.jsxs("button",{onClick:F=>{F.stopPropagation(),G(B.url,B.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity px-4 py-2 bg-green-600 text-white rounded-lg font-medium shadow-lg flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),""]})]})]}),p.jsxs("p",{className:"text-sm text-gray-600 mt-2 text-center",children:[" ",B.id]})]},B.id))}):p.jsx("div",{className:"h-[500px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(V1,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),p.jsx("p",{className:"text-gray-400",children:""})]})})]})})]}),p.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:""}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:""})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:""})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx("span",{className:"text-blue-600 font-bold",children:""}),p.jsx("p",{children:"1-5"})]})]})]}),C&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:()=>P(null),children:p.jsxs("div",{className:"relative max-w-6xl max-h-[95vh] w-full",children:[p.jsxs("button",{onClick:()=>P(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors flex items-center gap-2",children:[p.jsx("span",{className:"text-sm",children:"ESC "}),p.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),p.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl",onClick:B=>B.stopPropagation(),children:[p.jsx("img",{src:C.url,alt:` ${C.id} `,className:"w-full h-auto object-contain max-h-[75vh]"}),p.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-t border-gray-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:[" ",C.id]}),C.prompt&&p.jsx("p",{className:"text-xs text-gray-600",children:C.prompt})]}),!k&&p.jsxs("button",{onClick:()=>G(C.url,C.id),className:"ml-4 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all font-medium shadow-md hover:shadow-lg flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),""]}),k&&p.jsx("p",{className:"ml-4 text-sm text-gray-600",children:""})]})})]}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("p",{className:"text-white text-sm opacity-75",children:" ESC "})})]})})]})})}function yme(){return p.jsx(T9,{children:p.jsx(FF,{children:p.jsx("div",{className:"min-h-screen",children:p.jsxs(gF,{children:[p.jsx(Br,{path:"/",element:p.jsx(BC,{})}),p.jsx(Br,{path:"/home",element:p.jsx(BC,{})}),p.jsx(Br,{path:"/dashboard",element:p.jsx(OH,{})}),p.jsx(Br,{path:"/policies",element:p.jsx(cH,{})}),p.jsx(Br,{path:"/plan-analyzer",element:p.jsx(C$,{})}),p.jsx(Br,{path:"/plan-analyzer-2",element:p.jsx(O$,{})}),p.jsx(Br,{path:"/plan-management",element:p.jsx(k$,{})}),p.jsx(Br,{path:"/document/:id",element:p.jsx(mQ,{})}),p.jsx(Br,{path:"/document/:id/content-editor",element:p.jsx(fme,{})}),p.jsx(Br,{path:"/content-creator",element:p.jsx(mme,{})}),p.jsx(Br,{path:"/ip-image-generator",element:p.jsx(pme,{})}),p.jsx(Br,{path:"/content-image-generator",element:p.jsx(gme,{})}),p.jsx(Br,{path:"*",element:p.jsx(mF,{to:"/",replace:!0})})]})})})})}TB.createRoot(document.getElementById("root")).render(p.jsx(_.StrictMode,{children:p.jsx(yme,{})}));
